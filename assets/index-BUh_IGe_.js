(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function O1(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Ld={exports:{}},Oo={};var B0;function V1(){if(B0)return Oo;B0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var y in o)y!=="key"&&(c[y]=o[y])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:c}}return Oo.Fragment=e,Oo.jsx=i,Oo.jsxs=i,Oo}var q0;function k1(){return q0||(q0=1,Ld.exports=V1()),Ld.exports}var p=k1(),Pd={exports:{}},Ae={};var H0;function j1(){if(H0)return Ae;H0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),O=Symbol.iterator;function F(M){return M===null||typeof M!="object"?null:(M=O&&M[O]||M["@@iterator"],typeof M=="function"?M:null)}var ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},re=Object.assign,J={};function pe(M,K,ae){this.props=M,this.context=K,this.refs=J,this.updater=ae||ee}pe.prototype.isReactComponent={},pe.prototype.setState=function(M,K){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,K,"setState")},pe.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Re(){}Re.prototype=pe.prototype;function Ee(M,K,ae){this.props=M,this.context=K,this.refs=J,this.updater=ae||ee}var tt=Ee.prototype=new Re;tt.constructor=Ee,re(tt,pe.prototype),tt.isPureReactComponent=!0;var ht=Array.isArray;function fe(){}var N={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(M,K,ae){var le=ae.ref;return{$$typeof:s,type:M,key:K,ref:le!==void 0?le:null,props:ae}}function V(M,K){return R(M.type,K,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function j(M){var K={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ae){return K[ae]})}var w=/\/+/g;function Ke(M,K){return typeof M=="object"&&M!==null&&M.key!=null?j(""+M.key):K.toString(36)}function Tt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(fe,fe):(M.status="pending",M.then(function(K){M.status==="pending"&&(M.status="fulfilled",M.value=K)},function(K){M.status==="pending"&&(M.status="rejected",M.reason=K)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function H(M,K,ae,le,ve){var Se=typeof M;(Se==="undefined"||Se==="boolean")&&(M=null);var Me=!1;if(M===null)Me=!0;else switch(Se){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(M.$$typeof){case s:case e:Me=!0;break;case E:return Me=M._init,H(Me(M._payload),K,ae,le,ve)}}if(Me)return ve=ve(M),Me=le===""?"."+Ke(M,0):le,ht(ve)?(ae="",Me!=null&&(ae=Me.replace(w,"$&/")+"/"),H(ve,K,ae,"",function(Wi){return Wi})):ve!=null&&(D(ve)&&(ve=V(ve,ae+(ve.key==null||M&&M.key===ve.key?"":(""+ve.key).replace(w,"$&/")+"/")+Me)),K.push(ve)),1;Me=0;var Rt=le===""?".":le+":";if(ht(M))for(var rt=0;rt<M.length;rt++)le=M[rt],Se=Rt+Ke(le,rt),Me+=H(le,K,ae,Se,ve);else if(rt=F(M),typeof rt=="function")for(M=rt.call(M),rt=0;!(le=M.next()).done;)le=le.value,Se=Rt+Ke(le,rt++),Me+=H(le,K,ae,Se,ve);else if(Se==="object"){if(typeof M.then=="function")return H(Tt(M),K,ae,le,ve);throw K=String(M),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Me}function te(M,K,ae){if(M==null)return M;var le=[],ve=0;return H(M,le,"","",function(Se){return K.call(ae,Se,ve++)}),le}function me(M){if(M._status===-1){var K=M._result;K=K(),K.then(function(ae){(M._status===0||M._status===-1)&&(M._status=1,M._result=ae)},function(ae){(M._status===0||M._status===-1)&&(M._status=2,M._result=ae)}),M._status===-1&&(M._status=0,M._result=K)}if(M._status===1)return M._result.default;throw M._result}var He=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},De={map:te,forEach:function(M,K,ae){te(M,function(){K.apply(this,arguments)},ae)},count:function(M){var K=0;return te(M,function(){K++}),K},toArray:function(M){return te(M,function(K){return K})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ae.Activity=x,Ae.Children=De,Ae.Component=pe,Ae.Fragment=i,Ae.Profiler=o,Ae.PureComponent=Ee,Ae.StrictMode=a,Ae.Suspense=_,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},Ae.cache=function(M){return function(){return M.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(M,K,ae){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var le=re({},M.props),ve=M.key;if(K!=null)for(Se in K.key!==void 0&&(ve=""+K.key),K)!A.call(K,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&K.ref===void 0||(le[Se]=K[Se]);var Se=arguments.length-2;if(Se===1)le.children=ae;else if(1<Se){for(var Me=Array(Se),Rt=0;Rt<Se;Rt++)Me[Rt]=arguments[Rt+2];le.children=Me}return R(M.type,ve,le)},Ae.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},Ae.createElement=function(M,K,ae){var le,ve={},Se=null;if(K!=null)for(le in K.key!==void 0&&(Se=""+K.key),K)A.call(K,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ve[le]=K[le]);var Me=arguments.length-2;if(Me===1)ve.children=ae;else if(1<Me){for(var Rt=Array(Me),rt=0;rt<Me;rt++)Rt[rt]=arguments[rt+2];ve.children=Rt}if(M&&M.defaultProps)for(le in Me=M.defaultProps,Me)ve[le]===void 0&&(ve[le]=Me[le]);return R(M,Se,ve)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(M){return{$$typeof:y,render:M}},Ae.isValidElement=D,Ae.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:me}},Ae.memo=function(M,K){return{$$typeof:v,type:M,compare:K===void 0?null:K}},Ae.startTransition=function(M){var K=N.T,ae={};N.T=ae;try{var le=M(),ve=N.S;ve!==null&&ve(ae,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(fe,He)}catch(Se){He(Se)}finally{K!==null&&ae.types!==null&&(K.types=ae.types),N.T=K}},Ae.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ae.use=function(M){return N.H.use(M)},Ae.useActionState=function(M,K,ae){return N.H.useActionState(M,K,ae)},Ae.useCallback=function(M,K){return N.H.useCallback(M,K)},Ae.useContext=function(M){return N.H.useContext(M)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(M,K){return N.H.useDeferredValue(M,K)},Ae.useEffect=function(M,K){return N.H.useEffect(M,K)},Ae.useEffectEvent=function(M){return N.H.useEffectEvent(M)},Ae.useId=function(){return N.H.useId()},Ae.useImperativeHandle=function(M,K,ae){return N.H.useImperativeHandle(M,K,ae)},Ae.useInsertionEffect=function(M,K){return N.H.useInsertionEffect(M,K)},Ae.useLayoutEffect=function(M,K){return N.H.useLayoutEffect(M,K)},Ae.useMemo=function(M,K){return N.H.useMemo(M,K)},Ae.useOptimistic=function(M,K){return N.H.useOptimistic(M,K)},Ae.useReducer=function(M,K,ae){return N.H.useReducer(M,K,ae)},Ae.useRef=function(M){return N.H.useRef(M)},Ae.useState=function(M){return N.H.useState(M)},Ae.useSyncExternalStore=function(M,K,ae){return N.H.useSyncExternalStore(M,K,ae)},Ae.useTransition=function(){return N.H.useTransition()},Ae.version="19.2.0",Ae}var G0;function Dm(){return G0||(G0=1,Pd.exports=j1()),Pd.exports}var Fe=Dm();const U1=O1(Fe);var zd={exports:{}},Vo={},Bd={exports:{}},qd={};var F0;function L1(){return F0||(F0=1,(function(s){function e(H,te){var me=H.length;H.push(te);e:for(;0<me;){var He=me-1>>>1,De=H[He];if(0<o(De,te))H[He]=te,H[me]=De,me=He;else break e}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var te=H[0],me=H.pop();if(me!==te){H[0]=me;e:for(var He=0,De=H.length,M=De>>>1;He<M;){var K=2*(He+1)-1,ae=H[K],le=K+1,ve=H[le];if(0>o(ae,me))le<De&&0>o(ve,ae)?(H[He]=ve,H[le]=me,He=le):(H[He]=ae,H[K]=me,He=K);else if(le<De&&0>o(ve,me))H[He]=ve,H[le]=me,He=le;else break e}}return te}function o(H,te){var me=H.sortIndex-te.sortIndex;return me!==0?me:H.id-te.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,y=d.now();s.unstable_now=function(){return d.now()-y}}var _=[],v=[],E=1,x=null,O=3,F=!1,ee=!1,re=!1,J=!1,pe=typeof setTimeout=="function"?setTimeout:null,Re=typeof clearTimeout=="function"?clearTimeout:null,Ee=typeof setImmediate<"u"?setImmediate:null;function tt(H){for(var te=i(v);te!==null;){if(te.callback===null)a(v);else if(te.startTime<=H)a(v),te.sortIndex=te.expirationTime,e(_,te);else break;te=i(v)}}function ht(H){if(re=!1,tt(H),!ee)if(i(_)!==null)ee=!0,fe||(fe=!0,j());else{var te=i(v);te!==null&&Tt(ht,te.startTime-H)}}var fe=!1,N=-1,A=5,R=-1;function V(){return J?!0:!(s.unstable_now()-R<A)}function D(){if(J=!1,fe){var H=s.unstable_now();R=H;var te=!0;try{e:{ee=!1,re&&(re=!1,Re(N),N=-1),F=!0;var me=O;try{t:{for(tt(H),x=i(_);x!==null&&!(x.expirationTime>H&&V());){var He=x.callback;if(typeof He=="function"){x.callback=null,O=x.priorityLevel;var De=He(x.expirationTime<=H);if(H=s.unstable_now(),typeof De=="function"){x.callback=De,tt(H),te=!0;break t}x===i(_)&&a(_),tt(H)}else a(_);x=i(_)}if(x!==null)te=!0;else{var M=i(v);M!==null&&Tt(ht,M.startTime-H),te=!1}}break e}finally{x=null,O=me,F=!1}te=void 0}}finally{te?j():fe=!1}}}var j;if(typeof Ee=="function")j=function(){Ee(D)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Ke=w.port2;w.port1.onmessage=D,j=function(){Ke.postMessage(null)}}else j=function(){pe(D,0)};function Tt(H,te){N=pe(function(){H(s.unstable_now())},te)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return O},s.unstable_next=function(H){switch(O){case 1:case 2:case 3:var te=3;break;default:te=O}var me=O;O=te;try{return H()}finally{O=me}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(H,te){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var me=O;O=H;try{return te()}finally{O=me}},s.unstable_scheduleCallback=function(H,te,me){var He=s.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?He+me:He):me=He,H){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=me+De,H={id:E++,callback:te,priorityLevel:H,startTime:me,expirationTime:De,sortIndex:-1},me>He?(H.sortIndex=me,e(v,H),i(_)===null&&H===i(v)&&(re?(Re(N),N=-1):re=!0,Tt(ht,me-He))):(H.sortIndex=De,e(_,H),ee||F||(ee=!0,fe||(fe=!0,j()))),H},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(H){var te=O;return function(){var me=O;O=te;try{return H.apply(this,arguments)}finally{O=me}}}})(qd)),qd}var Q0;function P1(){return Q0||(Q0=1,Bd.exports=L1()),Bd.exports}var Hd={exports:{}},pn={};var K0;function z1(){if(K0)return pn;K0=1;var s=Dm();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)v+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(_,v,E){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:_,containerInfo:v,implementation:E}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,pn.createPortal=function(_,v){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return c(_,v,null,E)},pn.flushSync=function(_){var v=d.T,E=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=E,a.d.f()}},pn.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},pn.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},pn.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var E=v.as,x=y(E,v.crossOrigin),O=typeof v.integrity=="string"?v.integrity:void 0,F=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;E==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:x,integrity:O,fetchPriority:F}):E==="script"&&a.d.X(_,{crossOrigin:x,integrity:O,fetchPriority:F,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},pn.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var E=y(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},pn.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var E=v.as,x=y(E,v.crossOrigin);a.d.L(_,E,{crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},pn.preloadModule=function(_,v){if(typeof _=="string")if(v){var E=y(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},pn.requestFormReset=function(_){a.d.r(_)},pn.unstable_batchedUpdates=function(_,v){return _(v)},pn.useFormState=function(_,v,E){return d.H.useFormState(_,v,E)},pn.useFormStatus=function(){return d.H.useHostTransitionStatus()},pn.version="19.2.0",pn}var Y0;function B1(){if(Y0)return Hd.exports;Y0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Hd.exports=z1(),Hd.exports}var X0;function q1(){if(X0)return Vo;X0=1;var s=P1(),e=Dm(),i=B1();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(a(188))}function v(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return _(h),t;if(f===l)return _(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var g=!1,T=h.child;T;){if(T===r){g=!0,r=h,l=f;break}if(T===l){g=!0,l=h,r=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===r){g=!0,r=f,l=h;break}if(T===l){g=!0,l=f,r=h;break}T=T.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var x=Object.assign,O=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),ee=Symbol.for("react.portal"),re=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),pe=Symbol.for("react.profiler"),Re=Symbol.for("react.consumer"),Ee=Symbol.for("react.context"),tt=Symbol.for("react.forward_ref"),ht=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function Ke(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case re:return"Fragment";case pe:return"Profiler";case J:return"StrictMode";case ht:return"Suspense";case fe:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ee:return"Portal";case Ee:return t.displayName||"Context";case Re:return(t._context.displayName||"Context")+".Consumer";case tt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:Ke(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return Ke(t(n))}catch{}}return null}var Tt=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},He=[],De=-1;function M(t){return{current:t}}function K(t){0>De||(t.current=He[De],He[De]=null,De--)}function ae(t,n){De++,He[De]=t.current,t.current=n}var le=M(null),ve=M(null),Se=M(null),Me=M(null);function Rt(t,n){switch(ae(Se,n),ae(ve,t),ae(le,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?c0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=c0(n),t=h0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(le),ae(le,t)}function rt(){K(le),K(ve),K(Se)}function Wi(t){t.memoizedState!==null&&ae(Me,t);var n=le.current,r=h0(n,t.type);n!==r&&(ae(ve,t),ae(le,r))}function Zi(t){ve.current===t&&(K(le),K(ve)),Me.current===t&&(K(Me),No._currentValue=me)}var Ms,Os;function Ln(t){if(Ms===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ms=n&&n[1]||"",Os=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ms+t+Os}var Ji=!1;function es(t,n){if(!t||Ji)return"";Ji=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var z=q}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(q){z=q}t.call(Y.prototype)}}else{try{throw Error()}catch(q){z=q}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var C=g.split(`
`),P=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===P.length)for(l=C.length-1,h=P.length-1;1<=l&&0<=h&&C[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==P[h]){var G=`
`+C[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=h);break}}}finally{Ji=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Ln(r):""}function Vs(t,n){switch(t.tag){case 26:case 27:case 5:return Ln(t.type);case 16:return Ln("Lazy");case 13:return t.child!==n&&n!==null?Ln("Suspense Fallback"):Ln("Suspense");case 19:return Ln("SuspenseList");case 0:case 15:return es(t.type,!1);case 11:return es(t.type.render,!1);case 1:return es(t.type,!0);case 31:return Ln("Activity");default:return""}}function ts(t){try{var n="",r=null;do n+=Vs(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var vt=Object.prototype.hasOwnProperty,Ct=s.unstable_scheduleCallback,Si=s.unstable_cancelCallback,Ol=s.unstable_shouldYield,va=s.unstable_requestPaint,sn=s.unstable_now,ns=s.unstable_getCurrentPriorityLevel,kr=s.unstable_ImmediatePriority,jr=s.unstable_UserBlockingPriority,xi=s.unstable_NormalPriority,Vl=s.unstable_LowPriority,ks=s.unstable_IdlePriority,Z=s.log,ie=s.unstable_setDisableYieldValue,se=null,oe=null;function Ve(t){if(typeof Z=="function"&&ie(t),oe&&typeof oe.setStrictMode=="function")try{oe.setStrictMode(se,t)}catch{}}var Ue=Math.clz32?Math.clz32:Wt,Pn=Math.log,gn=Math.LN2;function Wt(t){return t>>>=0,t===0?32:31-(Pn(t)/gn|0)|0}var $e=256,rn=262144,ft=4194304;function kt(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Tn(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=kt(l):(g&=T,g!==0?h=kt(g):r||(r=T&~t,r!==0&&(h=kt(r))))):(T=l&~f,T!==0?h=kt(T):g!==0?h=kt(g):r||(r=l&~t,r!==0&&(h=kt(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function X(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Oe(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function an(){var t=ft;return ft<<=1,(ft&62914560)===0&&(ft=4194304),t}function gt(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function dt(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function is(t,n,r,l,h,f){var g=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,P=t.hiddenUpdates;for(r=g&~r;0<r;){var G=31-Ue(r),Y=1<<G;T[G]=0,C[G]=-1;var z=P[G];if(z!==null)for(P[G]=null,G=0;G<z.length;G++){var q=z[G];q!==null&&(q.lane&=-536870913)}r&=~Y}l!==0&&jt(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function jt(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ue(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function Ur(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Ue(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function We(t,n){var r=n&-n;return r=(r&42)!==0?1:zn(r),(r&(t.suspendedLanes|n))!==0?0:r}function zn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Sn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function js(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:V0(t.type))}function xn(t,n){var r=te.p;try{return te.p=t,n()}finally{te.p=r}}var hi=Math.random().toString(36).slice(2),Ut="__reactFiber$"+hi,Zt="__reactProps$"+hi,Ai="__reactContainer$"+hi,ba="__reactEvents$"+hi,Hh="__reactListeners$"+hi,fu="__reactHandles$"+hi,du="__reactResources$"+hi,wi="__reactMarker$"+hi;function Ea(t){delete t[Ut],delete t[Zt],delete t[ba],delete t[Hh],delete t[fu]}function Ri(t){var n=t[Ut];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Ai]||r[Ut]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=_0(t);t!==null;){if(r=t[Ut])return r;t=_0(t)}return n}t=r,r=t.parentNode}return null}function Wn(t){if(t=t[Ut]||t[Ai]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Bn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ci(t){var n=t[du];return n||(n=t[du]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Lt(t){t[wi]=!0}var kl=new Set,jl={};function Ni(t,n){Ii(t,n),Ii(t+"Capture",n)}function Ii(t,n){for(jl[t]=n,t=0;t<n.length;t++)kl.add(n[t])}var Ul=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ll={},Pl={};function mu(t){return vt.call(Pl,t)?!0:vt.call(Ll,t)?!1:Ul.test(t)?Pl[t]=!0:(Ll[t]=!0,!1)}function Ta(t,n,r){if(mu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function qn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Pt(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Us(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function zl(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function nt(t){if(!t._valueTracker){var n=Us(t)?"checked":"value";t._valueTracker=zl(t,n,""+t[n])}}function Lr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Us(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Di(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Pr=/[\n"\\]/g;function Nn(t){return t.replace(Pr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Sa(t,n,r,l,h,f,g,T){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Jt(n)):t.value!==""+Jt(n)&&(t.value=""+Jt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Bl(t,g,Jt(n)):r!=null?Bl(t,g,Jt(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Jt(T):t.removeAttribute("name")}function gu(t,n,r,l,h,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){nt(t);return}r=r!=null?""+Jt(r):"",n=n!=null?""+Jt(n):r,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),nt(t)}function Bl(t,n,r){n==="number"&&Di(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Ls(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Jt(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function pu(t,n,r){if(n!=null&&(n=""+Jt(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Jt(r):""}function Ps(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(Tt(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Jt(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),nt(t)}function In(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var yu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ql(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||yu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Hl(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&ql(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&ql(t,f,n[f])}function xa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _u=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Aa(t){return zs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function fi(){}var Gl=null;function Zn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Bs=null,Mi=null;function zr(t){var n=Wn(t);if(n&&(t=n.stateNode)){var r=t[Zt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Sa(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Nn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[Zt]||null;if(!h)throw Error(a(90));Sa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Lr(l)}break e;case"textarea":pu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Ls(t,!!r.multiple,n,!1)}}}var wa=!1;function qs(t,n,r){if(wa)return t(n,r);wa=!0;try{var l=t(n);return l}finally{if(wa=!1,(Bs!==null||Mi!==null)&&(hc(),Bs&&(n=Bs,t=Mi,Mi=Bs=null,zr(n),t)))for(n=0;n<t.length;n++)zr(t[n])}}function di(t,n){var r=t.stateNode;if(r===null)return null;var l=r[Zt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Br=!1;if(Jn)try{var at={};Object.defineProperty(at,"passive",{get:function(){Br=!0}}),window.addEventListener("test",at,at),window.removeEventListener("test",at,at)}catch{Br=!1}var Oi=null,Fl=null,qr=null;function Ql(){if(qr)return qr;var t,n=Fl,r=n.length,l,h="value"in Oi?Oi.value:Oi.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var g=r-t;for(l=1;l<=g&&n[r-l]===h[f-l];l++);return qr=h.slice(t,1<l?1-l:void 0)}function Hr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ss(){return!0}function mi(){return!1}function ln(t){function n(r,l,h,f,g){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ss:mi,this.isPropagationStopped=mi,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),n}var rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vi=ln(rs),Hs=x({},rs,{view:0,detail:0}),Kl=ln(Hs),Gs,Ra,ki,Ca=x({},Hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ki&&(ki&&t.type==="mousemove"?(Gs=t.screenX-ki.screenX,Ra=t.screenY-ki.screenY):Ra=Gs=0,ki=t),Gs)},movementY:function(t){return"movementY"in t?t.movementY:Ra}}),Yl=ln(Ca),Gr=x({},Ca,{dataTransfer:0}),vu=ln(Gr),bu=x({},Hs,{relatedTarget:0}),Fr=ln(bu),Xl=x({},rs,{animationName:0,elapsedTime:0,pseudoElement:0}),Eu=ln(Xl),Na=x({},rs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Tu=ln(Na),Su=x({},rs,{data:0}),ji=ln(Su),xu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Au={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ru(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=wu[t])?!!n[t]:!1}function Fs(){return Ru}var An=x({},Hs,{key:function(t){if(t.key){var n=xu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Hr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Au[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fs,charCode:function(t){return t.type==="keypress"?Hr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Cu=ln(An),Nu=x({},Ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),as=ln(Nu),u=x({},Hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fs}),m=ln(u),b=x({},rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=ln(b),U=x({},Ca,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=ln(U),ne=x({},rs,{newState:0,oldState:0}),Ce=ln(ne),Nt=[9,13,27,32],Ze=Jn&&"CompositionEvent"in window,bt=null;Jn&&"documentMode"in document&&(bt=document.documentMode);var ei=Jn&&"TextEvent"in window&&!bt,Ui=Jn&&(!Ze||bt&&8<bt&&11>=bt),gi=" ",pi=!1;function Qr(t,n){switch(t){case"keyup":return Nt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ia(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Da=!1;function iT(t,n){switch(t){case"compositionend":return Ia(n);case"keypress":return n.which!==32?null:(pi=!0,gi);case"textInput":return t=n.data,t===gi&&pi?null:t;default:return null}}function sT(t,n){if(Da)return t==="compositionend"||!Ze&&Qr(t,n)?(t=Ql(),qr=Fl=Oi=null,Da=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ui&&n.locale!=="ko"?null:n.data;default:return null}}var rT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!rT[t.type]:n==="textarea"}function Tg(t,n,r,l){Bs?Mi?Mi.push(l):Mi=[l]:Bs=l,n=_c(n,"onChange"),0<n.length&&(r=new Vi("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var $l=null,Wl=null;function aT(t){s0(t,0)}function Iu(t){var n=Bn(t);if(Lr(n))return t}function Sg(t,n){if(t==="change")return n}var xg=!1;if(Jn){var Gh;if(Jn){var Fh="oninput"in document;if(!Fh){var Ag=document.createElement("div");Ag.setAttribute("oninput","return;"),Fh=typeof Ag.oninput=="function"}Gh=Fh}else Gh=!1;xg=Gh&&(!document.documentMode||9<document.documentMode)}function wg(){$l&&($l.detachEvent("onpropertychange",Rg),Wl=$l=null)}function Rg(t){if(t.propertyName==="value"&&Iu(Wl)){var n=[];Tg(n,Wl,t,Zn(t)),qs(aT,n)}}function lT(t,n,r){t==="focusin"?(wg(),$l=n,Wl=r,$l.attachEvent("onpropertychange",Rg)):t==="focusout"&&wg()}function oT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Iu(Wl)}function uT(t,n){if(t==="click")return Iu(n)}function cT(t,n){if(t==="input"||t==="change")return Iu(n)}function hT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Hn=typeof Object.is=="function"?Object.is:hT;function Zl(t,n){if(Hn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!vt.call(n,h)||!Hn(t[h],n[h]))return!1}return!0}function Cg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ng(t,n){var r=Cg(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Cg(r)}}function Ig(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Ig(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Dg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Di(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Di(t.document)}return n}function Qh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var fT=Jn&&"documentMode"in document&&11>=document.documentMode,Ma=null,Kh=null,Jl=null,Yh=!1;function Mg(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Yh||Ma==null||Ma!==Di(l)||(l=Ma,"selectionStart"in l&&Qh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Jl&&Zl(Jl,l)||(Jl=l,l=_c(Kh,"onSelect"),0<l.length&&(n=new Vi("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ma)))}function Kr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Oa={animationend:Kr("Animation","AnimationEnd"),animationiteration:Kr("Animation","AnimationIteration"),animationstart:Kr("Animation","AnimationStart"),transitionrun:Kr("Transition","TransitionRun"),transitionstart:Kr("Transition","TransitionStart"),transitioncancel:Kr("Transition","TransitionCancel"),transitionend:Kr("Transition","TransitionEnd")},Xh={},Og={};Jn&&(Og=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function Yr(t){if(Xh[t])return Xh[t];if(!Oa[t])return t;var n=Oa[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Og)return Xh[t]=n[r];return t}var Vg=Yr("animationend"),kg=Yr("animationiteration"),jg=Yr("animationstart"),dT=Yr("transitionrun"),mT=Yr("transitionstart"),gT=Yr("transitioncancel"),Ug=Yr("transitionend"),Lg=new Map,$h="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$h.push("scrollEnd");function yi(t,n){Lg.set(t,n),Ni(n,[t])}var Du=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ti=[],Va=0,Wh=0;function Mu(){for(var t=Va,n=Wh=Va=0;n<t;){var r=ti[n];ti[n++]=null;var l=ti[n];ti[n++]=null;var h=ti[n];ti[n++]=null;var f=ti[n];if(ti[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&Pg(r,h,f)}}function Ou(t,n,r,l){ti[Va++]=t,ti[Va++]=n,ti[Va++]=r,ti[Va++]=l,Wh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Zh(t,n,r,l){return Ou(t,n,r,l),Vu(t)}function Xr(t,n){return Ou(t,null,null,n),Vu(t)}function Pg(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Ue(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function Vu(t){if(50<To)throw To=0,od=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ka={};function pT(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(t,n,r,l){return new pT(t,n,r,l)}function Jh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ls(t,n){var r=t.alternate;return r===null?(r=Gn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function zg(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function ku(t,n,r,l,h,f){var g=0;if(l=t,typeof t=="function")Jh(t)&&(g=1);else if(typeof t=="string")g=E1(t,r,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Gn(31,r,n,h),t.elementType=R,t.lanes=f,t;case re:return $r(r.children,h,f,n);case J:g=8,h|=24;break;case pe:return t=Gn(12,r,n,h|2),t.elementType=pe,t.lanes=f,t;case ht:return t=Gn(13,r,n,h),t.elementType=ht,t.lanes=f,t;case fe:return t=Gn(19,r,n,h),t.elementType=fe,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ee:g=10;break e;case Re:g=9;break e;case tt:g=11;break e;case N:g=14;break e;case A:g=16,l=null;break e}g=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Gn(g,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function $r(t,n,r,l){return t=Gn(7,t,l,n),t.lanes=r,t}function ef(t,n,r){return t=Gn(6,t,null,n),t.lanes=r,t}function Bg(t){var n=Gn(18,null,null,0);return n.stateNode=t,n}function tf(t,n,r){return n=Gn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var qg=new WeakMap;function ni(t,n){if(typeof t=="object"&&t!==null){var r=qg.get(t);return r!==void 0?r:(n={value:t,source:n,stack:ts(n)},qg.set(t,n),n)}return{value:t,source:n,stack:ts(n)}}var ja=[],Ua=0,ju=null,eo=0,ii=[],si=0,Qs=null,Li=1,Pi="";function os(t,n){ja[Ua++]=eo,ja[Ua++]=ju,ju=t,eo=n}function Hg(t,n,r){ii[si++]=Li,ii[si++]=Pi,ii[si++]=Qs,Qs=t;var l=Li;t=Pi;var h=32-Ue(l)-1;l&=~(1<<h),r+=1;var f=32-Ue(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,Li=1<<32-Ue(n)+h|r<<h|l,Pi=f+t}else Li=1<<f|r<<h|l,Pi=t}function nf(t){t.return!==null&&(os(t,1),Hg(t,1,0))}function sf(t){for(;t===ju;)ju=ja[--Ua],ja[Ua]=null,eo=ja[--Ua],ja[Ua]=null;for(;t===Qs;)Qs=ii[--si],ii[si]=null,Pi=ii[--si],ii[si]=null,Li=ii[--si],ii[si]=null}function Gg(t,n){ii[si++]=Li,ii[si++]=Pi,ii[si++]=Qs,Li=n.id,Pi=n.overflow,Qs=t}var on=null,pt=null,Ge=!1,Ks=null,ri=!1,rf=Error(a(519));function Ys(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw to(ni(n,t)),rf}function Fg(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Ut]=t,n[Zt]=l,r){case"dialog":je("cancel",n),je("close",n);break;case"iframe":case"object":case"embed":je("load",n);break;case"video":case"audio":for(r=0;r<xo.length;r++)je(xo[r],n);break;case"source":je("error",n);break;case"img":case"image":case"link":je("error",n),je("load",n);break;case"details":je("toggle",n);break;case"input":je("invalid",n),gu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":je("invalid",n);break;case"textarea":je("invalid",n),Ps(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||o0(n.textContent,r)?(l.popover!=null&&(je("beforetoggle",n),je("toggle",n)),l.onScroll!=null&&je("scroll",n),l.onScrollEnd!=null&&je("scrollend",n),l.onClick!=null&&(n.onclick=fi),n=!0):n=!1,n||Ys(t,!0)}function Qg(t){for(on=t.return;on;)switch(on.tag){case 5:case 31:case 13:ri=!1;return;case 27:case 3:ri=!0;return;default:on=on.return}}function La(t){if(t!==on)return!1;if(!Ge)return Qg(t),Ge=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Sd(t.type,t.memoizedProps)),r=!r),r&&pt&&Ys(t),Qg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));pt=y0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));pt=y0(t)}else n===27?(n=pt,or(t.type)?(t=Cd,Cd=null,pt=t):pt=n):pt=on?li(t.stateNode.nextSibling):null;return!0}function Wr(){pt=on=null,Ge=!1}function af(){var t=Ks;return t!==null&&(Vn===null?Vn=t:Vn.push.apply(Vn,t),Ks=null),t}function to(t){Ks===null?Ks=[t]:Ks.push(t)}var lf=M(null),Zr=null,us=null;function Xs(t,n,r){ae(lf,n._currentValue),n._currentValue=r}function cs(t){t._currentValue=lf.current,K(lf)}function of(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function uf(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var C=0;C<n.length;C++)if(T.context===n[C]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),of(f.return,r,t),l||(g=null);break e}f=T.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),of(g,r,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Pa(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var T=h.type;Hn(h.pendingProps.value,g.value)||(t!==null?t.push(T):t=[T])}}else if(h===Me.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(No):t=[No])}h=h.return}t!==null&&uf(n,t,r,l),n.flags|=262144}function Uu(t){for(t=t.firstContext;t!==null;){if(!Hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Jr(t){Zr=t,us=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function un(t){return Kg(Zr,t)}function Lu(t,n){return Zr===null&&Jr(t),Kg(t,n)}function Kg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},us===null){if(t===null)throw Error(a(308));us=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else us=us.next=n;return r}var yT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},_T=s.unstable_scheduleCallback,vT=s.unstable_NormalPriority,zt={$$typeof:Ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cf(){return{controller:new yT,data:new Map,refCount:0}}function no(t){t.refCount--,t.refCount===0&&_T(vT,function(){t.controller.abort()})}var io=null,hf=0,za=0,Ba=null;function bT(t,n){if(io===null){var r=io=[];hf=0,za=md(),Ba={status:"pending",value:void 0,then:function(l){r.push(l)}}}return hf++,n.then(Yg,Yg),n}function Yg(){if(--hf===0&&io!==null){Ba!==null&&(Ba.status="fulfilled");var t=io;io=null,za=0,Ba=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function ET(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var Xg=H.S;H.S=function(t,n){My=sn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&bT(t,n),Xg!==null&&Xg(t,n)};var ea=M(null);function ff(){var t=ea.current;return t!==null?t:ct.pooledCache}function Pu(t,n){n===null?ae(ea,ea.current):ae(ea,n.pool)}function $g(){var t=ff();return t===null?null:{parent:zt._currentValue,pool:t}}var qa=Error(a(460)),df=Error(a(474)),zu=Error(a(542)),Bu={then:function(){}};function Wg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Zg(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(fi,fi),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ep(t),t;default:if(typeof n.status=="string")n.then(fi,fi);else{if(t=ct,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ep(t),t}throw na=n,qa}}function ta(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(na=r,qa):r}}var na=null;function Jg(){if(na===null)throw Error(a(459));var t=na;return na=null,t}function ep(t){if(t===qa||t===zu)throw Error(a(483))}var Ha=null,so=0;function qu(t){var n=so;return so+=1,Ha===null&&(Ha=[]),Zg(Ha,t,n)}function ro(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Hu(t,n){throw n.$$typeof===O?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function tp(t){function n(k,I){if(t){var L=k.deletions;L===null?(k.deletions=[I],k.flags|=16):L.push(I)}}function r(k,I){if(!t)return null;for(;I!==null;)n(k,I),I=I.sibling;return null}function l(k){for(var I=new Map;k!==null;)k.key!==null?I.set(k.key,k):I.set(k.index,k),k=k.sibling;return I}function h(k,I){return k=ls(k,I),k.index=0,k.sibling=null,k}function f(k,I,L){return k.index=L,t?(L=k.alternate,L!==null?(L=L.index,L<I?(k.flags|=67108866,I):L):(k.flags|=67108866,I)):(k.flags|=1048576,I)}function g(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function T(k,I,L,Q){return I===null||I.tag!==6?(I=ef(L,k.mode,Q),I.return=k,I):(I=h(I,L),I.return=k,I)}function C(k,I,L,Q){var ge=L.type;return ge===re?G(k,I,L.props.children,Q,L.key):I!==null&&(I.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===A&&ta(ge)===I.type)?(I=h(I,L.props),ro(I,L),I.return=k,I):(I=ku(L.type,L.key,L.props,null,k.mode,Q),ro(I,L),I.return=k,I)}function P(k,I,L,Q){return I===null||I.tag!==4||I.stateNode.containerInfo!==L.containerInfo||I.stateNode.implementation!==L.implementation?(I=tf(L,k.mode,Q),I.return=k,I):(I=h(I,L.children||[]),I.return=k,I)}function G(k,I,L,Q,ge){return I===null||I.tag!==7?(I=$r(L,k.mode,Q,ge),I.return=k,I):(I=h(I,L),I.return=k,I)}function Y(k,I,L){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=ef(""+I,k.mode,L),I.return=k,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case F:return L=ku(I.type,I.key,I.props,null,k.mode,L),ro(L,I),L.return=k,L;case ee:return I=tf(I,k.mode,L),I.return=k,I;case A:return I=ta(I),Y(k,I,L)}if(Tt(I)||j(I))return I=$r(I,k.mode,L,null),I.return=k,I;if(typeof I.then=="function")return Y(k,qu(I),L);if(I.$$typeof===Ee)return Y(k,Lu(k,I),L);Hu(k,I)}return null}function z(k,I,L,Q){var ge=I!==null?I.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ge!==null?null:T(k,I,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case F:return L.key===ge?C(k,I,L,Q):null;case ee:return L.key===ge?P(k,I,L,Q):null;case A:return L=ta(L),z(k,I,L,Q)}if(Tt(L)||j(L))return ge!==null?null:G(k,I,L,Q,null);if(typeof L.then=="function")return z(k,I,qu(L),Q);if(L.$$typeof===Ee)return z(k,I,Lu(k,L),Q);Hu(k,L)}return null}function q(k,I,L,Q,ge){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(L)||null,T(I,k,""+Q,ge);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:return k=k.get(Q.key===null?L:Q.key)||null,C(I,k,Q,ge);case ee:return k=k.get(Q.key===null?L:Q.key)||null,P(I,k,Q,ge);case A:return Q=ta(Q),q(k,I,L,Q,ge)}if(Tt(Q)||j(Q))return k=k.get(L)||null,G(I,k,Q,ge,null);if(typeof Q.then=="function")return q(k,I,L,qu(Q),ge);if(Q.$$typeof===Ee)return q(k,I,L,Lu(I,Q),ge);Hu(I,Q)}return null}function ce(k,I,L,Q){for(var ge=null,Ye=null,he=I,Ie=I=0,Pe=null;he!==null&&Ie<L.length;Ie++){he.index>Ie?(Pe=he,he=null):Pe=he.sibling;var Xe=z(k,he,L[Ie],Q);if(Xe===null){he===null&&(he=Pe);break}t&&he&&Xe.alternate===null&&n(k,he),I=f(Xe,I,Ie),Ye===null?ge=Xe:Ye.sibling=Xe,Ye=Xe,he=Pe}if(Ie===L.length)return r(k,he),Ge&&os(k,Ie),ge;if(he===null){for(;Ie<L.length;Ie++)he=Y(k,L[Ie],Q),he!==null&&(I=f(he,I,Ie),Ye===null?ge=he:Ye.sibling=he,Ye=he);return Ge&&os(k,Ie),ge}for(he=l(he);Ie<L.length;Ie++)Pe=q(he,k,Ie,L[Ie],Q),Pe!==null&&(t&&Pe.alternate!==null&&he.delete(Pe.key===null?Ie:Pe.key),I=f(Pe,I,Ie),Ye===null?ge=Pe:Ye.sibling=Pe,Ye=Pe);return t&&he.forEach(function(dr){return n(k,dr)}),Ge&&os(k,Ie),ge}function _e(k,I,L,Q){if(L==null)throw Error(a(151));for(var ge=null,Ye=null,he=I,Ie=I=0,Pe=null,Xe=L.next();he!==null&&!Xe.done;Ie++,Xe=L.next()){he.index>Ie?(Pe=he,he=null):Pe=he.sibling;var dr=z(k,he,Xe.value,Q);if(dr===null){he===null&&(he=Pe);break}t&&he&&dr.alternate===null&&n(k,he),I=f(dr,I,Ie),Ye===null?ge=dr:Ye.sibling=dr,Ye=dr,he=Pe}if(Xe.done)return r(k,he),Ge&&os(k,Ie),ge;if(he===null){for(;!Xe.done;Ie++,Xe=L.next())Xe=Y(k,Xe.value,Q),Xe!==null&&(I=f(Xe,I,Ie),Ye===null?ge=Xe:Ye.sibling=Xe,Ye=Xe);return Ge&&os(k,Ie),ge}for(he=l(he);!Xe.done;Ie++,Xe=L.next())Xe=q(he,k,Ie,Xe.value,Q),Xe!==null&&(t&&Xe.alternate!==null&&he.delete(Xe.key===null?Ie:Xe.key),I=f(Xe,I,Ie),Ye===null?ge=Xe:Ye.sibling=Xe,Ye=Xe);return t&&he.forEach(function(M1){return n(k,M1)}),Ge&&os(k,Ie),ge}function ut(k,I,L,Q){if(typeof L=="object"&&L!==null&&L.type===re&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case F:e:{for(var ge=L.key;I!==null;){if(I.key===ge){if(ge=L.type,ge===re){if(I.tag===7){r(k,I.sibling),Q=h(I,L.props.children),Q.return=k,k=Q;break e}}else if(I.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===A&&ta(ge)===I.type){r(k,I.sibling),Q=h(I,L.props),ro(Q,L),Q.return=k,k=Q;break e}r(k,I);break}else n(k,I);I=I.sibling}L.type===re?(Q=$r(L.props.children,k.mode,Q,L.key),Q.return=k,k=Q):(Q=ku(L.type,L.key,L.props,null,k.mode,Q),ro(Q,L),Q.return=k,k=Q)}return g(k);case ee:e:{for(ge=L.key;I!==null;){if(I.key===ge)if(I.tag===4&&I.stateNode.containerInfo===L.containerInfo&&I.stateNode.implementation===L.implementation){r(k,I.sibling),Q=h(I,L.children||[]),Q.return=k,k=Q;break e}else{r(k,I);break}else n(k,I);I=I.sibling}Q=tf(L,k.mode,Q),Q.return=k,k=Q}return g(k);case A:return L=ta(L),ut(k,I,L,Q)}if(Tt(L))return ce(k,I,L,Q);if(j(L)){if(ge=j(L),typeof ge!="function")throw Error(a(150));return L=ge.call(L),_e(k,I,L,Q)}if(typeof L.then=="function")return ut(k,I,qu(L),Q);if(L.$$typeof===Ee)return ut(k,I,Lu(k,L),Q);Hu(k,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,I!==null&&I.tag===6?(r(k,I.sibling),Q=h(I,L),Q.return=k,k=Q):(r(k,I),Q=ef(L,k.mode,Q),Q.return=k,k=Q),g(k)):r(k,I)}return function(k,I,L,Q){try{so=0;var ge=ut(k,I,L,Q);return Ha=null,ge}catch(he){if(he===qa||he===zu)throw he;var Ye=Gn(29,he,null,k.mode);return Ye.lanes=Q,Ye.return=k,Ye}finally{}}}var ia=tp(!0),np=tp(!1),$s=!1;function mf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ws(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Zs(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Je&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Vu(t),Pg(t,null,r),n}return Ou(t,l,n,r),Vu(t)}function ao(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ur(t,r)}}function pf(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var yf=!1;function lo(){if(yf){var t=Ba;if(t!==null)throw t}}function oo(t,n,r,l){yf=!1;var h=t.updateQueue;$s=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,P=C.next;C.next=null,g===null?f=P:g.next=P,g=C;var G=t.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==g&&(T===null?G.firstBaseUpdate=P:T.next=P,G.lastBaseUpdate=C))}if(f!==null){var Y=h.baseState;g=0,G=P=C=null,T=f;do{var z=T.lane&-536870913,q=z!==T.lane;if(q?(Le&z)===z:(l&z)===z){z!==0&&z===za&&(yf=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ce=t,_e=T;z=n;var ut=r;switch(_e.tag){case 1:if(ce=_e.payload,typeof ce=="function"){Y=ce.call(ut,Y,z);break e}Y=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=_e.payload,z=typeof ce=="function"?ce.call(ut,Y,z):ce,z==null)break e;Y=x({},Y,z);break e;case 2:$s=!0}}z=T.callback,z!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(P=G=q,C=Y):G=G.next=q,g|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(C=Y),h.baseState=C,h.firstBaseUpdate=P,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),ir|=g,t.lanes=g,t.memoizedState=Y}}function ip(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function sp(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)ip(r[t],n)}var Ga=M(null),Gu=M(0);function rp(t,n){t=vs,ae(Gu,t),ae(Ga,n),vs=t|n.baseLanes}function _f(){ae(Gu,vs),ae(Ga,Ga.current)}function vf(){vs=Gu.current,K(Ga),K(Gu)}var Fn=M(null),ai=null;function Js(t){var n=t.alternate;ae(It,It.current&1),ae(Fn,t),ai===null&&(n===null||Ga.current!==null||n.memoizedState!==null)&&(ai=t)}function bf(t){ae(It,It.current),ae(Fn,t),ai===null&&(ai=t)}function ap(t){t.tag===22?(ae(It,It.current),ae(Fn,t),ai===null&&(ai=t)):er()}function er(){ae(It,It.current),ae(Fn,Fn.current)}function Qn(t){K(Fn),ai===t&&(ai=null),K(It)}var It=M(0);function Fu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||wd(r)||Rd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var hs=0,Ne=null,lt=null,Bt=null,Qu=!1,Fa=!1,sa=!1,Ku=0,uo=0,Qa=null,TT=0;function At(){throw Error(a(321))}function Ef(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Hn(t[r],n[r]))return!1;return!0}function Tf(t,n,r,l,h,f){return hs=f,Ne=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?Hp:Uf,sa=!1,f=r(l,h),sa=!1,Fa&&(f=op(n,r,l,h)),lp(t),f}function lp(t){H.H=fo;var n=lt!==null&&lt.next!==null;if(hs=0,Bt=lt=Ne=null,Qu=!1,uo=0,Qa=null,n)throw Error(a(300));t===null||qt||(t=t.dependencies,t!==null&&Uu(t)&&(qt=!0))}function op(t,n,r,l){Ne=t;var h=0;do{if(Fa&&(Qa=null),uo=0,Fa=!1,25<=h)throw Error(a(301));if(h+=1,Bt=lt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Gp,f=n(r,l)}while(Fa);return f}function ST(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?co(n):n,t=t.useState()[0],(lt!==null?lt.memoizedState:null)!==t&&(Ne.flags|=1024),n}function Sf(){var t=Ku!==0;return Ku=0,t}function xf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Af(t){if(Qu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Qu=!1}hs=0,Bt=lt=Ne=null,Fa=!1,uo=Ku=0,Qa=null}function wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?Ne.memoizedState=Bt=t:Bt=Bt.next=t,Bt}function Dt(){if(lt===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var n=Bt===null?Ne.memoizedState:Bt.next;if(n!==null)Bt=n,lt=t;else{if(t===null)throw Ne.alternate===null?Error(a(467)):Error(a(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},Bt===null?Ne.memoizedState=Bt=t:Bt=Bt.next=t}return Bt}function Yu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function co(t){var n=uo;return uo+=1,Qa===null&&(Qa=[]),t=Zg(Qa,t,n),n=Ne,(Bt===null?n.memoizedState:Bt.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Hp:Uf),t}function Xu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return co(t);if(t.$$typeof===Ee)return un(t)}throw Error(a(438,String(t)))}function wf(t){var n=null,r=Ne.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Yu(),Ne.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=V;return n.index++,r}function fs(t,n){return typeof n=="function"?n(t):n}function $u(t){var n=Dt();return Rf(n,lt,t)}function Rf(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=g=null,C=null,P=n,G=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(Le&Y)===Y:(hs&Y)===Y){var z=P.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===za&&(G=!0);else if((hs&z)===z){P=P.next,z===za&&(G=!0);continue}else Y={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(T=C=Y,g=f):C=C.next=Y,Ne.lanes|=z,ir|=z;Y=P.action,sa&&r(f,Y),f=P.hasEagerState?P.eagerState:r(f,Y)}else z={lane:Y,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(T=C=z,g=f):C=C.next=z,Ne.lanes|=Y,ir|=Y;P=P.next}while(P!==null&&P!==n);if(C===null?g=f:C.next=T,!Hn(f,t.memoizedState)&&(qt=!0,G&&(r=Ba,r!==null)))throw r;t.memoizedState=f,t.baseState=g,t.baseQueue=C,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Cf(t){var n=Dt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);Hn(f,n.memoizedState)||(qt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function up(t,n,r){var l=Ne,h=Dt(),f=Ge;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!Hn((lt||h).memoizedState,r);if(g&&(h.memoizedState=r,qt=!0),h=h.queue,Df(fp.bind(null,l,h,t),[t]),h.getSnapshot!==n||g||Bt!==null&&Bt.memoizedState.tag&1){if(l.flags|=2048,Ka(9,{destroy:void 0},hp.bind(null,l,h,r,n),null),ct===null)throw Error(a(349));f||(hs&127)!==0||cp(l,n,r)}return r}function cp(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Ne.updateQueue,n===null?(n=Yu(),Ne.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function hp(t,n,r,l){n.value=r,n.getSnapshot=l,dp(n)&&mp(t)}function fp(t,n,r){return r(function(){dp(n)&&mp(t)})}function dp(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Hn(t,r)}catch{return!0}}function mp(t){var n=Xr(t,2);n!==null&&kn(n,t,2)}function Nf(t){var n=wn();if(typeof t=="function"){var r=t;if(t=r(),sa){Ve(!0);try{r()}finally{Ve(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:t},n}function gp(t,n,r,l){return t.baseState=r,Rf(t,lt,typeof l=="function"?l:fs)}function xT(t,n,r,l,h){if(Ju(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,pp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function pp(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var T=r(h,l),C=H.S;C!==null&&C(g,T),yp(t,n,T)}catch(P){If(t,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=r(h,l),yp(t,n,f)}catch(P){If(t,n,P)}}function yp(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){_p(t,n,l)},function(l){return If(t,n,l)}):_p(t,n,r)}function _p(t,n,r){n.status="fulfilled",n.value=r,vp(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,pp(t,r)))}function If(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,vp(n),n=n.next;while(n!==l)}t.action=null}function vp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function bp(t,n){return n}function Ep(t,n){if(Ge){var r=ct.formState;if(r!==null){e:{var l=Ne;if(Ge){if(pt){t:{for(var h=pt,f=ri;h.nodeType!==8;){if(!f){h=null;break t}if(h=li(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){pt=li(h.nextSibling),l=h.data==="F!";break e}}Ys(l)}l=!1}l&&(n=r[0])}}return r=wn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bp,lastRenderedState:n},r.queue=l,r=zp.bind(null,Ne,l),l.dispatch=r,l=Nf(!1),f=jf.bind(null,Ne,!1,l.queue),l=wn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=xT.bind(null,Ne,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function Tp(t){var n=Dt();return Sp(n,lt,t)}function Sp(t,n,r){if(n=Rf(t,n,bp)[0],t=$u(fs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=co(n)}catch(g){throw g===qa?zu:g}else l=n;n=Dt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Ne.flags|=2048,Ka(9,{destroy:void 0},AT.bind(null,h,r),null)),[l,f,t]}function AT(t,n){t.action=n}function xp(t){var n=Dt(),r=lt;if(r!==null)return Sp(n,r,t);Dt(),n=n.memoizedState,r=Dt();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ka(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Ne.updateQueue,n===null&&(n=Yu(),Ne.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Ap(){return Dt().memoizedState}function Wu(t,n,r,l){var h=wn();Ne.flags|=t,h.memoizedState=Ka(1|n,{destroy:void 0},r,l===void 0?null:l)}function Zu(t,n,r,l){var h=Dt();l=l===void 0?null:l;var f=h.memoizedState.inst;lt!==null&&l!==null&&Ef(l,lt.memoizedState.deps)?h.memoizedState=Ka(n,f,r,l):(Ne.flags|=t,h.memoizedState=Ka(1|n,f,r,l))}function wp(t,n){Wu(8390656,8,t,n)}function Df(t,n){Zu(2048,8,t,n)}function wT(t){Ne.flags|=4;var n=Ne.updateQueue;if(n===null)n=Yu(),Ne.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Rp(t){var n=Dt().memoizedState;return wT({ref:n,nextImpl:t}),function(){if((Je&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Cp(t,n){return Zu(4,2,t,n)}function Np(t,n){return Zu(4,4,t,n)}function Ip(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Dp(t,n,r){r=r!=null?r.concat([t]):null,Zu(4,4,Ip.bind(null,n,t),r)}function Mf(){}function Mp(t,n){var r=Dt();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Ef(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Op(t,n){var r=Dt();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Ef(n,l[1]))return l[0];if(l=t(),sa){Ve(!0);try{t()}finally{Ve(!1)}}return r.memoizedState=[l,n],l}function Of(t,n,r){return r===void 0||(hs&1073741824)!==0&&(Le&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Vy(),Ne.lanes|=t,ir|=t,r)}function Vp(t,n,r,l){return Hn(r,n)?r:Ga.current!==null?(t=Of(t,r,l),Hn(t,n)||(qt=!0),t):(hs&42)===0||(hs&1073741824)!==0&&(Le&261930)===0?(qt=!0,t.memoizedState=r):(t=Vy(),Ne.lanes|=t,ir|=t,n)}function kp(t,n,r,l,h){var f=te.p;te.p=f!==0&&8>f?f:8;var g=H.T,T={};H.T=T,jf(t,!1,n,r);try{var C=h(),P=H.S;if(P!==null&&P(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=ET(C,l);ho(t,n,G,Xn(t))}else ho(t,n,l,Xn(t))}catch(Y){ho(t,n,{then:function(){},status:"rejected",reason:Y},Xn())}finally{te.p=f,g!==null&&T.types!==null&&(g.types=T.types),H.T=g}}function RT(){}function Vf(t,n,r,l){if(t.tag!==5)throw Error(a(476));var h=jp(t).queue;kp(t,h,n,me,r===null?RT:function(){return Up(t),r(l)})}function jp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:me},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Up(t){var n=jp(t);n.next===null&&(n=t.alternate.memoizedState),ho(t,n.next.queue,{},Xn())}function kf(){return un(No)}function Lp(){return Dt().memoizedState}function Pp(){return Dt().memoizedState}function CT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Xn();t=Ws(r);var l=Zs(n,t,r);l!==null&&(kn(l,n,r),ao(l,n,r)),n={cache:cf()},t.payload=n;return}n=n.return}}function NT(t,n,r){var l=Xn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ju(t)?Bp(n,r):(r=Zh(t,n,r,l),r!==null&&(kn(r,t,l),qp(r,n,l)))}function zp(t,n,r){var l=Xn();ho(t,n,r,l)}function ho(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ju(t))Bp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,r);if(h.hasEagerState=!0,h.eagerState=T,Hn(T,g))return Ou(t,n,h,0),ct===null&&Mu(),!1}catch{}finally{}if(r=Zh(t,n,h,l),r!==null)return kn(r,t,l),qp(r,n,l),!0}return!1}function jf(t,n,r,l){if(l={lane:2,revertLane:md(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ju(t)){if(n)throw Error(a(479))}else n=Zh(t,r,l,2),n!==null&&kn(n,t,2)}function Ju(t){var n=t.alternate;return t===Ne||n!==null&&n===Ne}function Bp(t,n){Fa=Qu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function qp(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ur(t,r)}}var fo={readContext:un,use:Xu,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};fo.useEffectEvent=At;var Hp={readContext:un,use:Xu,useCallback:function(t,n){return wn().memoizedState=[t,n===void 0?null:n],t},useContext:un,useEffect:wp,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Wu(4194308,4,Ip.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Wu(4194308,4,t,n)},useInsertionEffect:function(t,n){Wu(4,2,t,n)},useMemo:function(t,n){var r=wn();n=n===void 0?null:n;var l=t();if(sa){Ve(!0);try{t()}finally{Ve(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=wn();if(r!==void 0){var h=r(n);if(sa){Ve(!0);try{r(n)}finally{Ve(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=NT.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var n=wn();return t={current:t},n.memoizedState=t},useState:function(t){t=Nf(t);var n=t.queue,r=zp.bind(null,Ne,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Mf,useDeferredValue:function(t,n){var r=wn();return Of(r,t,n)},useTransition:function(){var t=Nf(!1);return t=kp.bind(null,Ne,t.queue,!0,!1),wn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Ne,h=wn();if(Ge){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),ct===null)throw Error(a(349));(Le&127)!==0||cp(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,wp(fp.bind(null,l,f,t),[t]),l.flags|=2048,Ka(9,{destroy:void 0},hp.bind(null,l,f,r,n),null),r},useId:function(){var t=wn(),n=ct.identifierPrefix;if(Ge){var r=Pi,l=Li;r=(l&~(1<<32-Ue(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Ku++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=TT++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:kf,useFormState:Ep,useActionState:Ep,useOptimistic:function(t){var n=wn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=jf.bind(null,Ne,!0,r),r.dispatch=n,[t,n]},useMemoCache:wf,useCacheRefresh:function(){return wn().memoizedState=CT.bind(null,Ne)},useEffectEvent:function(t){var n=wn(),r={impl:t};return n.memoizedState=r,function(){if((Je&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Uf={readContext:un,use:Xu,useCallback:Mp,useContext:un,useEffect:Df,useImperativeHandle:Dp,useInsertionEffect:Cp,useLayoutEffect:Np,useMemo:Op,useReducer:$u,useRef:Ap,useState:function(){return $u(fs)},useDebugValue:Mf,useDeferredValue:function(t,n){var r=Dt();return Vp(r,lt.memoizedState,t,n)},useTransition:function(){var t=$u(fs)[0],n=Dt().memoizedState;return[typeof t=="boolean"?t:co(t),n]},useSyncExternalStore:up,useId:Lp,useHostTransitionStatus:kf,useFormState:Tp,useActionState:Tp,useOptimistic:function(t,n){var r=Dt();return gp(r,lt,t,n)},useMemoCache:wf,useCacheRefresh:Pp};Uf.useEffectEvent=Rp;var Gp={readContext:un,use:Xu,useCallback:Mp,useContext:un,useEffect:Df,useImperativeHandle:Dp,useInsertionEffect:Cp,useLayoutEffect:Np,useMemo:Op,useReducer:Cf,useRef:Ap,useState:function(){return Cf(fs)},useDebugValue:Mf,useDeferredValue:function(t,n){var r=Dt();return lt===null?Of(r,t,n):Vp(r,lt.memoizedState,t,n)},useTransition:function(){var t=Cf(fs)[0],n=Dt().memoizedState;return[typeof t=="boolean"?t:co(t),n]},useSyncExternalStore:up,useId:Lp,useHostTransitionStatus:kf,useFormState:xp,useActionState:xp,useOptimistic:function(t,n){var r=Dt();return lt!==null?gp(r,lt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:wf,useCacheRefresh:Pp};Gp.useEffectEvent=Rp;function Lf(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:x({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Pf={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Xn(),h=Ws(l);h.payload=n,r!=null&&(h.callback=r),n=Zs(t,h,l),n!==null&&(kn(n,t,l),ao(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Xn(),h=Ws(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Zs(t,h,l),n!==null&&(kn(n,t,l),ao(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Xn(),l=Ws(r);l.tag=2,n!=null&&(l.callback=n),n=Zs(t,l,r),n!==null&&(kn(n,t,r),ao(n,t,r))}};function Fp(t,n,r,l,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Zl(r,l)||!Zl(h,f):!0}function Qp(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Pf.enqueueReplaceState(n,n.state,null)}function ra(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=x({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function Kp(t){Du(t)}function Yp(t){console.error(t)}function Xp(t){Du(t)}function ec(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function $p(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function zf(t,n,r){return r=Ws(r),r.tag=3,r.payload={element:null},r.callback=function(){ec(t,n)},r}function Wp(t){return t=Ws(t),t.tag=3,t}function Zp(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){$p(n,r,l)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){$p(n,r,l),typeof h!="function"&&(sr===null?sr=new Set([this]):sr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function IT(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Pa(n,r,h,!0),r=Fn.current,r!==null){switch(r.tag){case 31:case 13:return ai===null?fc():r.alternate===null&&wt===0&&(wt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Bu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),hd(t,l,h)),!1;case 22:return r.flags|=65536,l===Bu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),hd(t,l,h)),!1}throw Error(a(435,r.tag))}return hd(t,l,h),fc(),!1}if(Ge)return n=Fn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==rf&&(t=Error(a(422),{cause:l}),to(ni(t,r)))):(l!==rf&&(n=Error(a(423),{cause:l}),to(ni(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=ni(l,r),h=zf(t.stateNode,l,h),pf(t,h),wt!==4&&(wt=2)),!1;var f=Error(a(520),{cause:l});if(f=ni(f,r),Eo===null?Eo=[f]:Eo.push(f),wt!==4&&(wt=2),n===null)return!0;l=ni(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=zf(r.stateNode,l,t),pf(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(sr===null||!sr.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Wp(h),Zp(h,t,r,l),pf(r,h),!1}r=r.return}while(r!==null);return!1}var Bf=Error(a(461)),qt=!1;function cn(t,n,r,l){n.child=t===null?np(n,null,r,l):ia(n,t.child,r,l)}function Jp(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var g={};for(var T in l)T!=="ref"&&(g[T]=l[T])}else g=l;return Jr(n),l=Tf(t,n,r,g,f,h),T=Sf(),t!==null&&!qt?(xf(t,n,h),ds(t,n,h)):(Ge&&T&&nf(n),n.flags|=1,cn(t,n,l,h),n.child)}function ey(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!Jh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,ty(t,n,f,l,h)):(t=ku(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Xf(t,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Zl,r(g,l)&&t.ref===n.ref)return ds(t,n,h)}return n.flags|=1,t=ls(f,l),t.ref=n.ref,t.return=n,n.child=t}function ty(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(Zl(f,l)&&t.ref===n.ref)if(qt=!1,n.pendingProps=l=f,Xf(t,h))(t.flags&131072)!==0&&(qt=!0);else return n.lanes=t.lanes,ds(t,n,h)}return qf(t,n,r,l,h)}function ny(t,n,r,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return iy(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Pu(n,f!==null?f.cachePool:null),f!==null?rp(n,f):_f(),ap(n);else return l=n.lanes=536870912,iy(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(Pu(n,f.cachePool),rp(n,f),er(),n.memoizedState=null):(t!==null&&Pu(n,null),_f(),er());return cn(t,n,h,r),n.child}function mo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function iy(t,n,r,l,h){var f=ff();return f=f===null?null:{parent:zt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Pu(n,null),_f(),ap(n),t!==null&&Pa(t,n,l,!0),n.childLanes=h,null}function tc(t,n){return n=ic({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function sy(t,n,r){return ia(n,t.child,null,r),t=tc(n,n.pendingProps),t.flags|=2,Qn(n),n.memoizedState=null,t}function DT(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ge){if(l.mode==="hidden")return t=tc(n,l),n.lanes=536870912,mo(null,t);if(bf(n),(t=pt)?(t=p0(t,ri),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Qs!==null?{id:Li,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},r=Bg(t),r.return=n,n.child=r,on=n,pt=null)):t=null,t===null)throw Ys(n);return n.lanes=536870912,null}return tc(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(bf(n),h)if(n.flags&256)n.flags&=-257,n=sy(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(qt||Pa(t,n,r,!1),h=(r&t.childLanes)!==0,qt||h){if(l=ct,l!==null&&(g=We(l,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Xr(t,g),kn(l,t,g),Bf;fc(),n=sy(t,n,r)}else t=f.treeContext,pt=li(g.nextSibling),on=n,Ge=!0,Ks=null,ri=!1,t!==null&&Gg(n,t),n=tc(n,l),n.flags|=4096;return n}return t=ls(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function nc(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function qf(t,n,r,l,h){return Jr(n),r=Tf(t,n,r,l,void 0,h),l=Sf(),t!==null&&!qt?(xf(t,n,h),ds(t,n,h)):(Ge&&l&&nf(n),n.flags|=1,cn(t,n,r,h),n.child)}function ry(t,n,r,l,h,f){return Jr(n),n.updateQueue=null,r=op(n,l,r,h),lp(t),l=Sf(),t!==null&&!qt?(xf(t,n,f),ds(t,n,f)):(Ge&&l&&nf(n),n.flags|=1,cn(t,n,r,f),n.child)}function ay(t,n,r,l,h){if(Jr(n),n.stateNode===null){var f=ka,g=r.contextType;typeof g=="object"&&g!==null&&(f=un(g)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Pf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},mf(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?un(g):ka,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Lf(n,r,g,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Pf.enqueueReplaceState(f,f.state,null),oo(n,l,f,h),lo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,C=ra(r,T);f.props=C;var P=f.context,G=r.contextType;g=ka,typeof G=="object"&&G!==null&&(g=un(G));var Y=r.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||P!==g)&&Qp(n,f,l,g),$s=!1;var z=n.memoizedState;f.state=z,oo(n,l,f,h),lo(),P=n.memoizedState,T||z!==P||$s?(typeof Y=="function"&&(Lf(n,r,Y,l),P=n.memoizedState),(C=$s||Fp(n,r,C,l,z,P,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=g,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,gf(t,n),g=n.memoizedProps,G=ra(r,g),f.props=G,Y=n.pendingProps,z=f.context,P=r.contextType,C=ka,typeof P=="object"&&P!==null&&(C=un(P)),T=r.getDerivedStateFromProps,(P=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||z!==C)&&Qp(n,f,l,C),$s=!1,z=n.memoizedState,f.state=z,oo(n,l,f,h),lo();var q=n.memoizedState;g!==Y||z!==q||$s||t!==null&&t.dependencies!==null&&Uu(t.dependencies)?(typeof T=="function"&&(Lf(n,r,T,l),q=n.memoizedState),(G=$s||Fp(n,r,G,l,z,q,C)||t!==null&&t.dependencies!==null&&Uu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=C,l=G):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,nc(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ia(n,t.child,null,h),n.child=ia(n,null,r,h)):cn(t,n,r,h),n.memoizedState=f.state,t=n.child):t=ds(t,n,h),t}function ly(t,n,r,l){return Wr(),n.flags|=256,cn(t,n,r,l),n.child}var Hf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gf(t){return{baseLanes:t,cachePool:$g()}}function Ff(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Yn),t}function oy(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(It.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ge){if(h?Js(n):er(),(t=pt)?(t=p0(t,ri),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Qs!==null?{id:Li,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},r=Bg(t),r.return=n,n.child=r,on=n,pt=null)):t=null,t===null)throw Ys(n);return Rd(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(er(),h=n.mode,T=ic({mode:"hidden",children:T},h),l=$r(l,h,r,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=Gf(r),l.childLanes=Ff(t,g,r),n.memoizedState=Hf,mo(null,l)):(Js(n),Qf(n,T))}var C=t.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(f)n.flags&256?(Js(n),n.flags&=-257,n=Kf(t,n,r)):n.memoizedState!==null?(er(),n.child=t.child,n.flags|=128,n=null):(er(),T=l.fallback,h=n.mode,l=ic({mode:"visible",children:l.children},h),T=$r(T,h,r,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,ia(n,t.child,null,r),l=n.child,l.memoizedState=Gf(r),l.childLanes=Ff(t,g,r),n.memoizedState=Hf,n=mo(null,l));else if(Js(n),Rd(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var P=g.dgst;g=P,l=Error(a(419)),l.stack="",l.digest=g,to({value:l,source:null,stack:null}),n=Kf(t,n,r)}else if(qt||Pa(t,n,r,!1),g=(r&t.childLanes)!==0,qt||g){if(g=ct,g!==null&&(l=We(g,r),l!==0&&l!==C.retryLane))throw C.retryLane=l,Xr(t,l),kn(g,t,l),Bf;wd(T)||fc(),n=Kf(t,n,r)}else wd(T)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,pt=li(T.nextSibling),on=n,Ge=!0,Ks=null,ri=!1,t!==null&&Gg(n,t),n=Qf(n,l.children),n.flags|=4096);return n}return h?(er(),T=l.fallback,h=n.mode,C=t.child,P=C.sibling,l=ls(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,P!==null?T=ls(P,T):(T=$r(T,h,r,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,mo(null,l),l=n.child,T=t.child.memoizedState,T===null?T=Gf(r):(h=T.cachePool,h!==null?(C=zt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=$g(),T={baseLanes:T.baseLanes|r,cachePool:h}),l.memoizedState=T,l.childLanes=Ff(t,g,r),n.memoizedState=Hf,mo(t.child,l)):(Js(n),r=t.child,t=r.sibling,r=ls(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=r,n.memoizedState=null,r)}function Qf(t,n){return n=ic({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ic(t,n){return t=Gn(22,t,null,n),t.lanes=0,t}function Kf(t,n,r){return ia(n,t.child,null,r),t=Qf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function uy(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),of(t.return,n,r)}function Yf(t,n,r,l,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function cy(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=It.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,ae(It,g),cn(t,n,l,r),l=Ge?eo:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&uy(t,r,n);else if(t.tag===19)uy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Fu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Yf(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Fu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Yf(n,!0,r,null,f,l);break;case"together":Yf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ds(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),ir|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Pa(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=ls(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=ls(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Xf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Uu(t)))}function MT(t,n,r){switch(n.tag){case 3:Rt(n,n.stateNode.containerInfo),Xs(n,zt,t.memoizedState.cache),Wr();break;case 27:case 5:Wi(n);break;case 4:Rt(n,n.stateNode.containerInfo);break;case 10:Xs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,bf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Js(n),n.flags|=128,null):(r&n.child.childLanes)!==0?oy(t,n,r):(Js(n),t=ds(t,n,r),t!==null?t.sibling:null);Js(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Pa(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return cy(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(It,It.current),l)break;return null;case 22:return n.lanes=0,ny(t,n,r,n.pendingProps);case 24:Xs(n,zt,t.memoizedState.cache)}return ds(t,n,r)}function hy(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)qt=!0;else{if(!Xf(t,r)&&(n.flags&128)===0)return qt=!1,MT(t,n,r);qt=(t.flags&131072)!==0}else qt=!1,Ge&&(n.flags&1048576)!==0&&Hg(n,eo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=ta(n.elementType),n.type=t,typeof t=="function")Jh(t)?(l=ra(t,l),n.tag=1,n=ay(null,n,t,l,r)):(n.tag=0,n=qf(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===tt){n.tag=11,n=Jp(null,n,t,l,r);break e}else if(h===N){n.tag=14,n=ey(null,n,t,l,r);break e}}throw n=Ke(t)||t,Error(a(306,n,""))}}return n;case 0:return qf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=ra(l,n.pendingProps),ay(t,n,l,h,r);case 3:e:{if(Rt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,gf(t,n),oo(n,l,null,r);var g=n.memoizedState;if(l=g.cache,Xs(n,zt,l),l!==f.cache&&uf(n,[zt],r,!0),lo(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ly(t,n,l,r);break e}else if(l!==h){h=ni(Error(a(424)),n),to(h),n=ly(t,n,l,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(pt=li(t.firstChild),on=n,Ge=!0,Ks=null,ri=!0,r=np(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Wr(),l===h){n=ds(t,n,r);break e}cn(t,n,l,r)}n=n.child}return n;case 26:return nc(t,n),t===null?(r=T0(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ge||(r=n.type,t=n.pendingProps,l=vc(Se.current).createElement(r),l[Ut]=n,l[Zt]=t,hn(l,r,t),Lt(l),n.stateNode=l):n.memoizedState=T0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Wi(n),t===null&&Ge&&(l=n.stateNode=v0(n.type,n.pendingProps,Se.current),on=n,ri=!0,h=pt,or(n.type)?(Cd=h,pt=li(l.firstChild)):pt=h),cn(t,n,n.pendingProps.children,r),nc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ge&&((h=l=pt)&&(l=o1(l,n.type,n.pendingProps,ri),l!==null?(n.stateNode=l,on=n,pt=li(l.firstChild),ri=!1,h=!0):h=!1),h||Ys(n)),Wi(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,Sd(h,f)?l=null:g!==null&&Sd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=Tf(t,n,ST,null,null,r),No._currentValue=h),nc(t,n),cn(t,n,l,r),n.child;case 6:return t===null&&Ge&&((t=r=pt)&&(r=u1(r,n.pendingProps,ri),r!==null?(n.stateNode=r,on=n,pt=null,t=!0):t=!1),t||Ys(n)),null;case 13:return oy(t,n,r);case 4:return Rt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ia(n,null,l,r):cn(t,n,l,r),n.child;case 11:return Jp(t,n,n.type,n.pendingProps,r);case 7:return cn(t,n,n.pendingProps,r),n.child;case 8:return cn(t,n,n.pendingProps.children,r),n.child;case 12:return cn(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Xs(n,n.type,l.value),cn(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Jr(n),h=un(h),l=l(h),n.flags|=1,cn(t,n,l,r),n.child;case 14:return ey(t,n,n.type,n.pendingProps,r);case 15:return ty(t,n,n.type,n.pendingProps,r);case 19:return cy(t,n,r);case 31:return DT(t,n,r);case 22:return ny(t,n,r,n.pendingProps);case 24:return Jr(n),l=un(zt),t===null?(h=ff(),h===null&&(h=ct,f=cf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},mf(n),Xs(n,zt,h)):((t.lanes&r)!==0&&(gf(t,n),oo(n,null,null,r),lo()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Xs(n,zt,l)):(l=f.cache,Xs(n,zt,l),l!==h.cache&&uf(n,[zt],r,!0))),cn(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ms(t){t.flags|=4}function $f(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Ly())t.flags|=8192;else throw na=Bu,df}else t.flags&=-16777217}function fy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!R0(n))if(Ly())t.flags|=8192;else throw na=Bu,df}function sc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?an():536870912,t.lanes|=n,Wa|=n)}function go(t,n){if(!Ge)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function yt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function OT(t,n,r){var l=n.pendingProps;switch(sf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(n),null;case 1:return yt(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),cs(zt),rt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(La(n)?ms(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,af())),yt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(ms(n),f!==null?(yt(n),fy(n,f)):(yt(n),$f(n,h,null,l,r))):f?f!==t.memoizedState?(ms(n),yt(n),fy(n,f)):(yt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&ms(n),yt(n),$f(n,h,t,l,r)),null;case 27:if(Zi(n),r=Se.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ms(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return yt(n),null}t=le.current,La(n)?Fg(n):(t=v0(h,l,r),n.stateNode=t,ms(n))}return yt(n),null;case 5:if(Zi(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ms(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return yt(n),null}if(f=le.current,La(n))Fg(n);else{var g=vc(Se.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[Ut]=n,f[Zt]=l;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(hn(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ms(n)}}return yt(n),$f(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&ms(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Se.current,La(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=on,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ut]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||o0(t.nodeValue,r)),t||Ys(n,!0)}else t=vc(t).createTextNode(l),t[Ut]=n,n.stateNode=t}return yt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=La(n),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Ut]=n}else Wr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;yt(n),t=!1}else r=af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Qn(n),n):(Qn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return yt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=La(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ut]=n}else Wr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;yt(n),h=!1}else h=af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Qn(n),n):(Qn(n),null)}return Qn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),sc(n,n.updateQueue),yt(n),null);case 4:return rt(),t===null&&_d(n.stateNode.containerInfo),yt(n),null;case 10:return cs(n.type),yt(n),null;case 19:if(K(It),l=n.memoizedState,l===null)return yt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)go(l,!1);else{if(wt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Fu(t),f!==null){for(n.flags|=128,go(l,!1),t=f.updateQueue,n.updateQueue=t,sc(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)zg(r,t),r=r.sibling;return ae(It,It.current&1|2),Ge&&os(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&sn()>uc&&(n.flags|=128,h=!0,go(l,!1),n.lanes=4194304)}else{if(!h)if(t=Fu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,sc(n,t),go(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ge)return yt(n),null}else 2*sn()-l.renderingStartTime>uc&&r!==536870912&&(n.flags|=128,h=!0,go(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=sn(),t.sibling=null,r=It.current,ae(It,h?r&1|2:r&1),Ge&&os(n,l.treeForkCount),t):(yt(n),null);case 22:case 23:return Qn(n),vf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(yt(n),n.subtreeFlags&6&&(n.flags|=8192)):yt(n),r=n.updateQueue,r!==null&&sc(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&K(ea),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),cs(zt),yt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function VT(t,n){switch(sf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return cs(zt),rt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Zi(n),null;case 31:if(n.memoizedState!==null){if(Qn(n),n.alternate===null)throw Error(a(340));Wr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Qn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Wr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(It),null;case 4:return rt(),null;case 10:return cs(n.type),null;case 22:case 23:return Qn(n),vf(),t!==null&&K(ea),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return cs(zt),null;case 25:return null;default:return null}}function dy(t,n){switch(sf(n),n.tag){case 3:cs(zt),rt();break;case 26:case 27:case 5:Zi(n);break;case 4:rt();break;case 31:n.memoizedState!==null&&Qn(n);break;case 13:Qn(n);break;case 19:K(It);break;case 10:cs(n.type);break;case 22:case 23:Qn(n),vf(),t!==null&&K(ea);break;case 24:cs(zt)}}function po(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,g=r.inst;l=f(),g.destroy=l}r=r.next}while(r!==h)}}catch(T){st(n,n.return,T)}}function tr(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var g=l.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,h=n;var C=r,P=T;try{P()}catch(G){st(h,C,G)}}}l=l.next}while(l!==f)}}catch(G){st(n,n.return,G)}}function my(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{sp(n,r)}catch(l){st(t,t.return,l)}}}function gy(t,n,r){r.props=ra(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){st(t,n,l)}}function yo(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){st(t,n,h)}}function zi(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){st(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){st(t,n,h)}else r.current=null}function py(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){st(t,t.return,h)}}function Wf(t,n,r){try{var l=t.stateNode;n1(l,t.type,r,n),l[Zt]=n}catch(h){st(t,t.return,h)}}function yy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&or(t.type)||t.tag===4}function Zf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&or(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=fi));else if(l!==4&&(l===27&&or(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Jf(t,n,r),t=t.sibling;t!==null;)Jf(t,n,r),t=t.sibling}function rc(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&or(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(rc(t,n,r),t=t.sibling;t!==null;)rc(t,n,r),t=t.sibling}function _y(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);hn(n,l,r),n[Ut]=t,n[Zt]=r}catch(f){st(t,t.return,f)}}var gs=!1,Ht=!1,ed=!1,vy=typeof WeakSet=="function"?WeakSet:Set,en=null;function kT(t,n){if(t=t.containerInfo,Ed=wc,t=Dg(t),Qh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var g=0,T=-1,C=-1,P=0,G=0,Y=t,z=null;t:for(;;){for(var q;Y!==r||h!==0&&Y.nodeType!==3||(T=g+h),Y!==f||l!==0&&Y.nodeType!==3||(C=g+l),Y.nodeType===3&&(g+=Y.nodeValue.length),(q=Y.firstChild)!==null;)z=Y,Y=q;for(;;){if(Y===t)break t;if(z===r&&++P===h&&(T=g),z===f&&++G===l&&(C=g),(q=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=q}r=T===-1||C===-1?null:{start:T,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(Td={focusedElem:t,selectionRange:r},wc=!1,en=n;en!==null;)if(n=en,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,en=t;else for(;en!==null;){switch(n=en,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var ce=ra(r.type,h);t=l.getSnapshotBeforeUpdate(ce,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){st(r,r.return,_e)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Ad(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ad(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,en=t;break}en=n.return}}function by(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:ys(t,r),l&4&&po(5,r);break;case 1:if(ys(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(g){st(r,r.return,g)}else{var h=ra(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){st(r,r.return,g)}}l&64&&my(r),l&512&&yo(r,r.return);break;case 3:if(ys(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{sp(t,n)}catch(g){st(r,r.return,g)}}break;case 27:n===null&&l&4&&_y(r);case 26:case 5:ys(t,r),n===null&&l&4&&py(r),l&512&&yo(r,r.return);break;case 12:ys(t,r);break;case 31:ys(t,r),l&4&&Sy(t,r);break;case 13:ys(t,r),l&4&&xy(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=GT.bind(null,r),c1(t,r))));break;case 22:if(l=r.memoizedState!==null||gs,!l){n=n!==null&&n.memoizedState!==null||Ht,h=gs;var f=Ht;gs=l,(Ht=n)&&!f?_s(t,r,(r.subtreeFlags&8772)!==0):ys(t,r),gs=h,Ht=f}break;case 30:break;default:ys(t,r)}}function Ey(t){var n=t.alternate;n!==null&&(t.alternate=null,Ey(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ea(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Et=null,Dn=!1;function ps(t,n,r){for(r=r.child;r!==null;)Ty(t,n,r),r=r.sibling}function Ty(t,n,r){if(oe&&typeof oe.onCommitFiberUnmount=="function")try{oe.onCommitFiberUnmount(se,r)}catch{}switch(r.tag){case 26:Ht||zi(r,n),ps(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ht||zi(r,n);var l=Et,h=Dn;or(r.type)&&(Et=r.stateNode,Dn=!1),ps(t,n,r),wo(r.stateNode),Et=l,Dn=h;break;case 5:Ht||zi(r,n);case 6:if(l=Et,h=Dn,Et=null,ps(t,n,r),Et=l,Dn=h,Et!==null)if(Dn)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(r.stateNode)}catch(f){st(r,n,f)}else try{Et.removeChild(r.stateNode)}catch(f){st(r,n,f)}break;case 18:Et!==null&&(Dn?(t=Et,m0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),rl(t)):m0(Et,r.stateNode));break;case 4:l=Et,h=Dn,Et=r.stateNode.containerInfo,Dn=!0,ps(t,n,r),Et=l,Dn=h;break;case 0:case 11:case 14:case 15:tr(2,r,n),Ht||tr(4,r,n),ps(t,n,r);break;case 1:Ht||(zi(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&gy(r,n,l)),ps(t,n,r);break;case 21:ps(t,n,r);break;case 22:Ht=(l=Ht)||r.memoizedState!==null,ps(t,n,r),Ht=l;break;default:ps(t,n,r)}}function Sy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{rl(t)}catch(r){st(n,n.return,r)}}}function xy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{rl(t)}catch(r){st(n,n.return,r)}}function jT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new vy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new vy),n;default:throw Error(a(435,t.tag))}}function ac(t,n){var r=jT(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=FT.bind(null,t,l);l.then(h,h)}})}function Mn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,g=n,T=g;e:for(;T!==null;){switch(T.tag){case 27:if(or(T.type)){Et=T.stateNode,Dn=!1;break e}break;case 5:Et=T.stateNode,Dn=!1;break e;case 3:case 4:Et=T.stateNode.containerInfo,Dn=!0;break e}T=T.return}if(Et===null)throw Error(a(160));Ty(f,g,h),Et=null,Dn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ay(n,t),n=n.sibling}var _i=null;function Ay(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Mn(n,t),On(t),l&4&&(tr(3,t,t.return),po(3,t),tr(5,t,t.return));break;case 1:Mn(n,t),On(t),l&512&&(Ht||r===null||zi(r,r.return)),l&64&&gs&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=_i;if(Mn(n,t),On(t),l&512&&(Ht||r===null||zi(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[wi]||f[Ut]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),hn(f,l,r),f[Ut]=t,Lt(f),l=f;break e;case"link":var g=A0("link","href",h).get(l+(r.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(T,1);break t}}f=h.createElement(l),hn(f,l,r),h.head.appendChild(f);break;case"meta":if(g=A0("meta","content",h).get(l+(r.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(T,1);break t}}f=h.createElement(l),hn(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Ut]=t,Lt(f),l=f}t.stateNode=l}else w0(h,t.type,t.stateNode);else t.stateNode=x0(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?w0(h,t.type,t.stateNode):x0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Wf(t,t.memoizedProps,r.memoizedProps)}break;case 27:Mn(n,t),On(t),l&512&&(Ht||r===null||zi(r,r.return)),r!==null&&l&4&&Wf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Mn(n,t),On(t),l&512&&(Ht||r===null||zi(r,r.return)),t.flags&32){h=t.stateNode;try{In(h,"")}catch(ce){st(t,t.return,ce)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Wf(t,h,r!==null?r.memoizedProps:h)),l&1024&&(ed=!0);break;case 6:if(Mn(n,t),On(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(ce){st(t,t.return,ce)}}break;case 3:if(Tc=null,h=_i,_i=bc(n.containerInfo),Mn(n,t),_i=h,On(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{rl(n.containerInfo)}catch(ce){st(t,t.return,ce)}ed&&(ed=!1,wy(t));break;case 4:l=_i,_i=bc(t.stateNode.containerInfo),Mn(n,t),On(t),_i=l;break;case 12:Mn(n,t),On(t);break;case 31:Mn(n,t),On(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ac(t,l)));break;case 13:Mn(n,t),On(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(oc=sn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ac(t,l)));break;case 22:h=t.memoizedState!==null;var C=r!==null&&r.memoizedState!==null,P=gs,G=Ht;if(gs=P||h,Ht=G||C,Mn(n,t),Ht=G,gs=P,On(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||C||gs||Ht||aa(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){C=r=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=C.stateNode;var Y=C.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ce){st(C,C.return,ce)}}}else if(n.tag===6){if(r===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ce){st(C,C.return,ce)}}}else if(n.tag===18){if(r===null){C=n;try{var q=C.stateNode;h?g0(q,!0):g0(C.stateNode,!1)}catch(ce){st(C,C.return,ce)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,ac(t,r))));break;case 19:Mn(n,t),On(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ac(t,l)));break;case 30:break;case 21:break;default:Mn(n,t),On(t)}}function On(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(yy(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Zf(t);rc(t,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(In(g,""),r.flags&=-33);var T=Zf(t);rc(t,T,g);break;case 3:case 4:var C=r.stateNode.containerInfo,P=Zf(t);Jf(t,P,C);break;default:throw Error(a(161))}}catch(G){st(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function wy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;wy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ys(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)by(t,n.alternate,n),n=n.sibling}function aa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:tr(4,n,n.return),aa(n);break;case 1:zi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&gy(n,n.return,r),aa(n);break;case 27:wo(n.stateNode);case 26:case 5:zi(n,n.return),aa(n);break;case 22:n.memoizedState===null&&aa(n);break;case 30:aa(n);break;default:aa(n)}t=t.sibling}}function _s(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:_s(h,f,r),po(4,f);break;case 1:if(_s(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){st(l,l.return,P)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)ip(C[h],T)}catch(P){st(l,l.return,P)}}r&&g&64&&my(f),yo(f,f.return);break;case 27:_y(f);case 26:case 5:_s(h,f,r),r&&l===null&&g&4&&py(f),yo(f,f.return);break;case 12:_s(h,f,r);break;case 31:_s(h,f,r),r&&g&4&&Sy(h,f);break;case 13:_s(h,f,r),r&&g&4&&xy(h,f);break;case 22:f.memoizedState===null&&_s(h,f,r),yo(f,f.return);break;case 30:break;default:_s(h,f,r)}n=n.sibling}}function td(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&no(r))}function nd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&no(t))}function vi(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ry(t,n,r,l),n=n.sibling}function Ry(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:vi(t,n,r,l),h&2048&&po(9,n);break;case 1:vi(t,n,r,l);break;case 3:vi(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&no(t)));break;case 12:if(h&2048){vi(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){st(n,n.return,C)}}else vi(t,n,r,l);break;case 31:vi(t,n,r,l);break;case 13:vi(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?vi(t,n,r,l):_o(t,n):f._visibility&2?vi(t,n,r,l):(f._visibility|=2,Ya(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&td(g,n);break;case 24:vi(t,n,r,l),h&2048&&nd(n.alternate,n);break;default:vi(t,n,r,l)}}function Ya(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,T=r,C=l,P=g.flags;switch(g.tag){case 0:case 11:case 15:Ya(f,g,T,C,h),po(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?Ya(f,g,T,C,h):_o(f,g):(G._visibility|=2,Ya(f,g,T,C,h)),h&&P&2048&&td(g.alternate,g);break;case 24:Ya(f,g,T,C,h),h&&P&2048&&nd(g.alternate,g);break;default:Ya(f,g,T,C,h)}n=n.sibling}}function _o(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:_o(r,l),h&2048&&td(l.alternate,l);break;case 24:_o(r,l),h&2048&&nd(l.alternate,l);break;default:_o(r,l)}n=n.sibling}}var vo=8192;function Xa(t,n,r){if(t.subtreeFlags&vo)for(t=t.child;t!==null;)Cy(t,n,r),t=t.sibling}function Cy(t,n,r){switch(t.tag){case 26:Xa(t,n,r),t.flags&vo&&t.memoizedState!==null&&T1(r,_i,t.memoizedState,t.memoizedProps);break;case 5:Xa(t,n,r);break;case 3:case 4:var l=_i;_i=bc(t.stateNode.containerInfo),Xa(t,n,r),_i=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=vo,vo=16777216,Xa(t,n,r),vo=l):Xa(t,n,r));break;default:Xa(t,n,r)}}function Ny(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function bo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];en=l,Dy(l,t)}Ny(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Iy(t),t=t.sibling}function Iy(t){switch(t.tag){case 0:case 11:case 15:bo(t),t.flags&2048&&tr(9,t,t.return);break;case 3:bo(t);break;case 12:bo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,lc(t)):bo(t);break;default:bo(t)}}function lc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];en=l,Dy(l,t)}Ny(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:tr(8,n,n.return),lc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,lc(n));break;default:lc(n)}t=t.sibling}}function Dy(t,n){for(;en!==null;){var r=en;switch(r.tag){case 0:case 11:case 15:tr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:no(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,en=l;else e:for(r=t;en!==null;){l=en;var h=l.sibling,f=l.return;if(Ey(l),l===r){en=null;break e}if(h!==null){h.return=f,en=h;break e}en=f}}}var UT={getCacheForType:function(t){var n=un(zt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return un(zt).controller.signal}},LT=typeof WeakMap=="function"?WeakMap:Map,Je=0,ct=null,ke=null,Le=0,it=0,Kn=null,nr=!1,$a=!1,id=!1,vs=0,wt=0,ir=0,la=0,sd=0,Yn=0,Wa=0,Eo=null,Vn=null,rd=!1,oc=0,My=0,uc=1/0,cc=null,sr=null,Yt=0,rr=null,Za=null,bs=0,ad=0,ld=null,Oy=null,To=0,od=null;function Xn(){return(Je&2)!==0&&Le!==0?Le&-Le:H.T!==null?md():js()}function Vy(){if(Yn===0)if((Le&536870912)===0||Ge){var t=rn;rn<<=1,(rn&3932160)===0&&(rn=262144),Yn=t}else Yn=536870912;return t=Fn.current,t!==null&&(t.flags|=32),Yn}function kn(t,n,r){(t===ct&&(it===2||it===9)||t.cancelPendingCommit!==null)&&(Ja(t,0),ar(t,Le,Yn,!1)),dt(t,r),((Je&2)===0||t!==ct)&&(t===ct&&((Je&2)===0&&(la|=r),wt===4&&ar(t,Le,Yn,!1)),Bi(t))}function ky(t,n,r){if((Je&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||X(t,n),h=l?BT(t,n):cd(t,n,!0),f=l;do{if(h===0){$a&&!l&&ar(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!PT(r)){h=cd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var T=t;h=Eo;var C=T.current.memoizedState.isDehydrated;if(C&&(Ja(T,g).flags|=256),g=cd(T,g,!1),g!==2){if(id&&!C){T.errorRecoveryDisabledLanes|=f,la|=f,h=4;break e}f=Vn,Vn=h,f!==null&&(Vn===null?Vn=f:Vn.push.apply(Vn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ja(t,0),ar(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:ar(l,n,Yn,!nr);break e;case 2:Vn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=oc+300-sn(),10<h)){if(ar(l,n,Yn,!nr),Tn(l,0,!0)!==0)break e;bs=n,l.timeoutHandle=f0(jy.bind(null,l,r,Vn,cc,rd,n,Yn,la,Wa,nr,f,"Throttled",-0,0),h);break e}jy(l,r,Vn,cc,rd,n,Yn,la,Wa,nr,f,null,-0,0)}}break}while(!0);Bi(t)}function jy(t,n,r,l,h,f,g,T,C,P,G,Y,z,q){if(t.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fi},Cy(n,f,Y);var ce=(f&62914560)===f?oc-sn():(f&4194048)===f?My-sn():0;if(ce=S1(Y,ce),ce!==null){bs=f,t.cancelPendingCommit=ce(Gy.bind(null,t,n,f,r,l,h,g,T,C,G,Y,null,z,q)),ar(t,f,g,!P);return}}Gy(t,n,f,r,l,h,g,T,C)}function PT(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!Hn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ar(t,n,r,l){n&=~sd,n&=~la,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-Ue(h),g=1<<f;l[f]=-1,h&=~g}r!==0&&jt(t,r,n)}function hc(){return(Je&6)===0?(So(0),!1):!0}function ud(){if(ke!==null){if(it===0)var t=ke.return;else t=ke,us=Zr=null,Af(t),Ha=null,so=0,t=ke;for(;t!==null;)dy(t.alternate,t),t=t.return;ke=null}}function Ja(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,r1(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),bs=0,ud(),ct=t,ke=r=ls(t.current,null),Le=n,it=0,Kn=null,nr=!1,$a=X(t,n),id=!1,Wa=Yn=sd=la=ir=wt=0,Vn=Eo=null,rd=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-Ue(l),f=1<<h;n|=t[h],l&=~f}return vs=n,Mu(),r}function Uy(t,n){Ne=null,H.H=fo,n===qa||n===zu?(n=Jg(),it=3):n===df?(n=Jg(),it=4):it=n===Bf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Kn=n,ke===null&&(wt=1,ec(t,ni(n,t.current)))}function Ly(){var t=Fn.current;return t===null?!0:(Le&4194048)===Le?ai===null:(Le&62914560)===Le||(Le&536870912)!==0?t===ai:!1}function Py(){var t=H.H;return H.H=fo,t===null?fo:t}function zy(){var t=H.A;return H.A=UT,t}function fc(){wt=4,nr||(Le&4194048)!==Le&&Fn.current!==null||($a=!0),(ir&134217727)===0&&(la&134217727)===0||ct===null||ar(ct,Le,Yn,!1)}function cd(t,n,r){var l=Je;Je|=2;var h=Py(),f=zy();(ct!==t||Le!==n)&&(cc=null,Ja(t,n)),n=!1;var g=wt;e:do try{if(it!==0&&ke!==null){var T=ke,C=Kn;switch(it){case 8:ud(),g=6;break e;case 3:case 2:case 9:case 6:Fn.current===null&&(n=!0);var P=it;if(it=0,Kn=null,el(t,T,C,P),r&&$a){g=0;break e}break;default:P=it,it=0,Kn=null,el(t,T,C,P)}}zT(),g=wt;break}catch(G){Uy(t,G)}while(!0);return n&&t.shellSuspendCounter++,us=Zr=null,Je=l,H.H=h,H.A=f,ke===null&&(ct=null,Le=0,Mu()),g}function zT(){for(;ke!==null;)By(ke)}function BT(t,n){var r=Je;Je|=2;var l=Py(),h=zy();ct!==t||Le!==n?(cc=null,uc=sn()+500,Ja(t,n)):$a=X(t,n);e:do try{if(it!==0&&ke!==null){n=ke;var f=Kn;t:switch(it){case 1:it=0,Kn=null,el(t,n,f,1);break;case 2:case 9:if(Wg(f)){it=0,Kn=null,qy(n);break}n=function(){it!==2&&it!==9||ct!==t||(it=7),Bi(t)},f.then(n,n);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:Wg(f)?(it=0,Kn=null,qy(n)):(it=0,Kn=null,el(t,n,f,7));break;case 5:var g=null;switch(ke.tag){case 26:g=ke.memoizedState;case 5:case 27:var T=ke;if(g?R0(g):T.stateNode.complete){it=0,Kn=null;var C=T.sibling;if(C!==null)ke=C;else{var P=T.return;P!==null?(ke=P,dc(P)):ke=null}break t}}it=0,Kn=null,el(t,n,f,5);break;case 6:it=0,Kn=null,el(t,n,f,6);break;case 8:ud(),wt=6;break e;default:throw Error(a(462))}}qT();break}catch(G){Uy(t,G)}while(!0);return us=Zr=null,H.H=l,H.A=h,Je=r,ke!==null?0:(ct=null,Le=0,Mu(),wt)}function qT(){for(;ke!==null&&!Ol();)By(ke)}function By(t){var n=hy(t.alternate,t,vs);t.memoizedProps=t.pendingProps,n===null?dc(t):ke=n}function qy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=ry(r,n,n.pendingProps,n.type,void 0,Le);break;case 11:n=ry(r,n,n.pendingProps,n.type.render,n.ref,Le);break;case 5:Af(n);default:dy(r,n),n=ke=zg(n,vs),n=hy(r,n,vs)}t.memoizedProps=t.pendingProps,n===null?dc(t):ke=n}function el(t,n,r,l){us=Zr=null,Af(n),Ha=null,so=0;var h=n.return;try{if(IT(t,h,n,r,Le)){wt=1,ec(t,ni(r,t.current)),ke=null;return}}catch(f){if(h!==null)throw ke=h,f;wt=1,ec(t,ni(r,t.current)),ke=null;return}n.flags&32768?(Ge||l===1?t=!0:$a||(Le&536870912)!==0?t=!1:(nr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Fn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Hy(n,t)):dc(n)}function dc(t){var n=t;do{if((n.flags&32768)!==0){Hy(n,nr);return}t=n.return;var r=OT(n.alternate,n,vs);if(r!==null){ke=r;return}if(n=n.sibling,n!==null){ke=n;return}ke=n=t}while(n!==null);wt===0&&(wt=5)}function Hy(t,n){do{var r=VT(t.alternate,t);if(r!==null){r.flags&=32767,ke=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){ke=t;return}ke=t=r}while(t!==null);wt=6,ke=null}function Gy(t,n,r,l,h,f,g,T,C){t.cancelPendingCommit=null;do mc();while(Yt!==0);if((Je&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Wh,is(t,r,f,g,T,C),t===ct&&(ke=ct=null,Le=0),Za=n,rr=t,bs=r,ad=f,ld=h,Oy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,QT(xi,function(){return Xy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,h=te.p,te.p=2,g=Je,Je|=4;try{kT(t,n,r)}finally{Je=g,te.p=h,H.T=l}}Yt=1,Fy(),Qy(),Ky()}}function Fy(){if(Yt===1){Yt=0;var t=rr,n=Za,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var l=te.p;te.p=2;var h=Je;Je|=4;try{Ay(n,t);var f=Td,g=Dg(t.containerInfo),T=f.focusedElem,C=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&Ig(T.ownerDocument.documentElement,T)){if(C!==null&&Qh(T)){var P=C.start,G=C.end;if(G===void 0&&(G=P),"selectionStart"in T)T.selectionStart=P,T.selectionEnd=Math.min(G,T.value.length);else{var Y=T.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var q=z.getSelection(),ce=T.textContent.length,_e=Math.min(C.start,ce),ut=C.end===void 0?_e:Math.min(C.end,ce);!q.extend&&_e>ut&&(g=ut,ut=_e,_e=g);var k=Ng(T,_e),I=Ng(T,ut);if(k&&I&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==I.node||q.focusOffset!==I.offset)){var L=Y.createRange();L.setStart(k.node,k.offset),q.removeAllRanges(),_e>ut?(q.addRange(L),q.extend(I.node,I.offset)):(L.setEnd(I.node,I.offset),q.addRange(L))}}}}for(Y=[],q=T;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Y.length;T++){var Q=Y[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}wc=!!Ed,Td=Ed=null}finally{Je=h,te.p=l,H.T=r}}t.current=n,Yt=2}}function Qy(){if(Yt===2){Yt=0;var t=rr,n=Za,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var l=te.p;te.p=2;var h=Je;Je|=4;try{by(t,n.alternate,n)}finally{Je=h,te.p=l,H.T=r}}Yt=3}}function Ky(){if(Yt===4||Yt===3){Yt=0,va();var t=rr,n=Za,r=bs,l=Oy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Yt=5:(Yt=0,Za=rr=null,Yy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(sr=null),Sn(r),n=n.stateNode,oe&&typeof oe.onCommitFiberRoot=="function")try{oe.onCommitFiberRoot(se,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,h=te.p,te.p=2,H.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var T=l[g];f(T.value,{componentStack:T.stack})}}finally{H.T=n,te.p=h}}(bs&3)!==0&&mc(),Bi(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===od?To++:(To=0,od=t):To=0,So(0)}}function Yy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,no(n)))}function mc(){return Fy(),Qy(),Ky(),Xy()}function Xy(){if(Yt!==5)return!1;var t=rr,n=ad;ad=0;var r=Sn(bs),l=H.T,h=te.p;try{te.p=32>r?32:r,H.T=null,r=ld,ld=null;var f=rr,g=bs;if(Yt=0,Za=rr=null,bs=0,(Je&6)!==0)throw Error(a(331));var T=Je;if(Je|=4,Iy(f.current),Ry(f,f.current,g,r),Je=T,So(0,!1),oe&&typeof oe.onPostCommitFiberRoot=="function")try{oe.onPostCommitFiberRoot(se,f)}catch{}return!0}finally{te.p=h,H.T=l,Yy(t,n)}}function $y(t,n,r){n=ni(r,n),n=zf(t.stateNode,n,2),t=Zs(t,n,2),t!==null&&(dt(t,2),Bi(t))}function st(t,n,r){if(t.tag===3)$y(t,t,r);else for(;n!==null;){if(n.tag===3){$y(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(sr===null||!sr.has(l))){t=ni(r,t),r=Wp(2),l=Zs(n,r,2),l!==null&&(Zp(r,l,n,t),dt(l,2),Bi(l));break}}n=n.return}}function hd(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new LT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(id=!0,h.add(r),t=HT.bind(null,t,n,r),n.then(t,t))}function HT(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,ct===t&&(Le&r)===r&&(wt===4||wt===3&&(Le&62914560)===Le&&300>sn()-oc?(Je&2)===0&&Ja(t,0):sd|=r,Wa===Le&&(Wa=0)),Bi(t)}function Wy(t,n){n===0&&(n=an()),t=Xr(t,n),t!==null&&(dt(t,n),Bi(t))}function GT(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Wy(t,r)}function FT(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Wy(t,r)}function QT(t,n){return Ct(t,n)}var gc=null,tl=null,fd=!1,pc=!1,dd=!1,lr=0;function Bi(t){t!==tl&&t.next===null&&(tl===null?gc=tl=t:tl=tl.next=t),pc=!0,fd||(fd=!0,YT())}function So(t,n){if(!dd&&pc){dd=!0;do for(var r=!1,l=gc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-Ue(42|t)+1)-1,f&=h&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,t0(l,f))}else f=Le,f=Tn(l,l===ct?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||X(l,f)||(r=!0,t0(l,f));l=l.next}while(r);dd=!1}}function KT(){Zy()}function Zy(){pc=fd=!1;var t=0;lr!==0&&s1()&&(t=lr);for(var n=sn(),r=null,l=gc;l!==null;){var h=l.next,f=Jy(l,n);f===0?(l.next=null,r===null?gc=h:r.next=h,h===null&&(tl=r)):(r=l,(t!==0||(f&3)!==0)&&(pc=!0)),l=h}Yt!==0&&Yt!==5||So(t),lr!==0&&(lr=0)}function Jy(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-Ue(f),T=1<<g,C=h[g];C===-1?((T&r)===0||(T&l)!==0)&&(h[g]=Oe(T,n)):C<=n&&(t.expiredLanes|=T),f&=~T}if(n=ct,r=Le,r=Tn(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(it===2||it===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Si(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||X(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Si(l),Sn(r)){case 2:case 8:r=jr;break;case 32:r=xi;break;case 268435456:r=ks;break;default:r=xi}return l=e0.bind(null,t),r=Ct(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Si(l),t.callbackPriority=2,t.callbackNode=null,2}function e0(t,n){if(Yt!==0&&Yt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(mc()&&t.callbackNode!==r)return null;var l=Le;return l=Tn(t,t===ct?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(ky(t,l,n),Jy(t,sn()),t.callbackNode!=null&&t.callbackNode===r?e0.bind(null,t):null)}function t0(t,n){if(mc())return null;ky(t,n,!0)}function YT(){a1(function(){(Je&6)!==0?Ct(kr,KT):Zy()})}function md(){if(lr===0){var t=za;t===0&&(t=$e,$e<<=1,($e&261888)===0&&($e=256)),lr=t}return lr}function n0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Aa(""+t)}function i0(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function XT(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=n0((h[Zt]||null).action),g=l.submitter;g&&(n=(n=g[Zt]||null)?n0(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new Vi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(lr!==0){var C=g?i0(h,g):new FormData(h);Vf(r,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(T.preventDefault(),C=g?i0(h,g):new FormData(h),Vf(r,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var gd=0;gd<$h.length;gd++){var pd=$h[gd],$T=pd.toLowerCase(),WT=pd[0].toUpperCase()+pd.slice(1);yi($T,"on"+WT)}yi(Vg,"onAnimationEnd"),yi(kg,"onAnimationIteration"),yi(jg,"onAnimationStart"),yi("dblclick","onDoubleClick"),yi("focusin","onFocus"),yi("focusout","onBlur"),yi(dT,"onTransitionRun"),yi(mT,"onTransitionStart"),yi(gT,"onTransitionCancel"),yi(Ug,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xo));function s0(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var T=l[g],C=T.instance,P=T.currentTarget;if(T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=P;try{f(h)}catch(G){Du(G)}h.currentTarget=null,f=C}else for(g=0;g<l.length;g++){if(T=l[g],C=T.instance,P=T.currentTarget,T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=P;try{f(h)}catch(G){Du(G)}h.currentTarget=null,f=C}}}}function je(t,n){var r=n[ba];r===void 0&&(r=n[ba]=new Set);var l=t+"__bubble";r.has(l)||(r0(n,t,2,!1),r.add(l))}function yd(t,n,r){var l=0;n&&(l|=4),r0(r,t,l,n)}var yc="_reactListening"+Math.random().toString(36).slice(2);function _d(t){if(!t[yc]){t[yc]=!0,kl.forEach(function(r){r!=="selectionchange"&&(ZT.has(r)||yd(r,!1,t),yd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[yc]||(n[yc]=!0,yd("selectionchange",!1,n))}}function r0(t,n,r,l){switch(V0(n)){case 2:var h=w1;break;case 8:h=R1;break;default:h=Od}r=h.bind(null,n,r,t),h=void 0,!Br||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function vd(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var T=l.stateNode.containerInfo;if(T===h)break;if(g===4)for(g=l.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;T!==null;){if(g=Ri(T),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){l=f=g;continue e}T=T.parentNode}}l=l.return}qs(function(){var P=f,G=Zn(r),Y=[];e:{var z=Lg.get(t);if(z!==void 0){var q=Vi,ce=t;switch(t){case"keypress":if(Hr(r)===0)break e;case"keydown":case"keyup":q=Cu;break;case"focusin":ce="focus",q=Fr;break;case"focusout":ce="blur",q=Fr;break;case"beforeblur":case"afterblur":q=Fr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Yl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=vu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Vg:case kg:case jg:q=Eu;break;case Ug:q=S;break;case"scroll":case"scrollend":q=Kl;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=Tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=as;break;case"toggle":case"beforetoggle":q=Ce}var _e=(n&4)!==0,ut=!_e&&(t==="scroll"||t==="scrollend"),k=_e?z!==null?z+"Capture":null:z;_e=[];for(var I=P,L;I!==null;){var Q=I;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||k===null||(Q=di(I,k),Q!=null&&_e.push(Ao(I,Q,L))),ut)break;I=I.return}0<_e.length&&(z=new q(z,ce,null,r,G),Y.push({event:z,listeners:_e}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",z&&r!==Gl&&(ce=r.relatedTarget||r.fromElement)&&(Ri(ce)||ce[Ai]))break e;if((q||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,q?(ce=r.relatedTarget||r.toElement,q=P,ce=ce?Ri(ce):null,ce!==null&&(ut=c(ce),_e=ce.tag,ce!==ut||_e!==5&&_e!==27&&_e!==6)&&(ce=null)):(q=null,ce=P),q!==ce)){if(_e=Yl,Q="onMouseLeave",k="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(_e=as,Q="onPointerLeave",k="onPointerEnter",I="pointer"),ut=q==null?z:Bn(q),L=ce==null?z:Bn(ce),z=new _e(Q,I+"leave",q,r,G),z.target=ut,z.relatedTarget=L,Q=null,Ri(G)===P&&(_e=new _e(k,I+"enter",ce,r,G),_e.target=L,_e.relatedTarget=ut,Q=_e),ut=Q,q&&ce)t:{for(_e=JT,k=q,I=ce,L=0,Q=k;Q;Q=_e(Q))L++;Q=0;for(var ge=I;ge;ge=_e(ge))Q++;for(;0<L-Q;)k=_e(k),L--;for(;0<Q-L;)I=_e(I),Q--;for(;L--;){if(k===I||I!==null&&k===I.alternate){_e=k;break t}k=_e(k),I=_e(I)}_e=null}else _e=null;q!==null&&a0(Y,z,q,_e,!1),ce!==null&&ut!==null&&a0(Y,ut,ce,_e,!0)}}e:{if(z=P?Bn(P):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var Ye=Sg;else if(Eg(z))if(xg)Ye=cT;else{Ye=oT;var he=lT}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&xa(P.elementType)&&(Ye=Sg):Ye=uT;if(Ye&&(Ye=Ye(t,P))){Tg(Y,Ye,r,G);break e}he&&he(t,z,P),t==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&Bl(z,"number",z.value)}switch(he=P?Bn(P):window,t){case"focusin":(Eg(he)||he.contentEditable==="true")&&(Ma=he,Kh=P,Jl=null);break;case"focusout":Jl=Kh=Ma=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,Mg(Y,r,G);break;case"selectionchange":if(fT)break;case"keydown":case"keyup":Mg(Y,r,G)}var Ie;if(Ze)e:{switch(t){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Da?Qr(t,r)&&(Pe="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Pe="onCompositionStart");Pe&&(Ui&&r.locale!=="ko"&&(Da||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Da&&(Ie=Ql()):(Oi=G,Fl="value"in Oi?Oi.value:Oi.textContent,Da=!0)),he=_c(P,Pe),0<he.length&&(Pe=new ji(Pe,t,null,r,G),Y.push({event:Pe,listeners:he}),Ie?Pe.data=Ie:(Ie=Ia(r),Ie!==null&&(Pe.data=Ie)))),(Ie=ei?iT(t,r):sT(t,r))&&(Pe=_c(P,"onBeforeInput"),0<Pe.length&&(he=new ji("onBeforeInput","beforeinput",null,r,G),Y.push({event:he,listeners:Pe}),he.data=Ie)),XT(Y,t,P,r,G)}s0(Y,n)})}function Ao(t,n,r){return{instance:t,listener:n,currentTarget:r}}function _c(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=di(t,r),h!=null&&l.unshift(Ao(t,h,f)),h=di(t,n),h!=null&&l.push(Ao(t,h,f))),t.tag===3)return l;t=t.return}return[]}function JT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function a0(t,n,r,l,h){for(var f=n._reactName,g=[];r!==null&&r!==l;){var T=r,C=T.alternate,P=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||P===null||(C=P,h?(P=di(r,f),P!=null&&g.unshift(Ao(r,P,C))):h||(P=di(r,f),P!=null&&g.push(Ao(r,P,C)))),r=r.return}g.length!==0&&t.push({event:n,listeners:g})}var e1=/\r\n?/g,t1=/\u0000|\uFFFD/g;function l0(t){return(typeof t=="string"?t:""+t).replace(e1,`
`).replace(t1,"")}function o0(t,n){return n=l0(n),l0(t)===n}function ot(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||In(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&In(t,""+l);break;case"className":qn(t,"class",l);break;case"tabIndex":qn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":qn(t,r,l);break;case"style":Hl(t,l,f);break;case"data":if(n!=="object"){qn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Aa(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&ot(t,n,"name",h.name,h,null),ot(t,n,"formEncType",h.formEncType,h,null),ot(t,n,"formMethod",h.formMethod,h,null),ot(t,n,"formTarget",h.formTarget,h,null)):(ot(t,n,"encType",h.encType,h,null),ot(t,n,"method",h.method,h,null),ot(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Aa(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=fi);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Aa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":je("beforetoggle",t),je("toggle",t),Ta(t,"popover",l);break;case"xlinkActuate":Pt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ta(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=_u.get(r)||r,Ta(t,r,l))}}function bd(t,n,r,l,h,f){switch(r){case"style":Hl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?In(t,l):(typeof l=="number"||typeof l=="bigint")&&In(t,""+l);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"onClick":l!=null&&(t.onclick=fi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jl.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[Zt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Ta(t,r,l)}}}function hn(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",t),je("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ot(t,n,f,g,r,null)}}h&&ot(t,n,"srcSet",r.srcSet,r,null),l&&ot(t,n,"src",r.src,r,null);return;case"input":je("invalid",t);var T=f=g=h=null,C=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var G=r[l];if(G!=null)switch(l){case"name":h=G;break;case"type":g=G;break;case"checked":C=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:ot(t,n,l,G,r,null)}}gu(t,f,T,C,P,g,h,!1);return;case"select":je("invalid",t),l=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":l=T;default:ot(t,n,h,T,r,null)}n=f,r=g,t.multiple=!!l,n!=null?Ls(t,!!l,n,!1):r!=null&&Ls(t,!!l,r,!0);return;case"textarea":je("invalid",t),f=h=l=null;for(g in r)if(r.hasOwnProperty(g)&&(T=r[g],T!=null))switch(g){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:ot(t,n,g,T,r,null)}Ps(t,l,h,f);return;case"option":for(C in r)if(r.hasOwnProperty(C)&&(l=r[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ot(t,n,C,l,r,null)}return;case"dialog":je("beforetoggle",t),je("toggle",t),je("cancel",t),je("close",t);break;case"iframe":case"object":je("load",t);break;case"video":case"audio":for(l=0;l<xo.length;l++)je(xo[l],t);break;case"image":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"embed":case"source":case"link":je("error",t),je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ot(t,n,P,l,r,null)}return;default:if(xa(n)){for(G in r)r.hasOwnProperty(G)&&(l=r[G],l!==void 0&&bd(t,n,G,l,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(l=r[T],l!=null&&ot(t,n,T,l,r,null))}function n1(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,T=null,C=null,P=null,G=null;for(q in r){var Y=r[q];if(r.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=Y;default:l.hasOwnProperty(q)||ot(t,n,q,null,l,Y)}}for(var z in l){var q=l[z];if(Y=r[z],l.hasOwnProperty(z)&&(q!=null||Y!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":P=q;break;case"defaultChecked":G=q;break;case"value":g=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Y&&ot(t,n,z,q,l,Y)}}Sa(t,g,T,C,P,G,f,h);return;case"select":q=g=T=z=null;for(f in r)if(C=r[f],r.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":q=C;default:l.hasOwnProperty(f)||ot(t,n,f,null,l,C)}for(h in l)if(f=l[h],C=r[h],l.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":z=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==C&&ot(t,n,h,f,l,C)}n=T,r=g,l=q,z!=null?Ls(t,!!r,z,!1):!!l!=!!r&&(n!=null?Ls(t,!!r,n,!0):Ls(t,!!r,r?[]:"",!1));return;case"textarea":q=z=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ot(t,n,T,null,l,h)}for(g in l)if(h=l[g],f=r[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ot(t,n,g,h,l,f)}pu(t,z,q);return;case"option":for(var ce in r)if(z=r[ce],r.hasOwnProperty(ce)&&z!=null&&!l.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:ot(t,n,ce,null,l,z)}for(C in l)if(z=l[C],q=r[C],l.hasOwnProperty(C)&&z!==q&&(z!=null||q!=null))switch(C){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:ot(t,n,C,z,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in r)z=r[_e],r.hasOwnProperty(_e)&&z!=null&&!l.hasOwnProperty(_e)&&ot(t,n,_e,null,l,z);for(P in l)if(z=l[P],q=r[P],l.hasOwnProperty(P)&&z!==q&&(z!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:ot(t,n,P,z,l,q)}return;default:if(xa(n)){for(var ut in r)z=r[ut],r.hasOwnProperty(ut)&&z!==void 0&&!l.hasOwnProperty(ut)&&bd(t,n,ut,void 0,l,z);for(G in l)z=l[G],q=r[G],!l.hasOwnProperty(G)||z===q||z===void 0&&q===void 0||bd(t,n,G,z,l,q);return}}for(var k in r)z=r[k],r.hasOwnProperty(k)&&z!=null&&!l.hasOwnProperty(k)&&ot(t,n,k,null,l,z);for(Y in l)z=l[Y],q=r[Y],!l.hasOwnProperty(Y)||z===q||z==null&&q==null||ot(t,n,Y,z,l,q)}function u0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function i1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,g=h.initiatorType,T=h.duration;if(f&&T&&u0(g)){for(g=0,T=h.responseEnd,l+=1;l<r.length;l++){var C=r[l],P=C.startTime;if(P>T)break;var G=C.transferSize,Y=C.initiatorType;G&&u0(Y)&&(C=C.responseEnd,g+=G*(C<T?1:(T-P)/(C-P)))}if(--l,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ed=null,Td=null;function vc(t){return t.nodeType===9?t:t.ownerDocument}function c0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function h0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Sd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var xd=null;function s1(){var t=window.event;return t&&t.type==="popstate"?t===xd?!1:(xd=t,!0):(xd=null,!1)}var f0=typeof setTimeout=="function"?setTimeout:void 0,r1=typeof clearTimeout=="function"?clearTimeout:void 0,d0=typeof Promise=="function"?Promise:void 0,a1=typeof queueMicrotask=="function"?queueMicrotask:typeof d0<"u"?function(t){return d0.resolve(null).then(t).catch(l1)}:f0;function l1(t){setTimeout(function(){throw t})}function or(t){return t==="head"}function m0(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),rl(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")wo(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,wo(r);for(var f=r.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[wi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&wo(t.ownerDocument.body);r=h}while(r);rl(n)}function g0(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function Ad(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Ad(r),Ea(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function o1(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[wi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=li(t.nextSibling),t===null)break}return null}function u1(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=li(t.nextSibling),t===null))return null;return t}function p0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=li(t.nextSibling),t===null))return null;return t}function wd(t){return t.data==="$?"||t.data==="$~"}function Rd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function c1(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function li(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Cd=null;function y0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return li(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function _0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function v0(t,n,r){switch(n=vc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function wo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ea(t)}var oi=new Map,b0=new Set;function bc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Es=te.d;te.d={f:h1,r:f1,D:d1,C:m1,L:g1,m:p1,X:_1,S:y1,M:v1};function h1(){var t=Es.f(),n=hc();return t||n}function f1(t){var n=Wn(t);n!==null&&n.tag===5&&n.type==="form"?Up(n):Es.r(t)}var nl=typeof document>"u"?null:document;function E0(t,n,r){var l=nl;if(l&&typeof n=="string"&&n){var h=Nn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),b0.has(h)||(b0.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),hn(n,"link",t),Lt(n),l.head.appendChild(n)))}}function d1(t){Es.D(t),E0("dns-prefetch",t,null)}function m1(t,n){Es.C(t,n),E0("preconnect",t,n)}function g1(t,n,r){Es.L(t,n,r);var l=nl;if(l&&t&&n){var h='link[rel="preload"][as="'+Nn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+Nn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+Nn(r.imageSizes)+'"]')):h+='[href="'+Nn(t)+'"]';var f=h;switch(n){case"style":f=il(t);break;case"script":f=sl(t)}oi.has(f)||(t=x({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),oi.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Ro(f))||n==="script"&&l.querySelector(Co(f))||(n=l.createElement("link"),hn(n,"link",t),Lt(n),l.head.appendChild(n)))}}function p1(t,n){Es.m(t,n);var r=nl;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Nn(l)+'"][href="'+Nn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=sl(t)}if(!oi.has(f)&&(t=x({rel:"modulepreload",href:t},n),oi.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Co(f)))return}l=r.createElement("link"),hn(l,"link",t),Lt(l),r.head.appendChild(l)}}}function y1(t,n,r){Es.S(t,n,r);var l=nl;if(l&&t){var h=Ci(l).hoistableStyles,f=il(t);n=n||"default";var g=h.get(f);if(!g){var T={loading:0,preload:null};if(g=l.querySelector(Ro(f)))T.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":n},r),(r=oi.get(f))&&Nd(t,r);var C=g=l.createElement("link");Lt(C),hn(C,"link",t),C._p=new Promise(function(P,G){C.onload=P,C.onerror=G}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ec(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:T},h.set(f,g)}}}function _1(t,n){Es.X(t,n);var r=nl;if(r&&t){var l=Ci(r).hoistableScripts,h=sl(t),f=l.get(h);f||(f=r.querySelector(Co(h)),f||(t=x({src:t,async:!0},n),(n=oi.get(h))&&Id(t,n),f=r.createElement("script"),Lt(f),hn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function v1(t,n){Es.M(t,n);var r=nl;if(r&&t){var l=Ci(r).hoistableScripts,h=sl(t),f=l.get(h);f||(f=r.querySelector(Co(h)),f||(t=x({src:t,async:!0,type:"module"},n),(n=oi.get(h))&&Id(t,n),f=r.createElement("script"),Lt(f),hn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function T0(t,n,r,l){var h=(h=Se.current)?bc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=il(r.href),r=Ci(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=il(r.href);var f=Ci(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(Ro(t)))&&!f._p&&(g.instance=f,g.state.loading=5),oi.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},oi.set(t,r),f||b1(h,t,r,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=sl(r),r=Ci(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function il(t){return'href="'+Nn(t)+'"'}function Ro(t){return'link[rel="stylesheet"]['+t+"]"}function S0(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function b1(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),hn(n,"link",r),Lt(n),t.head.appendChild(n))}function sl(t){return'[src="'+Nn(t)+'"]'}function Co(t){return"script[async]"+t}function x0(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Nn(r.href)+'"]');if(l)return n.instance=l,Lt(l),l;var h=x({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Lt(l),hn(l,"style",h),Ec(l,r.precedence,t),n.instance=l;case"stylesheet":h=il(r.href);var f=t.querySelector(Ro(h));if(f)return n.state.loading|=4,n.instance=f,Lt(f),f;l=S0(r),(h=oi.get(h))&&Nd(l,h),f=(t.ownerDocument||t).createElement("link"),Lt(f);var g=f;return g._p=new Promise(function(T,C){g.onload=T,g.onerror=C}),hn(f,"link",l),n.state.loading|=4,Ec(f,r.precedence,t),n.instance=f;case"script":return f=sl(r.src),(h=t.querySelector(Co(f)))?(n.instance=h,Lt(h),h):(l=r,(h=oi.get(f))&&(l=x({},r),Id(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Lt(h),hn(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ec(l,r.precedence,t));return n.instance}function Ec(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var T=l[g];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Nd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Id(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Tc=null;function A0(t,n,r){if(Tc===null){var l=new Map,h=Tc=new Map;h.set(r,l)}else h=Tc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[wi]||f[Ut]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var T=l.get(g);T?T.push(f):l.set(g,[f])}}return l}function w0(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function E1(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function R0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function T1(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=il(l.href),f=n.querySelector(Ro(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Sc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Lt(f);return}f=n.ownerDocument||n,l=S0(l),(h=oi.get(h))&&Nd(l,h),f=f.createElement("link"),Lt(f);var g=f;g._p=new Promise(function(T,C){g.onload=T,g.onerror=C}),hn(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Sc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Dd=0;function S1(t,n){return t.stylesheets&&t.count===0&&Ac(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&Ac(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Dd===0&&(Dd=62500*i1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ac(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Dd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Sc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ac(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var xc=null;function Ac(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,xc=new Map,n.forEach(x1,t),xc=null,Sc.call(t))}function x1(t,n){if(!(n.state.loading&4)){var r=xc.get(t);if(r)var l=r.get(null);else{r=new Map,xc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),l=g)}l&&r.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||l,f===l&&r.set(null,h),r.set(g,h),this.count++,l=Sc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var No={$$typeof:Ee,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function A1(t,n,r,l,h,f,g,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.hiddenUpdates=gt(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function C0(t,n,r,l,h,f,g,T,C,P,G,Y){return t=new A1(t,n,r,g,C,P,G,Y,T),n=1,f===!0&&(n|=24),f=Gn(3,null,null,n),t.current=f,f.stateNode=t,n=cf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},mf(f),t}function N0(t){return t?(t=ka,t):ka}function I0(t,n,r,l,h,f){h=N0(h),l.context===null?l.context=h:l.pendingContext=h,l=Ws(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Zs(t,l,n),r!==null&&(kn(r,t,n),ao(r,t,n))}function D0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Md(t,n){D0(t,n),(t=t.alternate)&&D0(t,n)}function M0(t){if(t.tag===13||t.tag===31){var n=Xr(t,67108864);n!==null&&kn(n,t,67108864),Md(t,67108864)}}function O0(t){if(t.tag===13||t.tag===31){var n=Xn();n=zn(n);var r=Xr(t,n);r!==null&&kn(r,t,n),Md(t,n)}}var wc=!0;function w1(t,n,r,l){var h=H.T;H.T=null;var f=te.p;try{te.p=2,Od(t,n,r,l)}finally{te.p=f,H.T=h}}function R1(t,n,r,l){var h=H.T;H.T=null;var f=te.p;try{te.p=8,Od(t,n,r,l)}finally{te.p=f,H.T=h}}function Od(t,n,r,l){if(wc){var h=Vd(l);if(h===null)vd(t,n,l,Rc,r),k0(t,l);else if(N1(h,t,n,r,l))l.stopPropagation();else if(k0(t,l),n&4&&-1<C1.indexOf(t)){for(;h!==null;){var f=Wn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=kt(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var C=1<<31-Ue(g);T.entanglements[1]|=C,g&=~C}Bi(f),(Je&6)===0&&(uc=sn()+500,So(0))}}break;case 31:case 13:T=Xr(f,2),T!==null&&kn(T,f,2),hc(),Md(f,2)}if(f=Vd(l),f===null&&vd(t,n,l,Rc,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else vd(t,n,l,null,r)}}function Vd(t){return t=Zn(t),kd(t)}var Rc=null;function kd(t){if(Rc=null,t=Ri(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=y(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Rc=t,null}function V0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ns()){case kr:return 2;case jr:return 8;case xi:case Vl:return 32;case ks:return 268435456;default:return 32}default:return 32}}var jd=!1,ur=null,cr=null,hr=null,Io=new Map,Do=new Map,fr=[],C1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function k0(t,n){switch(t){case"focusin":case"focusout":ur=null;break;case"dragenter":case"dragleave":cr=null;break;case"mouseover":case"mouseout":hr=null;break;case"pointerover":case"pointerout":Io.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Do.delete(n.pointerId)}}function Mo(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Wn(n),n!==null&&M0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function N1(t,n,r,l,h){switch(n){case"focusin":return ur=Mo(ur,t,n,r,l,h),!0;case"dragenter":return cr=Mo(cr,t,n,r,l,h),!0;case"mouseover":return hr=Mo(hr,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return Io.set(f,Mo(Io.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Do.set(f,Mo(Do.get(f)||null,t,n,r,l,h)),!0}return!1}function j0(t){var n=Ri(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,xn(t.priority,function(){O0(r)});return}}else if(n===31){if(n=y(r),n!==null){t.blockedOn=n,xn(t.priority,function(){O0(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Vd(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Gl=l,r.target.dispatchEvent(l),Gl=null}else return n=Wn(r),n!==null&&M0(n),t.blockedOn=r,!1;n.shift()}return!0}function U0(t,n,r){Cc(t)&&r.delete(n)}function I1(){jd=!1,ur!==null&&Cc(ur)&&(ur=null),cr!==null&&Cc(cr)&&(cr=null),hr!==null&&Cc(hr)&&(hr=null),Io.forEach(U0),Do.forEach(U0)}function Nc(t,n){t.blockedOn===n&&(t.blockedOn=null,jd||(jd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,I1)))}var Ic=null;function L0(t){Ic!==t&&(Ic=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ic===t&&(Ic=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(kd(l||r)===null)continue;break}var f=Wn(r);f!==null&&(t.splice(n,3),n-=3,Vf(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function rl(t){function n(C){return Nc(C,t)}ur!==null&&Nc(ur,t),cr!==null&&Nc(cr,t),hr!==null&&Nc(hr,t),Io.forEach(n),Do.forEach(n);for(var r=0;r<fr.length;r++){var l=fr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<fr.length&&(r=fr[0],r.blockedOn===null);)j0(r),r.blockedOn===null&&fr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],g=h[Zt]||null;if(typeof f=="function")g||L0(r);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Zt]||null)T=g.formAction;else if(kd(h)!==null)continue}else T=g.action;typeof T=="function"?r[l+1]=T:(r.splice(l,3),l-=3),L0(r)}}}function P0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ud(t){this._internalRoot=t}Dc.prototype.render=Ud.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Xn();I0(r,l,t,n,null,null)},Dc.prototype.unmount=Ud.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;I0(t.current,2,null,t,null,null),hc(),n[Ai]=null}};function Dc(t){this._internalRoot=t}Dc.prototype.unstable_scheduleHydration=function(t){if(t){var n=js();t={blockedOn:null,target:t,priority:n};for(var r=0;r<fr.length&&n!==0&&n<fr[r].priority;r++);fr.splice(r,0,t),r===0&&j0(t)}};var z0=e.version;if(z0!=="19.2.0")throw Error(a(527,z0,"19.2.0"));te.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=v(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var D1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mc.isDisabled&&Mc.supportsFiber)try{se=Mc.inject(D1),oe=Mc}catch{}}return Vo.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",h=Kp,f=Yp,g=Xp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=C0(t,1,!1,null,null,r,l,null,h,f,g,P0),t[Ai]=n.current,_d(t),new Ud(n)},Vo.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,h="",f=Kp,g=Yp,T=Xp,C=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(C=r.formState)),n=C0(t,1,!0,n,r??null,l,h,C,f,g,T,P0),n.context=N0(null),r=n.current,l=Xn(),l=zn(l),h=Ws(l),h.callback=null,Zs(r,h,l),r=l,n.current.lanes=r,dt(n,r),Bi(n),t[Ai]=n.current,_d(t),new Dc(n)},Vo.version="19.2.0",Vo}var $0;function H1(){if($0)return zd.exports;$0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),zd.exports=q1(),zd.exports}var G1=H1();const F1=()=>{};var W0={};const Dv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},Q1=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],y=s[i++],_=((o&7)<<18|(c&63)<<12|(d&63)<<6|y&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Mv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,y=d?s[o+1]:0,_=o+2<s.length,v=_?s[o+2]:0,E=c>>2,x=(c&3)<<4|y>>4;let O=(y&15)<<2|v>>6,F=v&63;_||(F=64,d||(O=64)),a.push(i[E],i[x],i[O],i[F])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Dv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Q1(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],y=o<s.length?i[s.charAt(o)]:0;++o;const v=o<s.length?i[s.charAt(o)]:64;++o;const x=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||y==null||v==null||x==null)throw new K1;const O=c<<2|y>>4;if(a.push(O),v!==64){const F=y<<4&240|v>>2;if(a.push(F),x!==64){const ee=v<<6&192|x;a.push(ee)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class K1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Y1=function(s){const e=Dv(s);return Mv.encodeByteArray(e,!0)},nh=function(s){return Y1(s).replace(/\./g,"")},Ov=function(s){try{return Mv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function X1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const $1=()=>X1().__FIREBASE_DEFAULTS__,W1=()=>{if(typeof process>"u"||typeof W0>"u")return;const s=W0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Z1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Ov(s[1]);return e&&JSON.parse(e)},Th=()=>{try{return F1()||$1()||W1()||Z1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Vv=s=>Th()?.emulatorHosts?.[s],J1=s=>{const e=Vv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},kv=()=>Th()?.config,jv=s=>Th()?.[`_${s}`];class eS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function wl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Uv(s){return(await fetch(s,{credentials:"include"})).ok}function tS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[nh(JSON.stringify(i)),nh(JSON.stringify(d)),""].join(".")}const Po={};function nS(){const s={prod:[],emulator:[]};for(const e of Object.keys(Po))Po[e]?s.emulator.push(e):s.prod.push(e);return s}function iS(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let Z0=!1;function Lv(s,e){if(typeof window>"u"||typeof document>"u"||!wl(window.location.host)||Po[s]===e||Po[s]||Z0)return;Po[s]=e;function i(O){return`__firebase__banner__${O}`}const a="__firebase__banner",c=nS().prod.length>0;function d(){const O=document.getElementById(a);O&&O.remove()}function y(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function _(O,F){O.setAttribute("width","24"),O.setAttribute("id",F),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function v(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{Z0=!0,d()},O}function E(O,F){O.setAttribute("id",F),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function x(){const O=iS(a),F=i("text"),ee=document.getElementById(F)||document.createElement("span"),re=i("learnmore"),J=document.getElementById(re)||document.createElement("a"),pe=i("preprendIcon"),Re=document.getElementById(pe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const Ee=O.element;y(Ee),E(J,re);const tt=v();_(Re,pe),Ee.append(Re,ee,J,tt),document.body.appendChild(Ee)}c?(ee.innerText="Preview backend disconnected.",Re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ee.innerText="Preview backend running in this workspace."),ee.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function rS(){const s=Th()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function oS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uS(){const s=En();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function cS(){return!rS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hS(){try{return typeof indexedDB=="object"}catch{return!1}}function fS(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const dS="FirebaseError";class Ds extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=dS,Object.setPrototypeOf(this,Ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jo.prototype.create)}}class Jo{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?mS(c,a):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new Ds(o,y,a)}}function mS(s,e){return s.replace(gS,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const gS=/\{\$([^}]+)}/g;function pS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function wr(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=s[o],d=e[o];if(J0(c)&&J0(d)){if(!wr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function J0(s){return s!==null&&typeof s=="object"}function eu(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function yS(s,e){const i=new _S(s,e);return i.subscribe.bind(i)}class _S{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");vS(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Gd),o.error===void 0&&(o.error=Gd),o.complete===void 0&&(o.complete=Gd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Gd(){}function Cn(s){return s&&s._delegate?s._delegate:s}class fa{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const oa="[DEFAULT]";class bS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new eS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TS(e))try{this.getOrInitializeService({instanceIdentifier:oa})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=oa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oa){return this.instances.has(e)}getOptions(e=oa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);a===y&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:ES(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=oa){return this.component?this.component.multipleInstances?e:oa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ES(s){return s===oa?void 0:s}function TS(s){return s.instantiationMode==="EAGER"}class SS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new bS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var ze;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(ze||(ze={}));const xS={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},AS=ze.INFO,wS={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},RS=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=wS[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mm{constructor(e){this.name=e,this._logLevel=AS,this._logHandler=RS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const CS=(s,e)=>e.some(i=>s instanceof i);let e_,t_;function NS(){return e_||(e_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IS(){return t_||(t_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pv=new WeakMap,sm=new WeakMap,zv=new WeakMap,Fd=new WeakMap,Om=new WeakMap;function DS(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Er(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Pv.set(i,s)}).catch(()=>{}),Om.set(e,s),e}function MS(s){if(sm.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});sm.set(s,e)}let rm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return sm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||zv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Er(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function OS(s){rm=s(rm)}function VS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Qd(this),e,...i);return zv.set(a,e.sort?e.sort():[e]),Er(a)}:IS().includes(s)?function(...e){return s.apply(Qd(this),e),Er(Pv.get(this))}:function(...e){return Er(s.apply(Qd(this),e))}}function kS(s){return typeof s=="function"?VS(s):(s instanceof IDBTransaction&&MS(s),CS(s,NS())?new Proxy(s,rm):s)}function Er(s){if(s instanceof IDBRequest)return DS(s);if(Fd.has(s))return Fd.get(s);const e=kS(s);return e!==s&&(Fd.set(s,e),Om.set(e,s)),e}const Qd=s=>Om.get(s);function jS(s,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),y=Er(d);return a&&d.addEventListener("upgradeneeded",_=>{a(Er(d.result),_.oldVersion,_.newVersion,Er(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),y.then(_=>{c&&_.addEventListener("close",()=>c()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),y}const US=["get","getKey","getAll","getAllKeys","count"],LS=["put","add","delete","clear"],Kd=new Map;function n_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Kd.get(e))return Kd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=LS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||US.includes(i)))return;const c=async function(d,...y){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(y.shift())),(await Promise.all([v[i](...y),o&&_.done]))[0]};return Kd.set(e,c),c}OS(s=>({...s,get:(e,i,a)=>n_(e,i)||s.get(e,i,a),has:(e,i)=>!!n_(e,i)||s.has(e,i)}));class PS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(zS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function zS(s){return s.getComponent()?.type==="VERSION"}const am="@firebase/app",i_="0.14.6";const As=new Mm("@firebase/app"),BS="@firebase/app-compat",qS="@firebase/analytics-compat",HS="@firebase/analytics",GS="@firebase/app-check-compat",FS="@firebase/app-check",QS="@firebase/auth",KS="@firebase/auth-compat",YS="@firebase/database",XS="@firebase/data-connect",$S="@firebase/database-compat",WS="@firebase/functions",ZS="@firebase/functions-compat",JS="@firebase/installations",ex="@firebase/installations-compat",tx="@firebase/messaging",nx="@firebase/messaging-compat",ix="@firebase/performance",sx="@firebase/performance-compat",rx="@firebase/remote-config",ax="@firebase/remote-config-compat",lx="@firebase/storage",ox="@firebase/storage-compat",ux="@firebase/firestore",cx="@firebase/ai",hx="@firebase/firestore-compat",fx="firebase",dx="12.6.0";const lm="[DEFAULT]",mx={[am]:"fire-core",[BS]:"fire-core-compat",[HS]:"fire-analytics",[qS]:"fire-analytics-compat",[FS]:"fire-app-check",[GS]:"fire-app-check-compat",[QS]:"fire-auth",[KS]:"fire-auth-compat",[YS]:"fire-rtdb",[XS]:"fire-data-connect",[$S]:"fire-rtdb-compat",[WS]:"fire-fn",[ZS]:"fire-fn-compat",[JS]:"fire-iid",[ex]:"fire-iid-compat",[tx]:"fire-fcm",[nx]:"fire-fcm-compat",[ix]:"fire-perf",[sx]:"fire-perf-compat",[rx]:"fire-rc",[ax]:"fire-rc-compat",[lx]:"fire-gcs",[ox]:"fire-gcs-compat",[ux]:"fire-fst",[hx]:"fire-fst-compat",[cx]:"fire-vertex","fire-js":"fire-js",[fx]:"fire-js-all"};const ih=new Map,gx=new Map,om=new Map;function s_(s,e){try{s.container.addComponent(e)}catch(i){As.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function _l(s){const e=s.name;if(om.has(e))return As.debug(`There were multiple attempts to register component ${e}.`),!1;om.set(e,s);for(const i of ih.values())s_(i,s);for(const i of gx.values())s_(i,s);return!0}function Vm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function ui(s){return s==null?!1:s.settings!==void 0}const px={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tr=new Jo("app","Firebase",px);class yx{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new fa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}}const Rl=dx;function Bv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:lm,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Tr.create("bad-app-name",{appName:String(o)});if(i||(i=kv()),!i)throw Tr.create("no-options");const c=ih.get(o);if(c){if(wr(i,c.options)&&wr(a,c.config))return c;throw Tr.create("duplicate-app",{appName:o})}const d=new SS(o);for(const _ of om.values())d.addComponent(_);const y=new yx(i,a,d);return ih.set(o,y),y}function qv(s=lm){const e=ih.get(s);if(!e&&s===lm&&kv())return Bv();if(!e)throw Tr.create("no-app",{appName:s});return e}function Sr(s,e,i){let a=mx[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),As.warn(d.join(" "));return}_l(new fa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const _x="firebase-heartbeat-database",vx=1,Fo="firebase-heartbeat-store";let Yd=null;function Hv(){return Yd||(Yd=jS(_x,vx,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Fo)}catch(i){console.warn(i)}}}}).catch(s=>{throw Tr.create("idb-open",{originalErrorMessage:s.message})})),Yd}async function bx(s){try{const i=(await Hv()).transaction(Fo),a=await i.objectStore(Fo).get(Gv(s));return await i.done,a}catch(e){if(e instanceof Ds)As.warn(e.message);else{const i=Tr.create("idb-get",{originalErrorMessage:e?.message});As.warn(i.message)}}}async function r_(s,e){try{const a=(await Hv()).transaction(Fo,"readwrite");await a.objectStore(Fo).put(e,Gv(s)),await a.done}catch(i){if(i instanceof Ds)As.warn(i.message);else{const a=Tr.create("idb-set",{originalErrorMessage:i?.message});As.warn(a.message)}}}function Gv(s){return`${s.name}!${s.options.appId}`}const Ex=1024,Tx=30;class Sx{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Ax(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=a_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Tx){const o=wx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){As.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=a_(),{heartbeatsToSend:i,unsentEntries:a}=xx(this._heartbeatsCache.heartbeats),o=nh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return As.warn(e),""}}}function a_(){return new Date().toISOString().substring(0,10)}function xx(s,e=Ex){const i=[];let a=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),l_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),l_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class Ax{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hS()?fS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await bx(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return r_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return r_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function l_(s){return nh(JSON.stringify({version:2,heartbeats:s})).length}function wx(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function Rx(s){_l(new fa("platform-logger",e=>new PS(e),"PRIVATE")),_l(new fa("heartbeat",e=>new Sx(e),"PRIVATE")),Sr(am,i_,s),Sr(am,i_,"esm2020"),Sr("fire-js","")}Rx("");var Cx="firebase",Nx="12.6.0";Sr(Cx,Nx,"app");function Fv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ix=Fv,Qv=new Jo("auth","Firebase",Fv());const sh=new Mm("@firebase/auth");function Dx(s,...e){sh.logLevel<=ze.WARN&&sh.warn(`Auth (${Rl}): ${s}`,...e)}function Hc(s,...e){sh.logLevel<=ze.ERROR&&sh.error(`Auth (${Rl}): ${s}`,...e)}function ws(s,...e){throw km(s,...e)}function Hi(s,...e){return km(s,...e)}function Kv(s,e,i){const a={...Ix(),[e]:i};return new Jo("auth","Firebase",a).create(e,{appName:s.name})}function xs(s){return Kv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function km(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Qv.create(s,...e)}function Te(s,e,...i){if(!s)throw km(e,...i)}function Ts(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Hc(e),new Error(e)}function Rs(s,e){s||Ts(e)}function um(){return typeof self<"u"&&self.location?.href||""}function Mx(){return o_()==="http:"||o_()==="https:"}function o_(){return typeof self<"u"&&self.location?.protocol||null}function Ox(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Mx()||lS()||"connection"in navigator)?navigator.onLine:!0}function Vx(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class tu{constructor(e,i){this.shortDelay=e,this.longDelay=i,Rs(i>e,"Short delay should be less than long delay!"),this.isMobile=sS()||oS()}get(){return Ox()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function jm(s,e){Rs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Yv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const kx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const jx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Ux=new tu(3e4,6e4);function nu(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Cl(s,e,i,a,o={}){return Xv(s,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const y=eu({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const v={method:e,headers:_,...c};return aS()||(v.referrerPolicy="no-referrer"),s.emulatorConfig&&wl(s.emulatorConfig.host)&&(v.credentials="include"),Yv.fetch()(await $v(s,s.config.apiHost,i,y),v)})}async function Xv(s,e,i){s._canInitEmulator=!1;const a={...kx,...e};try{const o=new Lx(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Oc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const y=c.ok?d.errorMessage:d.error.message,[_,v]=y.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Oc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Oc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Oc(s,"user-disabled",d);const E=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Kv(s,E,v);ws(s,E)}}catch(o){if(o instanceof Ds)throw o;ws(s,"network-request-failed",{message:String(o)})}}async function Um(s,e,i,a,o={}){const c=await Cl(s,e,i,a,o);return"mfaPendingCredential"in c&&ws(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function $v(s,e,i,a){const o=`${e}${i}?${a}`,c=s,d=c.config.emulator?jm(s.config,o):`${s.config.apiScheme}://${o}`;return jx.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class Lx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Hi(this.auth,"network-request-failed")),Ux.get())})}}function Oc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Hi(s,e,a);return o.customData._tokenResponse=i,o}async function Px(s,e){return Cl(s,"POST","/v1/accounts:delete",e)}async function rh(s,e){return Cl(s,"POST","/v1/accounts:lookup",e)}function zo(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zx(s,e=!1){const i=Cn(s),a=await i.getIdToken(e),o=Lm(a);Te(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:zo(Xd(o.auth_time)),issuedAtTime:zo(Xd(o.iat)),expirationTime:zo(Xd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Xd(s){return Number(s)*1e3}function Lm(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Hc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Ov(i);return o?JSON.parse(o):(Hc("Failed to decode base64 JWT payload"),null)}catch(o){return Hc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function u_(s){const e=Lm(s);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Qo(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Ds&&Bx(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function Bx({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class qx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class cm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=zo(this.lastLoginAt),this.creationTime=zo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ah(s){const e=s.auth,i=await s.getIdToken(),a=await Qo(s,rh(e,{idToken:i}));Te(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?Wv(o.providerUserInfo):[],d=Gx(s.providerData,c),y=s.isAnonymous,_=!(s.email&&o.passwordHash)&&!d?.length,v=y?_:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new cm(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(s,E)}async function Hx(s){const e=Cn(s);await ah(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Gx(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Wv(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Fx(s,e){const i=await Xv(s,{},async()=>{const a=eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await $v(s,o,"/v1/token",`key=${c}`),y=await s._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:y,body:a};return s.emulatorConfig&&wl(s.emulatorConfig.host)&&(_.credentials="include"),Yv.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Qx(s,e){return Cl(s,"POST","/v2/accounts:revokeToken",nu(s,e))}class dl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):u_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const i=u_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await Fx(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new dl;return a&&(Te(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(Te(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Te(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new dl,this.toJSON())}_performRefresh(){return Ts("not implemented")}}function mr(s,e){Te(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class bi{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new qx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new cm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Qo(this,this.stsTokenManager.getToken(this.auth,e));return Te(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return zx(this,e)}reload(){return Hx(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new bi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await ah(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ui(this.auth.app))return Promise.reject(xs(this.auth));const e=await this.getIdToken();return await Qo(this,Px(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,_=i._redirectEventId??void 0,v=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:x,emailVerified:O,isAnonymous:F,providerData:ee,stsTokenManager:re}=i;Te(x&&re,e,"internal-error");const J=dl.fromJSON(this.name,re);Te(typeof x=="string",e,"internal-error"),mr(a,e.name),mr(o,e.name),Te(typeof O=="boolean",e,"internal-error"),Te(typeof F=="boolean",e,"internal-error"),mr(c,e.name),mr(d,e.name),mr(y,e.name),mr(_,e.name),mr(v,e.name),mr(E,e.name);const pe=new bi({uid:x,auth:e,email:o,emailVerified:O,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:y,stsTokenManager:J,createdAt:v,lastLoginAt:E});return ee&&Array.isArray(ee)&&(pe.providerData=ee.map(Re=>({...Re}))),_&&(pe._redirectEventId=_),pe}static async _fromIdTokenResponse(e,i,a=!1){const o=new dl;o.updateFromServerResponse(i);const c=new bi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await ah(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];Te(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Wv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,y=new dl;y.updateFromIdToken(a);const _=new bi({uid:o.localId,auth:e,stsTokenManager:y,isAnonymous:d}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new cm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(_,v),_}}const c_=new Map;function Ss(s){Rs(s instanceof Function,"Expected a class definition");let e=c_.get(s);return e?(Rs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,c_.set(s,e),e)}class Zv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Zv.type="NONE";const h_=Zv;function Gc(s,e,i){return`firebase:${s}:${e}:${i}`}class ml{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Gc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Gc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await rh(this.auth,{idToken:e}).catch(()=>{});return i?bi._fromGetAccountInfoResponse(this.auth,i,e):null}return bi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new ml(Ss(h_),e,a);const o=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=o[0]||Ss(h_);const d=Gc(a,e.config.apiKey,e.name);let y=null;for(const v of i)try{const E=await v._get(d);if(E){let x;if(typeof E=="string"){const O=await rh(e,{idToken:E}).catch(()=>{});if(!O)break;x=await bi._fromGetAccountInfoResponse(e,O,E)}else x=bi._fromJSON(e,E);v!==c&&(y=x),c=v;break}}catch{}const _=o.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new ml(c,e,a):(c=_[0],y&&await c._set(d,y.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new ml(c,e,a))}}function f_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Jv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sb(e))return"Blackberry";if(rb(e))return"Webos";if(eb(e))return"Safari";if((e.includes("chrome/")||tb(e))&&!e.includes("edge/"))return"Chrome";if(ib(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function Jv(s=En()){return/firefox\//i.test(s)}function eb(s=En()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tb(s=En()){return/crios\//i.test(s)}function nb(s=En()){return/iemobile/i.test(s)}function ib(s=En()){return/android/i.test(s)}function sb(s=En()){return/blackberry/i.test(s)}function rb(s=En()){return/webos/i.test(s)}function Pm(s=En()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Kx(s=En()){return Pm(s)&&!!window.navigator?.standalone}function Yx(){return uS()&&document.documentMode===10}function ab(s=En()){return Pm(s)||ib(s)||rb(s)||sb(s)||/windows phone/i.test(s)||nb(s)}function lb(s,e=[]){let i;switch(s){case"Browser":i=f_(En());break;case"Worker":i=`${f_(En())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Rl}/${a}`}class Xx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,y)=>{try{const _=e(c);d(_)}catch(_){y(_)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function $x(s,e={}){return Cl(s,"GET","/v2/passwordPolicy",nu(s,e))}const Wx=6;class Zx{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Wx,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class Jx{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new d_(this),this.idTokenSubscription=new d_(this),this.beforeStateQueue=new Xx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Ss(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ml.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await rh(this,{idToken:e}),a=await bi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ui(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,y=await this.tryRedirectSignIn(e);(!c||c===d)&&y?.user&&(a=y.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await ah(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Vx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ui(this.app))return Promise.reject(xs(this));const i=e?Cn(e):null;return i&&Te(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ui(this.app)?Promise.reject(xs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ui(this.app)?Promise.reject(xs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ss(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $x(this),i=new Zx(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Jo("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Qx(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Ss(e)||this._popupRedirectResolver;Te(i,this,"argument-error"),this.redirectPersistenceManager=await ml.create(this,[Ss(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(y,this,"internal-error"),y.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,a,o);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(ui(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Dx(`Error while retrieving App Check token: ${e.error}`),e?.token}}function iu(s){return Cn(s)}class d_{constructor(e){this.auth=e,this.observer=null,this.addObserver=yS(i=>this.observer=i)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let zm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eA(s){zm=s}function tA(s){return zm.loadJS(s)}function nA(){return zm.gapiScript}function iA(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function sA(s,e){const i=Vm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(wr(c,e??{}))return o;ws(o,"already-initialized")}return i.initialize({options:e})}function rA(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Ss);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function aA(s,e,i){const a=iu(s);Te(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=ob(e),{host:d,port:y}=lA(e),_=y===null?"":`:${y}`,v={url:`${c}//${d}${_}/`},E=Object.freeze({host:d,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Te(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Te(wr(v,a.config.emulator)&&wr(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=v,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,wl(d)?(Uv(`${c}//${d}${_}`),Lv("Auth",!0)):oA()}function ob(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function lA(s){const e=ob(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:m_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:m_(d)}}}function m_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function oA(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class ub{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Ts("not implemented")}_getIdTokenResponse(e){return Ts("not implemented")}_linkToIdToken(e,i){return Ts("not implemented")}_getReauthenticationResolver(e){return Ts("not implemented")}}async function gl(s,e){return Um(s,"POST","/v1/accounts:signInWithIdp",nu(s,e))}const uA="http://localhost";class da extends ub{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ws("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new da(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return gl(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,gl(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,gl(e,i)}buildRequest(){const e={requestUri:uA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=eu(i)}return e}}class cb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class su extends cb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class pr extends su{constructor(){super("facebook.com")}static credential(e){return da._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pr.credential(e.oauthAccessToken)}catch{return null}}}pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";pr.PROVIDER_ID="facebook.com";class yr extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return da._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return yr.credential(i,a)}catch{return null}}}yr.GOOGLE_SIGN_IN_METHOD="google.com";yr.PROVIDER_ID="google.com";class _r extends su{constructor(){super("github.com")}static credential(e){return da._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _r.credential(e.oauthAccessToken)}catch{return null}}}_r.GITHUB_SIGN_IN_METHOD="github.com";_r.PROVIDER_ID="github.com";class vr extends su{constructor(){super("twitter.com")}static credential(e,i){return da._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return vr.credential(i,a)}catch{return null}}}vr.TWITTER_SIGN_IN_METHOD="twitter.com";vr.PROVIDER_ID="twitter.com";async function cA(s,e){return Um(s,"POST","/v1/accounts:signUp",nu(s,e))}class Cs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await bi._fromIdTokenResponse(e,a,o),d=g_(a);return new Cs({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=g_(a);return new Cs({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function g_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function p_(s){if(ui(s.app))return Promise.reject(xs(s));const e=iu(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Cs({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await cA(e,{returnSecureToken:!0}),a=await Cs._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class lh extends Ds{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,lh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new lh(e,i,a,o)}}function hb(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?lh._fromErrorAndOperation(s,c,e,a):c})}async function hA(s,e,i=!1){const a=await Qo(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return Cs._forOperation(s,"link",a)}async function fA(s,e,i=!1){const{auth:a}=s;if(ui(a.app))return Promise.reject(xs(a));const o="reauthenticate";try{const c=await Qo(s,hb(a,o,e,s),i);Te(c.idToken,a,"internal-error");const d=Lm(c.idToken);Te(d,a,"internal-error");const{sub:y}=d;return Te(s.uid===y,a,"user-mismatch"),Cs._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&ws(a,"user-mismatch"),c}}async function dA(s,e,i=!1){if(ui(s.app))return Promise.reject(xs(s));const a="signIn",o=await hb(s,a,e),c=await Cs._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}async function mA(s,e){return Um(s,"POST","/v1/accounts:signInWithCustomToken",nu(s,e))}async function gA(s,e){if(ui(s.app))return Promise.reject(xs(s));const i=iu(s),a=await mA(i,{token:e,returnSecureToken:!0}),o=await Cs._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function pA(s,e,i,a){return Cn(s).onIdTokenChanged(e,i,a)}function yA(s,e,i){return Cn(s).beforeAuthStateChanged(e,i)}function _A(s,e,i,a){return Cn(s).onAuthStateChanged(e,i,a)}const oh="__sak";class fb{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(oh,"1"),this.storage.removeItem(oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const vA=1e3,bA=10;class db extends fb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ab(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,y,_)=>{this.notifyListeners(d,_)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);Yx()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,bA):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},vA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}db.type="LOCAL";const EA=db;class mb extends fb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}mb.type="SESSION";const gb=mb;function TA(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Sh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new Sh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const y=Array.from(d).map(async v=>v(i.origin,c)),_=await TA(y);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sh.receivers=[];function Bm(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class SA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((y,_)=>{const v=Bm("",20);o.port1.start();const E=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(x){const O=x;if(O.data.eventId===v)switch(O.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(O.data.response);break;default:clearTimeout(E),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:v,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Gi(){return window}function xA(s){Gi().location.href=s}function pb(){return typeof Gi().WorkerGlobalScope<"u"&&typeof Gi().importScripts=="function"}async function AA(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wA(){return navigator?.serviceWorker?.controller||null}function RA(){return pb()?self:null}const yb="firebaseLocalStorageDb",CA=1,uh="firebaseLocalStorage",_b="fbase_key";class ru{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function xh(s,e){return s.transaction([uh],e?"readwrite":"readonly").objectStore(uh)}function NA(){const s=indexedDB.deleteDatabase(yb);return new ru(s).toPromise()}function hm(){const s=indexedDB.open(yb,CA);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(uh,{keyPath:_b})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(uh)?e(a):(a.close(),await NA(),e(await hm()))})})}async function y_(s,e,i){const a=xh(s,!0).put({[_b]:e,value:i});return new ru(a).toPromise()}async function IA(s,e){const i=xh(s,!1).get(e),a=await new ru(i).toPromise();return a===void 0?null:a.value}function __(s,e){const i=xh(s,!0).delete(e);return new ru(i).toPromise()}const DA=800,MA=3;class vb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>MA)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sh._getInstance(RA()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await AA(),!this.activeServiceWorker)return;this.sender=new SA(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hm();return await y_(e,oh,"1"),await __(e,oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>y_(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>IA(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>__(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=xh(o,!1).getAll();return new ru(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vb.type="LOCAL";const OA=vb;new tu(3e4,6e4);function VA(s,e){return e?Ss(e):(Te(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class qm extends ub{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return gl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return gl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function kA(s){return dA(s.auth,new qm(s),s.bypassAuthState)}function jA(s){const{auth:e,user:i}=s;return Te(i,e,"internal-error"),fA(i,new qm(s),s.bypassAuthState)}async function UA(s){const{auth:e,user:i}=s;return Te(i,e,"internal-error"),hA(i,new qm(s),s.bypassAuthState)}class bb{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:y}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(_))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kA;case"linkViaPopup":case"linkViaRedirect":return UA;case"reauthViaPopup":case"reauthViaRedirect":return jA;default:ws(this.auth,"internal-error")}}resolve(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const LA=new tu(2e3,1e4);class fl extends bb{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,fl.currentPopupAction&&fl.currentPopupAction.cancel(),fl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Rs(this.filter.length===1,"Popup operations only handle one event");const e=Bm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,LA.get())};e()}}fl.currentPopupAction=null;const PA="pendingRedirect",Fc=new Map;class zA extends bb{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Fc.get(this.auth._key());if(!e){try{const a=await BA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Fc.set(this.auth._key(),e)}return this.bypassAuthState||Fc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BA(s,e){const i=GA(e),a=HA(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function qA(s,e){Fc.set(s._key(),e)}function HA(s){return Ss(s._redirectPersistence)}function GA(s){return Gc(PA,s.config.apiKey,s.name)}async function FA(s,e,i=!1){if(ui(s.app))return Promise.reject(xs(s));const a=iu(s),o=VA(a,e),d=await new zA(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const QA=600*1e3;class KA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YA(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!Eb(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Hi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QA&&this.cachedEventUids.clear(),this.cachedEventUids.has(v_(e))}saveEventToCache(e){this.cachedEventUids.add(v_(e)),this.lastProcessedEventTime=Date.now()}}function v_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function Eb({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function YA(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Eb(s);default:return!1}}async function XA(s,e={}){return Cl(s,"GET","/v1/projects",e)}const $A=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WA=/^https?/;async function ZA(s){if(s.config.emulator)return;const{authorizedDomains:e}=await XA(s);for(const i of e)try{if(JA(i))return}catch{}ws(s,"unauthorized-domain")}function JA(s){const e=um(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!WA.test(i))return!1;if($A.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const ew=new tu(3e4,6e4);function b_(){const s=Gi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function tw(s){return new Promise((e,i)=>{function a(){b_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{b_(),i(Hi(s,"network-request-failed"))},timeout:ew.get()})}if(Gi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Gi().gapi?.load)a();else{const o=iA("iframefcb");return Gi()[o]=()=>{gapi.load?a():i(Hi(s,"network-request-failed"))},tA(`${nA()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Qc=null,e})}let Qc=null;function nw(s){return Qc=Qc||tw(s),Qc}const iw=new tu(5e3,15e3),sw="__/auth/iframe",rw="emulator/auth/iframe",aw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ow(s){const e=s.config;Te(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?jm(e,rw):`https://${s.config.authDomain}/${sw}`,a={apiKey:e.apiKey,appName:s.name,v:Rl},o=lw.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${eu(a).slice(1)}`}async function uw(s){const e=await nw(s),i=Gi().gapi;return Te(i,s,"internal-error"),e.open({where:document.body,url:ow(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aw,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Hi(s,"network-request-failed"),y=Gi().setTimeout(()=>{c(d)},iw.get());function _(){Gi().clearTimeout(y),o(a)}a.ping(_).then(_,()=>{c(d)})}))}const cw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hw=500,fw=600,dw="_blank",mw="http://localhost";class E_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gw(s,e,i,a=hw,o=fw){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const _={...cw,width:a.toString(),height:o.toString(),top:c,left:d},v=En().toLowerCase();i&&(y=tb(v)?dw:i),Jv(v)&&(e=e||mw,_.scrollbars="yes");const E=Object.entries(_).reduce((O,[F,ee])=>`${O}${F}=${ee},`,"");if(Kx(v)&&y!=="_self")return pw(e||"",y),new E_(null);const x=window.open(e||"",y,E);Te(x,s,"popup-blocked");try{x.focus()}catch{}return new E_(x)}function pw(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const yw="__/auth/handler",_w="emulator/auth/handler",vw=encodeURIComponent("fac");async function T_(s,e,i,a,o,c){Te(s.config.authDomain,s,"auth-domain-config-required"),Te(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:Rl,eventId:o};if(e instanceof cb){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",pS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,x]of Object.entries({}))d[E]=x}if(e instanceof su){const E=e.getScopes().filter(x=>x!=="");E.length>0&&(d.scopes=E.join(","))}s.tenantId&&(d.tid=s.tenantId);const y=d;for(const E of Object.keys(y))y[E]===void 0&&delete y[E];const _=await s._getAppCheckToken(),v=_?`#${vw}=${encodeURIComponent(_)}`:"";return`${bw(s)}?${eu(y).slice(1)}${v}`}function bw({config:s}){return s.emulator?jm(s,_w):`https://${s.authDomain}/${yw}`}const $d="webStorageSupport";class Ew{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gb,this._completeRedirectFn=FA,this._overrideRedirectResult=qA}async _openPopup(e,i,a,o){Rs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await T_(e,i,a,um(),o);return gw(e,c,Bm())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await T_(e,i,a,um(),o);return xA(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Rs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await uw(e),a=new KA(e);return i.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send($d,{type:$d},o=>{const c=o?.[0]?.[$d];c!==void 0&&i(!!c),ws(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=ZA(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return ab()||eb()||Pm()}}const Tw=Ew;var S_="@firebase/auth",x_="1.11.1";class Sw{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function xw(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Aw(s){_l(new fa("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=a.options;Te(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:y,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lb(s)},v=new Jx(a,o,c,_);return rA(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),_l(new fa("auth-internal",e=>{const i=iu(e.getProvider("auth").getImmediate());return(a=>new Sw(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Sr(S_,x_,xw(s)),Sr(S_,x_,"esm2020")}const ww=300,Rw=jv("authIdTokenMaxAge")||ww;let A_=null;const Cw=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>Rw)return;const o=i?.token;A_!==o&&(A_=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Nw(s=qv()){const e=Vm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=sA(s,{popupRedirectResolver:Tw,persistence:[OA,EA,gb]}),a=jv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Cw(c.toString());yA(i,d,()=>d(i.currentUser)),pA(i,y=>d(y))}}const o=Vv("auth");return o&&aA(i,`http://${o}`),i}function Iw(){return document.getElementsByTagName("head")?.[0]??document}eA({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=Hi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",Iw().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Aw("Browser");var w_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var xr,Tb;(function(){var s;function e(N,A){function R(){}R.prototype=A.prototype,N.F=A.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(V,D,j){for(var w=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)w[Ke-2]=arguments[Ke];return A.prototype[D].apply(V,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,A,R){R||(R=0);const V=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)V[D]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(D=0;D<16;++D)V[D]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=N.g[0],R=N.g[1],D=N.g[2];let j=N.g[3],w;w=A+(j^R&(D^j))+V[0]+3614090360&4294967295,A=R+(w<<7&4294967295|w>>>25),w=j+(D^A&(R^D))+V[1]+3905402710&4294967295,j=A+(w<<12&4294967295|w>>>20),w=D+(R^j&(A^R))+V[2]+606105819&4294967295,D=j+(w<<17&4294967295|w>>>15),w=R+(A^D&(j^A))+V[3]+3250441966&4294967295,R=D+(w<<22&4294967295|w>>>10),w=A+(j^R&(D^j))+V[4]+4118548399&4294967295,A=R+(w<<7&4294967295|w>>>25),w=j+(D^A&(R^D))+V[5]+1200080426&4294967295,j=A+(w<<12&4294967295|w>>>20),w=D+(R^j&(A^R))+V[6]+2821735955&4294967295,D=j+(w<<17&4294967295|w>>>15),w=R+(A^D&(j^A))+V[7]+4249261313&4294967295,R=D+(w<<22&4294967295|w>>>10),w=A+(j^R&(D^j))+V[8]+1770035416&4294967295,A=R+(w<<7&4294967295|w>>>25),w=j+(D^A&(R^D))+V[9]+2336552879&4294967295,j=A+(w<<12&4294967295|w>>>20),w=D+(R^j&(A^R))+V[10]+4294925233&4294967295,D=j+(w<<17&4294967295|w>>>15),w=R+(A^D&(j^A))+V[11]+2304563134&4294967295,R=D+(w<<22&4294967295|w>>>10),w=A+(j^R&(D^j))+V[12]+1804603682&4294967295,A=R+(w<<7&4294967295|w>>>25),w=j+(D^A&(R^D))+V[13]+4254626195&4294967295,j=A+(w<<12&4294967295|w>>>20),w=D+(R^j&(A^R))+V[14]+2792965006&4294967295,D=j+(w<<17&4294967295|w>>>15),w=R+(A^D&(j^A))+V[15]+1236535329&4294967295,R=D+(w<<22&4294967295|w>>>10),w=A+(D^j&(R^D))+V[1]+4129170786&4294967295,A=R+(w<<5&4294967295|w>>>27),w=j+(R^D&(A^R))+V[6]+3225465664&4294967295,j=A+(w<<9&4294967295|w>>>23),w=D+(A^R&(j^A))+V[11]+643717713&4294967295,D=j+(w<<14&4294967295|w>>>18),w=R+(j^A&(D^j))+V[0]+3921069994&4294967295,R=D+(w<<20&4294967295|w>>>12),w=A+(D^j&(R^D))+V[5]+3593408605&4294967295,A=R+(w<<5&4294967295|w>>>27),w=j+(R^D&(A^R))+V[10]+38016083&4294967295,j=A+(w<<9&4294967295|w>>>23),w=D+(A^R&(j^A))+V[15]+3634488961&4294967295,D=j+(w<<14&4294967295|w>>>18),w=R+(j^A&(D^j))+V[4]+3889429448&4294967295,R=D+(w<<20&4294967295|w>>>12),w=A+(D^j&(R^D))+V[9]+568446438&4294967295,A=R+(w<<5&4294967295|w>>>27),w=j+(R^D&(A^R))+V[14]+3275163606&4294967295,j=A+(w<<9&4294967295|w>>>23),w=D+(A^R&(j^A))+V[3]+4107603335&4294967295,D=j+(w<<14&4294967295|w>>>18),w=R+(j^A&(D^j))+V[8]+1163531501&4294967295,R=D+(w<<20&4294967295|w>>>12),w=A+(D^j&(R^D))+V[13]+2850285829&4294967295,A=R+(w<<5&4294967295|w>>>27),w=j+(R^D&(A^R))+V[2]+4243563512&4294967295,j=A+(w<<9&4294967295|w>>>23),w=D+(A^R&(j^A))+V[7]+1735328473&4294967295,D=j+(w<<14&4294967295|w>>>18),w=R+(j^A&(D^j))+V[12]+2368359562&4294967295,R=D+(w<<20&4294967295|w>>>12),w=A+(R^D^j)+V[5]+4294588738&4294967295,A=R+(w<<4&4294967295|w>>>28),w=j+(A^R^D)+V[8]+2272392833&4294967295,j=A+(w<<11&4294967295|w>>>21),w=D+(j^A^R)+V[11]+1839030562&4294967295,D=j+(w<<16&4294967295|w>>>16),w=R+(D^j^A)+V[14]+4259657740&4294967295,R=D+(w<<23&4294967295|w>>>9),w=A+(R^D^j)+V[1]+2763975236&4294967295,A=R+(w<<4&4294967295|w>>>28),w=j+(A^R^D)+V[4]+1272893353&4294967295,j=A+(w<<11&4294967295|w>>>21),w=D+(j^A^R)+V[7]+4139469664&4294967295,D=j+(w<<16&4294967295|w>>>16),w=R+(D^j^A)+V[10]+3200236656&4294967295,R=D+(w<<23&4294967295|w>>>9),w=A+(R^D^j)+V[13]+681279174&4294967295,A=R+(w<<4&4294967295|w>>>28),w=j+(A^R^D)+V[0]+3936430074&4294967295,j=A+(w<<11&4294967295|w>>>21),w=D+(j^A^R)+V[3]+3572445317&4294967295,D=j+(w<<16&4294967295|w>>>16),w=R+(D^j^A)+V[6]+76029189&4294967295,R=D+(w<<23&4294967295|w>>>9),w=A+(R^D^j)+V[9]+3654602809&4294967295,A=R+(w<<4&4294967295|w>>>28),w=j+(A^R^D)+V[12]+3873151461&4294967295,j=A+(w<<11&4294967295|w>>>21),w=D+(j^A^R)+V[15]+530742520&4294967295,D=j+(w<<16&4294967295|w>>>16),w=R+(D^j^A)+V[2]+3299628645&4294967295,R=D+(w<<23&4294967295|w>>>9),w=A+(D^(R|~j))+V[0]+4096336452&4294967295,A=R+(w<<6&4294967295|w>>>26),w=j+(R^(A|~D))+V[7]+1126891415&4294967295,j=A+(w<<10&4294967295|w>>>22),w=D+(A^(j|~R))+V[14]+2878612391&4294967295,D=j+(w<<15&4294967295|w>>>17),w=R+(j^(D|~A))+V[5]+4237533241&4294967295,R=D+(w<<21&4294967295|w>>>11),w=A+(D^(R|~j))+V[12]+1700485571&4294967295,A=R+(w<<6&4294967295|w>>>26),w=j+(R^(A|~D))+V[3]+2399980690&4294967295,j=A+(w<<10&4294967295|w>>>22),w=D+(A^(j|~R))+V[10]+4293915773&4294967295,D=j+(w<<15&4294967295|w>>>17),w=R+(j^(D|~A))+V[1]+2240044497&4294967295,R=D+(w<<21&4294967295|w>>>11),w=A+(D^(R|~j))+V[8]+1873313359&4294967295,A=R+(w<<6&4294967295|w>>>26),w=j+(R^(A|~D))+V[15]+4264355552&4294967295,j=A+(w<<10&4294967295|w>>>22),w=D+(A^(j|~R))+V[6]+2734768916&4294967295,D=j+(w<<15&4294967295|w>>>17),w=R+(j^(D|~A))+V[13]+1309151649&4294967295,R=D+(w<<21&4294967295|w>>>11),w=A+(D^(R|~j))+V[4]+4149444226&4294967295,A=R+(w<<6&4294967295|w>>>26),w=j+(R^(A|~D))+V[11]+3174756917&4294967295,j=A+(w<<10&4294967295|w>>>22),w=D+(A^(j|~R))+V[2]+718787259&4294967295,D=j+(w<<15&4294967295|w>>>17),w=R+(j^(D|~A))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+j&4294967295}a.prototype.v=function(N,A){A===void 0&&(A=N.length);const R=A-this.blockSize,V=this.C;let D=this.h,j=0;for(;j<A;){if(D==0)for(;j<=R;)o(this,N,j),j+=this.blockSize;if(typeof N=="string"){for(;j<A;)if(V[D++]=N.charCodeAt(j++),D==this.blockSize){o(this,V),D=0;break}}else for(;j<A;)if(V[D++]=N[j++],D==this.blockSize){o(this,V),D=0;break}}this.h=D,this.o+=A},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)N[A++]=this.g[R]>>>V&255;return N};function c(N,A){var R=y;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=A(N)}function d(N,A){this.h=A;const R=[];let V=!0;for(let D=N.length-1;D>=0;D--){const j=N[D]|0;V&&j==A||(R[D]=j,V=!1)}this.g=R}var y={};function _(N){return-128<=N&&N<128?c(N,function(A){return new d([A|0],A<0?-1:0)}):new d([N|0],N<0?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return x;if(N<0)return J(v(-N));const A=[];let R=1;for(let V=0;N>=R;V++)A[V]=N/R|0,R*=4294967296;return new d(A,0)}function E(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return J(E(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=v(Math.pow(A,8));let V=x;for(let j=0;j<N.length;j+=8){var D=Math.min(8,N.length-j);const w=parseInt(N.substring(j,j+D),A);D<8?(D=v(Math.pow(A,D)),V=V.j(D).add(v(w))):(V=V.j(R),V=V.add(v(w)))}return V}var x=_(0),O=_(1),F=_(16777216);s=d.prototype,s.m=function(){if(re(this))return-J(this).m();let N=0,A=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);N+=(V>=0?V:4294967296+V)*A,A*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(ee(this))return"0";if(re(this))return"-"+J(this).toString(N);const A=v(Math.pow(N,6));var R=this;let V="";for(;;){const D=tt(R,A).g;R=pe(R,D.j(A));let j=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=D,ee(R))return j+V;for(;j.length<6;)j="0"+j;V=j+V}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function ee(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function re(N){return N.h==-1}s.l=function(N){return N=pe(this,N),re(N)?-1:ee(N)?0:1};function J(N){const A=N.g.length,R=[];for(let V=0;V<A;V++)R[V]=~N.g[V];return new d(R,~N.h).add(O)}s.abs=function(){return re(this)?J(this):this},s.add=function(N){const A=Math.max(this.g.length,N.g.length),R=[];let V=0;for(let D=0;D<=A;D++){let j=V+(this.i(D)&65535)+(N.i(D)&65535),w=(j>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);V=w>>>16,j&=65535,w&=65535,R[D]=w<<16|j}return new d(R,R[R.length-1]&-2147483648?-1:0)};function pe(N,A){return N.add(J(A))}s.j=function(N){if(ee(this)||ee(N))return x;if(re(this))return re(N)?J(this).j(J(N)):J(J(this).j(N));if(re(N))return J(this.j(J(N)));if(this.l(F)<0&&N.l(F)<0)return v(this.m()*N.m());const A=this.g.length+N.g.length,R=[];for(var V=0;V<2*A;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<N.g.length;D++){const j=this.i(V)>>>16,w=this.i(V)&65535,Ke=N.i(D)>>>16,Tt=N.i(D)&65535;R[2*V+2*D]+=w*Tt,Re(R,2*V+2*D),R[2*V+2*D+1]+=j*Tt,Re(R,2*V+2*D+1),R[2*V+2*D+1]+=w*Ke,Re(R,2*V+2*D+1),R[2*V+2*D+2]+=j*Ke,Re(R,2*V+2*D+2)}for(N=0;N<A;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=A;N<2*A;N++)R[N]=0;return new d(R,0)};function Re(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function Ee(N,A){this.g=N,this.h=A}function tt(N,A){if(ee(A))throw Error("division by zero");if(ee(N))return new Ee(x,x);if(re(N))return A=tt(J(N),A),new Ee(J(A.g),J(A.h));if(re(A))return A=tt(N,J(A)),new Ee(J(A.g),A.h);if(N.g.length>30){if(re(N)||re(A))throw Error("slowDivide_ only works with positive integers.");for(var R=O,V=A;V.l(N)<=0;)R=ht(R),V=ht(V);var D=fe(R,1),j=fe(V,1);for(V=fe(V,2),R=fe(R,2);!ee(V);){var w=j.add(V);w.l(N)<=0&&(D=D.add(R),j=w),V=fe(V,1),R=fe(R,1)}return A=pe(N,D.j(A)),new Ee(D,A)}for(D=x;N.l(A)>=0;){for(R=Math.max(1,Math.floor(N.m()/A.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),j=v(R),w=j.j(A);re(w)||w.l(N)>0;)R-=V,j=v(R),w=j.j(A);ee(j)&&(j=O),D=D.add(j),N=pe(N,w)}return new Ee(D,N)}s.B=function(N){return tt(this,N).h},s.and=function(N){const A=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)&N.i(V);return new d(R,this.h&N.h)},s.or=function(N){const A=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)|N.i(V);return new d(R,this.h|N.h)},s.xor=function(N){const A=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)^N.i(V);return new d(R,this.h^N.h)};function ht(N){const A=N.g.length+1,R=[];for(let V=0;V<A;V++)R[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(R,N.h)}function fe(N,A){const R=A>>5;A%=32;const V=N.g.length-R,D=[];for(let j=0;j<V;j++)D[j]=A>0?N.i(j+R)>>>A|N.i(j+R+1)<<32-A:N.i(j+R);return new d(D,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,Tb=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=E,xr=d}).apply(typeof w_<"u"?w_:typeof self<"u"?self:typeof window<"u"?window:{});var Vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Sb,ko,xb,Kc,fm,Ab,wb,Rb;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vc=="object"&&Vc];for(var m=0;m<u.length;++m){var b=u[m];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var b=a;u=u.split(".");for(var S=0;S<u.length-1;S++){var U=u[S];if(!(U in b))break e;b=b[U]}u=u[u.length-1],S=b[u],m=m(S),m!=S&&m!=null&&e(b,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var b=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&b.push([S,m[S]]);return b}});var c=c||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,b){return u.call.apply(u.bind,arguments)}function v(u,m,b){return v=_,v.apply(null,arguments)}function E(u,m){var b=Array.prototype.slice.call(arguments,1);return function(){var S=b.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function x(u,m){function b(){}b.prototype=m.prototype,u.Z=m.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(S,U,B){for(var ne=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)ne[Ce-2]=arguments[Ce];return m.prototype[U].apply(S,ne)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const b=Array(m);for(let S=0;S<m;S++)b[S]=u[S];return b}return[]}function ee(u,m){for(let S=1;S<arguments.length;S++){const U=arguments[S];var b=typeof U;if(b=b!="object"?b:U?Array.isArray(U)?"array":b:"null",b=="array"||b=="object"&&typeof U.length=="number"){b=u.length||0;const B=U.length||0;u.length=b+B;for(let ne=0;ne<B;ne++)u[b+ne]=U[ne]}else u.push(U)}}class re{constructor(m,b){this.i=m,this.j=b,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function pe(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Re{constructor(){this.h=this.g=null}add(m,b){const S=Ee.get();S.set(m,b),this.h?this.h.next=S:this.g=S,this.h=S}}var Ee=new re(()=>new tt,u=>u.reset());class tt{constructor(){this.next=this.g=this.h=null}set(m,b){this.h=m,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ht,fe=!1,N=new Re,A=()=>{const u=Promise.resolve(void 0);ht=()=>{u.then(R)}};function R(){for(var u;u=pe();){try{u.h.call(u.g)}catch(b){J(b)}var m=Ee;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}fe=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};d.addEventListener("test",b,m),d.removeEventListener("test",b,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function Ke(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}x(Ke,D),Ke.prototype.init=function(u,m){const b=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(b=="mouseover"?m=u.fromElement:b=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Ke.Z.h.call(this)},Ke.prototype.h=function(){Ke.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Tt="closure_listenable_"+(Math.random()*1e6|0),H=0;function te(u,m,b,S,U){this.listener=u,this.proxy=null,this.src=m,this.type=b,this.capture=!!S,this.ha=U,this.key=++H,this.da=this.fa=!1}function me(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function He(u,m,b){for(const S in u)m.call(b,u[S],S,u)}function De(u,m){for(const b in u)m.call(void 0,u[b],b,u)}function M(u){const m={};for(const b in u)m[b]=u[b];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(u,m){let b,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(b in S)u[b]=S[b];for(let B=0;B<K.length;B++)b=K[B],Object.prototype.hasOwnProperty.call(S,b)&&(u[b]=S[b])}}function le(u){this.src=u,this.g={},this.h=0}le.prototype.add=function(u,m,b,S,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const ne=Se(u,m,S,U);return ne>-1?(m=u[ne],b||(m.fa=!1)):(m=new te(m,this.src,B,!!S,U),m.fa=b,u.push(m)),m};function ve(u,m){const b=m.type;if(b in u.g){var S=u.g[b],U=Array.prototype.indexOf.call(S,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(S,U,1),B&&(me(m),u.g[b].length==0&&(delete u.g[b],u.h--))}}function Se(u,m,b,S){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!b&&B.ha==S)return U}return-1}var Me="closure_lm_"+(Math.random()*1e6|0),Rt={};function rt(u,m,b,S,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)rt(u,m[B],b,S,U);return null}return b=ts(b),u&&u[Tt]?u.J(m,b,y(S)?!!S.capture:!1,U):Wi(u,m,b,!1,S,U)}function Wi(u,m,b,S,U,B){if(!m)throw Error("Invalid event type");const ne=y(U)?!!U.capture:!!U;let Ce=es(u);if(Ce||(u[Me]=Ce=new le(u)),b=Ce.add(m,b,S,ne,B),b.proxy)return b;if(S=Zi(),b.proxy=S,S.src=u,S.listener=b,u.addEventListener)j||(U=ne),U===void 0&&(U=!1),u.addEventListener(m.toString(),S,U);else if(u.attachEvent)u.attachEvent(Ln(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Zi(){function u(b){return m.call(u.src,u.listener,b)}const m=Ji;return u}function Ms(u,m,b,S,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)Ms(u,m[B],b,S,U);else S=y(S)?!!S.capture:!!S,b=ts(b),u&&u[Tt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],b=Se(m,b,S,U),b>-1&&(me(m[b]),Array.prototype.splice.call(m,b,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=es(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Se(m,b,S,U)),(b=u>-1?m[u]:null)&&Os(b))}function Os(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Tt])ve(m.i,u);else{var b=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(b,S,u.capture):m.detachEvent?m.detachEvent(Ln(b),S):m.addListener&&m.removeListener&&m.removeListener(S),(b=es(m))?(ve(b,u),b.h==0&&(b.src=null,m[Me]=null)):me(u)}}}function Ln(u){return u in Rt?Rt[u]:Rt[u]="on"+u}function Ji(u,m){if(u.da)u=!0;else{m=new Ke(m,this);const b=u.listener,S=u.ha||u.src;u.fa&&Os(u),u=b.call(S,m)}return u}function es(u){return u=u[Me],u instanceof le?u:null}var Vs="__closure_events_fn_"+(Math.random()*1e9>>>0);function ts(u){return typeof u=="function"?u:(u[Vs]||(u[Vs]=function(m){return u.handleEvent(m)}),u[Vs])}function vt(){V.call(this),this.i=new le(this),this.M=this,this.G=null}x(vt,V),vt.prototype[Tt]=!0,vt.prototype.removeEventListener=function(u,m,b,S){Ms(this,u,m,b,S)};function Ct(u,m){var b,S=u.G;if(S)for(b=[];S;S=S.G)b.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var U=m;m=new D(S,u),ae(m,U)}U=!0;let B,ne;if(b)for(ne=b.length-1;ne>=0;ne--)B=m.g=b[ne],U=Si(B,S,!0,m)&&U;if(B=m.g=u,U=Si(B,S,!0,m)&&U,U=Si(B,S,!1,m)&&U,b)for(ne=0;ne<b.length;ne++)B=m.g=b[ne],U=Si(B,S,!1,m)&&U}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const b=u.g[m];for(let S=0;S<b.length;S++)me(b[S]);delete u.g[m],u.h--}}this.G=null},vt.prototype.J=function(u,m,b,S){return this.i.add(String(u),m,!1,b,S)},vt.prototype.K=function(u,m,b,S){return this.i.add(String(u),m,!0,b,S)};function Si(u,m,b,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const ne=m[B];if(ne&&!ne.da&&ne.capture==b){const Ce=ne.listener,Nt=ne.ha||ne.src;ne.fa&&ve(u.i,ne),U=Ce.call(Nt,S)!==!1&&U}}return U&&!S.defaultPrevented}function Ol(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function va(u){u.g=Ol(()=>{u.g=null,u.i&&(u.i=!1,va(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class sn extends V{constructor(m,b){super(),this.m=m,this.l=b,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:va(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ns(u){V.call(this),this.h=u,this.g={}}x(ns,V);var kr=[];function jr(u){He(u.g,function(m,b){this.g.hasOwnProperty(b)&&Os(m)},u),u.g={}}ns.prototype.N=function(){ns.Z.N.call(this),jr(this)},ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xi=d.JSON.stringify,Vl=d.JSON.parse,ks=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Z(){}function ie(){}var se={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function oe(){D.call(this,"d")}x(oe,D);function Ve(){D.call(this,"c")}x(Ve,D);var Ue={},Pn=null;function gn(){return Pn=Pn||new vt}Ue.Ia="serverreachability";function Wt(u){D.call(this,Ue.Ia,u)}x(Wt,D);function $e(u){const m=gn();Ct(m,new Wt(m))}Ue.STAT_EVENT="statevent";function rn(u,m){D.call(this,Ue.STAT_EVENT,u),this.stat=m}x(rn,D);function ft(u){const m=gn();Ct(m,new rn(m,u))}Ue.Ja="timingevent";function kt(u,m){D.call(this,Ue.Ja,u),this.size=m}x(kt,D);function Tn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function X(){this.g=!0}X.prototype.ua=function(){this.g=!1};function Oe(u,m,b,S,U,B){u.info(function(){if(u.g)if(B){var ne="",Ce=B.split("&");for(let Ze=0;Ze<Ce.length;Ze++){var Nt=Ce[Ze].split("=");if(Nt.length>1){const bt=Nt[0];Nt=Nt[1];const ei=bt.split("_");ne=ei.length>=2&&ei[1]=="type"?ne+(bt+"="+Nt+"&"):ne+(bt+"=redacted&")}}}else ne=null;else ne=B;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+m+`
`+b+`
`+ne})}function an(u,m,b,S,U,B,ne){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+m+`
`+b+`
`+B+" "+ne})}function gt(u,m,b,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+is(u,b)+(S?" "+S:"")})}function dt(u,m){u.info(function(){return"TIMEOUT: "+m})}X.prototype.info=function(){};function is(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var b=B[u];if(!(b.length<2)){var S=b[1];if(Array.isArray(S)&&!(S.length<1)){var U=S[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ne=1;ne<S.length;ne++)S[ne]=""}}}}return xi(B)}catch{return m}}var jt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ur={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},We;function zn(){}x(zn,Z),zn.prototype.g=function(){return new XMLHttpRequest},We=new zn;function Sn(u){return encodeURIComponent(String(u))}function js(u){var m=1;u=u.split(":");const b=[];for(;m>0&&u.length;)b.push(u.shift()),m--;return u.length&&b.push(u.join(":")),b}function xn(u,m,b,S){this.j=u,this.i=m,this.l=b,this.S=S||1,this.V=new ns(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new hi}function hi(){this.i=null,this.g="",this.h=!1}var Ut={},Zt={};function Ai(u,m,b){u.M=1,u.A=Lr(Pt(m)),u.u=b,u.R=!0,ba(u,null)}function ba(u,m){u.F=Date.now(),wi(u),u.B=Pt(u.A);var b=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),xa(b.i,"t",S),u.C=0,b=u.j.L,u.h=new hi,u.g=wu(u.j,b?m:null,!u.u),u.P>0&&(u.O=new sn(v(u.Y,u,u.g),u.P)),m=u.V,b=u.g,S=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(kr[0]=U.toString()),U=kr);for(let B=0;B<U.length;B++){const ne=rt(b,U[B],S||m.handleEvent,!1,m.h||m);if(!ne)break;m.g[ne.key]=ne}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),$e(),Oe(u.i,u.v,u.B,u.l,u.S,u.u)}xn.prototype.ba=function(u){u=u.target;const m=this.O;m&&mi(u)==3?m.j():this.Y(u)},xn.prototype.Y=function(u){try{if(u==this.g)e:{const Ce=mi(this.g),Nt=this.g.ya(),Ze=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||ln(this.g)))){this.K||Ce!=4||Nt==7||(Nt==8||Ze<=0?$e(3):$e(2)),Ri(this);var m=this.g.ca();this.X=m;var b=Hh(this);if(this.o=m==200,an(this.i,this.v,this.B,this.l,this.S,Ce,m),this.o){if(this.U&&!this.L){t:{if(this.g){var S,U=this.g;if((S=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(S)){var B=S;break t}}B=null}if(u=B)gt(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ci(this,u);else{this.o=!1,this.m=3,ft(12),Bn(this),Wn(this);break e}}if(this.R){u=!0;let bt;for(;!this.K&&this.C<b.length;)if(bt=du(this,b),bt==Zt){Ce==4&&(this.m=4,ft(14),u=!1),gt(this.i,this.l,null,"[Incomplete Response]");break}else if(bt==Ut){this.m=4,ft(15),gt(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else gt(this.i,this.l,bt,null),Ci(this,bt);if(fu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||b.length!=0||this.h.h||(this.m=1,ft(16),u=!1),this.o=this.o&&u,!u)gt(this.i,this.l,b,"[Invalid Chunked Response]"),Bn(this),Wn(this);else if(b.length>0&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.aa&&!ne.P&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Xl(ne),ne.P=!0,ft(11))}}else gt(this.i,this.l,b,null),Ci(this,b);Ce==4&&Bn(this),this.o&&!this.K&&(Ce==4?Tu(this.j,this):(this.o=!1,wi(this)))}else rs(this.g),m==400&&b.indexOf("Unknown SID")>0?(this.m=3,ft(12)):(this.m=0,ft(13)),Bn(this),Wn(this)}}}catch{}finally{}};function Hh(u){if(!fu(u))return u.g.la();const m=ln(u.g);if(m==="")return"";let b="";const S=m.length,U=mi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Bn(u),Wn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<S;B++)u.h.h=!0,b+=u.h.i.decode(m[B],{stream:!(U&&B==S-1)});return m.length=0,u.h.g+=b,u.C=0,u.h.g}function fu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function du(u,m){var b=u.C,S=m.indexOf(`
`,b);return S==-1?Zt:(b=Number(m.substring(b,S)),isNaN(b)?Ut:(S+=1,S+b>m.length?Zt:(m=m.slice(S,S+b),u.C=S+b,m)))}xn.prototype.cancel=function(){this.K=!0,Bn(this)};function wi(u){u.T=Date.now()+u.H,Ea(u,u.H)}function Ea(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Tn(v(u.aa,u),m)}function Ri(u){u.D&&(d.clearTimeout(u.D),u.D=null)}xn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(dt(this.i,this.B),this.M!=2&&($e(),ft(17)),Bn(this),this.m=2,Wn(this)):Ea(this,this.T-u)};function Wn(u){u.j.I==0||u.K||Tu(u.j,u)}function Bn(u){Ri(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,jr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ci(u,m){try{var b=u.j;if(b.I!=0&&(b.g==u||Ii(b.h,u))){if(!u.L&&Ii(b.h,u)&&b.I==3){try{var S=b.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)Na(b),Gs(b);else break e;Fr(b),ft(18)}}else b.xa=U[1],0<b.xa-b.K&&U[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Tn(v(b.Va,b),6e3));Ni(b.h)<=1&&b.ta&&(b.ta=void 0)}else ji(b,11)}else if((u.L||b.g==u)&&Na(b),!w(m))for(U=b.Ba.g.parse(m),m=0;m<U.length;m++){let Ze=U[m];const bt=Ze[0];if(!(bt<=b.K))if(b.K=bt,Ze=Ze[1],b.I==2)if(Ze[0]=="c"){b.M=Ze[1],b.ba=Ze[2];const ei=Ze[3];ei!=null&&(b.ka=ei,b.j.info("VER="+b.ka));const Ui=Ze[4];Ui!=null&&(b.za=Ui,b.j.info("SVER="+b.za));const gi=Ze[5];gi!=null&&typeof gi=="number"&&gi>0&&(S=1.5*gi,b.O=S,b.j.info("backChannelRequestTimeoutMs_="+S)),S=b;const pi=u.g;if(pi){const Qr=pi.g?pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qr){var B=S.h;B.g||Qr.indexOf("spdy")==-1&&Qr.indexOf("quic")==-1&&Qr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Ul(B,B.h),B.h=null))}if(S.G){const Ia=pi.g?pi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ia&&(S.wa=Ia,nt(S.J,S.G,Ia))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),S=b;var ne=u;if(S.na=Au(S,S.L?S.ba:null,S.W),ne.L){Ll(S.h,ne);var Ce=ne,Nt=S.O;Nt&&(Ce.H=Nt),Ce.D&&(Ri(Ce),wi(Ce)),S.g=ne}else bu(S);b.i.length>0&&ki(b)}else Ze[0]!="stop"&&Ze[0]!="close"||ji(b,7);else b.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?ji(b,7):Kl(b):Ze[0]!="noop"&&b.l&&b.l.qa(Ze),b.A=0)}}$e(4)}catch{}}var Lt=class{constructor(u,m){this.g=u,this.map=m}};function kl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function jl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ni(u){return u.h?1:u.g?u.g.size:0}function Ii(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ul(u,m){u.g?u.g.add(m):u.h=m}function Ll(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}kl.prototype.cancel=function(){if(this.i=Pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Pl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const b of u.g.values())m=m.concat(b.G);return m}return F(u.i)}var mu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ta(u,m){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const S=u[b].indexOf("=");let U,B=null;S>=0?(U=u[b].substring(0,S),B=u[b].substring(S+1)):U=u[b],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function qn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof qn?(this.l=u.l,Jt(this,u.j),this.o=u.o,this.g=u.g,Us(this,u.u),this.h=u.h,zl(this,_u(u.i)),this.m=u.m):u&&(m=String(u).match(mu))?(this.l=!1,Jt(this,m[1]||"",!0),this.o=Di(m[2]||""),this.g=Di(m[3]||"",!0),Us(this,m[4]),this.h=Di(m[5]||"",!0),zl(this,m[6]||"",!0),this.m=Di(m[7]||"")):(this.l=!1,this.i=new Ps(null,this.l))}qn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Pr(m,Sa,!0),":");var b=this.g;return(b||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Pr(m,Sa,!0),"@"),u.push(Sn(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Pr(b,b.charAt(0)=="/"?Bl:gu,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Pr(b,pu)),u.join("")},qn.prototype.resolve=function(u){const m=Pt(this);let b=!!u.j;b?Jt(m,u.j):b=!!u.o,b?m.o=u.o:b=!!u.g,b?m.g=u.g:b=u.u!=null;var S=u.h;if(b)Us(m,u.u);else if(b=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var U=m.h.lastIndexOf("/");U!=-1&&(S=m.h.slice(0,U+1)+S)}if(U=S,U==".."||U==".")S="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){S=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let ne=0;ne<U.length;){const Ce=U[ne++];Ce=="."?S&&ne==U.length&&B.push(""):Ce==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),S&&ne==U.length&&B.push("")):(B.push(Ce),S=!0)}S=B.join("/")}else S=U}return b?m.h=S:b=u.i.toString()!=="",b?zl(m,_u(u.i)):b=!!u.m,b&&(m.m=u.m),m};function Pt(u){return new qn(u)}function Jt(u,m,b){u.j=b?Di(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Us(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function zl(u,m,b){m instanceof Ps?(u.i=m,Aa(u.i,u.l)):(b||(m=Pr(m,Ls)),u.i=new Ps(m,u.l))}function nt(u,m,b){u.i.set(m,b)}function Lr(u){return nt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Di(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Pr(u,m,b){return typeof u=="string"?(u=encodeURI(u).replace(m,Nn),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Sa=/[#\/\?@]/g,gu=/[#\?:]/g,Bl=/[#\?]/g,Ls=/[#\?@]/g,pu=/#/g;function Ps(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function In(u){u.g||(u.g=new Map,u.h=0,u.i&&Ta(u.i,function(m,b){u.add(decodeURIComponent(m.replace(/\+/g," ")),b)}))}s=Ps.prototype,s.add=function(u,m){In(this),this.i=null,u=zs(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(m),this.h+=1,this};function yu(u,m){In(u),m=zs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function ql(u,m){return In(u),m=zs(u,m),u.g.has(m)}s.forEach=function(u,m){In(this),this.g.forEach(function(b,S){b.forEach(function(U){u.call(m,U,S,this)},this)},this)};function Hl(u,m){In(u);let b=[];if(typeof m=="string")ql(u,m)&&(b=b.concat(u.g.get(zs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)b=b.concat(u[m]);return b}s.set=function(u,m){return In(this),this.i=null,u=zs(this,u),ql(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Hl(this,u),u.length>0?String(u[0]):m):m};function xa(u,m,b){yu(u,m),b.length>0&&(u.i=null,u.g.set(zs(u,m),F(b)),u.h+=b.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var b=m[S];const U=Sn(b);b=Hl(this,b);for(let B=0;B<b.length;B++){let ne=U;b[B]!==""&&(ne+="="+Sn(b[B])),u.push(ne)}}return this.i=u.join("&")};function _u(u){const m=new Ps;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function zs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Aa(u,m){m&&!u.j&&(In(u),u.i=null,u.g.forEach(function(b,S){const U=S.toLowerCase();S!=U&&(yu(this,S),xa(this,U,b))},u)),u.j=m}function fi(u,m){const b=new X;if(d.Image){const S=new Image;S.onload=E(Zn,b,"TestLoadImage: loaded",!0,m,S),S.onerror=E(Zn,b,"TestLoadImage: error",!1,m,S),S.onabort=E(Zn,b,"TestLoadImage: abort",!1,m,S),S.ontimeout=E(Zn,b,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function Gl(u,m){const b=new X,S=new AbortController,U=setTimeout(()=>{S.abort(),Zn(b,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(B=>{clearTimeout(U),B.ok?Zn(b,"TestPingServer: ok",!0,m):Zn(b,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Zn(b,"TestPingServer: error",!1,m)})}function Zn(u,m,b,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(b)}catch{}}function Bs(){this.g=new ks}function Mi(u){this.i=u.Sb||null,this.h=u.ab||!1}x(Mi,Z),Mi.prototype.g=function(){return new zr(this.i,this.h)};function zr(u,m){vt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(zr,vt),s=zr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,di(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,qs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function wa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?qs(this):di(this),this.readyState==3&&wa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,qs(this))},s.Na=function(u){this.g&&(this.response=u,qs(this))},s.ga=function(){this.g&&qs(this)};function qs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,di(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var b=m.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=m.next();return u.join(`\r
`)};function di(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(zr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Jn(u){let m="";return He(u,function(b,S){m+=S,m+=":",m+=b,m+=`\r
`}),m}function Br(u,m,b){e:{for(S in b){var S=!1;break e}S=!0}S||(b=Jn(b),typeof u=="string"?b!=null&&Sn(b):nt(u,m,b))}function at(u){vt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(at,vt);var Oi=/^https?$/i,Fl=["POST","PUT"];s=at.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,b,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():We.g(),this.g.onreadystatechange=O(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){qr(this,B);return}if(u=b||"",b=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)b.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const B of S.keys())b.set(B,S.get(B));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(b.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Fl,m,void 0)>=0)||S||U||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ne]of b)this.g.setRequestHeader(B,ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){qr(this,B)}};function qr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ql(u),ss(u)}function Ql(u){u.A||(u.A=!0,Ct(u,"complete"),Ct(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ct(this,"complete"),Ct(this,"abort"),ss(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ss(this,!0)),at.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Hr(this):this.Xa())},s.Xa=function(){Hr(this)};function Hr(u){if(u.h&&typeof c<"u"){if(u.v&&mi(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ct(u,"readystatechange"),mi(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var b;if(!(b=m)){var S;if(S=B===0){let ne=String(u.D).match(mu)[1]||null;!ne&&d.self&&d.self.location&&(ne=d.self.location.protocol.slice(0,-1)),S=!Oi.test(ne?ne.toLowerCase():"")}b=S}if(b)Ct(u,"complete"),Ct(u,"success");else{u.o=6;try{var U=mi(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Ql(u)}}finally{ss(u)}}}}function ss(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,m||Ct(u,"ready");try{b.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function mi(u){return u.g?u.g.readyState:0}s.ca=function(){try{return mi(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Vl(m)}};function ln(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function rs(u){const m={};u=(u.g&&mi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(w(u[S]))continue;var b=js(u[S]);const U=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const B=m[U]||[];m[U]=B,B.push(b)}De(m,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vi(u,m,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||m}function Hs(u){this.za=0,this.i=[],this.j=new X,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vi("baseRetryDelayMs",5e3,u),this.Za=Vi("retryDelaySeedMs",1e4,u),this.Ta=Vi("forwardChannelMaxRetries",2,u),this.va=Vi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new kl(u&&u.concurrentRequestLimit),this.Ba=new Bs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Hs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,b,S){ft(0),this.W=u,this.H=m||{},b&&S!==void 0&&(this.H.OSID=b,this.H.OAID=S),this.F=this.X,this.J=Au(this,null,this.W),ki(this)};function Kl(u){if(Ra(u),u.I==3){var m=u.V++,b=Pt(u.J);if(nt(b,"SID",u.M),nt(b,"RID",m),nt(b,"TYPE","terminate"),Gr(u,b),m=new xn(u,u.j,m),m.M=2,m.A=Lr(Pt(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!b&&d.Image&&(new Image().src=m.A,b=!0),b||(m.g=wu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),wi(m)}xu(u)}function Gs(u){u.g&&(Xl(u),u.g.cancel(),u.g=null)}function Ra(u){Gs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Na(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function ki(u){if(!jl(u.h)&&!u.m){u.m=!0;var m=u.Ea;ht||A(),fe||(ht(),fe=!0),N.add(m,u),u.D=0}}function Ca(u,m){return Ni(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Tn(v(u.Ea,u,m),Su(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new xn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=M(B),ae(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)e:{for(var m=0,b=0;b<this.i.length;b++){t:{var S=this.i[b];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=b;break e}if(m===4096||b===this.i.length-1){m=b+1;break e}}m=1e3}else m=1e3;m=vu(this,U,m),b=Pt(this.J),nt(b,"RID",u),nt(b,"CVER",22),this.G&&nt(b,"X-HTTP-Session-Id",this.G),Gr(this,b),B&&(this.R?m="headers="+Sn(Jn(B))+"&"+m:this.u&&Br(b,this.u,B)),Ul(this.h,U),this.Ra&&nt(b,"TYPE","init"),this.S?(nt(b,"$req",m),nt(b,"SID","null"),U.U=!0,Ai(U,b,null)):Ai(U,b,m),this.I=2}}else this.I==3&&(u?Yl(this,u):this.i.length==0||jl(this.h)||Yl(this))};function Yl(u,m){var b;m?b=m.l:b=u.V++;const S=Pt(u.J);nt(S,"SID",u.M),nt(S,"RID",b),nt(S,"AID",u.K),Gr(u,S),u.u&&u.o&&Br(S,u.u,u.o),b=new xn(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),m&&(u.i=m.G.concat(u.i)),m=vu(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ul(u.h,b),Ai(b,S,m)}function Gr(u,m){u.H&&He(u.H,function(b,S){nt(m,S,b)}),u.l&&He({},function(b,S){nt(m,S,b)})}function vu(u,m,b){b=Math.min(u.i.length,b);const S=u.l?v(u.l.Ka,u.l,u):null;e:{var U=u.i;let Ce=-1;for(;;){const Nt=["count="+b];Ce==-1?b>0?(Ce=U[0].g,Nt.push("ofs="+Ce)):Ce=0:Nt.push("ofs="+Ce);let Ze=!0;for(let bt=0;bt<b;bt++){var B=U[bt].g;const ei=U[bt].map;if(B-=Ce,B<0)Ce=Math.max(0,U[bt].g-100),Ze=!1;else try{B="req"+B+"_"||"";try{var ne=ei instanceof Map?ei:Object.entries(ei);for(const[Ui,gi]of ne){let pi=gi;y(gi)&&(pi=xi(gi)),Nt.push(B+Ui+"="+encodeURIComponent(pi))}}catch(Ui){throw Nt.push(B+"type="+encodeURIComponent("_badmap")),Ui}}catch{S&&S(ei)}}if(Ze){ne=Nt.join("&");break e}}ne=void 0}return u=u.i.splice(0,b),m.G=u,ne}function bu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ht||A(),fe||(ht(),fe=!0),N.add(m,u),u.A=0}}function Fr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Tn(v(u.Da,u),Su(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Eu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Tn(v(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ft(10),Gs(this),Eu(this))};function Xl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Eu(u){u.g=new xn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Pt(u.na);nt(m,"RID","rpc"),nt(m,"SID",u.M),nt(m,"AID",u.K),nt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&nt(m,"TO",u.ia),nt(m,"TYPE","xmlhttp"),Gr(u,m),u.u&&u.o&&Br(m,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=Lr(Pt(m)),b.u=null,b.R=!0,ba(b,u)}s.Va=function(){this.C!=null&&(this.C=null,Gs(this),Fr(this),ft(19))};function Na(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Tu(u,m){var b=null;if(u.g==m){Na(u),Xl(u),u.g=null;var S=2}else if(Ii(u.h,m))b=m.G,Ll(u.h,m),S=1;else return;if(u.I!=0){if(m.o)if(S==1){b=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;S=gn(),Ct(S,new kt(S,b)),ki(u)}else bu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(S==1&&Ca(u,m)||S==2&&Fr(u)))switch(b&&b.length>0&&(m=u.h,m.i=m.i.concat(b)),U){case 1:ji(u,5);break;case 4:ji(u,10);break;case 3:ji(u,6);break;default:ji(u,2)}}}function Su(u,m){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*m}function ji(u,m){if(u.j.info("Error code "+m),m==2){var b=v(u.bb,u),S=u.Ua;const U=!S;S=new qn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Jt(S,"https"),Lr(S),U?fi(S.toString(),b):Gl(S.toString(),b)}else ft(2);u.I=0,u.l&&u.l.pa(m),xu(u),Ra(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function xu(u){if(u.I=0,u.ja=[],u.l){const m=Pl(u.h);(m.length!=0||u.i.length!=0)&&(ee(u.ja,m),ee(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function Au(u,m,b){var S=b instanceof qn?Pt(b):new qn(b);if(S.g!="")m&&(S.g=m+"."+S.g),Us(S,S.u);else{var U=d.location;S=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new qn(null);S&&Jt(B,S),m&&(B.g=m),U&&Us(B,U),b&&(B.h=b),S=B}return b=u.G,m=u.wa,b&&m&&nt(S,b,m),nt(S,"VER",u.ka),Gr(u,S),S}function wu(u,m,b){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new at(new Mi({ab:b})):new at(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ru(){}s=Ru.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Fs(){}Fs.prototype.g=function(u,m){return new An(u,m)};function An(u,m){vt.call(this),this.g=new Hs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new as(this)}x(An,vt),An.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){Kl(this.g)},An.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=xi(u),u=b);m.i.push(new Lt(m.Ya++,u)),m.I==3&&ki(m)},An.prototype.N=function(){this.g.l=null,delete this.j,Kl(this.g),delete this.g,An.Z.N.call(this)};function Cu(u){oe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const b in m){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}x(Cu,oe);function Nu(){Ve.call(this),this.status=1}x(Nu,Ve);function as(u){this.g=u}x(as,Ru),as.prototype.ra=function(){Ct(this.g,"a")},as.prototype.qa=function(u){Ct(this.g,new Cu(u))},as.prototype.pa=function(u){Ct(this.g,new Nu)},as.prototype.oa=function(){Ct(this.g,"b")},Fs.prototype.createWebChannel=Fs.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,Rb=function(){return new Fs},wb=function(){return gn()},Ab=Ue,fm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},jt.NO_ERROR=0,jt.TIMEOUT=8,jt.HTTP_ERROR=6,Kc=jt,Ur.COMPLETE="complete",xb=Ur,ie.EventType=se,se.OPEN="a",se.CLOSE="b",se.ERROR="c",se.MESSAGE="d",vt.prototype.listen=vt.prototype.J,ko=ie,at.prototype.listenOnce=at.prototype.K,at.prototype.getLastError=at.prototype.Ha,at.prototype.getLastErrorCode=at.prototype.ya,at.prototype.getStatus=at.prototype.ca,at.prototype.getResponseJson=at.prototype.La,at.prototype.getResponseText=at.prototype.la,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Fa,Sb=at}).apply(typeof Vc<"u"?Vc:typeof self<"u"?self:typeof window<"u"?window:{});const R_="@firebase/firestore",C_="4.9.2";let vn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");let Nl="12.3.0";const ma=new Mm("@firebase/firestore");function ol(){return ma.logLevel}function ue(s,...e){if(ma.logLevel<=ze.DEBUG){const i=e.map(Hm);ma.debug(`Firestore (${Nl}): ${s}`,...i)}}function Ns(s,...e){if(ma.logLevel<=ze.ERROR){const i=e.map(Hm);ma.error(`Firestore (${Nl}): ${s}`,...i)}}function vl(s,...e){if(ma.logLevel<=ze.WARN){const i=e.map(Hm);ma.warn(`Firestore (${Nl}): ${s}`,...i)}}function Hm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function be(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,Cb(s,a,i)}function Cb(s,e,i){let a=`FIRESTORE (${Nl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Ns(a),new Error(a)}function et(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||Cb(e,o,a)}function we(s,e){return s}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Ds{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ar{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class Nb{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Dw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(vn.UNAUTHENTICATED)))}shutdown(){}}class Mw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Ow{constructor(e){this.t=e,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){et(this.o===void 0,42304);let a=this.i;const o=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ar,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},y=_=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>y(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?y(_):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ar)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(et(typeof a.accessToken=="string",31837,{l:a}),new Nb(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string",2055,{h:e}),new vn(e)}}class Vw{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class kw{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new Vw(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(vn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class N_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jw{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ui(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){et(this.o===void 0,3512);const a=c=>{c.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ue("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new N_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(et(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new N_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Uw(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Gm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=Uw(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function Be(s,e){return s<e?-1:s>e?1:0}function dm(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=e.charAt(a);if(o!==c)return Wd(o)===Wd(c)?Be(o,c):Wd(o)?1:-1}return Be(s.length,e.length)}const Lw=55296,Pw=57343;function Wd(s){const e=s.charCodeAt(0);return e>=Lw&&e<=Pw}function bl(s,e,i){return s.length===e.length&&s.every(((a,o)=>i(a,e[o])))}const I_="__name__";class qi{constructor(e,i,a){i===void 0?i=0:i>e.length&&be(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&be(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return qi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof qi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=qi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Be(e.length,i.length)}static compareSegments(e,i){const a=qi.isNumericId(e),o=qi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?qi.extractNumericId(e).compare(qi.extractNumericId(i)):dm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xr.fromString(e.substring(4,e.length-2))}}class St extends qi{construct(e,i,a){return new St(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new de(W.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new St(i)}static emptyPath(){return new St([])}}const zw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends qi{construct(e,i,a){return new dn(e,i,a)}static isValidIdentifier(e){return zw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===I_}static keyField(){return new dn([I_])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new de(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new de(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new de(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(a+=y,o++):(c(),o++)}if(c(),d)throw new de(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(i)}static emptyPath(){return new dn([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(St.fromString(e))}static fromName(e){return new ye(St.fromString(e).popFirst(5))}static empty(){return new ye(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&St.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return St.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new St(e.slice()))}}function Bw(s,e,i){if(!i)throw new de(W.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function qw(s,e,i,a){if(e===!0&&a===!0)throw new de(W.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function D_(s){if(!ye.isDocumentKey(s))throw new de(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Ib(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Fm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":be(12329,{type:typeof s})}function Ei(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new de(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Fm(s);throw new de(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Qt(s,e){const i={typeString:s};return e&&(i.value=e),i}function au(s,e){if(!Ib(s))throw new de(W.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new de(W.INVALID_ARGUMENT,i);return!0}const M_=-62135596800,O_=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*O_);return new _t(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new de(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new de(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<M_)throw new de(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/O_}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(au(e,_t._jsonSchema))return new _t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-M_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:Qt("string",_t._jsonSchemaVersion),seconds:Qt("number"),nanoseconds:Qt("number")};class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new _t(0,0))}static max(){return new xe(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ko=-1;function Hw(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=xe.fromTimestamp(a===1e9?new _t(i+1,0):new _t(i,a));return new Rr(o,ye.empty(),e)}function Gw(s){return new Rr(s.readTime,s.key,Ko)}class Rr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Rr(xe.min(),ye.empty(),Ko)}static max(){return new Rr(xe.max(),ye.empty(),Ko)}}function Fw(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ye.comparator(s.documentKey,e.documentKey),i!==0?i:Be(s.largestBatchId,e.largestBatchId))}const Qw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Kw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Il(s){if(s.code!==W.FAILED_PRECONDITION||s.message!==Qw)throw s;ue("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,a)=>{i(e)}))}static reject(e){return new $(((i,a)=>{a(e)}))}static waitFor(e){return new $(((i,a)=>{let o=0,c=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++c,d&&c===o&&i()}),(_=>a(_)))})),d=!0,c===o&&i()}))}static or(e){let i=$.resolve(!1);for(const a of e)i=i.next((o=>o?$.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new $(((a,o)=>{const c=e.length,d=new Array(c);let y=0;for(let _=0;_<c;_++){const v=_;i(e[v]).next((E=>{d[v]=E,++y,y===c&&a(d)}),(E=>o(E)))}}))}static doWhile(e,i){return new $(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function Yw(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Dl(s){return s.name==="IndexedDbTransactionError"}class Ah{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ah.ce=-1;const Qm=-1;function wh(s){return s==null}function ch(s){return s===0&&1/s==-1/0}function Xw(s){return typeof s=="number"&&Number.isInteger(s)&&!ch(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const Db="";function $w(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=V_(e)),e=Ww(s.get(i),e);return V_(e)}function Ww(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case Db:i+="";break;default:i+=c}}return i}function V_(s){return s+Db+""}function k_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Or(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function Mb(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class xt{constructor(e,i){this.comparator=e,this.root=i||fn.EMPTY}insert(e,i){return new xt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kc(this.root,e,this.comparator,!0)}}class kc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??fn.RED,this.left=o??fn.EMPTY,this.right=c??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new fn(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return fn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new fn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $t{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new j_(this.data.getIterator())}getIteratorFrom(e){return new j_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new $t(this.comparator);return i.data=e,i}}class j_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class $n{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new $n([])}unionWith(e){let i=new $t(dn.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new $n(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return bl(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class Ob extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class mn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Ob("Invalid base64 string: "+c):c}})(e);return new mn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new mn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const Zw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cr(s){if(et(!!s,39018),typeof s=="string"){let e=0;const i=Zw.exec(s);if(et(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Vt(s.seconds),nanos:Vt(s.nanos)}}function Vt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Nr(s){return typeof s=="string"?mn.fromBase64String(s):mn.fromUint8Array(s)}const Vb="server_timestamp",kb="__type__",jb="__previous_value__",Ub="__local_write_time__";function Km(s){return(s?.mapValue?.fields||{})[kb]?.stringValue===Vb}function Rh(s){const e=s.mapValue.fields[jb];return Km(e)?Rh(e):e}function Yo(s){const e=Cr(s.mapValue.fields[Ub].timestampValue);return new _t(e.seconds,e.nanos)}class Jw{constructor(e,i,a,o,c,d,y,_,v,E){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=E}}const hh="(default)";class Xo{constructor(e,i){this.projectId=e,this.database=i||hh}static empty(){return new Xo("","")}get isDefaultDatabase(){return this.database===hh}isEqual(e){return e instanceof Xo&&e.projectId===this.projectId&&e.database===this.database}}const Lb="__type__",e2="__max__",jc={mapValue:{}},Pb="__vector__",fh="value";function Ir(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Km(s)?4:n2(s)?9007199254740991:t2(s)?10:11:be(28295,{value:s})}function Xi(s,e){if(s===e)return!0;const i=Ir(s);if(i!==Ir(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Yo(s).isEqual(Yo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Cr(o.timestampValue),y=Cr(c.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return Nr(o.bytesValue).isEqual(Nr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return Vt(o.geoPointValue.latitude)===Vt(c.geoPointValue.latitude)&&Vt(o.geoPointValue.longitude)===Vt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Vt(o.integerValue)===Vt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Vt(o.doubleValue),y=Vt(c.doubleValue);return d===y?ch(d)===ch(y):isNaN(d)&&isNaN(y)}return!1})(s,e);case 9:return bl(s.arrayValue.values||[],e.arrayValue.values||[],Xi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},y=c.mapValue.fields||{};if(k_(d)!==k_(y))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(y[_]===void 0||!Xi(d[_],y[_])))return!1;return!0})(s,e);default:return be(52216,{left:s})}}function $o(s,e){return(s.values||[]).find((i=>Xi(i,e)))!==void 0}function El(s,e){if(s===e)return 0;const i=Ir(s),a=Ir(e);if(i!==a)return Be(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Be(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const y=Vt(c.integerValue||c.doubleValue),_=Vt(d.integerValue||d.doubleValue);return y<_?-1:y>_?1:y===_?0:isNaN(y)?isNaN(_)?0:-1:1})(s,e);case 3:return U_(s.timestampValue,e.timestampValue);case 4:return U_(Yo(s),Yo(e));case 5:return dm(s.stringValue,e.stringValue);case 6:return(function(c,d){const y=Nr(c),_=Nr(d);return y.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const y=c.split("/"),_=d.split("/");for(let v=0;v<y.length&&v<_.length;v++){const E=Be(y[v],_[v]);if(E!==0)return E}return Be(y.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const y=Be(Vt(c.latitude),Vt(d.latitude));return y!==0?y:Be(Vt(c.longitude),Vt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return L_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const y=c.fields||{},_=d.fields||{},v=y[fh]?.arrayValue,E=_[fh]?.arrayValue,x=Be(v?.values?.length||0,E?.values?.length||0);return x!==0?x:L_(v,E)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===jc.mapValue&&d===jc.mapValue)return 0;if(c===jc.mapValue)return 1;if(d===jc.mapValue)return-1;const y=c.fields||{},_=Object.keys(y),v=d.fields||{},E=Object.keys(v);_.sort(),E.sort();for(let x=0;x<_.length&&x<E.length;++x){const O=dm(_[x],E[x]);if(O!==0)return O;const F=El(y[_[x]],v[E[x]]);if(F!==0)return F}return Be(_.length,E.length)})(s.mapValue,e.mapValue);default:throw be(23264,{he:i})}}function U_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Be(s,e);const i=Cr(s),a=Cr(e),o=Be(i.seconds,a.seconds);return o!==0?o:Be(i.nanos,a.nanos)}function L_(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=El(i[o],a[o]);if(c)return c}return Be(i.length,a.length)}function Tl(s){return mm(s)}function mm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=Cr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Nr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ye.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=mm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${mm(i.fields[d])}`;return o+"}"})(s.mapValue):be(61005,{value:s})}function Yc(s){switch(Ir(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rh(s);return e?16+Yc(e):16;case 5:return 2*s.stringValue.length;case 6:return Nr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Yc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return Or(a.fields,((c,d)=>{o+=c.length+Yc(d)})),o})(s.mapValue);default:throw be(13486,{value:s})}}function gm(s){return!!s&&"integerValue"in s}function Ym(s){return!!s&&"arrayValue"in s}function P_(s){return!!s&&"nullValue"in s}function z_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Xc(s){return!!s&&"mapValue"in s}function t2(s){return(s?.mapValue?.fields||{})[Lb]?.stringValue===Pb}function Bo(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Or(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Bo(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Bo(s.arrayValue.values[i]);return e}return{...s}}function n2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===e2}class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Xc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bo(i)}setAll(e){let i=dn.emptyPath(),a={},o=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const _=this.getFieldsMap(i);this.applyChanges(_,a,o),a={},o=[],i=y.popLast()}d?a[y.lastSegment()]=Bo(d):o.push(y.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());Xc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Xi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Xc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Or(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new Un(Bo(this.value))}}function zb(s){const e=[];return Or(s.fields,((i,a)=>{const o=new dn([i]);if(Xc(a)){const c=zb(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new $n(e)}class bn{constructor(e,i,a,o,c,d,y){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=y}static newInvalidDocument(e){return new bn(e,0,xe.min(),xe.min(),xe.min(),Un.empty(),0)}static newFoundDocument(e,i,a,o){return new bn(e,1,i,xe.min(),a,o,0)}static newNoDocument(e,i){return new bn(e,2,i,xe.min(),xe.min(),Un.empty(),0)}static newUnknownDocument(e,i){return new bn(e,3,i,xe.min(),xe.min(),Un.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class dh{constructor(e,i){this.position=e,this.inclusive=i}}function B_(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?a=ye.comparator(ye.fromName(d.referenceValue),i.key):a=El(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function q_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Xi(s.position[i],e.position[i]))return!1;return!0}class mh{constructor(e,i="asc"){this.field=e,this.dir=i}}function i2(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class Bb{}class Xt extends Bb{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new r2(e,i,a):i==="array-contains"?new o2(e,a):i==="in"?new u2(e,a):i==="not-in"?new c2(e,a):i==="array-contains-any"?new h2(e,a):new Xt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new a2(e,a):new l2(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(El(i,this.value)):i!==null&&Ir(this.value)===Ir(i)&&this.matchesComparison(El(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $i extends Bb{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new $i(e,i)}matches(e){return qb(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function qb(s){return s.op==="and"}function Hb(s){return s2(s)&&qb(s)}function s2(s){for(const e of s.filters)if(e instanceof $i)return!1;return!0}function pm(s){if(s instanceof Xt)return s.field.canonicalString()+s.op.toString()+Tl(s.value);if(Hb(s))return s.filters.map((e=>pm(e))).join(",");{const e=s.filters.map((i=>pm(i))).join(",");return`${s.op}(${e})`}}function Gb(s,e){return s instanceof Xt?(function(a,o){return o instanceof Xt&&a.op===o.op&&a.field.isEqual(o.field)&&Xi(a.value,o.value)})(s,e):s instanceof $i?(function(a,o){return o instanceof $i&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,y)=>c&&Gb(d,o.filters[y])),!0):!1})(s,e):void be(19439)}function Fb(s){return s instanceof Xt?(function(i){return`${i.field.canonicalString()} ${i.op} ${Tl(i.value)}`})(s):s instanceof $i?(function(i){return i.op.toString()+" {"+i.getFilters().map(Fb).join(" ,")+"}"})(s):"Filter"}class r2 extends Xt{constructor(e,i,a){super(e,i,a),this.key=ye.fromName(a.referenceValue)}matches(e){const i=ye.comparator(e.key,this.key);return this.matchesComparison(i)}}class a2 extends Xt{constructor(e,i){super(e,"in",i),this.keys=Qb("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class l2 extends Xt{constructor(e,i){super(e,"not-in",i),this.keys=Qb("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Qb(s,e){return(e.arrayValue?.values||[]).map((i=>ye.fromName(i.referenceValue)))}class o2 extends Xt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Ym(i)&&$o(i.arrayValue,this.value)}}class u2 extends Xt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&$o(this.value.arrayValue,i)}}class c2 extends Xt{constructor(e,i){super(e,"not-in",i)}matches(e){if($o(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!$o(this.value.arrayValue,i)}}class h2 extends Xt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Ym(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>$o(this.value.arrayValue,a)))}}class f2{constructor(e,i=null,a=[],o=[],c=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=y,this.Te=null}}function H_(s,e=null,i=[],a=[],o=null,c=null,d=null){return new f2(s,e,i,a,o,c,d)}function Xm(s){const e=we(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>pm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),wh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>Tl(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>Tl(a))).join(",")),e.Te=i}return e.Te}function $m(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!i2(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Gb(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!q_(s.startAt,e.startAt)&&q_(s.endAt,e.endAt)}function ym(s){return ye.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Ch{constructor(e,i=null,a=[],o=[],c=null,d="F",y=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=y,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function d2(s,e,i,a,o,c,d,y){return new Ch(s,e,i,a,o,c,d,y)}function Nh(s){return new Ch(s)}function G_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function m2(s){return s.collectionGroup!==null}function qo(s){const e=we(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new $t(dn.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(y=y.add(v.field))}))})),y})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new mh(c,a))})),i.has(dn.keyField().canonicalString())||e.Ie.push(new mh(dn.keyField(),a))}return e.Ie}function Fi(s){const e=we(s);return e.Ee||(e.Ee=g2(e,qo(s))),e.Ee}function g2(s,e){if(s.limitType==="F")return H_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new mh(o.field,c)}));const i=s.endAt?new dh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new dh(s.startAt.position,s.startAt.inclusive):null;return H_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function _m(s,e,i){return new Ch(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Ih(s,e){return $m(Fi(s),Fi(e))&&s.limitType===e.limitType}function Kb(s){return`${Xm(Fi(s))}|lt:${s.limitType}`}function ul(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>Fb(o))).join(", ")}]`),wh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>Tl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>Tl(o))).join(",")),`Target(${a})`})(Fi(s))}; limitType=${s.limitType})`}function Dh(s,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ye.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,o){for(const c of qo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(d,y,_){const v=B_(d,y,_);return d.inclusive?v<=0:v<0})(a.startAt,qo(a),o)||a.endAt&&!(function(d,y,_){const v=B_(d,y,_);return d.inclusive?v>=0:v>0})(a.endAt,qo(a),o))})(s,e)}function p2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Yb(s){return(e,i)=>{let a=!1;for(const o of qo(s)){const c=y2(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function y2(s,e,i){const a=s.field.isKeyField()?ye.comparator(e.key,i.key):(function(c,d,y){const _=d.data.field(c),v=y.data.field(c);return _!==null&&v!==null?El(_,v):be(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return be(19790,{direction:s.dir})}}class ya{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Or(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return Mb(this.inner)}size(){return this.innerSize}}const _2=new xt(ye.comparator);function Is(){return _2}const Xb=new xt(ye.comparator);function jo(...s){let e=Xb;for(const i of s)e=e.insert(i.key,i);return e}function $b(s){let e=Xb;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function ca(){return Ho()}function Wb(){return Ho()}function Ho(){return new ya((s=>s.toString()),((s,e)=>s.isEqual(e)))}const v2=new xt(ye.comparator),b2=new $t(ye.comparator);function qe(...s){let e=b2;for(const i of s)e=e.add(i);return e}const E2=new $t(Be);function T2(){return E2}function Wm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ch(e)?"-0":e}}function Zb(s){return{integerValue:""+s}}function S2(s,e){return Xw(e)?Zb(e):Wm(s,e)}class Mh{constructor(){this._=void 0}}function x2(s,e,i){return s instanceof gh?(function(o,c){const d={fields:{[kb]:{stringValue:Vb},[Ub]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Km(c)&&(c=Rh(c)),c&&(d.fields[jb]=c),{mapValue:d}})(i,e):s instanceof Sl?eE(s,e):s instanceof Wo?tE(s,e):(function(o,c){const d=Jb(o,c),y=F_(d)+F_(o.Ae);return gm(d)&&gm(o.Ae)?Zb(y):Wm(o.serializer,y)})(s,e)}function A2(s,e,i){return s instanceof Sl?eE(s,e):s instanceof Wo?tE(s,e):i}function Jb(s,e){return s instanceof ph?(function(a){return gm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class gh extends Mh{}class Sl extends Mh{constructor(e){super(),this.elements=e}}function eE(s,e){const i=nE(e);for(const a of s.elements)i.some((o=>Xi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Wo extends Mh{constructor(e){super(),this.elements=e}}function tE(s,e){let i=nE(e);for(const a of s.elements)i=i.filter((o=>!Xi(o,a)));return{arrayValue:{values:i}}}class ph extends Mh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function F_(s){return Vt(s.integerValue||s.doubleValue)}function nE(s){return Ym(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class w2{constructor(e,i){this.field=e,this.transform=i}}function R2(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof Sl&&o instanceof Sl||a instanceof Wo&&o instanceof Wo?bl(a.elements,o.elements,Xi):a instanceof ph&&o instanceof ph?Xi(a.Ae,o.Ae):a instanceof gh&&o instanceof gh})(s.transform,e.transform)}class C2{constructor(e,i){this.version=e,this.transformResults=i}}class Ti{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ti}static exists(e){return new Ti(void 0,e)}static updateTime(e){return new Ti(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $c(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Oh{}function iE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Zm(s.key,Ti.none()):new lu(s.key,s.data,Ti.none());{const i=s.data,a=Un.empty();let o=new $t(dn.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new Vr(s.key,a,new $n(o.toArray()),Ti.none())}}function N2(s,e,i){s instanceof lu?(function(o,c,d){const y=o.value.clone(),_=K_(o.fieldTransforms,c,d.transformResults);y.setAll(_),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):s instanceof Vr?(function(o,c,d){if(!$c(o.precondition,c))return void c.convertToUnknownDocument(d.version);const y=K_(o.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(sE(o)),_.setAll(y),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Go(s,e,i,a){return s instanceof lu?(function(c,d,y,_){if(!$c(c.precondition,d))return y;const v=c.value.clone(),E=Y_(c.fieldTransforms,_,d);return v.setAll(E),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(s,e,i,a):s instanceof Vr?(function(c,d,y,_){if(!$c(c.precondition,d))return y;const v=Y_(c.fieldTransforms,_,d),E=d.data;return E.setAll(sE(c)),E.setAll(v),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((x=>x.field)))})(s,e,i,a):(function(c,d,y){return $c(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(s,e,i)}function I2(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),c=Jb(a.transform,o||null);c!=null&&(i===null&&(i=Un.empty()),i.set(a.field,c))}return i||null}function Q_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&bl(a,o,((c,d)=>R2(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class lu extends Oh{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Vr extends Oh{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function sE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function K_(s,e,i){const a=new Map;et(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,y=e.data.field(c.field);a.set(c.field,A2(d,y,i[o]))}return a}function Y_(s,e,i){const a=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);a.set(o.field,x2(c,d,e))}return a}class Zm extends Oh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class D2 extends Oh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class M2{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&N2(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Go(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Go(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=Wb();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let y=this.applyToLocalView(d,c.mutatedFields);y=i.has(o.key)?null:y;const _=iE(d,y);_!==null&&a.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(xe.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),qe())}isEqual(e){return this.batchId===e.batchId&&bl(this.mutations,e.mutations,((i,a)=>Q_(i,a)))&&bl(this.baseMutations,e.baseMutations,((i,a)=>Q_(i,a)))}}class Jm{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){et(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return v2})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Jm(e,i,a,o)}}class O2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class V2{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ft,Qe;function k2(s){switch(s){case W.OK:return be(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return be(15467,{code:s})}}function rE(s){if(s===void 0)return Ns("GRPC error has no .code"),W.UNKNOWN;switch(s){case Ft.OK:return W.OK;case Ft.CANCELLED:return W.CANCELLED;case Ft.UNKNOWN:return W.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return W.INTERNAL;case Ft.UNAVAILABLE:return W.UNAVAILABLE;case Ft.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Ft.NOT_FOUND:return W.NOT_FOUND;case Ft.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Ft.ABORTED:return W.ABORTED;case Ft.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Ft.DATA_LOSS:return W.DATA_LOSS;default:return be(39323,{code:s})}}(Qe=Ft||(Ft={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";function j2(){return new TextEncoder}const U2=new xr([4294967295,4294967295],0);function X_(s){const e=j2().encode(s),i=new Tb;return i.update(e),new Uint8Array(i.digest())}function $_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new xr([i,a],0),new xr([o,c],0)]}class eg{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Uo(`Invalid padding: ${i}`);if(a<0)throw new Uo(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Uo(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Uo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=xr.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(xr.fromNumber(a)));return o.compare(U2)===1&&(o=new xr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=X_(e),[a,o]=$_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new eg(c,o,i);return a.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=X_(e),[a,o]=$_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Uo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vh{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,ou.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Vh(xe.min(),o,new xt(Be),Is(),qe())}}class ou{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new ou(a,i,qe(),qe(),qe())}}class Wc{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class aE{constructor(e,i){this.targetId=e,this.Ce=i}}class lE{constructor(e,i,a=mn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class W_{constructor(){this.ve=0,this.Fe=Z_(),this.Me=mn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),i=qe(),a=qe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:be(38017,{changeType:c})}})),new ou(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=Z_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,et(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class L2{constructor(e){this.Ge=e,this.ze=new Map,this.je=Is(),this.Je=Uc(),this.He=Uc(),this.Ye=new xt(Be)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(ym(c))if(a===0){const d=new ye(c.path);this.et(i,d,bn.newNoDocument(d,xe.min()))}else et(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const y=this.ut(e),_=y?this.ct(y,e,d):1;if(_!==0){this.it(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,y;try{d=Nr(a).toUint8Array()}catch(_){if(_ instanceof Ob)return vl("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{y=new eg(d,o,c)}catch(_){return vl(_ instanceof Uo?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return y.ge===0?null:y}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(y)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const y=this.ot(d);if(y){if(c.current&&ym(y.target)){const _=new ye(y.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,bn.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=qe();this.He.forEach(((c,d)=>{let y=!0;d.forEachWhile((_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Vh(e,i,this.Ye,this.je,a);return this.je=Is(),this.Je=Uc(),this.He=Uc(),this.Ye=new xt(Be),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new W_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new $t(Be),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new $t(Be),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ue("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new W_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Uc(){return new xt(ye.comparator)}function Z_(){return new xt(ye.comparator)}const P2={asc:"ASCENDING",desc:"DESCENDING"},z2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},B2={and:"AND",or:"OR"};class q2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function vm(s,e){return s.useProto3Json||wh(e)?e:{value:e}}function yh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function H2(s,e){return yh(s,e.toTimestamp())}function Qi(s){return et(!!s,49232),xe.fromTimestamp((function(i){const a=Cr(i);return new _t(a.seconds,a.nanos)})(s))}function tg(s,e){return bm(s,e).canonicalString()}function bm(s,e){const i=(function(o){return new St(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function uE(s){const e=St.fromString(s);return et(mE(e),10190,{key:e.toString()}),e}function Em(s,e){return tg(s.databaseId,e.path)}function Zd(s,e){const i=uE(e);if(i.get(1)!==s.databaseId.projectId)throw new de(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new de(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ye(hE(i))}function cE(s,e){return tg(s.databaseId,e)}function G2(s){const e=uE(s);return e.length===4?St.emptyPath():hE(e)}function Tm(s){return new St(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function hE(s){return et(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function J_(s,e,i){return{name:Em(s,e),fields:i.value.mapValue.fields}}function F2(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:be(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(v,E){return v.useProto3Json?(et(E===void 0||typeof E=="string",58123),mn.fromBase64String(E||"")):(et(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),mn.fromUint8Array(E||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(v){const E=v.code===void 0?W.UNKNOWN:rE(v.code);return new de(E,v.message||"")})(d);i=new lE(a,o,c,y||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Zd(s,a.document.name),c=Qi(a.document.updateTime),d=a.document.createTime?Qi(a.document.createTime):xe.min(),y=new Un({mapValue:{fields:a.document.fields}}),_=bn.newFoundDocument(o,c,d,y),v=a.targetIds||[],E=a.removedTargetIds||[];i=new Wc(v,E,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Zd(s,a.document),c=a.readTime?Qi(a.readTime):xe.min(),d=bn.newNoDocument(o,c),y=a.removedTargetIds||[];i=new Wc([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Zd(s,a.document),c=a.removedTargetIds||[];i=new Wc([],c,o,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new V2(o,c),y=a.targetId;i=new aE(y,d)}}return i}function Q2(s,e){let i;if(e instanceof lu)i={update:J_(s,e.key,e.value)};else if(e instanceof Zm)i={delete:Em(s,e.key)};else if(e instanceof Vr)i={update:J_(s,e.key,e.data),updateMask:tR(e.fieldMask)};else{if(!(e instanceof D2))return be(16599,{Vt:e.type});i={verify:Em(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const y=d.transform;if(y instanceof gh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Sl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Wo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof ph)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw be(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:H2(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:be(27497)})(s,e.precondition)),i}function K2(s,e){return s&&s.length>0?(et(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?Qi(o.updateTime):Qi(c);return d.isEqual(xe.min())&&(d=Qi(c)),new C2(d,o.transformResults||[])})(i,e)))):[]}function Y2(s,e){return{documents:[cE(s,e.path)]}}function X2(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=cE(s,o);const c=(function(v){if(v.length!==0)return dE($i.create(v,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((E=>(function(O){return{field:cl(O.field),direction:Z2(O.dir)}})(E)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=vm(s,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:i,parent:o}}function $2(s){let e=G2(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){et(a===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=(function(x){const O=fE(x);return O instanceof $i&&Hb(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(x){return x.map((O=>(function(ee){return new mh(hl(ee.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ee.direction))})(O)))})(i.orderBy));let y=null;i.limit&&(y=(function(x){let O;return O=typeof x=="object"?x.value:x,wh(O)?null:O})(i.limit));let _=null;i.startAt&&(_=(function(x){const O=!!x.before,F=x.values||[];return new dh(F,O)})(i.startAt));let v=null;return i.endAt&&(v=(function(x){const O=!x.before,F=x.values||[];return new dh(F,O)})(i.endAt)),d2(e,o,d,c,y,"F",_,v)}function W2(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function fE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=hl(i.unaryFilter.field);return Xt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=hl(i.unaryFilter.field);return Xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=hl(i.unaryFilter.field);return Xt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=hl(i.unaryFilter.field);return Xt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Xt.create(hl(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return $i.create(i.compositeFilter.filters.map((a=>fE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(i.compositeFilter.op))})(s):be(30097,{filter:s})}function Z2(s){return P2[s]}function J2(s){return z2[s]}function eR(s){return B2[s]}function cl(s){return{fieldPath:s.canonicalString()}}function hl(s){return dn.fromServerFormat(s.fieldPath)}function dE(s){return s instanceof Xt?(function(i){if(i.op==="=="){if(z_(i.value))return{unaryFilter:{field:cl(i.field),op:"IS_NAN"}};if(P_(i.value))return{unaryFilter:{field:cl(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(z_(i.value))return{unaryFilter:{field:cl(i.field),op:"IS_NOT_NAN"}};if(P_(i.value))return{unaryFilter:{field:cl(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cl(i.field),op:J2(i.op),value:i.value}}})(s):s instanceof $i?(function(i){const a=i.getFilters().map((o=>dE(o)));return a.length===1?a[0]:{compositeFilter:{op:eR(i.op),filters:a}}})(s):be(54877,{filter:s})}function tR(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function mE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class br{constructor(e,i,a,o,c=xe.min(),d=xe.min(),y=mn.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=_}withSequenceNumber(e){return new br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class nR{constructor(e){this.yt=e}}function iR(s){const e=$2({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?_m(e,e.limit,"L"):e}class sR{constructor(){this.Cn=new rR}addToCollectionParentIndex(e,i){return this.Cn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(Rr.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(Rr.min())}updateCollectionGroup(e,i,a){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class rR{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new $t(St.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new $t(St.comparator)).toArray()}}const ev={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gE=41943040;class jn{static withCacheSize(e){return new jn(e,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}jn.DEFAULT_COLLECTION_PERCENTILE=10,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jn.DEFAULT=new jn(gE,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jn.DISABLED=new jn(-1,0,0);class xl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new xl(0)}static cr(){return new xl(-1)}}const tv="LruGarbageCollector",aR=1048576;function nv([s,e],[i,a]){const o=Be(s,i);return o===0?Be(e,a):o}class lR{constructor(e){this.Ir=e,this.buffer=new $t(nv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();nv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class oR{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(tv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Dl(i)?ue(tv,"Ignoring IndexedDB error during garbage collection: ",i):await Il(i)}await this.Vr(3e5)}))}}class uR{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(Ah.ce);const a=new lR(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(ev)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ev):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,c,d,y,_,v;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,d=Date.now(),this.nthSequenceNumber(e,o)))).next((x=>(a=x,y=Date.now(),this.removeTargets(e,a,i)))).next((x=>(c=x,_=Date.now(),this.removeOrphanedDocuments(e,a)))).next((x=>(v=Date.now(),ol()<=ze.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${c} targets in `+(_-y)+`ms
	Removed ${x} documents in `+(v-_)+`ms
Total Duration: ${v-E}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:x}))))}}function cR(s,e){return new uR(s,e)}class hR{constructor(){this.changes=new ya((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class fR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class dR{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&Go(a.mutation,o,$n.empty(),_t.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,qe()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=qe()){const o=ca();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=jo();return c.forEach(((y,_)=>{d=d.insert(y,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=ca();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,qe())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,a,o){let c=Is();const d=Ho(),y=(function(){return Ho()})();return i.forEach(((_,v)=>{const E=a.get(v.key);o.has(v.key)&&(E===void 0||E.mutation instanceof Vr)?c=c.insert(v.key,v):E!==void 0?(d.set(v.key,E.mutation.getFieldMask()),Go(E.mutation,v,E.mutation.getFieldMask(),_t.now())):d.set(v.key,$n.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((v,E)=>d.set(v,E))),i.forEach(((v,E)=>y.set(v,new fR(E,d.get(v)??null)))),y)))}recalculateAndSaveOverlays(e,i){const a=Ho();let o=new xt(((d,y)=>d-y)),c=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((_=>{const v=i.get(_);if(v===null)return;let E=a.get(_)||$n.empty();E=y.applyToLocalView(v,E),a.set(_,E);const x=(o.get(y.batchId)||qe()).add(_);o=o.insert(y.batchId,x)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const _=y.getNext(),v=_.key,E=_.value,x=Wb();E.forEach((O=>{if(!c.has(O)){const F=iE(i.get(O),a.get(O));F!==null&&x.set(O,F),c=c.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,x))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return ye.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):m2(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):$.resolve(ca());let y=Ko,_=c;return d.next((v=>$.forEach(v,((E,x)=>(y<x.largestBatchId&&(y=x.largestBatchId),c.get(E)?$.resolve():this.remoteDocumentCache.getEntry(e,E).next((O=>{_=_.insert(E,O)}))))).next((()=>this.populateOverlays(e,v,c))).next((()=>this.computeViews(e,_,v,qe()))).next((E=>({batchId:y,changes:$b(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ye(i)).next((a=>{let o=jo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=jo();return this.indexManager.getCollectionParents(e,c).next((y=>$.forEach(y,(_=>{const v=(function(x,O){return new Ch(O,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,a,o).next((E=>{E.forEach(((x,O)=>{d=d.insert(x,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((_,v)=>{const E=v.getKey();d.get(E)===null&&(d=d.insert(E,bn.newInvalidDocument(E)))}));let y=jo();return d.forEach(((_,v)=>{const E=c.get(_);E!==void 0&&Go(E.mutation,v,$n.empty(),_t.now()),Dh(i,v)&&(y=y.insert(_,v))})),y}))}}class mR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Qi(o.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:iR(o.bundledQuery),readTime:Qi(o.readTime)}})(i)),$.resolve()}}class gR{constructor(){this.overlays=new xt(ye.comparator),this.qr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ca();return $.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.St(e,i,c)})),$.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(e,i,a){const o=ca(),c=i.length+1,d=new ye(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const _=y.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&_.largestBatchId>a&&o.set(_.getKey(),_)}return $.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new xt(((v,E)=>v-E));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let E=c.get(v.largestBatchId);E===null&&(E=ca(),c=c.insert(v.largestBatchId,E)),E.set(v.getKey(),v)}}const y=ca(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,E)=>y.set(v,E))),!(y.size()>=o)););return $.resolve(y)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new O2(i,a));let c=this.qr.get(i);c===void 0&&(c=qe(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class pR{constructor(){this.sessionToken=mn.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}class ng{constructor(){this.Qr=new $t(nn.$r),this.Ur=new $t(nn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new nn(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new nn(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new ye(new St([])),a=new nn(i,e),o=new nn(i,e+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ye(new St([])),a=new nn(i,e),o=new nn(i,e+1);let c=qe();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new nn(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class nn{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ye.comparator(e.key,i.key)||Be(e.Yr,i.Yr)}static Kr(e,i){return Be(e.Yr,i.Yr)||ye.comparator(e.key,i.key)}}class yR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new $t(nn.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new M2(c,i,a,o);this.mutationQueue.push(d);for(const y of o)this.Zr=this.Zr.add(new nn(y.key,c)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Qm:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new nn(i,0),o=new nn(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const y=this.Xr(d.Yr);c.push(y)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new $t(Be);return i.forEach((o=>{const c=new nn(o,0),d=new nn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(y=>{a=a.add(y.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;ye.isDocumentKey(c)||(c=c.child(""));const d=new nn(new ye(c),0);let y=new $t(Be);return this.Zr.forEachWhile((_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===o&&(y=y.add(_.Yr)),!0)}),d),$.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){et(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(o=>{const c=new nn(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new nn(i,0),o=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class _R{constructor(e){this.ri=e,this.docs=(function(){return new xt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():bn.newInvalidDocument(i))}getEntries(e,i){let a=Is();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():bn.newInvalidDocument(o))})),$.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=Is();const d=i.path,y=new ye(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(y);for(;_.hasNext();){const{key:v,value:{document:E}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||Fw(Gw(E),a)<=0||(o.has(E.key)||Dh(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,i,a,o){be(9500)}ii(e,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new vR(this)}getSize(e){return $.resolve(this.size)}}class vR extends hR{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class bR{constructor(e){this.persistence=e,this.si=new ya((i=>Xm(i)),$m),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new ng,this.targetCount=0,this.ai=xl.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new xl(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.Pr(i),$.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),$.waitFor(c).next((()=>o))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(e,i){return $.resolve(this._i.containsKey(i))}}class pE{constructor(e,i){this.ui={},this.overlays={},this.ci=new Ah(0),this.li=!1,this.li=!0,this.hi=new pR,this.referenceDelegate=e(this),this.Pi=new bR(this),this.indexManager=new sR,this.remoteDocumentCache=(function(o){return new _R(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new nR(i),this.Ii=new mR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new gR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new yR(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){ue("MemoryPersistence","Starting transaction:",e);const o=new ER(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class ER extends Kw{constructor(e){super(),this.currentSequenceNumber=e}}class ig{constructor(e){this.persistence=e,this.Ri=new ng,this.Vi=null}static mi(e){return new ig(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const o=ye.fromPath(a);return this.gi(e,o).next((c=>{c||i.removeEntry(o,xe.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class _h{constructor(e,i){this.persistence=e,this.pi=new ya((a=>$w(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=cR(this,i)}static mi(e,i){return new _h(e,i)}Ei(){}di(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return $.forEach(this.pi,((a,o)=>this.br(e,a,o).next((c=>c?$.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((y=>{y||(a++,c.removeEntry(d,xe.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Yc(e.data.value)),i}br(e,i,a){return $.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return $.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class sg{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=qe(),o=qe();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new sg(e,i.fromCache,a,o)}}class TR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class SR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return cS()?8:Yw(En())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new TR;return this.Ss(e,i,d).next((y=>{if(c.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>c.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(ol()<=ze.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",ul(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(ol()<=ze.DEBUG&&ue("QueryEngine","Query:",ul(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(ol()<=ze.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",ul(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fi(i))):$.resolve())}ys(e,i){if(G_(i))return $.resolve(null);let a=Fi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=_m(i,null,"F"),a=Fi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=qe(...c);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,a).next((_=>{const v=this.Ds(i,y);return this.Cs(i,v,d,_.readTime)?this.ys(e,_m(i,null,"F")):this.vs(e,v,i,_)}))))})))))}ws(e,i,a,o){return G_(i)||o.isEqual(xe.min())?$.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?$.resolve(null):(ol()<=ze.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ul(i)),this.vs(e,d,i,Hw(o,Ko)).next((y=>y)))}))}Ds(e,i){let a=new $t(Yb(e));return i.forEach(((o,c)=>{Dh(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,a){return ol()<=ze.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",ul(i)),this.ps.getDocumentsMatchingQuery(e,i,Rr.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const rg="LocalStore",xR=3e8;class AR{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new xt(Be),this.xs=new ya((c=>Xm(c)),$m),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function wR(s,e,i,a){return new AR(s,e,i,a)}async function yE(s,e){const i=we(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],y=[];let _=qe();for(const v of o){d.push(v.batchId);for(const E of v.mutations)_=_.add(E.key)}for(const v of c){y.push(v.batchId);for(const E of v.mutations)_=_.add(E.key)}return i.localDocuments.getDocuments(a,_).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:y})))}))}))}function RR(s,e){const i=we(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,_,v,E){const x=v.batch,O=x.keys();let F=$.resolve();return O.forEach((ee=>{F=F.next((()=>E.getEntry(_,ee))).next((re=>{const J=v.docVersions.get(ee);et(J!==null,48541),re.version.compareTo(J)<0&&(x.applyToRemoteDocument(re,v),re.isValidDocument()&&(re.setReadTime(v.commitVersion),E.addEntry(re)))}))})),F.next((()=>y.mutationQueue.removeMutationBatch(_,x)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let _=qe();for(let v=0;v<y.mutationResults.length;++v)y.mutationResults[v].transformResults.length>0&&(_=_.add(y.batch.mutations[v].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function _E(s){const e=we(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function CR(s,e){const i=we(s),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const y=[];e.targetChanges.forEach(((E,x)=>{const O=o.get(x);if(!O)return;y.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,x).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,x))));let F=O.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(x)!==null?F=F.withResumeToken(mn.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):E.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(E.resumeToken,a)),o=o.insert(x,F),(function(re,J,pe){return re.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-re.snapshotVersion.toMicroseconds()>=xR?!0:pe.addedDocuments.size+pe.modifiedDocuments.size+pe.removedDocuments.size>0})(O,F,E)&&y.push(i.Pi.updateTargetData(c,F))}));let _=Is(),v=qe();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),y.push(NR(c,d,e.documentUpdates).next((E=>{_=E.ks,v=E.qs}))),!a.isEqual(xe.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((x=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));y.push(E)}return $.waitFor(y).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,v))).next((()=>_))})).then((c=>(i.Ms=o,c)))}function NR(s,e,i){let a=qe(),o=qe();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=Is();return i.forEach(((y,_)=>{const v=c.get(y);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(y)),_.isNoDocument()&&_.version.isEqual(xe.min())?(e.removeEntry(y,_.readTime),d=d.insert(y,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(y,_)):ue(rg,"Ignoring outdated watch update for ",y,". Current version:",v.version," Watch version:",_.version)})),{ks:d,qs:o}}))}function IR(s,e){const i=we(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Qm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function DR(s,e){const i=we(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((c=>c?(o=c,$.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new br(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function Sm(s,e,i){const a=we(s),o=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Dl(d))throw d;ue(rg,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function iv(s,e,i){const a=we(s);let o=xe.min(),c=qe();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,v,E){const x=we(_),O=x.xs.get(E);return O!==void 0?$.resolve(x.Ms.get(O)):x.Pi.getTargetData(v,E)})(a,d,Fi(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,y.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:xe.min(),i?c:qe()))).next((y=>(MR(a,p2(e),y),{documents:y,Qs:c})))))}function MR(s,e,i){let a=s.Os.get(e)||xe.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(e,a)}class sv{constructor(){this.activeTargetIds=T2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OR{constructor(){this.Mo=new sv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new sv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class VR{Oo(e){}shutdown(){}}const rv="ConnectivityMonitor";class av{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(rv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(rv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Lc=null;function xm(){return Lc===null?Lc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Lc++,"0x"+Lc.toString(16)}const Jd="RestConnection",kR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===hh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,c){const d=xm(),y=this.zo(e,i.toUriEncodedString());ue(Jd,`Sending RPC '${e}' ${d}:`,y,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,c);const{host:v}=new URL(y),E=wl(v);return this.Jo(e,y,_,a,E).then((x=>(ue(Jd,`Received RPC '${e}' ${d}: `,x),x)),(x=>{throw vl(Jd,`RPC '${e}' ${d} failed with error: `,x,"url: ",y,"request:",a),x}))}Ho(e,i,a,o,c,d){return this.Go(e,i,a,o,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Nl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const a=kR[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class UR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const yn="WebChannelConnection";class LR extends jR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,c){const d=xm();return new Promise(((y,_)=>{const v=new Sb;v.setWithCredentials(!0),v.listenOnce(xb.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Kc.NO_ERROR:const x=v.getResponseJson();ue(yn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(x)),y(x);break;case Kc.TIMEOUT:ue(yn,`RPC '${e}' ${d} timed out`),_(new de(W.DEADLINE_EXCEEDED,"Request time out"));break;case Kc.HTTP_ERROR:const O=v.getStatus();if(ue(yn,`RPC '${e}' ${d} failed with status:`,O,"response text:",v.getResponseText()),O>0){let F=v.getResponseJson();Array.isArray(F)&&(F=F[0]);const ee=F?.error;if(ee&&ee.status&&ee.message){const re=(function(pe){const Re=pe.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(Re)>=0?Re:W.UNKNOWN})(ee.status);_(new de(re,ee.message))}else _(new de(W.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new de(W.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{ue(yn,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(o);ue(yn,`RPC '${e}' ${d} sending request:`,o),v.send(i,"POST",E,a,15)}))}T_(e,i,a){const o=xm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Rb(),y=wb(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const E=c.join("");ue(yn,`Creating RPC '${e}' stream ${o}: ${E}`,_);const x=d.createWebChannel(E,_);this.I_(x);let O=!1,F=!1;const ee=new UR({Yo:J=>{F?ue(yn,`Not sending because RPC '${e}' stream ${o} is closed:`,J):(O||(ue(yn,`Opening RPC '${e}' stream ${o} transport.`),x.open(),O=!0),ue(yn,`RPC '${e}' stream ${o} sending:`,J),x.send(J))},Zo:()=>x.close()}),re=(J,pe,Re)=>{J.listen(pe,(Ee=>{try{Re(Ee)}catch(tt){setTimeout((()=>{throw tt}),0)}}))};return re(x,ko.EventType.OPEN,(()=>{F||(ue(yn,`RPC '${e}' stream ${o} transport opened.`),ee.o_())})),re(x,ko.EventType.CLOSE,(()=>{F||(F=!0,ue(yn,`RPC '${e}' stream ${o} transport closed`),ee.a_(),this.E_(x))})),re(x,ko.EventType.ERROR,(J=>{F||(F=!0,vl(yn,`RPC '${e}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),ee.a_(new de(W.UNAVAILABLE,"The operation could not be completed")))})),re(x,ko.EventType.MESSAGE,(J=>{if(!F){const pe=J.data[0];et(!!pe,16349);const Re=pe,Ee=Re?.error||Re[0]?.error;if(Ee){ue(yn,`RPC '${e}' stream ${o} received error:`,Ee);const tt=Ee.status;let ht=(function(A){const R=Ft[A];if(R!==void 0)return rE(R)})(tt),fe=Ee.message;ht===void 0&&(ht=W.INTERNAL,fe="Unknown error status: "+tt+" with message "+Ee.message),F=!0,ee.a_(new de(ht,fe)),x.close()}else ue(yn,`RPC '${e}' stream ${o} received:`,pe),ee.u_(pe)}})),re(y,Ab.STAT_EVENT,(J=>{J.stat===fm.PROXY?ue(yn,`RPC '${e}' stream ${o} detected buffering proxy`):J.stat===fm.NOPROXY&&ue(yn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{ee.__()}),0),ee}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function em(){return typeof document<"u"?document:null}function kh(s){return new q2(s,!0)}class vE{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const lv="PersistentStream";class bE{constructor(e,i,a,o,c,d,y,_){this.Mi=e,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===W.RESOURCE_EXHAUSTED?(Ns(i.toString()),Ns("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new de(W.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(lv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ue(lv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class PR extends bE{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=F2(this.serializer,e),a=(function(c){if(!("targetChange"in c))return xe.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?xe.min():d.readTime?Qi(d.readTime):xe.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=Tm(this.serializer),i.addTarget=(function(c,d){let y;const _=d.target;if(y=ym(_)?{documents:Y2(c,_)}:{query:X2(c,_).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=oE(c,d.resumeToken);const v=vm(c,d.expectedCount);v!==null&&(y.expectedCount=v)}else if(d.snapshotVersion.compareTo(xe.min())>0){y.readTime=yh(c,d.snapshotVersion.toTimestamp());const v=vm(c,d.expectedCount);v!==null&&(y.expectedCount=v)}return y})(this.serializer,e);const a=W2(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=Tm(this.serializer),i.removeTarget=e,this.q_(i)}}class zR extends bE{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=K2(e.writeResults,e.commitTime),a=Qi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=Tm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>Q2(this.serializer,a)))};this.q_(i)}}class BR{}class qR extends BR{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new de(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,bm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(W.UNKNOWN,c.toString())}))}Ho(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,bm(i,a),o,d,y,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new de(W.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class HR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ns(i),this.aa=!1):ue("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ga="RemoteStore";class GR{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{_a(this)&&(ue(ga,"Restarting streams for network reachability change."),await(async function(_){const v=we(_);v.Ea.add(4),await uu(v),v.Ra.set("Unknown"),v.Ea.delete(4),await jh(v)})(this))}))})),this.Ra=new HR(a,o)}}async function jh(s){if(_a(s))for(const e of s.da)await e(!0)}async function uu(s){for(const e of s.da)await e(!1)}function EE(s,e){const i=we(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),ug(i)?og(i):Ml(i).O_()&&lg(i,e))}function ag(s,e){const i=we(s),a=Ml(i);i.Ia.delete(e),a.O_()&&TE(i,e),i.Ia.size===0&&(a.O_()?a.L_():_a(i)&&i.Ra.set("Unknown"))}function lg(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ml(s).Y_(e)}function TE(s,e){s.Va.Ue(e),Ml(s).Z_(e)}function og(s){s.Va=new L2({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Ml(s).start(),s.Ra.ua()}function ug(s){return _a(s)&&!Ml(s).x_()&&s.Ia.size>0}function _a(s){return we(s).Ea.size===0}function SE(s){s.Va=void 0}async function FR(s){s.Ra.set("Online")}async function QR(s){s.Ia.forEach(((e,i)=>{lg(s,e)}))}async function KR(s,e){SE(s),ug(s)?(s.Ra.ha(e),og(s)):s.Ra.set("Unknown")}async function YR(s,e,i){if(s.Ra.set("Online"),e instanceof lE&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const y of c.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.Va.removeTarget(y))})(s,e)}catch(a){ue(ga,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await vh(s,a)}else if(e instanceof Wc?s.Va.Ze(e):e instanceof aE?s.Va.st(e):s.Va.tt(e),!i.isEqual(xe.min()))try{const a=await _E(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const y=c.Va.Tt(d);return y.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const E=c.Ia.get(v);E&&c.Ia.set(v,E.withResumeToken(_.resumeToken,d))}})),y.targetMismatches.forEach(((_,v)=>{const E=c.Ia.get(_);if(!E)return;c.Ia.set(_,E.withResumeToken(mn.EMPTY_BYTE_STRING,E.snapshotVersion)),TE(c,_);const x=new br(E.target,_,v,E.sequenceNumber);lg(c,x)})),c.remoteSyncer.applyRemoteEvent(y)})(s,i)}catch(a){ue(ga,"Failed to raise snapshot:",a),await vh(s,a)}}async function vh(s,e,i){if(!Dl(e))throw e;s.Ea.add(1),await uu(s),s.Ra.set("Offline"),i||(i=()=>_E(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ue(ga,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await jh(s)}))}function xE(s,e){return e().catch((i=>vh(s,i,e)))}async function Uh(s){const e=we(s),i=Dr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Qm;for(;XR(e);)try{const o=await IR(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,$R(e,o)}catch(o){await vh(e,o)}AE(e)&&wE(e)}function XR(s){return _a(s)&&s.Ta.length<10}function $R(s,e){s.Ta.push(e);const i=Dr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function AE(s){return _a(s)&&!Dr(s).x_()&&s.Ta.length>0}function wE(s){Dr(s).start()}async function WR(s){Dr(s).ra()}async function ZR(s){const e=Dr(s);for(const i of s.Ta)e.ea(i.mutations)}async function JR(s,e,i){const a=s.Ta.shift(),o=Jm.from(a,e,i);await xE(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Uh(s)}async function eC(s,e){e&&Dr(s).X_&&await(async function(a,o){if((function(d){return k2(d)&&d!==W.ABORTED})(o.code)){const c=a.Ta.shift();Dr(a).B_(),await xE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Uh(a)}})(s,e),AE(s)&&wE(s)}async function ov(s,e){const i=we(s);i.asyncQueue.verifyOperationInProgress(),ue(ga,"RemoteStore received new credentials");const a=_a(i);i.Ea.add(3),await uu(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await jh(i)}async function tC(s,e){const i=we(s);e?(i.Ea.delete(2),await jh(i)):e||(i.Ea.add(2),await uu(i),i.Ra.set("Unknown"))}function Ml(s){return s.ma||(s.ma=(function(i,a,o){const c=we(i);return c.sa(),new PR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:FR.bind(null,s),t_:QR.bind(null,s),r_:KR.bind(null,s),H_:YR.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),ug(s)?og(s):s.Ra.set("Unknown")):(await s.ma.stop(),SE(s))}))),s.ma}function Dr(s){return s.fa||(s.fa=(function(i,a,o){const c=we(i);return c.sa(),new zR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:WR.bind(null,s),r_:eC.bind(null,s),ta:ZR.bind(null,s),na:JR.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Uh(s)):(await s.fa.stop(),s.Ta.length>0&&(ue(ga,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class cg{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,y=new cg(e,i,d,o,c);return y.start(a),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hg(s,e){if(Ns("AsyncQueue",`${e}: ${s}`),Dl(s))return new de(W.UNAVAILABLE,`${e}: ${s}`);throw s}class pl{static emptySet(e){return new pl(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ye.comparator(i.key,a.key):(i,a)=>ye.comparator(i.key,a.key),this.keyedMap=jo(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof pl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new pl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class uv{constructor(){this.ga=new xt(ye.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class Al{constructor(e,i,a,o,c,d,y,_,v){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new Al(e,i,pl.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class nC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class iC{constructor(){this.queries=cv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=we(i),c=o.queries;o.queries=cv(),c.forEach(((d,y)=>{for(const _ of y.Sa)_.onError(a)}))})(this,new de(W.ABORTED,"Firestore shutting down"))}}function cv(){return new ya((s=>Kb(s)),Ih)}async function RE(s,e){const i=we(s);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(a=2):(c=new nC,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const y=hg(d,`Initialization of query '${ul(e.query)}' failed`);return void e.onError(y)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&fg(i)}async function CE(s,e){const i=we(s),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function sC(s,e){const i=we(s);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const y of d.Sa)y.Fa(o)&&(a=!0);d.wa=o}}a&&fg(i)}function rC(s,e,i){const a=we(s),o=a.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(e)}function fg(s){s.Ca.forEach((e=>{e.next()}))}var Am,hv;(hv=Am||(Am={})).Ma="default",hv.Cache="cache";class NE{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Al(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Am.Cache}}class IE{constructor(e){this.key=e}}class DE{constructor(e){this.key=e}}class aC{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qe(),this.mutatedKeys=qe(),this.eu=Yb(e),this.tu=new pl(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new uv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,y=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,x)=>{const O=o.get(E),F=Dh(this.query,x)?x:null,ee=!!O&&this.mutatedKeys.has(O.key),re=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let J=!1;O&&F?O.data.isEqual(F.data)?ee!==re&&(a.track({type:3,doc:F}),J=!0):this.su(O,F)||(a.track({type:2,doc:F}),J=!0,(_&&this.eu(F,_)>0||v&&this.eu(F,v)<0)&&(y=!0)):!O&&F?(a.track({type:0,doc:F}),J=!0):O&&!F&&(a.track({type:1,doc:O}),J=!0,(_||v)&&(y=!0)),J&&(F?(d=d.add(F),c=re?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{tu:d,iu:a,Cs:y,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,x)=>(function(F,ee){const re=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:J})}};return re(F)-re(ee)})(E.type,x.type)||this.eu(E.doc,x.doc))),this.ou(a),o=o??!1;const y=i&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,v=_!==this.Za;return this.Za=_,d.length!==0||v?{snapshot:new Al(this.query,e.tu,c,d,e.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new uv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=qe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new DE(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new IE(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=qe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Al.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const dg="SyncEngine";class lC{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class oC{constructor(e){this.key=e,this.hu=!1}}class uC{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ya((y=>Kb(y)),Ih),this.Iu=new Map,this.Eu=new Set,this.du=new xt(ye.comparator),this.Au=new Map,this.Ru=new ng,this.Vu={},this.mu=new Map,this.fu=xl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function cC(s,e,i=!0){const a=UE(s);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await ME(a,e,i,!0),o}async function hC(s,e){const i=UE(s);await ME(i,e,!0,!1)}async function ME(s,e,i,a){const o=await DR(s.localStore,Fi(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let y;return a&&(y=await fC(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&EE(s.remoteStore,o),y}async function fC(s,e,i,a,o){s.pu=(x,O,F)=>(async function(re,J,pe,Re){let Ee=J.view.ru(pe);Ee.Cs&&(Ee=await iv(re.localStore,J.query,!1).then((({documents:N})=>J.view.ru(N,Ee))));const tt=Re&&Re.targetChanges.get(J.targetId),ht=Re&&Re.targetMismatches.get(J.targetId)!=null,fe=J.view.applyChanges(Ee,re.isPrimaryClient,tt,ht);return dv(re,J.targetId,fe.au),fe.snapshot})(s,x,O,F);const c=await iv(s.localStore,e,!0),d=new aC(e,c.Qs),y=d.ru(c.documents),_=ou.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),v=d.applyChanges(y,s.isPrimaryClient,_);dv(s,i,v.au);const E=new lC(e,i,d);return s.Tu.set(e,E),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),v.snapshot}async function dC(s,e,i){const a=we(s),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!Ih(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Sm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&ag(a.remoteStore,o.targetId),wm(a,o.targetId)})).catch(Il)):(wm(a,o.targetId),await Sm(a.localStore,o.targetId,!0))}async function mC(s,e){const i=we(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),ag(i.remoteStore,a.targetId))}async function gC(s,e,i){const a=TC(s);try{const o=await(function(d,y){const _=we(d),v=_t.now(),E=y.reduce(((F,ee)=>F.add(ee.key)),qe());let x,O;return _.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let ee=Is(),re=qe();return _.Ns.getEntries(F,E).next((J=>{ee=J,ee.forEach(((pe,Re)=>{Re.isValidDocument()||(re=re.add(pe))}))})).next((()=>_.localDocuments.getOverlayedDocuments(F,ee))).next((J=>{x=J;const pe=[];for(const Re of y){const Ee=I2(Re,x.get(Re.key).overlayedDocument);Ee!=null&&pe.push(new Vr(Re.key,Ee,zb(Ee.value.mapValue),Ti.exists(!0)))}return _.mutationQueue.addMutationBatch(F,v,pe,y)})).next((J=>{O=J;const pe=J.applyToLocalDocumentSet(x,re);return _.documentOverlayCache.saveOverlays(F,J.batchId,pe)}))})).then((()=>({batchId:O.batchId,changes:$b(x)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,y,_){let v=d.Vu[d.currentUser.toKey()];v||(v=new xt(Be)),v=v.insert(y,_),d.Vu[d.currentUser.toKey()]=v})(a,o.batchId,i),await cu(a,o.changes),await Uh(a.remoteStore)}catch(o){const c=hg(o,"Failed to persist write");i.reject(c)}}async function OE(s,e){const i=we(s);try{const a=await CR(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(et(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?et(d.hu,14607):o.removedDocuments.size>0&&(et(d.hu,42227),d.hu=!1))})),await cu(i,a,e)}catch(a){await Il(a)}}function fv(s,e,i){const a=we(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const _=we(d);_.onlineState=y;let v=!1;_.queries.forEach(((E,x)=>{for(const O of x.Sa)O.va(y)&&(v=!0)})),v&&fg(_)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function pC(s,e,i){const a=we(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new xt(ye.comparator);d=d.insert(c,bn.newNoDocument(c,xe.min()));const y=qe().add(c),_=new Vh(xe.min(),new Map,new xt(Be),d,y);await OE(a,_),a.du=a.du.remove(c),a.Au.delete(e),mg(a)}else await Sm(a.localStore,e,!1).then((()=>wm(a,e,i))).catch(Il)}async function yC(s,e){const i=we(s),a=e.batch.batchId;try{const o=await RR(i.localStore,e);kE(i,a,null),VE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await cu(i,o)}catch(o){await Il(o)}}async function _C(s,e,i){const a=we(s);try{const o=await(function(d,y){const _=we(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let E;return _.mutationQueue.lookupMutationBatch(v,y).next((x=>(et(x!==null,37113),E=x.keys(),_.mutationQueue.removeMutationBatch(v,x)))).next((()=>_.mutationQueue.performConsistencyCheck(v))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(v,E,y))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,E))).next((()=>_.localDocuments.getDocuments(v,E)))}))})(a.localStore,e);kE(a,e,i),VE(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await cu(a,o)}catch(o){await Il(o)}}function VE(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function kE(s,e,i){const a=we(s);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function wm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((a=>{s.Ru.containsKey(a)||jE(s,a)}))}function jE(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(ag(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),mg(s))}function dv(s,e,i){for(const a of i)a instanceof IE?(s.Ru.addReference(a.key,e),vC(s,a)):a instanceof DE?(ue(dg,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||jE(s,a.key)):be(19791,{wu:a})}function vC(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(ue(dg,"New document in limbo: "+i),s.Eu.add(a),mg(s))}function mg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ye(St.fromString(e)),a=s.fu.next();s.Au.set(a,new oC(i)),s.du=s.du.insert(i,a),EE(s.remoteStore,new br(Fi(Nh(i.path)),a,"TargetPurposeLimboResolution",Ah.ce))}}async function cu(s,e,i){const a=we(s),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,_)=>{d.push(a.pu(_,e,i).then((v=>{if((v||i)&&a.isPrimaryClient){const E=v?!v.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,E?"current":"not-current")}if(v){o.push(v);const E=sg.As(_.targetId,v);c.push(E)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(_,v){const E=we(_);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>$.forEach(v,(O=>$.forEach(O.Es,(F=>E.persistence.referenceDelegate.addReference(x,O.targetId,F))).next((()=>$.forEach(O.ds,(F=>E.persistence.referenceDelegate.removeReference(x,O.targetId,F)))))))))}catch(x){if(!Dl(x))throw x;ue(rg,"Failed to update sequence numbers: "+x)}for(const x of v){const O=x.targetId;if(!x.fromCache){const F=E.Ms.get(O),ee=F.snapshotVersion,re=F.withLastLimboFreeSnapshotVersion(ee);E.Ms=E.Ms.insert(O,re)}}})(a.localStore,c))}async function bC(s,e){const i=we(s);if(!i.currentUser.isEqual(e)){ue(dg,"User change. New user:",e.toKey());const a=await yE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((y=>{y.forEach((_=>{_.reject(new de(W.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await cu(i,a.Ls)}}function EC(s,e){const i=we(s),a=i.Au.get(e);if(a&&a.hu)return qe().add(a.key);{let o=qe();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const y=i.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function UE(s){const e=we(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=OE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pC.bind(null,e),e.Pu.H_=sC.bind(null,e.eventManager),e.Pu.yu=rC.bind(null,e.eventManager),e}function TC(s){const e=we(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_C.bind(null,e),e}class bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return wR(this.persistence,new SR,e.initialUser,this.serializer)}Cu(e){return new pE(ig.mi,this.serializer)}Du(e){return new OR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bh.provider={build:()=>new bh};class SC extends bh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){et(this.persistence.referenceDelegate instanceof _h,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new oR(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?jn.withCacheSize(this.cacheSizeBytes):jn.DEFAULT;return new pE((a=>_h.mi(a,i)),this.serializer)}}class Rm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>fv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=bC.bind(null,this.syncEngine),await tC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new iC})()}createDatastore(e){const i=kh(e.databaseInfo.databaseId),a=(function(c){return new LR(c)})(e.databaseInfo);return(function(c,d,y,_){return new qR(c,d,y,_)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,y){return new GR(a,o,c,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>fv(this.syncEngine,i,0)),(function(){return av.v()?new av:new VR})())}createSyncEngine(e,i){return(function(o,c,d,y,_,v,E){const x=new uC(o,c,d,y,_,v);return E&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=we(i);ue(ga,"RemoteStore shutting down."),a.Ea.add(5),await uu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Rm.provider={build:()=>new Rm};class LE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ns("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Mr="FirestoreClient";class xC{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=vn.UNAUTHENTICATED,this.clientId=Gm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ue(Mr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ue(Mr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=hg(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function tm(s,e){s.asyncQueue.verifyOperationInProgress(),ue(Mr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await yE(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function mv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await AC(s);ue(Mr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>ov(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>ov(e.remoteStore,o))),s._onlineComponents=e}async function AC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ue(Mr,"Using user provided OfflineComponentProvider");try{await tm(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;vl("Error using user provided cache. Falling back to memory cache: "+i),await tm(s,new bh)}}else ue(Mr,"Using default OfflineComponentProvider"),await tm(s,new SC(void 0));return s._offlineComponents}async function PE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ue(Mr,"Using user provided OnlineComponentProvider"),await mv(s,s._uninitializedComponentsProvider._online)):(ue(Mr,"Using default OnlineComponentProvider"),await mv(s,new Rm))),s._onlineComponents}function wC(s){return PE(s).then((e=>e.syncEngine))}async function Cm(s){const e=await PE(s),i=e.eventManager;return i.onListen=cC.bind(null,e.syncEngine),i.onUnlisten=dC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=hC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=mC.bind(null,e.syncEngine),i}function RC(s,e,i={}){const a=new Ar;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,y,_,v){const E=new LE({next:O=>{E.Nu(),d.enqueueAndForget((()=>CE(c,x)));const F=O.docs.has(y);!F&&O.fromCache?v.reject(new de(W.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&O.fromCache&&_&&_.source==="server"?v.reject(new de(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(O)},error:O=>v.reject(O)}),x=new NE(Nh(y.path),E,{includeMetadataChanges:!0,qa:!0});return RE(c,x)})(await Cm(s),s.asyncQueue,e,i,a))),a.promise}function zE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const gv=new Map;const BE="firestore.googleapis.com",pv=!0;class yv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BE,this.ssl=pv}else this.host=e.host,this.ssl=e.ssl??pv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aR)throw new de(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new de(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new de(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new de(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gg{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Dw;switch(a.type){case"firstParty":return new kw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new de(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=gv.get(i);a&&(ue("ComponentProvider","Removing Datastore"),gv.delete(i),a.terminate())})(this),Promise.resolve()}}function CC(s,e,i,a={}){s=Ei(s,gg);const o=wl(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},y=`${e}:${i}`;o&&(Uv(`https://${y}`),Lv("Firestore",!0)),c.host!==BE&&c.host!==y&&vl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:y,ssl:o,emulatorOptions:a};if(!wr(_,d)&&(s._setSettings(_),a.mockUserToken)){let v,E;if(typeof a.mockUserToken=="string")v=a.mockUserToken,E=vn.MOCK_USER;else{v=tS(a.mockUserToken,s._app?.options.projectId);const x=a.mockUserToken.sub||a.mockUserToken.user_id;if(!x)throw new de(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new vn(x)}s._authCredentials=new Mw(new Nb(v,E))}}class Lh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Lh(this.firestore,e,this._query)}}class Kt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}toJSON(){return{type:Kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(au(i,Kt._jsonSchema))return new Kt(e,a||null,new ye(St.fromString(i.referencePath)))}}Kt._jsonSchemaVersion="firestore/documentReference/1.0",Kt._jsonSchema={type:Qt("string",Kt._jsonSchemaVersion),referencePath:Qt("string")};class Zo extends Lh{constructor(e,i,a){super(e,i,Nh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new ye(e))}withConverter(e){return new Zo(this.firestore,e,this._path)}}function Mt(s,e,...i){if(s=Cn(s),arguments.length===1&&(e=Gm.newId()),Bw("doc","path",e),s instanceof gg){const a=St.fromString(e,...i);return D_(a),new Kt(s,null,new ye(a))}{if(!(s instanceof Kt||s instanceof Zo))throw new de(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(St.fromString(e,...i));return D_(a),new Kt(s.firestore,s instanceof Zo?s.converter:null,new ye(a))}}const _v="AsyncQueue";class vv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vE(this,"async_queue_retry"),this._c=()=>{const a=em();a&&ue(_v,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=em();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=em();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ar;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Dl(e))throw e;ue(_v,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Ns("INTERNAL UNHANDLED ERROR: ",bv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=cg.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&be(47125,{Pc:bv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function bv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function Ev(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class pa extends gg{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new vv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vv(e),this._firestoreClient=void 0,await e}}}function NC(s,e){const i=typeof s=="object"?s:qv(),a=typeof s=="string"?s:hh,o=Vm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=J1("firestore");c&&CC(o,...c)}return o}function pg(s){if(s._terminated)throw new de(W.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||IC(s),s._firestoreClient}function IC(s){const e=s._freezeSettings(),i=(function(o,c,d,y){return new Jw(o,c,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,zE(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new xC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class ci{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ci(mn.fromBase64String(e))}catch(i){throw new de(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ci(mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ci._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(au(e,ci._jsonSchema))return ci.fromBase64String(e.bytes)}}ci._jsonSchemaVersion="firestore/bytes/1.0",ci._jsonSchema={type:Qt("string",ci._jsonSchemaVersion),bytes:Qt("string")};class Ph{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new de(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class zh{constructor(e){this._methodName=e}}class Ki{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new de(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new de(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ki._jsonSchemaVersion}}static fromJSON(e){if(au(e,Ki._jsonSchema))return new Ki(e.latitude,e.longitude)}}Ki._jsonSchemaVersion="firestore/geoPoint/1.0",Ki._jsonSchema={type:Qt("string",Ki._jsonSchemaVersion),latitude:Qt("number"),longitude:Qt("number")};class Yi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Yi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(au(e,Yi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Yi(e.vectorValues);throw new de(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Yi._jsonSchemaVersion="firestore/vectorValue/1.0",Yi._jsonSchema={type:Qt("string",Yi._jsonSchemaVersion),vectorValues:Qt("object")};const DC=/^__.*__$/;class MC{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Vr(e,this.data,this.fieldMask,i,this.fieldTransforms):new lu(e,this.data,i,this.fieldTransforms)}}class qE{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Vr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function HE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:s})}}class Bh{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Bh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Eh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(HE(this.Ac)&&DC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class OC{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||kh(e)}Cc(e,i,a,o=!1){return new Bh({Ac:e,methodName:i,Dc:a,path:dn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function GE(s){const e=s._freezeSettings(),i=kh(s._databaseId);return new OC(s._databaseId,!!e.ignoreUndefinedProperties,i)}function VC(s,e,i,a,o,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,o);_g("Data must be an object, but it was:",d,a);const y=FE(a,d);let _,v;if(c.merge)_=new $n(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const x of c.mergeFields){const O=Nm(e,x,i);if(!d.contains(O))throw new de(W.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);KE(E,O)||E.push(O)}_=new $n(E),v=d.fieldTransforms.filter((x=>_.covers(x.field)))}else _=null,v=d.fieldTransforms;return new MC(new Un(y),_,v)}class qh extends zh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qh}}function kC(s,e,i){return new Bh({Ac:3,Dc:e.settings.Dc,methodName:s._methodName,fc:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class yg extends zh{constructor(e,i){super(e),this.vc=i}_toFieldTransform(e){const i=kC(this,e,!0),a=this.vc.map((c=>hu(c,i))),o=new Sl(a);return new w2(e.path,o)}isEqual(e){return e instanceof yg&&wr(this.vc,e.vc)}}function jC(s,e,i,a){const o=s.Cc(1,e,i);_g("Data must be an object, but it was:",o,a);const c=[],d=Un.empty();Or(a,((_,v)=>{const E=vg(e,_,i);v=Cn(v);const x=o.yc(E);if(v instanceof qh)c.push(E);else{const O=hu(v,x);O!=null&&(c.push(E),d.set(E,O))}}));const y=new $n(c);return new qE(d,y,o.fieldTransforms)}function UC(s,e,i,a,o,c){const d=s.Cc(1,e,i),y=[Nm(e,a,i)],_=[o];if(c.length%2!=0)throw new de(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)y.push(Nm(e,c[O])),_.push(c[O+1]);const v=[],E=Un.empty();for(let O=y.length-1;O>=0;--O)if(!KE(v,y[O])){const F=y[O];let ee=_[O];ee=Cn(ee);const re=d.yc(F);if(ee instanceof qh)v.push(F);else{const J=hu(ee,re);J!=null&&(v.push(F),E.set(F,J))}}const x=new $n(v);return new qE(E,x,d.fieldTransforms)}function hu(s,e){if(QE(s=Cn(s)))return _g("Unsupported field value:",e,s),FE(s,e);if(s instanceof zh)return(function(a,o){if(!HE(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const y of a){let _=hu(y,o.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,o){if((a=Cn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return S2(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=_t.fromDate(a);return{timestampValue:yh(o.serializer,c)}}if(a instanceof _t){const c=new _t(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:yh(o.serializer,c)}}if(a instanceof Ki)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ci)return{bytesValue:oE(o.serializer,a._byteString)};if(a instanceof Kt){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:tg(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Yi)return(function(d,y){return{mapValue:{fields:{[Lb]:{stringValue:Pb},[fh]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw y.Sc("VectorValues must only contain numeric values.");return Wm(y.serializer,v)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Fm(a)}`)})(s,e)}function FE(s,e){const i={};return Mb(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Or(s,((a,o)=>{const c=hu(o,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function QE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof _t||s instanceof Ki||s instanceof ci||s instanceof Kt||s instanceof zh||s instanceof Yi)}function _g(s,e,i){if(!QE(i)||!Ib(i)){const a=Fm(i);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function Nm(s,e,i){if((e=Cn(e))instanceof Ph)return e._internalPath;if(typeof e=="string")return vg(s,e);throw Eh("Field path arguments must be of type string or ",s,!1,void 0,i)}const LC=new RegExp("[~\\*/\\[\\]]");function vg(s,e,i){if(e.search(LC)>=0)throw Eh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Ph(...e.split("."))._internalPath}catch{throw Eh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Eh(s,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${o}`),_+=")"),new de(W.INVALID_ARGUMENT,y+s+_)}function KE(s,e){return s.some((i=>i.isEqual(e)))}class YE{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(XE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class PC extends YE{data(){return super.data()}}function XE(s,e){return typeof e=="string"?vg(s,e):e instanceof Ph?e._internalPath:e._delegate._internalPath}function zC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new de(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class BC{convertValue(e,i="none"){switch(Ir(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Nr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Or(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[fh].arrayValue?.values?.map((a=>Vt(a.doubleValue)));return new Yi(i)}convertGeoPoint(e){return new Ki(Vt(e.latitude),Vt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Rh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Yo(e));default:return null}}convertTimestamp(e){const i=Cr(e);return new _t(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=St.fromString(e);et(mE(a),9688,{name:e});const o=new Xo(a.get(1),a.get(3)),c=new ye(a.popFirst(5));return o.isEqual(i)||Ns(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function qC(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class Lo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ha extends YE{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(XE("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ha._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ha._jsonSchemaVersion="firestore/documentSnapshot/1.0",ha._jsonSchema={type:Qt("string",ha._jsonSchemaVersion),bundleSource:Qt("string","DocumentSnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class Zc extends ha{data(e={}){return super.data(e)}}class yl{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Lo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Zc(this._firestore,this._userDataWriter,a.key,a,new Lo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new de(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const _=new Zc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Lo(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const _=new Zc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Lo(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,E=-1;return y.type!==0&&(v=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),E=d.indexOf(y.doc.key)),{type:HC(y.type),doc:_,oldIndex:v,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=yl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Gm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function HC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:s})}}function GC(s){s=Ei(s,Kt);const e=Ei(s.firestore,pa);return RC(pg(e),s._key).then((i=>WE(e,s,i)))}yl._jsonSchemaVersion="firestore/querySnapshot/1.0",yl._jsonSchema={type:Qt("string",yl._jsonSchemaVersion),bundleSource:Qt("string","QuerySnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class $E extends BC{constructor(e){super(),this.firestore=e}convertBytes(e){return new ci(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,i)}}function FC(s,e,i){s=Ei(s,Kt);const a=Ei(s.firestore,pa),o=qC(s.converter,e);return bg(a,[VC(GE(a),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,Ti.none())])}function tn(s,e,i,...a){s=Ei(s,Kt);const o=Ei(s.firestore,pa),c=GE(o);let d;return d=typeof(e=Cn(e))=="string"||e instanceof Ph?UC(c,"updateDoc",s._key,e,i,a):jC(c,"updateDoc",s._key,e),bg(o,[d.toMutation(s._key,Ti.exists(!0))])}function Tv(s){return bg(Ei(s.firestore,pa),[new Zm(s._key,Ti.none())])}function Sv(s,...e){s=Cn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Ev(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Ev(e[a])){const _=e[a];e[a]=_.next?.bind(_),e[a+1]=_.error?.bind(_),e[a+2]=_.complete?.bind(_)}let c,d,y;if(s instanceof Kt)d=Ei(s.firestore,pa),y=Nh(s._key.path),c={next:_=>{e[a]&&e[a](WE(d,s,_))},error:e[a+1],complete:e[a+2]};else{const _=Ei(s,Lh);d=Ei(_.firestore,pa),y=_._query;const v=new $E(d);c={next:E=>{e[a]&&e[a](new yl(d,v,_,E))},error:e[a+1],complete:e[a+2]},zC(s._query)}return(function(v,E,x,O){const F=new LE(O),ee=new NE(E,F,x);return v.asyncQueue.enqueueAndForget((async()=>RE(await Cm(v),ee))),()=>{F.Nu(),v.asyncQueue.enqueueAndForget((async()=>CE(await Cm(v),ee)))}})(pg(d),y,o,c)}function bg(s,e){return(function(a,o){const c=new Ar;return a.asyncQueue.enqueueAndForget((async()=>gC(await wC(a),o,c))),c.promise})(pg(s),e)}function WE(s,e,i){const a=i.docs.get(e._key),o=new $E(s);return new ha(s,o,e._key,a,new Lo(i.hasPendingWrites,i.fromCache),e.converter)}function Rn(...s){return new yg("arrayUnion",s)}(function(e,i=!0){(function(o){Nl=o})(Rl),_l(new fa("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),y=new pa(new Ow(a.getProvider("auth-internal")),new jw(d,a.getProvider("app-check-internal")),(function(v,E){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new de(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xo(v.options.projectId,E)})(d,o),d);return c={useFetchStreams:i,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),Sr(R_,C_,e),Sr(R_,C_,"esm2020")})();const QC=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KC=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),xv=s=>{const e=KC(s);return e.charAt(0).toUpperCase()+e.slice(1)},ZE=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),YC=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var XC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const $C=Fe.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...y},_)=>Fe.createElement("svg",{ref:_,...XC,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:ZE("lucide",o),...!c&&!YC(y)&&{"aria-hidden":"true"},...y},[...d.map(([v,E])=>Fe.createElement(v,E)),...Array.isArray(c)?c:[c]]));const mt=(s,e)=>{const i=Fe.forwardRef(({className:a,...o},c)=>Fe.createElement($C,{ref:c,iconNode:e,className:ZE(`lucide-${QC(xv(s))}`,`lucide-${s}`,a),...o}));return i.displayName=xv(s),i};const WC=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}]],ua=mt("badge",WC);const ZC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Av=mt("book-open",ZC);const JC=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],JE=mt("briefcase",JC);const eN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],tN=mt("chevron-down",eN);const nN=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],wv=mt("chevron-up",nN);const iN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],nm=mt("circle-check-big",iN);const sN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],rN=mt("circle-x",sN);const aN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],lN=mt("crosshair",aN);const oN=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],uN=mt("eye-off",oN);const cN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Jc=mt("eye",cN);const hN=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],fN=mt("gavel",hN);const dN=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],mN=mt("hammer",dN);const gN=[["path",{d:"M14 18a2 2 0 0 0-4 0",key:"1v8fkw"}],["path",{d:"m19 11-2.11-6.657a2 2 0 0 0-2.752-1.148l-1.276.61A2 2 0 0 1 12 4H8.5a2 2 0 0 0-1.925 1.456L5 11",key:"1fkr7p"}],["path",{d:"M2 11h20",key:"3eubbj"}],["circle",{cx:"17",cy:"18",r:"3",key:"82mm0e"}],["circle",{cx:"7",cy:"18",r:"3",key:"lvkj7j"}]],eT=mt("hat-glasses",gN);const pN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Rv=mt("history",pN);const yN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],_N=mt("info",yN);const vN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Pc=mt("log-out",vN);const bN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],zc=mt("rotate-ccw",bN);const EN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Im=mt("search",EN);const TN=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],SN=mt("settings",TN);const xN=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],eh=mt("skull",xN);const AN=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Cv=mt("sparkles",AN);const wN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],th=mt("target",wN);const RN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],CN=mt("trash-2",RN);const NN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Nv=mt("triangle-alert",NN);const IN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Iv=mt("user",IN);const DN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],tT=mt("x",DN),MN={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:c87b26c0536b13eb6aa637"},nT=Bv(MN),Bc=Nw(nT),Ot=NC(nT),Gt=typeof __app_id<"u"?__app_id:"investigation-game",ON="2",VN=["Kitchen Knife","Dagger","Crossed Swords","Fire Axe","Pickaxe","Hook","Scissors","Champagne Bottle","Katana","Blade","Saw","Hammer","Cricket Bat","Field Hockey Stick","Wrench","Crowbar","Brick","Moai Statue","Candlestick","Frying Pan","Stone","Pistol","Silenced Gun","Boxing Glove","Shotgun","Bow and Arrow","Rope","Wire","Necktie","Teddy Bear","Plastic Bag","Chain","Scarf","Arsenic","Cyanide Pill","Venomous Snake","Syringe","Sleeping Pills","Chainsaw","Explosives","Dynamite","Electrocution","Drowning","Push from Heights","Vehicle","Trophy","Screwdriver","Clamp","Fist","Electric Plug","Fire","Oil Drum","Lighter"],kN=["Hand","Shoe","Blood Stain","DNA Sample","T-Shirt","Shirt Button","Sewing Thread","Wedding Ring","Wristwatch","Gem Stone","Glasses","Purse","Name Badge","Credit Card","Receipt","Ticket","Memo","Notebook","Framed Picture","World Map","Floppy Disk","Smartphone","Laptop","Key","Coin","Cigarette","Flashlight","Funeral Urn","Ice Cube","Fork and Knife","Wilted Flower","Leaf","Droplet","Oil Drum","Artist Palette","Fountain Pen","Candy","Wine Glass","Hot Beverage","Kiss Mark","Lotion Bottle","Salt Shaker","Collision","Hammer","Glove","Ninja Mask","Joker Card","Game Die","Mirror"],jN={"Kitchen Knife":"",Dagger:"","Crossed Swords":"","Fire Axe":"",Pickaxe:"",Hook:"",Scissors:"","Champagne Bottle":"",Katana:"",Blade:"",Saw:"",Hammer:"","Cricket Bat":"","Field Hockey Stick":"",Wrench:"",Crowbar:"",Brick:"","Moai Statue":"",Candlestick:"","Frying Pan":"",Stone:"",Pistol:"","Silenced Gun":"","Boxing Glove":"",Shotgun:"","Bow and Arrow":"",Rope:"",Wire:"",Necktie:"","Teddy Bear":"","Plastic Bag":"",Chain:"",Scarf:"",Arsenic:"","Cyanide Pill":"","Venomous Snake":"",Syringe:"","Sleeping Pills":"",Chainsaw:"",Explosives:"",Dynamite:"",Electrocution:"",Drowning:"","Push from Heights":"",Vehicle:"",Trophy:"",Screwdriver:"",Clamp:"",Fist:"","Electric Plug":"",Fire:"","Oil Drum":"",Lighter:"",Hand:"",Shoe:"","Blood Stain":"","DNA Sample":"","T-Shirt":"","Shirt Button":"","Sewing Thread":"","Wedding Ring":"",Wristwatch:"","Gem Stone":"",Glasses:"",Purse:"","Name Badge":"","Credit Card":"",Receipt:"",Ticket:"",Memo:"",Notebook:"","Framed Picture":"","World Map":"","Floppy Disk":"",Smartphone:"",Laptop:"",Key:"",Coin:"",Cigarette:"",Flashlight:"","Funeral Urn":"","Ice Cube":"","Fork and Knife":"","Wilted Flower":"",Leaf:"",Droplet:"","Artist Palette":"","Fountain Pen":"",Candy:"","Wine Glass":"","Hot Beverage":"","Kiss Mark":"","Lotion Bottle":"","Salt Shaker":"",Collision:"",Glove:"","Ninja Mask":"","Joker Card":"","Game Die":"",Mirror:""},qc={FIXED:{title:"Cause of Death",type:"purple",options:["Suffocation","Severe Injury","Loss of Blood","Chemical / Sickness","Accident","Projectile / Blast"]},MAIN:[{title:"Location of Crime",type:"green",options:["Living Room","Bedroom","Kitchen / Dining","Bathroom","Balcony","Garden"]},{title:"Location of Crime",type:"green",options:["Office","Hotel","Restaurant","Pub/Bar","School","Hospital"]},{title:"Location of Crime",type:"green",options:["Vacation home","Park","Supermarket","Forest","University","Bookstore"]},{title:"Location of Crime",type:"green",options:["Playground","Classroom","Dormitory","Cafeteria","Lift","Toilet"]}],SUBORDINATE:[{title:"Duration of Crime",options:["Instantaneous","Few Seconds","Few Minutes","Under an Hour","Several Hours","Days"]},{title:"Trace at Scene",options:["Footprints","Fingerprints","Blood/Fluids","Smell/Scent","Sound/Recording","Writing/Marks"]},{title:"Weapon Type",options:["Sharp","Blunt","Toxin/Chemical","Projectile","Everyday Object","Machinery/Tool"]},{title:"Weapon Property",options:["Heavy","Lightweight","Long","Short/Small","Noisy","Silent"]},{title:"Weapon Origin",options:["Household","Industrial/Work","Medical/Chemical","Outdoor/Nature","Military/Tactical","Sports/Recreation"]},{title:"Evidence Material",options:["Fabric/Cloth","Metal","Paper/Wood","Plastic","Biological","Stone/Glass"]},{title:"Evidence Condition",options:["Broken/Damaged","New/Shiny","Old/Worn","Wet/Dirty","Burnt/Singed","Incomplete"]},{title:"Social Relation",options:["Relatives","Friends","Colleagues","Lovers","Strangers","Enemies"]},{title:"Sudden Incident",options:["Loud Shout","Heavy Thud","Bright Flash","Dead Silence","Scream","Breaking Glass"]},{title:"Motive",options:["Hatred/Revenge","Greed/Money","Love/Passion","Jealousy","Fear/Defense","Madness"]},{title:"Killer's Trait",options:["Arrogant","Cautious","Violent","Calm/Cold","Nervous","Calculating"]},{title:"Impression",options:["Natural","Artistic","Cruel","Clumsy","Professional","Bizarre"]},{title:"Noticed By Others",options:["Sound","Smell","Silhouette","Someone Running","Object Thrown","Nothing"]},{title:"Evidence Size",options:["Tiny","Small","Medium","Large","Heavy","Microscopic"]},{title:"Evidence Color",options:["Red/Purple","Blue/Green","Yellow/Orange","Black/Grey","White/Clear","Metallic"]},{title:"State of Scene",options:["Chaos / Destruction","Signs of Struggle","Perfectly Tidy","Items Missing","Staged / Artificially Arranged","Covered (Ash/Water/Dust)"]},{title:"Injury/Wounds",options:["Head / Neck","Chest / Torso","Hands / Arms","Legs / Feet","Internal Organs","No Visible Wounds"]},{title:"Assassin Hint",options:["Man","Woman","Tall","Short","Strong","Weak"]},{title:"Shape of Evidence",options:["Round/Spherical","Square/Rectangular","Long/Thin","Flat/Sheet","Irregular/Amorphous","Sharp/Pointed"]},{title:"Weapon Operation",options:["Muscle Power","Mechanism/Trigger","Chemical/Reaction","Electrical","Passive/Trap","Animal/Living"]},{title:"Evidence Domain",options:["Work/Office","Home/Domestic","Travel/Outdoor","Leisure/Hobby","Medical/Hygiene","Vice/Illegal"]},{title:"Concealability (Weapon)",options:["Pocket Size","Bag/Backpack Size","Two-Handed/Large","Not Concealable","Invisible/Internal","Disguised as Object"]},{title:"Relation to Victim (Evidence)",options:["Owned by Victim","Stolen from Victim","Gifted to Victim","Belonged to Killer","Found at Scene","Unknown Origin"]},{title:"Texture of Evidence",options:["Hard/Rigid","Soft/Flexible","Metallic/Cold","Wooden/Rough","Paper-like","Sticky/Liquid"]},{title:"Residue Left by Weapon",options:["Blood","Powder/Dust","Water/Fluid","Ash/Burn Mark","Fragments/Shards","None/Clean"]},{title:"Visibility of Injury",options:["None Visible","Small Puncture","Large Wound","Bruising/Swelling","Burns/Rash","Dismemberment/Breakage"]}]},al=s=>{let e=s.length,i;const a=[...s];for(;e!==0;)i=Math.floor(Math.random()*e),e--,[a[e],a[i]]=[a[i],a[e]];return a},_n=s=>{const e=jN[s]||"";return p.jsx("span",{className:"text-2xl leading-none filter drop-shadow-sm grayscale-[0.2] mb-1 block",children:e})},ll=()=>p.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[p.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-gray-800 via-gray-900 to-black opacity-80"}),p.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:'url("https://www.transparenttextures.com/patterns/black-scales.png")'}})]}),gr=()=>p.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 py-2 w-full bg-slate-950/80 backdrop-blur-sm border-t border-slate-900/50 z-50",children:[p.jsx(eT,{size:12,className:"text-green-500"}),p.jsx("span",{className:"text-[10px] font-black tracking-widest text-green-500 uppercase",children:"INVESTIGATION"})]}),im=({onClose:s})=>p.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-950/95 flex justify-center overflow-y-auto p-4 animate-in slide-in-from-bottom-10 fade-in duration-300",children:p.jsxs("div",{className:"w-full max-w-4xl relative",children:[p.jsx("button",{onClick:s,className:"fixed top-4 right-4 md:absolute md:-right-12 md:top-0 bg-slate-800 p-2 rounded-full text-white hover:bg-slate-700 shadow-lg z-50",children:p.jsx(tT,{size:24})}),p.jsxs("div",{className:"space-y-8 pb-20 mt-12 md:mt-0",children:[p.jsxs("div",{className:"text-center space-y-2",children:[p.jsx("h2",{className:"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-green-600",children:"GAME GUIDE"}),p.jsx("p",{className:"text-slate-400",children:"Deduction, Deception, and Discovery"})]}),p.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl p-6 shadow-xl",children:[p.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[p.jsx(th,{className:"text-red-500"})," The Objective"]}),p.jsxs("p",{className:"text-slate-300 leading-relaxed",children:["A murder has been committed. The"," ",p.jsx("span",{className:"text-blue-400 font-bold",children:"Detective"})," knows the solution but can only communicate through vague clues. The"," ",p.jsx("span",{className:"text-green-400 font-bold",children:"Investigators"})," must interpret these clues to find the true"," ",p.jsx("strong",{className:"text-white",children:"Murder Weapon"})," and"," ",p.jsx("strong",{className:"text-white",children:"Evidence"})," before time runs out. Meanwhile, the"," ",p.jsx("span",{className:"text-red-400 font-bold",children:"Murderer"})," hides among them, trying to mislead the investigation."]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"bg-slate-800/50 border border-blue-500/30 rounded-xl p-5",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx("div",{className:"bg-blue-600 p-1.5 rounded text-white",children:p.jsx(Im,{size:16})}),p.jsx("span",{className:"font-bold text-blue-400",children:"Detective"})]}),p.jsx("p",{className:"text-sm text-slate-300",children:"Host & Guide. Knows the solution. Cannot speak about the case. Selects tile cards to give hints."})]}),p.jsxs("div",{className:"bg-slate-800/50 border border-red-500/30 rounded-xl p-5",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx("div",{className:"bg-red-600 p-1.5 rounded text-white",children:p.jsx(eh,{size:16})}),p.jsx("span",{className:"font-bold text-red-400",children:"Murderer"})]}),p.jsx("p",{className:"text-sm text-slate-300",children:"The Culprit. Chooses the Means & Clue at the start. Hides identity and tries to sabotage the team."})]}),p.jsxs("div",{className:"bg-slate-800/50 border border-emerald-500/30 rounded-xl p-5",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx("div",{className:"bg-emerald-600 p-1.5 rounded text-white",children:p.jsx(ua,{size:16})}),p.jsx("span",{className:"font-bold text-emerald-400",children:"Investigator"})]}),p.jsx("p",{className:"text-sm text-slate-300",children:"The Team. Discusses clues and submits accusations to solve the crime."})]}),p.jsxs("div",{className:"bg-slate-800/50 border border-orange-500/30 rounded-xl p-5",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx("div",{className:"bg-orange-600 p-1.5 rounded text-white",children:p.jsx(JE,{size:16})}),p.jsx("span",{className:"font-bold text-orange-400",children:"Accomplice"})]}),p.jsx("p",{className:"text-sm text-slate-300",children:"(Optional) Knows who the Murderer is. Helps them win without getting caught."})]}),p.jsxs("div",{className:"bg-slate-800/50 border border-indigo-500/30 rounded-xl p-5 md:col-span-2",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx("div",{className:"bg-indigo-600 p-1.5 rounded text-white",children:p.jsx(Jc,{size:16})}),p.jsx("span",{className:"font-bold text-indigo-400",children:"Witness"})]}),p.jsx("p",{className:"text-sm text-slate-300",children:"(Optional) Knows the Murderer but not the solution. Must help Investigators without revealing themselves. If the Murderer finds the Witness at the end, the Murderer wins!"})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("h3",{className:"text-xl font-bold text-white pl-2 border-l-4 border-green-500",children:"How It Works"}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx("div",{className:"flex-none w-8 h-8 rounded-full bg-slate-800 border border-slate-700 flex items-center justify-center font-bold text-slate-500",children:"1"}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-white",children:"The Crime"}),p.jsx("p",{className:"text-sm text-slate-400",children:"Everyone closes their eyes. The Murderer wakes up and selects 1 Means card and 1 Clue card from their hand. This becomes the solution."})]})]}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx("div",{className:"flex-none w-8 h-8 rounded-full bg-slate-800 border border-slate-700 flex items-center justify-center font-bold text-slate-500",children:"2"}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-white",children:"The Investigation"}),p.jsxs("p",{className:"text-sm text-slate-400",children:[`The Detective analyzes the solution. They receive random "Scene Tiles" (e.g., Location, Weather, Victim's Clothes). The Detective selects the option on each tile that`," ",p.jsx("em",{children:"best relates"})," to the solution."]})]})]}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx("div",{className:"flex-none w-8 h-8 rounded-full bg-slate-800 border border-slate-700 flex items-center justify-center font-bold text-slate-500",children:"3"}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-white",children:"Discussion & Rounds"}),p.jsxs("p",{className:"text-sm text-slate-400",children:[`Investigators discuss the tiles. "Why did the Detective say it was 'Noisy'? Maybe the weapon is a Gun?" `,p.jsx("br",{}),"The game lasts ",p.jsx("strong",{children:"3 Rounds"}),". In each new round, the Detective replaces one old tile with a new one to refine the clues."]})]})]}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx("div",{className:"flex-none w-8 h-8 rounded-full bg-slate-800 border border-slate-700 flex items-center justify-center font-bold text-slate-500",children:"4"}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-white",children:"Accusation & Winning"}),p.jsxs("ul",{className:"text-sm text-slate-400 list-disc ml-4 mt-1 space-y-1",children:[p.jsxs("li",{children:["Investigators can spend their"," ",p.jsx("strong",{className:"text-yellow-500",children:"Badge"})," to make an accusation at any time."]}),p.jsxs("li",{children:["If ",p.jsx("strong",{children:"CORRECT"}),": Investigators Win! (Unless Murderer finds Witness)."]}),p.jsxs("li",{children:["If ",p.jsx("strong",{children:"WRONG"}),": The player loses their badge and can no longer solve."]}),p.jsxs("li",{children:["If all badges are used or rounds end without a solution:"," ",p.jsx("strong",{children:"Murderer Wins!"})]})]})]})]})]}),p.jsx("div",{className:"text-center pt-8",children:p.jsx("button",{onClick:s,className:"bg-white text-slate-900 px-8 py-3 rounded-full font-bold hover:scale-105 transition-transform",children:"Got it, Let's Play!"})})]})]})});function UN(){const[s,e]=Fe.useState(null),[i,a]=Fe.useState("menu"),[o,c]=Fe.useState(""),[d,y]=Fe.useState(""),[_,v]=Fe.useState(null),[E,x]=Fe.useState(null),[O,F]=Fe.useState(!1),[ee,re]=Fe.useState(""),[J,pe]=Fe.useState(!1),[Re,Ee]=Fe.useState(null),[tt,ht]=Fe.useState(null),[fe,N]=Fe.useState(null),[A,R]=Fe.useState(!1),[V,D]=Fe.useState(!1),[j,w]=Fe.useState(!1),[Ke,Tt]=Fe.useState(!1),[H,te]=Fe.useState(!1),[me,He]=Fe.useState(!0),[De,M]=Fe.useState(null),[K,ae]=Fe.useState(!0),[le,ve]=Fe.useState(!0),[Se,Me]=Fe.useState(!1);if(Fe.useEffect(()=>{const Z=localStorage.getItem("investigation_roomId");Z&&(v(Z),y(Z))},[]),Fe.useEffect(()=>{(async()=>{if(typeof __initial_auth_token<"u"&&__initial_auth_token)try{await gA(Bc,__initial_auth_token)}catch(se){console.error("Custom token sign-in failed, falling back to anon",se),await p_(Bc)}else await p_(Bc)})();const ie=_A(Bc,se=>e(se));return()=>ie()},[]),Fe.useEffect(()=>{E?.phase==="WITNESS_HUNT"?(ae(!0),ve(!0)):ae(!1)},[E?.phase]),Fe.useEffect(()=>{E?.accompliceSuggestion&&ve(!0)},[E?.accompliceSuggestion]),Fe.useEffect(()=>{if(!_||!s)return;const Z=Mt(Ot,"artifacts",Gt,"public","data","rooms",_),ie=Sv(Z,se=>{if(se.exists()){const oe=se.data();if(!oe.players.find(Ue=>Ue.id===s.uid)){localStorage.removeItem("investigation_roomId"),v(null),a("menu"),x(null),re("You were removed from the room.");return}x({id:se.id,...oe}),oe.status==="playing"||oe.status==="finished"?a("game"):a("lobby"),oe.status==="lobby"&&(R(!1),N(null),Tt(!1)),oe.status==="playing"&&oe.phase==="INVESTIGATION"&&oe.players.filter(Pn=>Pn.role!=="DETECTIVE"&&Pn.badge===!0).length===0&&!oe.activeAccusation&&oe.hostId===s.uid&&Rt()}else localStorage.removeItem("investigation_roomId"),v(null),a("menu"),re("Room closed by host.")},se=>console.error(se));return()=>ie()},[_,s]),Fe.useEffect(()=>{const Z=Sv(Mt(Ot,"game_hub_settings","config"),ie=>{ie.exists()&&(ie.data()[ON]?.maintenance?pe(!0):pe(!1))});return()=>Z()},[]),J)return p.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[p.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[p.jsx(mN,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),p.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),p.jsx("p",{className:"text-gray-400",children:"Crime scene sealed. Forensics team is sweeping the area."})]}),p.jsx("div",{className:"h-8"}),p.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:p.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:p.jsx("div",{className:"text-center pb-12 animate-pulse",children:p.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[p.jsx(Cv,{size:16})," Visit Gamehub...Try our other releases..."," ",p.jsx(Cv,{size:16})]})})})})]});const Rt=async Z=>{let ie=[{text:"All badges used. Murderer Escapes!",type:"danger"}];await tn(Mt(Ot,"artifacts",Gt,"public","data","rooms",_),{phase:"GAME_OVER_BAD",logs:Rn(...ie)})},rt=(Z,ie)=>{M({title:Z,message:ie,type:"alert"})},Wi=(Z,ie,se)=>{M({title:Z,message:ie,type:"confirm",onConfirm:se})},Zi=()=>M(null),Ms=async()=>{if(!s||!o.trim())return re("Enter nickname.");F(!0);const Z=Math.random().toString(36).substring(2,7).toUpperCase();localStorage.setItem("investigation_roomId",Z);const ie={roomId:Z,hostId:s.uid,players:[{id:s.uid,name:o,role:null,means:[],clues:[],badge:!0,ready:!0}],status:"lobby",settings:{useAccomplice:!1,useWitness:!1},logs:[],accusations:[],nextRoundRequests:[],replayRequests:[],readyPlayers:[],activeAccusation:null};try{await FC(Mt(Ot,"artifacts",Gt,"public","data","rooms",Z),ie),v(Z),y(Z)}catch{re("Failed to create room.")}F(!1)},Os=async()=>{if(!s||!d||!o.trim())return re("Enter details.");F(!0);try{const Z=Mt(Ot,"artifacts",Gt,"public","data","rooms",d.toUpperCase()),ie=await GC(Z);if(!ie.exists())throw new Error("Room not found.");const se=ie.data();if(se.players.length>=10)throw new Error("Room full.");if(se.status!=="lobby")throw new Error("Game started.");se.players.find(Ve=>Ve.id===s.uid)||await tn(Z,{players:Rn({id:s.uid,name:o,role:null,means:[],clues:[],badge:!0,ready:!0})}),localStorage.setItem("investigation_roomId",d.toUpperCase()),v(d.toUpperCase())}catch(Z){re(Z.message)}F(!1)},Ln=async Z=>{if(!E||E.hostId!==s.uid)return;const ie=E.settings?.[Z]||!1;await tn(Mt(Ot,"artifacts",Gt,"public","data","rooms",_),{[`settings.${Z}`]:!ie})},Ji=async()=>{if(!_||!s||!E)return;localStorage.removeItem("investigation_roomId");const Z=Mt(Ot,"artifacts",Gt,"public","data","rooms",_);try{if(E.hostId===s.uid)await Tv(Z);else{const ie=E.players.filter(se=>se.id!==s.uid);ie.length===0?await Tv(Z):await tn(Z,{players:ie})}}catch(ie){console.error("Error leaving room:",ie)}v(null),a("menu"),x(null),te(!1)},es=async Z=>{if(!E||E.hostId!==s.uid)return;const ie=E.players.filter(se=>se.id!==Z);await tn(Mt(Ot,"artifacts",Gt,"public","data","rooms",_),{players:ie})},Vs=async()=>{!E||!s||E.replayRequests?.includes(s.uid)||await tn(Mt(Ot,"artifacts",Gt,"public","data","rooms",_),{replayRequests:Rn(s.uid)})},ts=async()=>{if(!E||E.hostId!==s.uid)return;const Z=E.players.map(ie=>({...ie,role:null,means:[],clues:[],badge:!0,ready:!0}));await tn(Mt(Ot,"artifacts",Gt,"public","data","rooms",_),{status:"lobby",phase:null,solution:null,activeTiles:null,logs:[],players:Z,round:1,accusations:[],successfulSolvers:[],accompliceSuggestion:null,murdererGuess:null,nextRoundRequests:[],replayRequests:[],readyPlayers:[],activeAccusation:null})},vt=async()=>{if(E.players.length<4)return re("Need 4+ players.");const Z=E.players.length;let ie=["DETECTIVE","MURDERER"];for(Z>=6&&E.settings?.useAccomplice&&ie.push("ACCOMPLICE"),Z>=5&&E.settings?.useWitness&&ie.push("WITNESS");ie.length<Z;)ie.push("INVESTIGATOR");ie=al(ie);const se=al([...VN]),oe=al([...kN]),Ve=E.players.map((Wt,$e)=>{if(ie[$e]==="DETECTIVE")return{...Wt,role:ie[$e],means:[],clues:[],badge:!1};const rn=[],ft=[];for(let kt=0;kt<4;kt++)rn.push(se.pop());for(let kt=0;kt<4;kt++)ft.push(oe.pop());return{...Wt,role:ie[$e],means:rn,clues:ft,badge:!0}}),Ue=al([...qc.MAIN])[0],Pn=al([...qc.SUBORDINATE]).slice(0,4),gn=[{...qc.FIXED,id:"cause",selected:null},{...Ue,id:"main",selected:null},...Pn.map((Wt,$e)=>({...Wt,id:`scene_${$e}`,selected:null}))];await tn(Mt(Ot,"artifacts",Gt,"public","data","rooms",_),{status:"playing",phase:"PRE_GAME_MURDER",players:Ve,activeTiles:gn,solution:null,round:1,logs:Rn({text:"Game Started. Planning Phase...",type:"neutral"}),accusations:[],nextRoundRequests:[],readyPlayers:[],replayRequests:[],activeAccusation:null})},Ct=async()=>{if(E.readyPlayers?.includes(s.uid))return;const Z=[...E.readyPlayers||[],s.uid],ie=E.players.length===Z.length;let se={readyPlayers:Z};ie&&(se.phase="MURDERER_SELECT",se.logs=Rn({text:"Everyone Ready. Murderer is choosing...",type:"danger"})),await tn(Mt(Ot,"artifacts",Gt,"public","data","rooms",_),se)},Si=async(Z,ie)=>{await tn(Mt(Ot,"artifacts",Gt,"public","data","rooms",_),{solution:{means:Z,clue:ie,murdererId:s.uid},phase:"DETECTIVE_TURN",logs:Rn({text:"Crime Committed. Detective is analyzing evidence...",type:"danger"})})},Ol=async(Z,ie)=>{const se=[...E.activeTiles];se[Z].selected=ie,await tn(Mt(Ot,"artifacts",Gt,"public","data","rooms",_),{activeTiles:se})},va=async()=>{if(!E.activeTiles.every(ie=>ie.selected!==null))return rt("Incomplete","Select an option for every tile!");await tn(Mt(Ot,"artifacts",Gt,"public","data","rooms",_),{phase:"INVESTIGATION",logs:Rn({text:`Round ${E.round} Clues Revealed! Investigators, submit your files when ready.`,type:"info"}),nextRoundRequests:[]})},sn=async()=>{E.nextRoundRequests?.includes(s.uid)||await tn(Mt(Ot,"artifacts",Gt,"public","data","rooms",_),{nextRoundRequests:Rn(s.uid)})},ns=async Z=>{if(Z<2)return rt("Invalid Action","You cannot replace the Cause of Death or Main Location tile.");if(E.round>=3)return;const ie=E.activeTiles.map(Ue=>Ue.title),se=qc.SUBORDINATE.filter(Ue=>!ie.includes(Ue.title)),oe=al(se)[0],Ve=[...E.activeTiles];Ve[Z]={...oe,id:`scene_r${E.round+1}_${Z}`,selected:null},await tn(Mt(Ot,"artifacts",Gt,"public","data","rooms",_),{phase:"DETECTIVE_TURN",round:E.round+1,activeTiles:Ve,logs:Rn({text:`Round ${E.round+1} Begins. Detective is updating a clue...`,type:"neutral"})}),Tt(!1)},kr=async()=>{if(!fe)return;const{targetId:Z,means:ie,clue:se}=fe,oe=E.players.findIndex($e=>$e.id===s.uid),Ve=[...E.players];Ve[oe].badge=!1;const Ue=E.solution,Pn=Z===Ue.murdererId&&ie===Ue.means&&se===Ue.clue,gn={solverId:s.uid,solverName:Ve[oe].name,targetId:Z,means:ie,clue:se,isCorrect:Pn,continueVotes:[]},Wt=E.nextRoundRequests||[];Wt.includes(s.uid)||Wt.push(s.uid),await tn(Mt(Ot,"artifacts",Gt,"public","data","rooms",_),{players:Ve,accusations:Rn(gn),activeAccusation:gn,nextRoundRequests:Wt,logs:Rn({text:`${Ve[oe].name} submitted a case file.`,type:"neutral"})}),R(!1),N(null)},jr=async()=>{if(!E.activeAccusation)return;const Z=E.activeAccusation.continueVotes||[];if(Z.includes(s.uid))return;const ie=[...Z,s.uid],se=E.players.length===ie.length;let oe={"activeAccusation.continueVotes":ie};se&&(oe.activeAccusation=null,E.activeAccusation.isCorrect?E.settings?.useWitness?(oe.phase="WITNESS_HUNT",oe.successfulSolvers=[E.activeAccusation.solverId],oe.logs=Rn({text:"CORRECT! But Murderer can steal win by finding Witness.",type:"warning"})):(oe.phase="GAME_OVER_GOOD",oe.successfulSolvers=[E.activeAccusation.solverId],oe.logs=Rn({text:"CORRECT! Investigators Win!",type:"success"})):oe.logs=Rn({text:`${E.activeAccusation.solverName} was WRONG. Game Continues.`,type:"danger"})),await tn(Mt(Ot,"artifacts",Gt,"public","data","rooms",_),oe)},xi=async Z=>{await tn(Mt(Ot,"artifacts",Gt,"public","data","rooms",_),{accompliceSuggestion:Z})},Vl=async Z=>{const ie=E.players.find(Ve=>Ve.id===Z);let se="GAME_OVER_GOOD",oe=[];ie.role==="WITNESS"?(se="GAME_OVER_BAD",oe.push({text:`Murderer identified the Witness (${ie.name})! Murderer Wins!`,type:"danger"})):(se="GAME_OVER_GOOD",oe.push({text:"Murderer guessed wrong! Investigators Win!",type:"success"})),await tn(Mt(Ot,"artifacts",Gt,"public","data","rooms",_),{phase:se,logs:Rn(...oe)})},ks=({role:Z})=>{if(!Z)return null;let ie="bg-gray-600",se=Iv;Z==="DETECTIVE"&&(ie="bg-blue-600",se=Im),Z==="MURDERER"&&(ie="bg-red-600",se=eh),Z==="INVESTIGATOR"&&(ie="bg-emerald-600",se=ua),Z==="ACCOMPLICE"&&(ie="bg-orange-600",se=JE),Z==="WITNESS"&&(ie="bg-indigo-600",se=Jc);const oe=Z.charAt(0)+Z.slice(1).toLowerCase();return p.jsxs("div",{className:`${ie} text-white px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1 shadow-sm`,children:[U1.createElement(se,{size:12})," ",p.jsx("span",{className:"whitespace-nowrap",children:oe})]})};if(!s)return p.jsx("div",{className:"h-screen bg-slate-900 text-white flex items-center justify-center",children:"Loading..."});if(i==="menu")return p.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[p.jsx(ll,{}),Se&&p.jsx(im,{onClose:()=>Me(!1)}),p.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[p.jsx(eT,{size:64,className:"text-green-500 mx-auto mb-4 animate-bounce drop-shadow-[0_0_15px_rgba(34,197,94,0.5)]"}),p.jsx("h1",{className:"text-3xl sm:text-5xl md:text-6xl font-black text-transparent bg-clip-text bg-gradient-to-b from-green-300 to-green-600 font-serif tracking-widest drop-shadow-md break-words max-w-full",children:"INVESTIGATION"}),p.jsx("p",{className:"text-gray-400 tracking-[0.3em] uppercase mt-2",children:"Murder Mystery"})]}),p.jsxs("div",{className:"bg-gray-900/80 backdrop-blur border border-gray-700 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10 animate-in slide-in-from-bottom-10 duration-700 delay-100",children:[ee&&p.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-sm border border-red-800",children:ee}),p.jsx("input",{className:"w-full bg-black/50 border border-gray-600 p-3 rounded mb-4 text-white placeholder-gray-500 focus:border-green-500 outline-none transition-colors",placeholder:"Your Codename",value:o,onChange:Z=>c(Z.target.value)}),p.jsxs("button",{onClick:Ms,disabled:O,className:"w-full bg-gradient-to-r from-green-700 to-green-600 hover:from-green-600 hover:to-green-500 p-4 rounded font-bold mb-4 flex items-center justify-center gap-2 border border-green-500/30 shadow-[0_0_15px_rgba(34,197,94,0.2)] transition-all",children:[p.jsx(ua,{size:20})," Create Case File"]}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[p.jsx("input",{className:"w-full sm:flex-1 bg-black/50 border border-gray-600 p-3 rounded text-white placeholder-gray-500 uppercase font-mono tracking-wider focus:border-green-500 outline-none",placeholder:"ROOM CODE",value:d,onChange:Z=>y(Z.target.value.toUpperCase())}),p.jsx("button",{onClick:Os,disabled:O,className:"w-full sm:w-auto bg-gray-800 hover:bg-gray-700 border border-gray-600 px-6 py-3 rounded font-bold transition-colors",children:"Join"})]}),p.jsxs("button",{onClick:()=>Me(!0),className:"w-full text-sm text-gray-400 hover:text-white flex items-center justify-center gap-2 py-2",children:[p.jsx(Av,{size:16})," How to Play"]})]}),p.jsx("div",{className:"fixed bottom-0 left-0 w-full"}),p.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Inspired by Deception: Murder in Hongkong. A tribute game.",p.jsx("br",{}),"Developed by ",p.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",p.jsx("a",{href:"https://your-link-here.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 underline hover:text-blue-600",children:"GAMEHUB"})," ","for more games."]})]});if(i==="lobby"&&E){const Z=E.hostId===s.uid,ie=E.players.length;return p.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-6 relative pb-16",children:[p.jsx(ll,{}),Se&&p.jsx(im,{onClose:()=>Me(!1)}),p.jsxs("div",{className:"z-10 w-full max-w-lg bg-gray-800/90 p-8 rounded-2xl border border-gray-700 shadow-2xl mb-4",children:[p.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-gray-700 pb-4",children:[p.jsxs("h2",{className:"text-2xl font-serif text-green-500",children:["Case File: ",E.roomId]}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[p.jsx(Iv,{size:16})," ",ie,"/10"]}),p.jsx("button",{onClick:()=>te(!0),className:"p-2 bg-red-900/50 hover:bg-red-900 rounded text-red-300",title:"Leave Room",children:p.jsx(Pc,{size:16})})]})]}),p.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-xl border border-gray-700 flex justify-between items-center mb-6",children:[p.jsxs("div",{className:"flex items-center gap-2 text-gray-300 font-bold",children:[p.jsx(SN,{size:18})," Settings"]}),p.jsxs("div",{className:"flex gap-4",children:[ie>=6&&p.jsxs("label",{className:`flex items-center gap-2 cursor-pointer ${!Z&&"opacity-50 pointer-events-none"}`,children:[p.jsx("input",{type:"checkbox",checked:E.settings?.useAccomplice||!1,onChange:()=>Ln("useAccomplice"),className:"w-4 h-4 accent-green-500 rounded"}),p.jsx("span",{className:"text-sm",children:"Accomp."})]}),ie>=5&&p.jsxs("label",{className:`flex items-center gap-2 cursor-pointer ${!Z&&"opacity-50 pointer-events-none"}`,children:[p.jsx("input",{type:"checkbox",checked:E.settings?.useWitness||!1,onChange:()=>Ln("useWitness"),className:"w-4 h-4 accent-green-500 rounded"}),p.jsx("span",{className:"text-sm",children:"Witness"})]}),ie<5&&p.jsx("span",{className:"text-xs text-gray-500",children:"Need 5+ players for extra roles"})]})]}),p.jsxs("div",{className:"space-y-3 mb-8",children:[E.players.map(se=>p.jsxs("div",{className:"flex items-center justify-between bg-gray-900 p-4 rounded border border-gray-700",children:[p.jsx("div",{className:"flex items-center gap-3",children:p.jsxs("span",{className:`font-bold ${se.id===s.uid?"text-green-500":"text-gray-300"}`,children:[se.name," ",se.id===E.hostId&&""]})}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("span",{className:"text-green-600 flex items-center gap-1 text-sm",children:[p.jsx(nm,{size:14})," Ready"]}),Z&&se.id!==s.uid&&p.jsx("button",{onClick:()=>es(se.id),className:"text-red-900 hover:text-red-500 transition-colors",children:p.jsx(CN,{size:16})})]})]},se.id)),E.players.length<4&&p.jsx("div",{className:"text-center text-gray-500 animate-pulse italic",children:"Waiting for more investigators..."})]}),Z?p.jsx("button",{onClick:vt,disabled:E.players.length<4,className:`w-full py-4 rounded-xl font-bold text-lg shadow-lg transition-all ${E.players.length<4?"bg-gray-700 cursor-not-allowed text-gray-500":"bg-green-700 hover:bg-green-600 text-white shadow-green-900/30"}`,children:"Start Investigation"}):p.jsx("div",{className:"text-center text-green-500/80 font-serif mb-2",children:"Waiting for Host to start..."})]}),p.jsx("div",{className:"fixed bottom-0 left-0 w-full",children:p.jsx(gr,{})}),H&&p.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6 max-w-sm w-full text-center shadow-2xl",children:[p.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Leave Case?"}),p.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:"Are you sure? You will be removed from the lobby."}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsx("button",{onClick:()=>te(!1),className:"bg-slate-700 hover:bg-slate-600 text-white py-3 rounded font-bold",children:"Stay"}),p.jsx("button",{onClick:Ji,className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold",children:"Leave"})]})]})})]})}if(i==="game"&&E){const Z=E.players.find(X=>X.id===s.uid);if(!Z)return p.jsx("div",{onClick:()=>window.location.reload(),className:"p-10 text-white cursor-pointer",children:"You were removed. Click to reload."});let ie={};if(ie[Z.id]=Z.role,Z.role==="DETECTIVE"&&E.players.forEach(X=>ie[X.id]=X.role),Z.role==="MURDERER"){const X=E.players.find(Oe=>Oe.role==="ACCOMPLICE");X&&(ie[X.id]="ACCOMPLICE")}if(Z.role==="ACCOMPLICE"){const X=E.players.find(Oe=>Oe.role==="MURDERER");X&&(ie[X.id]="MURDERER")}Z.role==="WITNESS"&&E.players.forEach(X=>{X.role==="MURDERER"&&(ie[X.id]="MURDERER")});const se=Z.role==="DETECTIVE",oe=Z.role==="MURDERER",Ve=Z.role==="ACCOMPLICE",Ue=E.phase==="PRE_GAME_MURDER",Pn=E.phase==="MURDERER_SELECT",gn=E.phase==="DETECTIVE_TURN",Wt=E.phase==="INVESTIGATION",$e=E.phase==="WITNESS_HUNT",rn=E.phase==="GAME_OVER_GOOD",ft=(X,Oe,an)=>{se||!Z.badge||!Wt||N(gt=>{if(gt?.targetId!==X)return{targetId:X,[Oe]:an,[Oe==="means"?"clue":"means"]:null};const dt={...gt};return dt[Oe]===an?dt[Oe]=null:dt[Oe]=an,dt})},kt=E.players.filter(X=>X.role!=="DETECTIVE").every(X=>{const Oe=E.nextRoundRequests?.includes(X.id),an=E.accusations?.some(gt=>gt.solverId===X.id);return Oe||an}),Tn=E.accusations?.find(X=>X.solverId===s.uid);if(Ue){const X=E.readyPlayers?.includes(s.uid);return p.jsxs("div",{className:"min-h-screen bg-slate-900 text-slate-100 flex flex-col relative pb-16",children:[p.jsx(ll,{}),p.jsxs("div",{className:"bg-slate-800 p-3 shadow-lg z-20 flex justify-between items-center sticky top-0 border-b border-slate-700",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-slate-400 font-bold uppercase",children:"Pre-Game Phase"}),p.jsxs("div",{className:"text-sm font-bold text-white flex items-center gap-2",children:[p.jsx(Jc,{size:16})," View Roles & Cards"]})]}),p.jsx("button",{onClick:Ct,disabled:X,className:`px-6 py-2 rounded-full font-bold text-sm transition-all ${X?"bg-green-600 text-white cursor-default":"bg-blue-600 hover:bg-blue-500 text-white shadow-lg animate-pulse"}`,children:X?"Waiting for others...":"Ready for Murder"})]}),p.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-transparent z-10",children:p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 max-w-7xl mx-auto pb-20",children:E.players.map(Oe=>{const an=Oe.id===s.uid,gt=ie[Oe.id]||Oe.role==="DETECTIVE";return p.jsxs("div",{className:`relative bg-slate-900 border rounded-xl overflow-hidden shadow-lg ${an?"border-blue-500/50":"border-slate-800"}`,children:[p.jsx("div",{className:"p-2 bg-slate-800/80 flex justify-between items-center border-b border-slate-700",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:`font-bold text-sm ${an?"text-blue-400":"text-slate-200"}`,children:Oe.name}),gt&&p.jsx(ks,{role:Oe.role})]})}),p.jsxs("div",{className:"p-2 grid grid-cols-2 gap-2",children:[p.jsxs("div",{className:"space-y-1",children:[p.jsx("div",{className:"text-[10px] uppercase font-bold text-red-900 mb-1",children:"Murder Weapon"}),Oe.means.map(dt=>p.jsxs("div",{className:"p-1.5 rounded bg-slate-800 border border-red-900/30 flex flex-col items-center justify-center text-center gap-1 min-h-[50px] shadow-sm",children:[_n(dt),p.jsx("span",{className:"text-[9px] font-bold text-red-200 leading-tight line-clamp-2",children:dt})]},dt))]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("div",{className:"text-[10px] uppercase font-bold text-blue-900 mb-1",children:"Evidence on Site"}),Oe.clues.map(dt=>p.jsxs("div",{className:"p-1.5 rounded bg-slate-800 border border-blue-900/30 flex flex-col items-center justify-center text-center gap-1 min-h-[50px] shadow-sm",children:[_n(dt),p.jsx("span",{className:"text-[9px] font-bold text-blue-200 leading-tight line-clamp-2",children:dt})]},dt))]})]})]},Oe.id)})})}),p.jsx("div",{className:"fixed bottom-0 left-0 w-full z-50",children:p.jsx(gr,{})})]})}return Pn?oe||Ve?p.jsxs("div",{className:"min-h-screen bg-red-950 text-white p-4 flex flex-col items-center justify-center relative pb-16",children:[p.jsx(ll,{}),p.jsxs("div",{className:"z-10 text-center w-full flex-1 flex flex-col",children:[p.jsxs("div",{className:"mt-4 mb-2",children:[p.jsx("h1",{className:"text-3xl md:text-4xl font-black text-red-500 mb-2",children:"COMMIT THE CRIME"}),p.jsx("p",{className:"text-red-200 mb-4 max-w-md mx-auto text-sm md:text-base",children:oe?"Select 1 Murder Weapon and 1 Evidence.":"The Murderer is selecting the weapon and evidence. Watch closely."})]}),oe?p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 w-full max-w-4xl mx-auto flex-1 overflow-y-auto pb-32",children:[p.jsxs("div",{className:"bg-red-900/30 p-4 rounded-xl border border-red-800 h-fit",children:[p.jsxs("h3",{className:"text-red-400 font-bold mb-2 flex items-center gap-2 text-sm",children:[p.jsx(fN,{size:16})," MURDER WEAPON"]}),p.jsx("div",{className:"grid grid-cols-2 gap-2",children:Z.means.map(X=>p.jsxs("button",{onClick:()=>N({...fe,means:X}),className:`p-2 rounded-lg border flex flex-col items-center justify-center gap-1 transition-all min-h-[80px] shadow-md hover:shadow-lg active:scale-95 ${fe?.means===X?"bg-red-600 border-white text-white scale-105 shadow-xl ring-2 ring-white/50":"bg-red-900/50 border-red-700 text-red-200 hover:bg-red-800"}`,children:[_n(X),p.jsx("span",{className:"text-xs font-bold leading-tight",children:X})]},X))})]}),p.jsxs("div",{className:"bg-blue-900/30 p-4 rounded-xl border border-blue-800 h-fit",children:[p.jsxs("h3",{className:"text-blue-400 font-bold mb-2 flex items-center gap-2 text-sm",children:[p.jsx(Im,{size:16})," EVIDENCE ON SITE"]}),p.jsx("div",{className:"grid grid-cols-2 gap-2",children:Z.clues.map(X=>p.jsxs("button",{onClick:()=>N({...fe,clue:X}),className:`p-2 rounded-lg border flex flex-col items-center justify-center gap-1 transition-all min-h-[80px] shadow-md hover:shadow-lg active:scale-95 ${fe?.clue===X?"bg-blue-600 border-white text-white scale-105 shadow-xl ring-2 ring-white/50":"bg-blue-900/50 border-blue-700 text-blue-200 hover:bg-blue-800"}`,children:[_n(X),p.jsx("span",{className:"text-xs font-bold leading-tight",children:X})]},X))})]})]}):p.jsx("div",{className:"flex-1 flex items-center justify-center",children:p.jsxs("div",{className:"bg-red-900/20 p-8 rounded-xl border border-red-500/30 animate-pulse text-center",children:[p.jsx(eh,{size:48,className:"mx-auto text-red-500 mb-4"}),p.jsx("div",{className:"text-red-300 font-bold",children:"MURDER IN PROGRESS..."})]})})]}),oe&&p.jsx("div",{className:"fixed bottom-12 left-0 w-full p-4 flex justify-center z-40 pointer-events-none",children:p.jsx("button",{disabled:!fe?.means||!fe?.clue,onClick:()=>Si(fe.means,fe.clue),className:"w-full max-w-md bg-white text-red-900 px-8 py-3 rounded-full font-black text-lg hover:scale-105 disabled:opacity-50 disabled:scale-100 transition-all shadow-2xl pointer-events-auto",children:"CONFIRM KILL"})}),p.jsx("div",{className:"fixed bottom-0 left-0 w-full z-50",children:p.jsx(gr,{})})]}):se?p.jsxs("div",{className:"min-h-screen bg-slate-900 text-white flex flex-col items-center justify-center p-8 text-center relative pb-16",children:[p.jsx(ll,{}),p.jsxs("div",{className:"z-10",children:[p.jsx("h2",{className:"text-3xl font-bold text-blue-400 mb-4",children:"Awaiting The Crime..."}),p.jsxs("div",{className:"animate-pulse bg-slate-800 p-6 rounded-xl max-w-lg",children:[p.jsx("p",{className:"text-slate-300",children:"The Murderer is choosing the Murder Weapon and Evidence."}),p.jsx("p",{className:"text-slate-500 text-sm mt-4",children:"Study everyone's cards carefully while you wait."})]})]}),p.jsx("div",{className:"fixed bottom-0 left-0 w-full z-50",children:p.jsx(gr,{})})]}):p.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col items-center justify-center p-8 text-center relative pb-16",children:[p.jsxs("div",{className:"z-10",children:[p.jsx(uN,{size:64,className:"text-slate-700 mb-6 mx-auto"}),p.jsx("h2",{className:"text-4xl font-black text-slate-500 mb-4",children:"EYES CLOSED"}),p.jsx("p",{className:"text-slate-600",children:"The Murder is taking place. You will be informed once the detective finishes examining the crime scene."})]}),p.jsx("div",{className:"fixed bottom-0 left-0 w-full z-50",children:p.jsx(gr,{})})]}):p.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100 font-sans flex flex-col relative overflow-hidden pb-12",children:[p.jsx(ll,{}),Se&&p.jsx(im,{onClose:()=>Me(!1)}),p.jsxs("div",{className:"bg-slate-900 border-b border-slate-800 p-2 px-3 flex justify-between items-center shadow-md z-20 sticky top-0",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"font-serif font-black text-xl tracking-wider text-green-500",children:"INV."}),p.jsxs("div",{className:"flex flex-col leading-tight",onClick:()=>D(!V),children:[p.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold",children:"Role"}),p.jsx("div",{className:"flex items-center gap-1 cursor-pointer hover:bg-slate-800 rounded -ml-1 transition-colors",children:V?p.jsx(ks,{role:Z.role}):p.jsxs("span",{className:"text-xs font-bold text-slate-300 flex items-center",children:["Show ",p.jsx(Jc,{size:10,className:"ml-1"})]})})]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("div",{className:"text-center mr-2",children:[p.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold block",children:"Rnd"}),p.jsxs("span",{className:"text-sm font-bold text-white",children:[E.round,"/3"]})]}),se&&gn&&p.jsx("button",{onClick:va,className:"bg-green-600 hover:bg-green-500 text-white px-3 py-1.5 rounded text-xs font-bold shadow-lg animate-pulse",children:"Confirm"}),Wt&&se&&E.round<3&&p.jsxs("button",{disabled:!kt,onClick:()=>Tt(!Ke),className:`${Ke?"bg-red-500 animate-pulse":kt?"bg-blue-600":"bg-slate-700 opacity-50 cursor-not-allowed"} 
                     hover:brightness-110 text-white px-3 py-1.5 rounded text-xs font-bold shadow-lg transition-colors flex items-center gap-1`,children:[Ke?"Select Tile":"Next Rnd",!kt&&p.jsxs("span",{className:"text-[10px] bg-black/30 px-1 rounded",children:[E.nextRoundRequests?.length||0,"/",E.players.length-1]})]}),Wt&&!se&&!Tn&&!E.nextRoundRequests?.includes(s.uid)&&E.round<3&&p.jsx("button",{onClick:sn,className:"bg-blue-600 hover:bg-blue-500 text-white px-3 py-1.5 rounded text-xs font-bold shadow-lg",children:"Req. Next"}),Wt&&!se&&E.nextRoundRequests?.includes(s.uid)&&p.jsx("div",{className:"text-[10px] text-green-400 font-bold bg-green-900/30 px-2 py-1 rounded border border-green-800",children:"Ready"}),p.jsx("button",{onClick:()=>w(!0),className:"p-2 hover:bg-slate-800 rounded-full text-slate-400 hover:text-white",children:p.jsx(Rv,{size:18})}),p.jsx("button",{onClick:()=>Me(!0),className:"p-2 hover:bg-slate-800 rounded-full text-slate-400 hover:text-white",children:p.jsx(Av,{size:18})}),p.jsx("button",{onClick:()=>te(!0),className:"p-2 hover:bg-slate-800 rounded-full text-slate-400 hover:text-red-400",children:p.jsx(Pc,{size:18})})]})]}),p.jsx("div",{className:"bg-slate-800/80 p-2 flex justify-center md:hidden border-b border-slate-700 z-10",children:p.jsxs("button",{onClick:()=>He(!me),className:"text-xs font-bold text-slate-400 flex items-center gap-1",children:[me?"Hide Clues":"Show Clues"," ",me?p.jsx(wv,{size:12}):p.jsx(tN,{size:12})]})}),me&&p.jsx("div",{className:"bg-slate-900/50 p-2 overflow-x-auto border-b border-slate-800 z-10",children:p.jsx("div",{className:"flex gap-2 min-w-max mx-auto px-2",children:E.activeTiles.map((X,Oe)=>p.jsxs("div",{onClick:()=>{Ke&&se&&Oe>=2&&ns(Oe)},className:`w-40 bg-slate-800 rounded-lg border-2 flex flex-col relative shadow-lg transition-all
                    ${Ke&&Oe>=2&&se?"border-red-500 cursor-pointer hover:bg-red-900/20 scale-105":se&&gn&&"hover:border-blue-500/50"} 
                    ${X.selected===null?"border-slate-700":"border-slate-600"}
                    ${Ke&&Oe<2&&"opacity-50"} 
                  `,children:[Ke&&Oe>=2&&se&&p.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 z-10 text-red-500 font-bold",children:p.jsx(rN,{size:32})}),p.jsx("div",{className:`p-1.5 text-center font-bold text-[10px] uppercase tracking-wider text-white truncate ${X.type==="purple"?"bg-purple-900":X.type==="green"?"bg-emerald-900":"bg-slate-700"}`,children:X.title}),p.jsx("div",{className:"p-1.5 space-y-0.5",children:X.options.map((an,gt)=>{const dt=X.selected===gt;return p.jsxs("div",{onClick:is=>{is.stopPropagation(),se&&gn&&Ol(Oe,gt)},className:`text-[10px] px-1.5 py-1 rounded cursor-pointer flex justify-between items-center transition-colors ${dt?"bg-red-600 text-white font-bold shadow-md ring-1 ring-red-400":se&&gn?"hover:bg-slate-700 text-slate-300":"text-slate-500 opacity-50"}`,children:[p.jsx("span",{className:"truncate",children:an}),dt&&p.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full ml-1 shrink-0"})]},gt)})})]},X.id))})}),p.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-transparent relative z-10",children:p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 max-w-7xl mx-auto pb-32",children:E.players.map(X=>{const Oe=X.id===s.uid,an=ie[X.id]||X.role==="DETECTIVE"||E.phase.includes("GAME_OVER"),gt=fe?.targetId===X.id,dt=E.accompliceSuggestion===X.id,is=Tn?.targetId===X.id,jt=E.accusations?.find(We=>We.solverId===X.id),Ur=$e&&!K&&(Ve||oe)&&X.role!=="DETECTIVE"&&X.role!=="MURDERER"&&X.role!=="ACCOMPLICE";return p.jsxs("div",{className:`relative bg-slate-900 border rounded-xl overflow-hidden shadow-lg transition-all 
                     ${Oe?"border-blue-500/30 ring-1 ring-blue-900/50":"border-slate-800"}
                     ${$e&&dt&&oe?"ring-4 ring-yellow-500 scale-105":""}
                     ${is?"border-yellow-500/50 ring-1 ring-yellow-500/30":""}
                   `,children:[p.jsxs("div",{className:"p-2 bg-slate-800/80 flex justify-between items-center border-b border-slate-700",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:`font-bold text-sm ${Oe?"text-blue-400":"text-slate-200"}`,children:X.name}),an&&p.jsx(ks,{role:X.role})]}),X.badge&&X.role!=="DETECTIVE"&&p.jsx(ua,{size:14,className:"text-yellow-500",fill:"currentColor"}),!X.badge&&X.role!=="DETECTIVE"&&p.jsx("div",{className:"text-[10px] text-slate-600 font-bold uppercase",children:"Submitted"})]}),p.jsxs("div",{className:"p-2 grid grid-cols-2 gap-2",children:[p.jsxs("div",{className:"space-y-1",children:[p.jsx("div",{className:"text-[10px] uppercase font-bold text-red-900 mb-1",children:"Murder Weapon"}),X.means.map(We=>{const zn=gt&&fe.means===We,Sn=is&&Tn.means===We,js=(se||Ve||oe)&&E.solution?.means===We&&E.solution?.murdererId===X.id;return p.jsxs("div",{onClick:xn=>{xn.stopPropagation(),X.id!==s.uid&&ft(X.id,"means",We)},className:`p-1.5 rounded-md border flex flex-col items-center justify-center text-center cursor-pointer transition-all active:scale-95 touch-manipulation min-h-[60px] shadow-sm ${zn?"bg-red-600 text-white font-bold shadow-md scale-105 border border-white":Sn?"bg-red-900/40 text-red-200 border border-yellow-500/50 shadow-inner":js?"bg-purple-900/80 text-white border-2 border-purple-400 shadow-[0_0_10px_rgba(168,85,247,0.5)] animate-pulse":"bg-slate-800 text-red-200 border border-red-900/30 hover:bg-red-900/20 hover:border-red-500"} ${X.id===s.uid&&"opacity-50 cursor-not-allowed hover:bg-slate-800 hover:border-red-900/30"}`,children:[_n(We),p.jsx("span",{className:"text-[10px] font-bold leading-tight line-clamp-2 w-full",children:We})]},We)})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("div",{className:"text-[10px] uppercase font-bold text-blue-900 mb-1",children:"Evidence on Site"}),X.clues.map(We=>{const zn=gt&&fe.clue===We,Sn=is&&Tn.clue===We,js=(se||Ve||oe)&&E.solution?.clue===We&&E.solution?.murdererId===X.id;return p.jsxs("div",{onClick:xn=>{xn.stopPropagation(),X.id!==s.uid&&ft(X.id,"clue",We)},className:`p-1.5 rounded-md border flex flex-col items-center justify-center text-center cursor-pointer transition-all active:scale-95 touch-manipulation min-h-[60px] shadow-sm ${zn?"bg-blue-600 text-white font-bold shadow-md scale-105 border border-white":Sn?"bg-blue-900/40 text-blue-200 border border-yellow-500/50 shadow-inner":js?"bg-purple-900/80 text-white border-2 border-purple-400 shadow-[0_0_10px_rgba(168,85,247,0.5)] animate-pulse":"bg-slate-800 text-blue-200 border border-blue-900/30 hover:bg-blue-900/20 hover:border-blue-500"} ${X.id===s.uid&&"opacity-50 cursor-not-allowed hover:bg-slate-800 hover:border-blue-900/30"}`,children:[_n(We),p.jsx("span",{className:"text-[10px] font-bold leading-tight line-clamp-2 w-full",children:We})]},We)})]})]}),$e&&dt&&(Ve||oe)&&p.jsx("div",{className:"absolute inset-0 bg-yellow-500/30 pointer-events-none flex items-center justify-center z-20",children:p.jsx("div",{className:`bg-yellow-500 text-black px-3 py-1.5 rounded-lg font-black text-xs shadow-xl border-2 border-black transform -rotate-6 ${oe?"animate-pulse scale-110":""}`,children:Ve?"YOU SUGGESTED":"ACCOMPLICE'S PICK"})}),jt&&p.jsxs("div",{className:`mx-2 mb-2 border-2 rounded-lg p-2 text-center relative overflow-hidden ${($e||rn)&&jt.isCorrect?"border-green-500 bg-green-950/40":"border-red-500 bg-red-950/40"}`,children:[p.jsx("div",{className:`absolute top-0 left-0 w-full h-1 ${($e||rn)&&jt.isCorrect?"bg-green-500":"bg-red-500"}`}),p.jsx("div",{className:`text-[10px] font-black uppercase tracking-widest mb-1 ${($e||rn)&&jt.isCorrect?"text-green-400":"text-red-400"}`,children:($e||rn)&&jt.isCorrect?"SUCCESSFUL ATTEMPT":"FAILED ATTEMPT"}),p.jsxs("div",{className:"text-xs text-slate-200 mb-1",children:["Suspected:"," ",p.jsx("span",{className:"font-bold text-white text-sm",children:E.players.find(We=>We.id===jt.targetId)?.name})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[p.jsxs("div",{className:`border rounded px-1 py-0.5 text-[10px] truncate flex items-center justify-center gap-1 ${($e||rn)&&jt.isCorrect?"bg-black/40 border-green-500/20 text-green-200":"bg-black/40 border-red-500/20 text-red-200"}`,children:[_n(jt.means),jt.means]}),p.jsxs("div",{className:`border rounded px-1 py-0.5 text-[10px] truncate flex items-center justify-center gap-1 ${($e||rn)&&jt.isCorrect?"bg-black/40 border-green-500/20 text-green-200":"bg-black/40 border-blue-500/20 text-blue-200"}`,children:[_n(jt.clue),jt.clue]})]})]}),Ur&&p.jsxs("div",{className:"p-2 pt-0 mt-auto sticky bottom-0 bg-slate-900/95 backdrop-blur-sm border-t border-slate-700 -mx-px -mb-px rounded-b-xl z-30",children:[Ve&&p.jsxs("button",{onClick:We=>{We.stopPropagation(),xi(X.id)},className:"w-full bg-yellow-500 hover:bg-yellow-400 text-black font-bold py-2 px-4 rounded-lg text-xs flex items-center justify-center gap-2 shadow-lg animate-in slide-in-from-bottom-2 fade-in",children:[p.jsx(th,{size:14})," Suggest as Witness"]}),oe&&p.jsxs("button",{onClick:We=>{We.stopPropagation();const zn=E.settings?.useAccomplice,Sn=E.accompliceSuggestion;if(zn&&!Sn){rt("Wait!","Wait for your Accomplice to suggest a target first!");return}Wi("Eliminate Witness?",`Eliminate ${X.name} as the Witness? This ends the game.`,()=>Vl(X.id))},className:"w-full bg-red-600 hover:bg-red-500 text-white font-bold py-2 px-4 rounded-lg text-xs flex items-center justify-center gap-2 shadow-lg animate-in slide-in-from-bottom-2 fade-in animate-pulse",children:[p.jsx(lN,{size:14})," ELIMINATE"]})]}),gt&&(fe.means||fe.clue)&&!$e&&p.jsx("div",{className:"p-2 pt-0 mt-auto sticky bottom-0 bg-slate-900/95 backdrop-blur-sm border-t border-slate-700 -mx-px -mb-px rounded-b-xl z-10",children:p.jsxs("button",{onClick:We=>{We.stopPropagation(),R(!0)},className:"w-full bg-yellow-500 hover:bg-yellow-400 text-black font-bold py-2 px-4 rounded-lg text-xs flex items-center justify-center gap-2 shadow-lg animate-in slide-in-from-bottom-2 fade-in transition-transform active:scale-95",children:[p.jsx(ua,{size:14})," Review Accusation"]})})]},X.id)})})}),j&&p.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex justify-end",children:p.jsxs("div",{className:"w-full max-w-md bg-slate-900 h-full border-l border-slate-700 flex flex-col shadow-2xl animate-in slide-in-from-right",children:[p.jsxs("div",{className:"p-4 border-b border-slate-700 flex justify-between items-center bg-slate-800",children:[p.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[p.jsx(Rv,{})," Case Logs"]}),p.jsx("button",{onClick:()=>w(!1),children:p.jsx(tT,{className:"text-slate-400 hover:text-white"})})]}),p.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[...E.logs||[]].reverse().map((X,Oe)=>p.jsxs("div",{className:`text-sm p-3 rounded border-l-4 ${X.type==="danger"?"bg-red-900/20 border-red-500 text-red-200":X.type==="success"?"bg-green-900/20 border-green-500 text-green-200":X.type==="warning"?"bg-orange-900/20 border-orange-500 text-orange-200":"bg-slate-800 border-blue-500 text-slate-300"}`,children:[p.jsxs("div",{className:"font-mono text-[10px] opacity-50 mb-1",children:["EVENT ",E.logs.length-Oe]}),X.text]},Oe))})]})}),H&&p.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6 max-w-sm w-full text-center shadow-2xl",children:[p.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Leave Game?"}),p.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:E.hostId===s.uid?"As Host, you can return everyone to the lobby or leave the room entirely.":"Are you sure? You will be removed from the room."}),E.hostId===s.uid?p.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[p.jsx("button",{onClick:()=>te(!1),className:"bg-slate-700 hover:bg-slate-600 text-white py-3 rounded font-bold",children:"Stay (Resume)"}),p.jsx("button",{onClick:()=>{ts(),te(!1)},className:"bg-blue-600 hover:bg-blue-500 text-white py-3 rounded font-bold",children:"Return to Lobby"}),p.jsx("button",{onClick:Ji,className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold",children:"Leave Room"})]}):p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsx("button",{onClick:()=>te(!1),className:"bg-slate-700 hover:bg-slate-600 text-white py-3 rounded font-bold",children:"Stay"}),p.jsx("button",{onClick:Ji,className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold",children:"Leave"})]})]})}),De&&p.jsx("div",{className:"fixed inset-0 bg-black/90 z-[70] flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6 max-w-sm w-full text-center shadow-2xl animate-in zoom-in-95 duration-200",children:[p.jsx("div",{className:"flex justify-center mb-4",children:De.type==="confirm"?p.jsx(Nv,{size:48,className:"text-yellow-500"}):p.jsx(_N,{size:48,className:"text-blue-500"})}),p.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:De.title}),p.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:De.message}),p.jsxs("div",{className:`grid ${De.type==="confirm"?"grid-cols-2":"grid-cols-1"} gap-3`,children:[De.type==="confirm"&&p.jsx("button",{onClick:Zi,className:"bg-slate-700 hover:bg-slate-600 text-white py-3 rounded font-bold",children:"Cancel"}),p.jsx("button",{onClick:()=>{De.onConfirm&&De.onConfirm(),Zi()},className:`${De.type==="confirm"?"bg-red-600 hover:bg-red-500":"bg-blue-600 hover:bg-blue-500"} text-white py-3 rounded font-bold`,children:De.type==="confirm"?"Confirm":"OK"})]})]})}),$e&&!K&&oe&&E.accompliceSuggestion&&le&&p.jsx("div",{className:"fixed inset-0 z-40 flex items-start justify-center pt-20",onClick:()=>ve(!1),children:p.jsxs("div",{onClick:X=>X.stopPropagation(),className:"bg-green-900/90 border-2 border-green-500 p-4 rounded-xl shadow-2xl animate-bounce cursor-default max-w-xs text-center backdrop-blur-sm",children:[p.jsxs("div",{className:"font-bold text-green-400 text-sm mb-1 uppercase",children:[p.jsx(th,{size:14,className:"inline mr-1"})," Target Confirmed"]}),"Accomplice suggests:"," ",p.jsx("span",{className:"text-white font-black text-lg block mt-1",children:E.players.find(X=>X.id===E.accompliceSuggestion)?.name}),p.jsx("div",{className:"text-[10px] text-green-300 mt-2 uppercase tracking-wide",children:"Click empty space to dismiss"})]})}),A&&fe&&p.jsx("div",{className:"fixed inset-0 bg-black/90 z-[100] flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl w-full max-w-lg p-6 shadow-2xl max-h-[90vh] overflow-y-auto",children:[p.jsxs("h3",{className:"text-2xl font-black text-yellow-500 mb-4 flex items-center gap-2",children:[p.jsx(ua,{})," SUBMIT CASE FILE"]}),p.jsxs("div",{className:"space-y-4 mb-8",children:[p.jsxs("div",{className:"bg-slate-800 p-4 rounded-lg",children:[p.jsx("div",{className:"text-xs text-slate-500 uppercase",children:"Suspect"}),p.jsx("div",{className:"text-xl font-bold text-white",children:E.players.find(X=>X.id===fe.targetId)?.name})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-slate-500 uppercase mb-1",children:"Murder Weapon"}),fe.means?p.jsxs("div",{className:"p-3 bg-red-900/50 border border-red-600 rounded text-red-100 font-bold text-center text-sm flex items-center justify-center gap-2",children:[_n(fe.means),fe.means]}):p.jsx("div",{className:"p-3 bg-slate-800 border border-slate-700 border-dashed rounded text-slate-500 text-center text-xs",children:"Select Murder Weapon from Card"})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-slate-500 uppercase mb-1",children:"Evidence on Site"}),fe.clue?p.jsxs("div",{className:"p-3 bg-blue-900/50 border border-blue-600 rounded text-blue-100 font-bold text-center text-sm flex items-center justify-center gap-2",children:[_n(fe.clue),fe.clue]}):p.jsx("div",{className:"p-3 bg-slate-800 border border-slate-700 border-dashed rounded text-slate-500 text-center text-xs",children:"Select Evidence on Site from Card"})]})]}),p.jsxs("div",{className:"bg-blue-900/20 p-3 rounded text-sm text-blue-200 text-center border border-blue-800",children:[p.jsx("div",{className:"font-bold mb-1",children:"PROCEDURE NOTE"}),"Your result will be revealed only after ",p.jsx("strong",{children:"ALL"})," ","investigators have submitted their files."]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsx("button",{onClick:()=>R(!1),className:"py-3 rounded-lg font-bold text-slate-400 hover:bg-slate-800",children:"Cancel"}),p.jsx("button",{disabled:!fe.means||!fe.clue,onClick:kr,className:"bg-yellow-600 hover:bg-yellow-500 text-black py-3 rounded-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed",children:"CONFIRM & SUBMIT"})]})]})}),E.activeAccusation&&p.jsx("div",{className:"fixed inset-0 bg-black/95 z-[100] flex items-center justify-center p-4",children:p.jsxs("div",{className:`max-w-lg w-full p-6 rounded-2xl border-4 shadow-2xl text-center ${E.activeAccusation.isCorrect?"bg-green-900/90 border-green-500":"bg-red-900/90 border-red-500"}`,children:[p.jsx("h2",{className:"text-3xl font-black text-white mb-2 uppercase tracking-widest",children:E.activeAccusation.isCorrect?"CASE SOLVED!":"WRONG ACCUSATION"}),p.jsxs("div",{className:"bg-black/30 p-4 rounded-xl mb-6 text-left",children:[p.jsx("div",{className:"text-xs uppercase font-bold text-white/50 mb-2 border-b border-white/10 pb-1",children:"The Accusation Attempt"}),p.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-2 items-center mb-1",children:[p.jsx("span",{className:"text-sm text-gray-400 font-bold",children:"Accuser:"}),p.jsx("span",{className:"text-white font-bold",children:E.activeAccusation.solverName})]}),p.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-2 items-center mb-4",children:[p.jsx("span",{className:"text-sm text-gray-400 font-bold",children:"Suspect:"}),p.jsx("span",{className:"text-xl text-white font-black",children:E.players.find(X=>X.id===E.activeAccusation.targetId)?.name})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"bg-red-900/30 border border-red-500/30 p-2 rounded text-center",children:[p.jsx("div",{className:"text-[10px] text-red-300 uppercase font-bold mb-1",children:"Murder Weapon"}),p.jsxs("div",{className:"text-white font-bold text-sm flex items-center justify-center gap-1",children:[_n(E.activeAccusation.means),E.activeAccusation.means]})]}),p.jsxs("div",{className:"bg-blue-900/30 border border-blue-500/30 p-2 rounded text-center",children:[p.jsx("div",{className:"text-[10px] text-blue-300 uppercase font-bold mb-1",children:"Evidence on Site"}),p.jsxs("div",{className:"text-white font-bold text-sm flex items-center justify-center gap-1",children:[_n(E.activeAccusation.clue),E.activeAccusation.clue]})]})]})]}),p.jsxs("div",{className:"flex flex-col items-center gap-3",children:[p.jsxs("div",{className:"text-xs uppercase font-bold text-white/50",children:["Waiting for players:"," ",E.activeAccusation.continueVotes?.length||0,"/",E.players.length]}),p.jsxs("button",{onClick:jr,disabled:E.activeAccusation.continueVotes?.includes(s.uid),className:`px-8 py-3 rounded-full font-bold text-lg transition-all flex items-center gap-2 ${E.activeAccusation.continueVotes?.includes(s.uid)?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-white text-black hover:scale-105 shadow-xl"}`,children:[E.activeAccusation.continueVotes?.includes(s.uid)?"WAITING...":"CONTINUE"," ",p.jsx(wv,{className:"rotate-90"})]})]})]})}),$e&&K&&p.jsx("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center p-4 bg-black/80",children:oe||Ve?p.jsxs("div",{className:"bg-red-950 border-2 border-red-500 p-6 rounded-xl shadow-2xl text-center max-w-lg animate-in fade-in zoom-in duration-300",children:[p.jsx("h2",{className:"text-2xl md:text-3xl font-black text-red-500 mb-2",children:"YOU HAVE BEEN CAUGHT!"}),p.jsx("p",{className:"text-red-100 text-base md:text-lg mb-4",children:Ve?"Help the Murderer find the Witness.":"Identify the Witness to steal the win."}),oe&&E.settings?.useAccomplice&&(E.accompliceSuggestion?p.jsxs("div",{className:"bg-green-900/40 p-3 rounded border border-green-500 mb-4 animate-bounce",children:[p.jsxs("div",{className:"font-bold text-green-400 text-sm mb-1 uppercase",children:[p.jsx(th,{size:14,className:"inline mr-1"})," Target Confirmed"]}),"Accomplice suggests:"," ",p.jsx("span",{className:"text-white font-black text-lg block mt-1",children:E.players.find(X=>X.id===E.accompliceSuggestion)?.name})]}):p.jsxs("div",{className:"bg-black/40 p-3 rounded border border-red-500/50 mb-4 animate-pulse",children:[p.jsxs("div",{className:"font-bold text-yellow-400 text-sm mb-1 uppercase",children:[p.jsx(Nv,{size:14,className:"inline mr-1"})," Hold Fire"]}),"Waiting for Accomplice suggestion..."]})),p.jsx("button",{onClick:()=>ae(!1),className:"mt-4 bg-white text-red-900 px-8 py-3 rounded-full font-black uppercase text-sm hover:scale-105 transition-transform shadow-xl",children:"Select Witness"})]}):p.jsxs("div",{className:"bg-slate-900/95 border-2 border-yellow-500 p-6 rounded-xl shadow-2xl text-center max-w-lg animate-in fade-in zoom-in duration-300",children:[p.jsx("h2",{className:"text-3xl font-black text-yellow-500 mb-2",children:"CRIME SOLVED!"}),p.jsx("p",{className:"text-slate-200 text-lg mb-4",children:"The Investigators found the solution. However..."}),p.jsx("div",{className:"text-xl font-bold text-red-400 mb-4 animate-pulse",children:"THE MURDERER IS HUNTING FOR THE WITNESS"}),p.jsx("p",{className:"text-slate-400 text-sm",children:"If the Murderer identifies the Witness correctly, the Bad Guys steal the win."})]})}),E.phase==="GAME_OVER_GOOD"&&p.jsxs("div",{className:"fixed inset-0 bg-blue-900/95 z-50 flex flex-col items-center justify-center p-6 text-center",children:[p.jsx(ua,{size:96,className:"text-yellow-400 mb-6 shadow-xl"}),p.jsx("h1",{className:"text-4xl md:text-6xl font-black text-white mb-4",children:"INVESTIGATORS WIN"}),p.jsxs("p",{className:"text-blue-200 text-lg md:text-xl max-w-lg mb-8",children:["Solved by:"," ",p.jsx("span",{className:"text-yellow-400 font-bold",children:(E.successfulSolvers||[]).map(X=>E.players.find(Oe=>Oe.id===X)?.name).join(", ")||"The Team"})]}),p.jsxs("div",{className:"bg-white/10 p-6 rounded-xl border border-white/20 mb-8 w-full max-w-md backdrop-blur-md",children:[p.jsx("div",{className:"text-sm uppercase tracking-widest text-blue-300 mb-6 font-bold",children:"The Solution"}),p.jsxs("div",{className:"flex justify-center gap-4 mb-6",children:[p.jsxs("div",{className:"bg-slate-900/80 border-2 border-red-500/50 p-4 rounded-xl flex flex-col items-center justify-center w-32 h-36 shadow-2xl transform hover:scale-105 transition-transform",children:[p.jsx("div",{className:"text-red-400 text-[10px] font-black uppercase tracking-widest mb-2",children:"Weapon"}),p.jsx("div",{className:"scale-150 mb-2",children:_n(E.solution.means)}),p.jsx("div",{className:"text-sm font-bold text-white leading-tight",children:E.solution.means})]}),p.jsx("div",{className:"flex items-center text-white/50",children:p.jsx("span",{className:"text-2xl font-black",children:"+"})}),p.jsxs("div",{className:"bg-slate-900/80 border-2 border-blue-500/50 p-4 rounded-xl flex flex-col items-center justify-center w-32 h-36 shadow-2xl transform hover:scale-105 transition-transform",children:[p.jsx("div",{className:"text-blue-400 text-[10px] font-black uppercase tracking-widest mb-2",children:"Evidence"}),p.jsx("div",{className:"scale-150 mb-2",children:_n(E.solution.clue)}),p.jsx("div",{className:"text-sm font-bold text-white leading-tight",children:E.solution.clue})]})]}),p.jsxs("div",{className:"text-lg text-blue-200 bg-black/20 p-2 rounded-lg inline-block px-6",children:["Culprit:"," ",p.jsx("span",{className:"text-white font-black",children:E.players.find(X=>X.id===E.solution.murdererId)?.name})]})]}),p.jsx("div",{className:"flex flex-col items-center gap-3 w-full max-w-md",children:E.hostId===s.uid?p.jsxs("div",{className:"w-full bg-slate-800/80 p-4 rounded-xl border border-slate-700 backdrop-blur-sm",children:[p.jsxs("div",{className:"text-slate-400 text-xs uppercase font-bold mb-2 flex justify-between",children:[p.jsx("span",{children:"Players Ready:"}),p.jsxs("span",{className:E.replayRequests?.length>=E.players.length-1?"text-green-400":"text-orange-400",children:[E.replayRequests?.length||0," /"," ",E.players.length-1]})]}),p.jsx("div",{className:"w-full bg-slate-900 h-2 rounded-full mb-4 overflow-hidden",children:p.jsx("div",{className:"bg-green-500 h-full transition-all duration-500",style:{width:`${Math.min(100,(E.replayRequests?.length||0)/(E.players.length-1)*100)}%`}})}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("button",{onClick:vt,disabled:(E.replayRequests?.length||0)<E.players.length-1,className:`w-full py-3 rounded-lg font-bold transition-all flex items-center justify-center gap-2 shadow-xl ${(E.replayRequests?.length||0)<E.players.length-1?"bg-slate-700 text-slate-500 cursor-not-allowed opacity-50":"bg-green-600 text-white hover:scale-105 hover:bg-green-500"}`,children:[p.jsx(zc,{size:20})," Start New Game"]}),p.jsxs("button",{onClick:ts,disabled:(E.replayRequests?.length||0)<E.players.length-1,className:`w-full py-3 rounded-lg font-bold transition-all flex items-center justify-center gap-2 shadow-xl ${(E.replayRequests?.length||0)<E.players.length-1?"bg-slate-700 text-slate-500 cursor-not-allowed opacity-50":"bg-white text-slate-900 hover:scale-105"}`,children:[p.jsx(Pc,{size:20})," Return to Lobby"]})]}),(E.replayRequests?.length||0)<E.players.length-1&&p.jsx("div",{className:"text-center text-[10px] text-slate-500 mt-2 animate-pulse",children:"Waiting for all investigators..."})]}):p.jsx("button",{onClick:Vs,disabled:E.replayRequests?.includes(s.uid),className:`w-full py-3 rounded-full font-bold transition-all flex items-center justify-center gap-2 shadow-xl ${E.replayRequests?.includes(s.uid)?"bg-green-600 text-white cursor-default":"bg-white text-slate-900 hover:scale-105"}`,children:E.replayRequests?.includes(s.uid)?p.jsxs(p.Fragment,{children:[p.jsx(nm,{size:20})," Waiting for Host..."]}):p.jsxs(p.Fragment,{children:[p.jsx(zc,{size:20})," Ready for another game"]})})}),p.jsx("div",{className:"bg-gray-950 pb-1 pt-1 z-50 w-full mt-auto fixed bottom-0 left-0 right-0",children:p.jsx(gr,{})})]}),E.phase==="GAME_OVER_BAD"&&p.jsxs("div",{className:"fixed inset-0 bg-red-950/95 z-50 flex flex-col items-center justify-center p-6 text-center",children:[p.jsx(eh,{size:96,className:"text-red-500 mb-6 shadow-xl"}),p.jsx("h1",{className:"text-4xl md:text-6xl font-black text-white mb-4",children:"MURDERER WINS"}),p.jsx("p",{className:"text-red-200 text-lg md:text-xl max-w-lg mb-8",children:"The investigation failed or the witness was silenced."}),p.jsxs("div",{className:"bg-white/10 p-6 rounded-xl border border-white/20 mb-8 w-full max-w-md backdrop-blur-md",children:[p.jsx("div",{className:"text-sm uppercase tracking-widest text-red-300 mb-6 font-bold",children:"The Solution"}),p.jsxs("div",{className:"flex justify-center gap-4 mb-6",children:[p.jsxs("div",{className:"bg-slate-900/80 border-2 border-red-500/50 p-4 rounded-xl flex flex-col items-center justify-center w-32 h-36 shadow-2xl transform hover:scale-105 transition-transform",children:[p.jsx("div",{className:"text-red-400 text-[10px] font-black uppercase tracking-widest mb-2",children:"Weapon"}),p.jsx("div",{className:"scale-150 mb-2",children:_n(E.solution.means)}),p.jsx("div",{className:"text-sm font-bold text-white leading-tight",children:E.solution.means})]}),p.jsx("div",{className:"flex items-center text-white/50",children:p.jsx("span",{className:"text-2xl font-black",children:"+"})}),p.jsxs("div",{className:"bg-slate-900/80 border-2 border-blue-500/50 p-4 rounded-xl flex flex-col items-center justify-center w-32 h-36 shadow-2xl transform hover:scale-105 transition-transform",children:[p.jsx("div",{className:"text-blue-400 text-[10px] font-black uppercase tracking-widest mb-2",children:"Evidence"}),p.jsx("div",{className:"scale-150 mb-2",children:_n(E.solution.clue)}),p.jsx("div",{className:"text-sm font-bold text-white leading-tight",children:E.solution.clue})]})]}),p.jsxs("div",{className:"text-lg text-red-200 bg-black/20 p-2 rounded-lg inline-block px-6",children:["Culprit:"," ",p.jsx("span",{className:"text-white font-black",children:E.players.find(X=>X.id===E.solution.murdererId)?.name})]})]}),p.jsx("div",{className:"flex flex-col items-center gap-3 w-full max-w-md",children:E.hostId===s.uid?p.jsxs("div",{className:"w-full bg-slate-800/80 p-4 rounded-xl border border-slate-700 backdrop-blur-sm",children:[p.jsxs("div",{className:"text-slate-400 text-xs uppercase font-bold mb-2 flex justify-between",children:[p.jsx("span",{children:"Players Ready:"}),p.jsxs("span",{className:E.replayRequests?.length>=E.players.length-1?"text-green-400":"text-orange-400",children:[E.replayRequests?.length||0," /"," ",E.players.length-1]})]}),p.jsx("div",{className:"w-full bg-slate-900 h-2 rounded-full mb-4 overflow-hidden",children:p.jsx("div",{className:"bg-green-500 h-full transition-all duration-500",style:{width:`${Math.min(100,(E.replayRequests?.length||0)/(E.players.length-1)*100)}%`}})}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("button",{onClick:vt,disabled:(E.replayRequests?.length||0)<E.players.length-1,className:`w-full py-3 rounded-lg font-bold transition-all flex items-center justify-center gap-2 shadow-xl ${(E.replayRequests?.length||0)<E.players.length-1?"bg-slate-700 text-slate-500 cursor-not-allowed opacity-50":"bg-green-600 text-white hover:scale-105 hover:bg-green-500"}`,children:[p.jsx(zc,{size:20})," Start New Game"]}),p.jsxs("button",{onClick:ts,disabled:(E.replayRequests?.length||0)<E.players.length-1,className:`w-full py-3 rounded-lg font-bold transition-all flex items-center justify-center gap-2 shadow-xl ${(E.replayRequests?.length||0)<E.players.length-1?"bg-slate-700 text-slate-500 cursor-not-allowed opacity-50":"bg-white text-slate-900 hover:scale-105"}`,children:[p.jsx(Pc,{size:20})," Return to Lobby"]})]}),(E.replayRequests?.length||0)<E.players.length-1&&p.jsx("div",{className:"text-center text-[10px] text-slate-500 mt-2 animate-pulse",children:"Waiting for all investigators..."})]}):p.jsx("button",{onClick:Vs,disabled:E.replayRequests?.includes(s.uid),className:`w-full py-3 rounded-full font-bold transition-all flex items-center justify-center gap-2 shadow-xl ${E.replayRequests?.includes(s.uid)?"bg-green-600 text-white cursor-default":"bg-white text-slate-900 hover:scale-105"}`,children:E.replayRequests?.includes(s.uid)?p.jsxs(p.Fragment,{children:[p.jsx(nm,{size:20})," Waiting for Host..."]}):p.jsxs(p.Fragment,{children:[p.jsx(zc,{size:20})," Ready for another game"]})})}),p.jsx("div",{className:"bg-gray-950 pb-1 pt-1 z-50 w-full mt-auto fixed bottom-0 left-0 right-0",children:p.jsx(gr,{})})]}),p.jsx("div",{className:"fixed bottom-0 left-0 w-full z-50",children:p.jsx(gr,{})})]})}return null}G1.createRoot(document.getElementById("root")).render(p.jsx(Fe.StrictMode,{children:p.jsx(UN,{})}));
