(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function N1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ud={exports:{}},Mo={};var j0;function I1(){if(j0)return Mo;j0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return Mo.Fragment=e,Mo.jsx=i,Mo.jsxs=i,Mo}var U0;function D1(){return U0||(U0=1,Ud.exports=I1()),Ud.exports}var b=D1(),Ld={exports:{}},we={};var L0;function O1(){if(L0)return we;L0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.iterator;function F(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},se=Object.assign,J={};function pe(O,K,re){this.props=O,this.context=K,this.refs=J,this.updater=re||ee}pe.prototype.isReactComponent={},pe.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},pe.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Ce(){}Ce.prototype=pe.prototype;function Ee(O,K,re){this.props=O,this.context=K,this.refs=J,this.updater=re||ee}var tt=Ee.prototype=new Ce;tt.constructor=Ee,se(tt,pe.prototype),tt.isPureReactComponent=!0;var dt=Array.isArray;function fe(){}var N={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function R(O,K,re){var le=re.ref;return{$$typeof:r,type:O,key:K,ref:le!==void 0?le:null,props:re}}function V(O,K){return R(O.type,K,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function j(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(re){return K[re]})}var w=/\/+/g;function Qe(O,K){return typeof O=="object"&&O!==null&&O.key!=null?j(""+O.key):K.toString(36)}function Et(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(fe,fe):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function q(O,K,re,le,ve){var Ae=typeof O;(Ae==="undefined"||Ae==="boolean")&&(O=null);var Ve=!1;if(O===null)Ve=!0;else switch(Ae){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(O.$$typeof){case r:case e:Ve=!0;break;case E:return Ve=O._init,q(Ve(O._payload),K,re,le,ve)}}if(Ve)return ve=ve(O),Ve=le===""?"."+Qe(O,0):le,dt(ve)?(re="",Ve!=null&&(re=Ve.replace(w,"$&/")+"/"),q(ve,K,re,"",function(Ji){return Ji})):ve!=null&&(D(ve)&&(ve=V(ve,re+(ve.key==null||O&&O.key===ve.key?"":(""+ve.key).replace(w,"$&/")+"/")+Ve)),K.push(ve)),1;Ve=0;var Rt=le===""?".":le+":";if(dt(O))for(var at=0;at<O.length;at++)le=O[at],Ae=Rt+Qe(le,at),Ve+=q(le,K,re,Ae,ve);else if(at=F(O),typeof at=="function")for(O=at.call(O),at=0;!(le=O.next()).done;)le=le.value,Ae=Rt+Qe(le,at++),Ve+=q(le,K,re,Ae,ve);else if(Ae==="object"){if(typeof O.then=="function")return q(Et(O),K,re,le,ve);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function te(O,K,re){if(O==null)return O;var le=[],ve=0;return q(O,le,"","",function(Ae){return K.call(re,Ae,ve++)}),le}function me(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(re){(O._status===0||O._status===-1)&&(O._status=1,O._result=re)},function(re){(O._status===0||O._status===-1)&&(O._status=2,O._result=re)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var He=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Me={map:te,forEach:function(O,K,re){te(O,function(){K.apply(this,arguments)},re)},count:function(O){var K=0;return te(O,function(){K++}),K},toArray:function(O){return te(O,function(K){return K})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return we.Activity=A,we.Children=Me,we.Component=pe,we.Fragment=i,we.Profiler=o,we.PureComponent=Ee,we.StrictMode=a,we.Suspense=y,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,we.__COMPILER_RUNTIME={__proto__:null,c:function(O){return N.H.useMemoCache(O)}},we.cache=function(O){return function(){return O.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(O,K,re){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var le=se({},O.props),ve=O.key;if(K!=null)for(Ae in K.key!==void 0&&(ve=""+K.key),K)!x.call(K,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&K.ref===void 0||(le[Ae]=K[Ae]);var Ae=arguments.length-2;if(Ae===1)le.children=re;else if(1<Ae){for(var Ve=Array(Ae),Rt=0;Rt<Ae;Rt++)Ve[Rt]=arguments[Rt+2];le.children=Ve}return R(O.type,ve,le)},we.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},we.createElement=function(O,K,re){var le,ve={},Ae=null;if(K!=null)for(le in K.key!==void 0&&(Ae=""+K.key),K)x.call(K,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ve[le]=K[le]);var Ve=arguments.length-2;if(Ve===1)ve.children=re;else if(1<Ve){for(var Rt=Array(Ve),at=0;at<Ve;at++)Rt[at]=arguments[at+2];ve.children=Rt}if(O&&O.defaultProps)for(le in Ve=O.defaultProps,Ve)ve[le]===void 0&&(ve[le]=Ve[le]);return R(O,Ae,ve)},we.createRef=function(){return{current:null}},we.forwardRef=function(O){return{$$typeof:p,render:O}},we.isValidElement=D,we.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:me}},we.memo=function(O,K){return{$$typeof:_,type:O,compare:K===void 0?null:K}},we.startTransition=function(O){var K=N.T,re={};N.T=re;try{var le=O(),ve=N.S;ve!==null&&ve(re,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(fe,He)}catch(Ae){He(Ae)}finally{K!==null&&re.types!==null&&(K.types=re.types),N.T=K}},we.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},we.use=function(O){return N.H.use(O)},we.useActionState=function(O,K,re){return N.H.useActionState(O,K,re)},we.useCallback=function(O,K){return N.H.useCallback(O,K)},we.useContext=function(O){return N.H.useContext(O)},we.useDebugValue=function(){},we.useDeferredValue=function(O,K){return N.H.useDeferredValue(O,K)},we.useEffect=function(O,K){return N.H.useEffect(O,K)},we.useEffectEvent=function(O){return N.H.useEffectEvent(O)},we.useId=function(){return N.H.useId()},we.useImperativeHandle=function(O,K,re){return N.H.useImperativeHandle(O,K,re)},we.useInsertionEffect=function(O,K){return N.H.useInsertionEffect(O,K)},we.useLayoutEffect=function(O,K){return N.H.useLayoutEffect(O,K)},we.useMemo=function(O,K){return N.H.useMemo(O,K)},we.useOptimistic=function(O,K){return N.H.useOptimistic(O,K)},we.useReducer=function(O,K,re){return N.H.useReducer(O,K,re)},we.useRef=function(O){return N.H.useRef(O)},we.useState=function(O){return N.H.useState(O)},we.useSyncExternalStore=function(O,K,re){return N.H.useSyncExternalStore(O,K,re)},we.useTransition=function(){return N.H.useTransition()},we.version="19.2.0",we}var P0;function Cm(){return P0||(P0=1,Ld.exports=O1()),Ld.exports}var Fe=Cm();const M1=N1(Fe);var Pd={exports:{}},Vo={},zd={exports:{}},Bd={};var z0;function V1(){return z0||(z0=1,(function(r){function e(q,te){var me=q.length;q.push(te);e:for(;0<me;){var He=me-1>>>1,Me=q[He];if(0<o(Me,te))q[He]=te,q[me]=Me,me=He;else break e}}function i(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var te=q[0],me=q.pop();if(me!==te){q[0]=me;e:for(var He=0,Me=q.length,O=Me>>>1;He<O;){var K=2*(He+1)-1,re=q[K],le=K+1,ve=q[le];if(0>o(re,me))le<Me&&0>o(ve,re)?(q[He]=ve,q[le]=me,He=le):(q[He]=re,q[K]=me,He=K);else if(le<Me&&0>o(ve,me))q[He]=ve,q[le]=me,He=le;else break e}}return te}function o(q,te){var me=q.sortIndex-te.sortIndex;return me!==0?me:q.id-te.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],_=[],E=1,A=null,M=3,F=!1,ee=!1,se=!1,J=!1,pe=typeof setTimeout=="function"?setTimeout:null,Ce=typeof clearTimeout=="function"?clearTimeout:null,Ee=typeof setImmediate<"u"?setImmediate:null;function tt(q){for(var te=i(_);te!==null;){if(te.callback===null)a(_);else if(te.startTime<=q)a(_),te.sortIndex=te.expirationTime,e(y,te);else break;te=i(_)}}function dt(q){if(se=!1,tt(q),!ee)if(i(y)!==null)ee=!0,fe||(fe=!0,j());else{var te=i(_);te!==null&&Et(dt,te.startTime-q)}}var fe=!1,N=-1,x=5,R=-1;function V(){return J?!0:!(r.unstable_now()-R<x)}function D(){if(J=!1,fe){var q=r.unstable_now();R=q;var te=!0;try{e:{ee=!1,se&&(se=!1,Ce(N),N=-1),F=!0;var me=M;try{t:{for(tt(q),A=i(y);A!==null&&!(A.expirationTime>q&&V());){var He=A.callback;if(typeof He=="function"){A.callback=null,M=A.priorityLevel;var Me=He(A.expirationTime<=q);if(q=r.unstable_now(),typeof Me=="function"){A.callback=Me,tt(q),te=!0;break t}A===i(y)&&a(y),tt(q)}else a(y);A=i(y)}if(A!==null)te=!0;else{var O=i(_);O!==null&&Et(dt,O.startTime-q),te=!1}}break e}finally{A=null,M=me,F=!1}te=void 0}}finally{te?j():fe=!1}}}var j;if(typeof Ee=="function")j=function(){Ee(D)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Qe=w.port2;w.port1.onmessage=D,j=function(){Qe.postMessage(null)}}else j=function(){pe(D,0)};function Et(q,te){N=pe(function(){q(r.unstable_now())},te)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(q){switch(M){case 1:case 2:case 3:var te=3;break;default:te=M}var me=M;M=te;try{return q()}finally{M=me}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(q,te){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var me=M;M=q;try{return te()}finally{M=me}},r.unstable_scheduleCallback=function(q,te,me){var He=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?He+me:He):me=He,q){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=me+Me,q={id:E++,callback:te,priorityLevel:q,startTime:me,expirationTime:Me,sortIndex:-1},me>He?(q.sortIndex=me,e(_,q),i(y)===null&&q===i(_)&&(se?(Ce(N),N=-1):se=!0,Et(dt,me-He))):(q.sortIndex=Me,e(y,q),ee||F||(ee=!0,fe||(fe=!0,j()))),q},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(q){var te=M;return function(){var me=M;M=te;try{return q.apply(this,arguments)}finally{M=me}}}})(Bd)),Bd}var B0;function k1(){return B0||(B0=1,zd.exports=V1()),zd.exports}var Hd={exports:{}},gn={};var H0;function j1(){if(H0)return gn;H0=1;var r=Cm();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,_,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:y,containerInfo:_,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,gn.createPortal=function(y,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(y,_,null,E)},gn.flushSync=function(y){var _=d.T,E=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=E,a.d.f()}},gn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},gn.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},gn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var E=_.as,A=p(E,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,F=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:M,fetchPriority:F}):E==="script"&&a.d.X(y,{crossOrigin:A,integrity:M,fetchPriority:F,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},gn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},gn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,A=p(E,_.crossOrigin);a.d.L(y,E,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},gn.preloadModule=function(y,_){if(typeof y=="string")if(_){var E=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},gn.requestFormReset=function(y){a.d.r(y)},gn.unstable_batchedUpdates=function(y,_){return y(_)},gn.useFormState=function(y,_,E){return d.H.useFormState(y,_,E)},gn.useFormStatus=function(){return d.H.useHostTransitionStatus()},gn.version="19.2.0",gn}var q0;function U1(){if(q0)return Hd.exports;q0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Hd.exports=j1(),Hd.exports}var G0;function L1(){if(G0)return Vo;G0=1;var r=k1(),e=Cm(),i=U1();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),t;if(f===l)return y(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var g=!1,T=h.child;T;){if(T===s){g=!0,s=h,l=f;break}if(T===l){g=!0,l=h,s=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===s){g=!0,s=f,l=h;break}if(T===l){g=!0,l=f,s=h;break}T=T.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,M=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),ee=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),pe=Symbol.for("react.profiler"),Ce=Symbol.for("react.consumer"),Ee=Symbol.for("react.context"),tt=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function Qe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case se:return"Fragment";case pe:return"Profiler";case J:return"StrictMode";case dt:return"Suspense";case fe:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ee:return"Portal";case Ee:return t.displayName||"Context";case Ce:return(t._context.displayName||"Context")+".Consumer";case tt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:Qe(t.type)||"Memo";case x:n=t._payload,t=t._init;try{return Qe(t(n))}catch{}}return null}var Et=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},He=[],Me=-1;function O(t){return{current:t}}function K(t){0>Me||(t.current=He[Me],He[Me]=null,Me--)}function re(t,n){Me++,He[Me]=t.current,t.current=n}var le=O(null),ve=O(null),Ae=O(null),Ve=O(null);function Rt(t,n){switch(re(Ae,n),re(ve,t),re(le,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?r0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=r0(n),t=a0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(le),re(le,t)}function at(){K(le),K(ve),K(Ae)}function Ji(t){t.memoizedState!==null&&re(Ve,t);var n=le.current,s=a0(n,t.type);n!==s&&(re(ve,t),re(le,s))}function es(t){ve.current===t&&(K(le),K(ve)),Ve.current===t&&(K(Ve),No._currentValue=me)}var ks,js;function jn(t){if(ks===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);ks=n&&n[1]||"",js=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ks+t+js}var ts=!1;function ns(t,n){if(!t||ts)return"";ts=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var z=H}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(H){z=H}t.call(Y.prototype)}}else{try{throw Error()}catch(H){z=H}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var C=g.split(`
`),P=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===P.length)for(l=C.length-1,h=P.length-1;1<=l&&0<=h&&C[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==P[h]){var G=`
`+C[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=h);break}}}finally{ts=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?jn(s):""}function is(t,n){switch(t.tag){case 26:case 27:case 5:return jn(t.type);case 16:return jn("Lazy");case 13:return t.child!==n&&n!==null?jn("Suspense Fallback"):jn("Suspense");case 19:return jn("SuspenseList");case 0:case 15:return ns(t.type,!1);case 11:return ns(t.type.render,!1);case 1:return ns(t.type,!0);case 31:return jn("Activity");default:return""}}function kr(t){try{var n="",s=null;do n+=is(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var At=Object.prototype.hasOwnProperty,Ct=r.unstable_scheduleCallback,Si=r.unstable_cancelCallback,Vl=r.unstable_shouldYield,va=r.unstable_requestPaint,nn=r.unstable_now,ss=r.unstable_getCurrentPriorityLevel,jr=r.unstable_ImmediatePriority,Ur=r.unstable_UserBlockingPriority,Ai=r.unstable_NormalPriority,Lr=r.unstable_LowPriority,Z=r.unstable_IdlePriority,ie=r.log,ae=r.unstable_setDisableYieldValue,ce=null,Ne=null;function ht(t){if(typeof ie=="function"&&ae(t),Ne&&typeof Ne.setStrictMode=="function")try{Ne.setStrictMode(ce,t)}catch{}}var Ze=Math.clz32?Math.clz32:mt,xn=Math.log,Mt=Math.LN2;function mt(t){return t>>>=0,t===0?32:31-(xn(t)/Mt|0)|0}var Vt=256,Un=262144,Je=4194304;function En(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function $(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=En(l):(g&=T,g!==0?h=En(g):s||(s=T&~t,s!==0&&(h=En(s))))):(T=l&~f,T!==0?h=En(T):g!==0?h=En(g):s||(s=l&~t,s!==0&&(h=En(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Te(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function dn(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kt(){var t=Je;return Je<<=1,(Je&62914560)===0&&(Je=4194304),t}function nt(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Ln(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function mn(t,n,s,l,h,f){var g=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,P=t.hiddenUpdates;for(s=g&~s;0<s;){var G=31-Ze(s),Y=1<<G;T[G]=0,C[G]=-1;var z=P[G];if(z!==null)for(P[G]=null,G=0;G<z.length;G++){var H=z[G];H!==null&&(H.lane&=-536870913)}s&=~Y}l!==0&&rs(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function rs(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ze(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function Xe(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-Ze(s),h=1<<l;h&n|t[l]&n&&(t[l]|=n),s&=~h}}function hi(t,n){var s=n&-n;return s=(s&42)!==0?1:Pn(s),(s&(t.suspendedLanes|n))!==0?0:s}function Pn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function zn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Us(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:N0(t.type))}function fi(t,n){var s=te.p;try{return te.p=t,n()}finally{te.p=s}}var di=Math.random().toString(36).slice(2),kt="__reactFiber$"+di,Zt="__reactProps$"+di,xi="__reactContainer$"+di,ba="__reactEvents$"+di,Hh="__reactListeners$"+di,du="__reactHandles$"+di,mu="__reactResources$"+di,wi="__reactMarker$"+di;function Ea(t){delete t[kt],delete t[Zt],delete t[ba],delete t[Hh],delete t[du]}function Ri(t){var n=t[kt];if(n)return n;for(var s=t.parentNode;s;){if(n=s[xi]||s[kt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=d0(t);t!==null;){if(s=t[kt])return s;t=d0(t)}return n}t=s,s=t.parentNode}return null}function Wn(t){if(t=t[kt]||t[xi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Bn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ci(t){var n=t[mu];return n||(n=t[mu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function jt(t){t[wi]=!0}var kl=new Set,jl={};function Ni(t,n){Ii(t,n),Ii(t+"Capture",n)}function Ii(t,n){for(jl[t]=n,t=0;t<n.length;t++)kl.add(n[t])}var Ul=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ll={},Pl={};function gu(t){return At.call(Pl,t)?!0:At.call(Ll,t)?!1:Ul.test(t)?Pl[t]=!0:(Ll[t]=!0,!1)}function Ta(t,n,s){if(gu(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Hn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Ut(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function Jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ls(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function zl(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function it(t){if(!t._valueTracker){var n=Ls(t)?"checked":"value";t._valueTracker=zl(t,n,""+t[n])}}function Pr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=Ls(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function Di(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var zr=/[\n"\\]/g;function wn(t){return t.replace(zr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Sa(t,n,s,l,h,f,g,T){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Jt(n)):t.value!==""+Jt(n)&&(t.value=""+Jt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Bl(t,g,Jt(n)):s!=null?Bl(t,g,Jt(s)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Jt(T):t.removeAttribute("name")}function pu(t,n,s,l,h,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){it(t);return}s=s!=null?""+Jt(s):"",n=n!=null?""+Jt(n):s,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),it(t)}function Bl(t,n,s){n==="number"&&Di(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Ps(t,n,s,l){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Jt(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function yu(t,n,s){if(n!=null&&(n=""+Jt(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Jt(s):""}function zs(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(Et(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Jt(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),it(t)}function Rn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var _u=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hl(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||_u.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function ql(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&Hl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Hl(t,f,n[f])}function Aa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xa(t){return Bs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function mi(){}var Gl=null;function Zn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hs=null,Oi=null;function Br(t){var n=Wn(t);if(n&&(t=n.stateNode)){var s=t[Zt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Sa(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+wn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var h=l[Zt]||null;if(!h)throw Error(a(90));Sa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&Pr(l)}break e;case"textarea":yu(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&Ps(t,!!s.multiple,n,!1)}}}var wa=!1;function qs(t,n,s){if(wa)return t(n,s);wa=!0;try{var l=t(n);return l}finally{if(wa=!1,(Hs!==null||Oi!==null)&&(fc(),Hs&&(n=Hs,t=Oi,Oi=Hs=null,Br(n),t)))for(n=0;n<t.length;n++)Br(t[n])}}function gi(t,n){var s=t.stateNode;if(s===null)return null;var l=s[Zt]||null;if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hr=!1;if(Jn)try{var lt={};Object.defineProperty(lt,"passive",{get:function(){Hr=!0}}),window.addEventListener("test",lt,lt),window.removeEventListener("test",lt,lt)}catch{Hr=!1}var Mi=null,Fl=null,qr=null;function Ql(){if(qr)return qr;var t,n=Fl,s=n.length,l,h="value"in Mi?Mi.value:Mi.textContent,f=h.length;for(t=0;t<s&&n[t]===h[t];t++);var g=s-t;for(l=1;l<=g&&n[s-l]===h[f-l];l++);return qr=h.slice(t,1<l?1-l:void 0)}function Gr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function as(){return!0}function pi(){return!1}function sn(t){function n(s,l,h,f,g){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?as:pi,this.isPropagationStopped=pi,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=as)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=as)},persist:function(){},isPersistent:as}),n}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vi=sn(ls),Gs=A({},ls,{view:0,detail:0}),Kl=sn(Gs),Fs,Ra,ki,Ca=A({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ki&&(ki&&t.type==="mousemove"?(Fs=t.screenX-ki.screenX,Ra=t.screenY-ki.screenY):Ra=Fs=0,ki=t),Fs)},movementY:function(t){return"movementY"in t?t.movementY:Ra}}),Yl=sn(Ca),Fr=A({},Ca,{dataTransfer:0}),bu=sn(Fr),Eu=A({},Gs,{relatedTarget:0}),Qr=sn(Eu),Xl=A({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),Tu=sn(Xl),Na=A({},ls,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Su=sn(Na),Au=A({},ls,{data:0}),ji=sn(Au),xu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Ru[t])?!!n[t]:!1}function Qs(){return Cu}var Tn=A({},Gs,{key:function(t){if(t.key){var n=xu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Gr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qs,charCode:function(t){return t.type==="keypress"?Gr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Nu=sn(Tn),Iu=A({},Ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),os=sn(Iu),u=A({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qs}),m=sn(u),v=A({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=sn(v),U=A({},Ca,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=sn(U),ne=A({},ls,{newState:0,oldState:0}),Ie=sn(ne),Nt=[9,13,27,32],$e=Jn&&"CompositionEvent"in window,_t=null;Jn&&"documentMode"in document&&(_t=document.documentMode);var ei=Jn&&"TextEvent"in window&&!_t,Ui=Jn&&(!$e||_t&&8<_t&&11>=_t),yi=" ",_i=!1;function Kr(t,n){switch(t){case"keyup":return Nt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ia(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Da=!1;function JE(t,n){switch(t){case"compositionend":return Ia(n);case"keypress":return n.which!==32?null:(_i=!0,yi);case"textInput":return t=n.data,t===yi&&_i?null:t;default:return null}}function eT(t,n){if(Da)return t==="compositionend"||!$e&&Kr(t,n)?(t=Ql(),qr=Fl=Mi=null,Da=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ui&&n.locale!=="ko"?null:n.data;default:return null}}var tT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!tT[t.type]:n==="textarea"}function yg(t,n,s,l){Hs?Oi?Oi.push(l):Oi=[l]:Hs=l,n=vc(n,"onChange"),0<n.length&&(s=new Vi("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var $l=null,Wl=null;function nT(t){Jy(t,0)}function Du(t){var n=Bn(t);if(Pr(n))return t}function _g(t,n){if(t==="change")return n}var vg=!1;if(Jn){var qh;if(Jn){var Gh="oninput"in document;if(!Gh){var bg=document.createElement("div");bg.setAttribute("oninput","return;"),Gh=typeof bg.oninput=="function"}qh=Gh}else qh=!1;vg=qh&&(!document.documentMode||9<document.documentMode)}function Eg(){$l&&($l.detachEvent("onpropertychange",Tg),Wl=$l=null)}function Tg(t){if(t.propertyName==="value"&&Du(Wl)){var n=[];yg(n,Wl,t,Zn(t)),qs(nT,n)}}function iT(t,n,s){t==="focusin"?(Eg(),$l=n,Wl=s,$l.attachEvent("onpropertychange",Tg)):t==="focusout"&&Eg()}function sT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Du(Wl)}function rT(t,n){if(t==="click")return Du(n)}function aT(t,n){if(t==="input"||t==="change")return Du(n)}function lT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var qn=typeof Object.is=="function"?Object.is:lT;function Zl(t,n){if(qn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!At.call(n,h)||!qn(t[h],n[h]))return!1}return!0}function Sg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ag(t,n){var s=Sg(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Sg(s)}}function xg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?xg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function wg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Di(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=Di(t.document)}return n}function Fh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var oT=Jn&&"documentMode"in document&&11>=document.documentMode,Oa=null,Qh=null,Jl=null,Kh=!1;function Rg(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Kh||Oa==null||Oa!==Di(l)||(l=Oa,"selectionStart"in l&&Fh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Jl&&Zl(Jl,l)||(Jl=l,l=vc(Qh,"onSelect"),0<l.length&&(n=new Vi("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=Oa)))}function Yr(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Ma={animationend:Yr("Animation","AnimationEnd"),animationiteration:Yr("Animation","AnimationIteration"),animationstart:Yr("Animation","AnimationStart"),transitionrun:Yr("Transition","TransitionRun"),transitionstart:Yr("Transition","TransitionStart"),transitioncancel:Yr("Transition","TransitionCancel"),transitionend:Yr("Transition","TransitionEnd")},Yh={},Cg={};Jn&&(Cg=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function Xr(t){if(Yh[t])return Yh[t];if(!Ma[t])return t;var n=Ma[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Cg)return Yh[t]=n[s];return t}var Ng=Xr("animationend"),Ig=Xr("animationiteration"),Dg=Xr("animationstart"),uT=Xr("transitionrun"),cT=Xr("transitionstart"),hT=Xr("transitioncancel"),Og=Xr("transitionend"),Mg=new Map,Xh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xh.push("scrollEnd");function vi(t,n){Mg.set(t,n),Ni(n,[t])}var Ou=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ti=[],Va=0,$h=0;function Mu(){for(var t=Va,n=$h=Va=0;n<t;){var s=ti[n];ti[n++]=null;var l=ti[n];ti[n++]=null;var h=ti[n];ti[n++]=null;var f=ti[n];if(ti[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&Vg(s,h,f)}}function Vu(t,n,s,l){ti[Va++]=t,ti[Va++]=n,ti[Va++]=s,ti[Va++]=l,$h|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Wh(t,n,s,l){return Vu(t,n,s,l),ku(t)}function $r(t,n){return Vu(t,null,null,n),ku(t)}function Vg(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Ze(s),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function ku(t){if(50<To)throw To=0,ld=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ka={};function fT(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(t,n,s,l){return new fT(t,n,s,l)}function Zh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function us(t,n){var s=t.alternate;return s===null?(s=Gn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function kg(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function ju(t,n,s,l,h,f){var g=0;if(l=t,typeof t=="function")Zh(t)&&(g=1);else if(typeof t=="string")g=y1(t,s,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Gn(31,s,n,h),t.elementType=R,t.lanes=f,t;case se:return Wr(s.children,h,f,n);case J:g=8,h|=24;break;case pe:return t=Gn(12,s,n,h|2),t.elementType=pe,t.lanes=f,t;case dt:return t=Gn(13,s,n,h),t.elementType=dt,t.lanes=f,t;case fe:return t=Gn(19,s,n,h),t.elementType=fe,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ee:g=10;break e;case Ce:g=9;break e;case tt:g=11;break e;case N:g=14;break e;case x:g=16,l=null;break e}g=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Gn(g,s,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Wr(t,n,s,l){return t=Gn(7,t,l,n),t.lanes=s,t}function Jh(t,n,s){return t=Gn(6,t,null,n),t.lanes=s,t}function jg(t){var n=Gn(18,null,null,0);return n.stateNode=t,n}function ef(t,n,s){return n=Gn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ug=new WeakMap;function ni(t,n){if(typeof t=="object"&&t!==null){var s=Ug.get(t);return s!==void 0?s:(n={value:t,source:n,stack:kr(n)},Ug.set(t,n),n)}return{value:t,source:n,stack:kr(n)}}var ja=[],Ua=0,Uu=null,eo=0,ii=[],si=0,Ks=null,Li=1,Pi="";function cs(t,n){ja[Ua++]=eo,ja[Ua++]=Uu,Uu=t,eo=n}function Lg(t,n,s){ii[si++]=Li,ii[si++]=Pi,ii[si++]=Ks,Ks=t;var l=Li;t=Pi;var h=32-Ze(l)-1;l&=~(1<<h),s+=1;var f=32-Ze(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,Li=1<<32-Ze(n)+h|s<<h|l,Pi=f+t}else Li=1<<f|s<<h|l,Pi=t}function tf(t){t.return!==null&&(cs(t,1),Lg(t,1,0))}function nf(t){for(;t===Uu;)Uu=ja[--Ua],ja[Ua]=null,eo=ja[--Ua],ja[Ua]=null;for(;t===Ks;)Ks=ii[--si],ii[si]=null,Pi=ii[--si],ii[si]=null,Li=ii[--si],ii[si]=null}function Pg(t,n){ii[si++]=Li,ii[si++]=Pi,ii[si++]=Ks,Li=n.id,Pi=n.overflow,Ks=t}var rn=null,gt=null,qe=!1,Ys=null,ri=!1,sf=Error(a(519));function Xs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw to(ni(n,t)),sf}function zg(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[kt]=t,n[Zt]=l,s){case"dialog":je("cancel",n),je("close",n);break;case"iframe":case"object":case"embed":je("load",n);break;case"video":case"audio":for(s=0;s<Ao.length;s++)je(Ao[s],n);break;case"source":je("error",n);break;case"img":case"image":case"link":je("error",n),je("load",n);break;case"details":je("toggle",n);break;case"input":je("invalid",n),pu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":je("invalid",n);break;case"textarea":je("invalid",n),zs(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||i0(n.textContent,s)?(l.popover!=null&&(je("beforetoggle",n),je("toggle",n)),l.onScroll!=null&&je("scroll",n),l.onScrollEnd!=null&&je("scrollend",n),l.onClick!=null&&(n.onclick=mi),n=!0):n=!1,n||Xs(t,!0)}function Bg(t){for(rn=t.return;rn;)switch(rn.tag){case 5:case 31:case 13:ri=!1;return;case 27:case 3:ri=!0;return;default:rn=rn.return}}function La(t){if(t!==rn)return!1;if(!qe)return Bg(t),qe=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Td(t.type,t.memoizedProps)),s=!s),s&&gt&&Xs(t),Bg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));gt=f0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));gt=f0(t)}else n===27?(n=gt,ur(t.type)?(t=Rd,Rd=null,gt=t):gt=n):gt=rn?li(t.stateNode.nextSibling):null;return!0}function Zr(){gt=rn=null,qe=!1}function rf(){var t=Ys;return t!==null&&(Dn===null?Dn=t:Dn.push.apply(Dn,t),Ys=null),t}function to(t){Ys===null?Ys=[t]:Ys.push(t)}var af=O(null),Jr=null,hs=null;function $s(t,n,s){re(af,n._currentValue),n._currentValue=s}function fs(t){t._currentValue=af.current,K(af)}function lf(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function of(t,n,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var C=0;C<n.length;C++)if(T.context===n[C]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),lf(f.return,s,t),l||(g=null);break e}f=T.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),lf(g,s,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Pa(t,n,s,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var T=h.type;qn(h.pendingProps.value,g.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ve.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(No):t=[No])}h=h.return}t!==null&&of(n,t,s,l),n.flags|=262144}function Lu(t){for(t=t.firstContext;t!==null;){if(!qn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ea(t){Jr=t,hs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function an(t){return Hg(Jr,t)}function Pu(t,n){return Jr===null&&ea(t),Hg(t,n)}function Hg(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},hs===null){if(t===null)throw Error(a(308));hs=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else hs=hs.next=n;return s}var dT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},mT=r.unstable_scheduleCallback,gT=r.unstable_NormalPriority,Lt={$$typeof:Ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uf(){return{controller:new dT,data:new Map,refCount:0}}function no(t){t.refCount--,t.refCount===0&&mT(gT,function(){t.controller.abort()})}var io=null,cf=0,za=0,Ba=null;function pT(t,n){if(io===null){var s=io=[];cf=0,za=dd(),Ba={status:"pending",value:void 0,then:function(l){s.push(l)}}}return cf++,n.then(qg,qg),n}function qg(){if(--cf===0&&io!==null){Ba!==null&&(Ba.status="fulfilled");var t=io;io=null,za=0,Ba=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function yT(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Gg=q.S;q.S=function(t,n){Ry=nn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&pT(t,n),Gg!==null&&Gg(t,n)};var ta=O(null);function hf(){var t=ta.current;return t!==null?t:ft.pooledCache}function zu(t,n){n===null?re(ta,ta.current):re(ta,n.pool)}function Fg(){var t=hf();return t===null?null:{parent:Lt._currentValue,pool:t}}var Ha=Error(a(460)),ff=Error(a(474)),Bu=Error(a(542)),Hu={then:function(){}};function Qg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Kg(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(mi,mi),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Xg(t),t;default:if(typeof n.status=="string")n.then(mi,mi);else{if(t=ft,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Xg(t),t}throw ia=n,Ha}}function na(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(ia=s,Ha):s}}var ia=null;function Yg(){if(ia===null)throw Error(a(459));var t=ia;return ia=null,t}function Xg(t){if(t===Ha||t===Bu)throw Error(a(483))}var qa=null,so=0;function qu(t){var n=so;return so+=1,qa===null&&(qa=[]),Kg(qa,t,n)}function ro(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Gu(t,n){throw n.$$typeof===M?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function $g(t){function n(k,I){if(t){var L=k.deletions;L===null?(k.deletions=[I],k.flags|=16):L.push(I)}}function s(k,I){if(!t)return null;for(;I!==null;)n(k,I),I=I.sibling;return null}function l(k){for(var I=new Map;k!==null;)k.key!==null?I.set(k.key,k):I.set(k.index,k),k=k.sibling;return I}function h(k,I){return k=us(k,I),k.index=0,k.sibling=null,k}function f(k,I,L){return k.index=L,t?(L=k.alternate,L!==null?(L=L.index,L<I?(k.flags|=67108866,I):L):(k.flags|=67108866,I)):(k.flags|=1048576,I)}function g(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function T(k,I,L,Q){return I===null||I.tag!==6?(I=Jh(L,k.mode,Q),I.return=k,I):(I=h(I,L),I.return=k,I)}function C(k,I,L,Q){var ge=L.type;return ge===se?G(k,I,L.props.children,Q,L.key):I!==null&&(I.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===x&&na(ge)===I.type)?(I=h(I,L.props),ro(I,L),I.return=k,I):(I=ju(L.type,L.key,L.props,null,k.mode,Q),ro(I,L),I.return=k,I)}function P(k,I,L,Q){return I===null||I.tag!==4||I.stateNode.containerInfo!==L.containerInfo||I.stateNode.implementation!==L.implementation?(I=ef(L,k.mode,Q),I.return=k,I):(I=h(I,L.children||[]),I.return=k,I)}function G(k,I,L,Q,ge){return I===null||I.tag!==7?(I=Wr(L,k.mode,Q,ge),I.return=k,I):(I=h(I,L),I.return=k,I)}function Y(k,I,L){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Jh(""+I,k.mode,L),I.return=k,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case F:return L=ju(I.type,I.key,I.props,null,k.mode,L),ro(L,I),L.return=k,L;case ee:return I=ef(I,k.mode,L),I.return=k,I;case x:return I=na(I),Y(k,I,L)}if(Et(I)||j(I))return I=Wr(I,k.mode,L,null),I.return=k,I;if(typeof I.then=="function")return Y(k,qu(I),L);if(I.$$typeof===Ee)return Y(k,Pu(k,I),L);Gu(k,I)}return null}function z(k,I,L,Q){var ge=I!==null?I.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ge!==null?null:T(k,I,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case F:return L.key===ge?C(k,I,L,Q):null;case ee:return L.key===ge?P(k,I,L,Q):null;case x:return L=na(L),z(k,I,L,Q)}if(Et(L)||j(L))return ge!==null?null:G(k,I,L,Q,null);if(typeof L.then=="function")return z(k,I,qu(L),Q);if(L.$$typeof===Ee)return z(k,I,Pu(k,L),Q);Gu(k,L)}return null}function H(k,I,L,Q,ge){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(L)||null,T(I,k,""+Q,ge);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:return k=k.get(Q.key===null?L:Q.key)||null,C(I,k,Q,ge);case ee:return k=k.get(Q.key===null?L:Q.key)||null,P(I,k,Q,ge);case x:return Q=na(Q),H(k,I,L,Q,ge)}if(Et(Q)||j(Q))return k=k.get(L)||null,G(I,k,Q,ge,null);if(typeof Q.then=="function")return H(k,I,L,qu(Q),ge);if(Q.$$typeof===Ee)return H(k,I,L,Pu(I,Q),ge);Gu(I,Q)}return null}function ue(k,I,L,Q){for(var ge=null,Ke=null,he=I,Oe=I=0,Le=null;he!==null&&Oe<L.length;Oe++){he.index>Oe?(Le=he,he=null):Le=he.sibling;var Ye=z(k,he,L[Oe],Q);if(Ye===null){he===null&&(he=Le);break}t&&he&&Ye.alternate===null&&n(k,he),I=f(Ye,I,Oe),Ke===null?ge=Ye:Ke.sibling=Ye,Ke=Ye,he=Le}if(Oe===L.length)return s(k,he),qe&&cs(k,Oe),ge;if(he===null){for(;Oe<L.length;Oe++)he=Y(k,L[Oe],Q),he!==null&&(I=f(he,I,Oe),Ke===null?ge=he:Ke.sibling=he,Ke=he);return qe&&cs(k,Oe),ge}for(he=l(he);Oe<L.length;Oe++)Le=H(he,k,Oe,L[Oe],Q),Le!==null&&(t&&Le.alternate!==null&&he.delete(Le.key===null?Oe:Le.key),I=f(Le,I,Oe),Ke===null?ge=Le:Ke.sibling=Le,Ke=Le);return t&&he.forEach(function(mr){return n(k,mr)}),qe&&cs(k,Oe),ge}function _e(k,I,L,Q){if(L==null)throw Error(a(151));for(var ge=null,Ke=null,he=I,Oe=I=0,Le=null,Ye=L.next();he!==null&&!Ye.done;Oe++,Ye=L.next()){he.index>Oe?(Le=he,he=null):Le=he.sibling;var mr=z(k,he,Ye.value,Q);if(mr===null){he===null&&(he=Le);break}t&&he&&mr.alternate===null&&n(k,he),I=f(mr,I,Oe),Ke===null?ge=mr:Ke.sibling=mr,Ke=mr,he=Le}if(Ye.done)return s(k,he),qe&&cs(k,Oe),ge;if(he===null){for(;!Ye.done;Oe++,Ye=L.next())Ye=Y(k,Ye.value,Q),Ye!==null&&(I=f(Ye,I,Oe),Ke===null?ge=Ye:Ke.sibling=Ye,Ke=Ye);return qe&&cs(k,Oe),ge}for(he=l(he);!Ye.done;Oe++,Ye=L.next())Ye=H(he,k,Oe,Ye.value,Q),Ye!==null&&(t&&Ye.alternate!==null&&he.delete(Ye.key===null?Oe:Ye.key),I=f(Ye,I,Oe),Ke===null?ge=Ye:Ke.sibling=Ye,Ke=Ye);return t&&he.forEach(function(C1){return n(k,C1)}),qe&&cs(k,Oe),ge}function ct(k,I,L,Q){if(typeof L=="object"&&L!==null&&L.type===se&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case F:e:{for(var ge=L.key;I!==null;){if(I.key===ge){if(ge=L.type,ge===se){if(I.tag===7){s(k,I.sibling),Q=h(I,L.props.children),Q.return=k,k=Q;break e}}else if(I.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===x&&na(ge)===I.type){s(k,I.sibling),Q=h(I,L.props),ro(Q,L),Q.return=k,k=Q;break e}s(k,I);break}else n(k,I);I=I.sibling}L.type===se?(Q=Wr(L.props.children,k.mode,Q,L.key),Q.return=k,k=Q):(Q=ju(L.type,L.key,L.props,null,k.mode,Q),ro(Q,L),Q.return=k,k=Q)}return g(k);case ee:e:{for(ge=L.key;I!==null;){if(I.key===ge)if(I.tag===4&&I.stateNode.containerInfo===L.containerInfo&&I.stateNode.implementation===L.implementation){s(k,I.sibling),Q=h(I,L.children||[]),Q.return=k,k=Q;break e}else{s(k,I);break}else n(k,I);I=I.sibling}Q=ef(L,k.mode,Q),Q.return=k,k=Q}return g(k);case x:return L=na(L),ct(k,I,L,Q)}if(Et(L))return ue(k,I,L,Q);if(j(L)){if(ge=j(L),typeof ge!="function")throw Error(a(150));return L=ge.call(L),_e(k,I,L,Q)}if(typeof L.then=="function")return ct(k,I,qu(L),Q);if(L.$$typeof===Ee)return ct(k,I,Pu(k,L),Q);Gu(k,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,I!==null&&I.tag===6?(s(k,I.sibling),Q=h(I,L),Q.return=k,k=Q):(s(k,I),Q=Jh(L,k.mode,Q),Q.return=k,k=Q),g(k)):s(k,I)}return function(k,I,L,Q){try{so=0;var ge=ct(k,I,L,Q);return qa=null,ge}catch(he){if(he===Ha||he===Bu)throw he;var Ke=Gn(29,he,null,k.mode);return Ke.lanes=Q,Ke.return=k,Ke}finally{}}}var sa=$g(!0),Wg=$g(!1),Ws=!1;function df(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Zs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Js(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(We&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=ku(t),Vg(t,null,s),n}return Vu(t,l,n,s),ku(t)}function ao(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Xe(t,s)}}function gf(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var pf=!1;function lo(){if(pf){var t=Ba;if(t!==null)throw t}}function oo(t,n,s,l){pf=!1;var h=t.updateQueue;Ws=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,P=C.next;C.next=null,g===null?f=P:g.next=P,g=C;var G=t.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==g&&(T===null?G.firstBaseUpdate=P:T.next=P,G.lastBaseUpdate=C))}if(f!==null){var Y=h.baseState;g=0,G=P=C=null,T=f;do{var z=T.lane&-536870913,H=z!==T.lane;if(H?(Ue&z)===z:(l&z)===z){z!==0&&z===za&&(pf=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ue=t,_e=T;z=n;var ct=s;switch(_e.tag){case 1:if(ue=_e.payload,typeof ue=="function"){Y=ue.call(ct,Y,z);break e}Y=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=_e.payload,z=typeof ue=="function"?ue.call(ct,Y,z):ue,z==null)break e;Y=A({},Y,z);break e;case 2:Ws=!0}}z=T.callback,z!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(P=G=H,C=Y):G=G.next=H,g|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(C=Y),h.baseState=C,h.firstBaseUpdate=P,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),sr|=g,t.lanes=g,t.memoizedState=Y}}function Zg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Jg(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Zg(s[t],n)}var Ga=O(null),Fu=O(0);function ep(t,n){t=Es,re(Fu,t),re(Ga,n),Es=t|n.baseLanes}function yf(){re(Fu,Es),re(Ga,Ga.current)}function _f(){Es=Fu.current,K(Ga),K(Fu)}var Fn=O(null),ai=null;function er(t){var n=t.alternate;re(It,It.current&1),re(Fn,t),ai===null&&(n===null||Ga.current!==null||n.memoizedState!==null)&&(ai=t)}function vf(t){re(It,It.current),re(Fn,t),ai===null&&(ai=t)}function tp(t){t.tag===22?(re(It,It.current),re(Fn,t),ai===null&&(ai=t)):tr()}function tr(){re(It,It.current),re(Fn,Fn.current)}function Qn(t){K(Fn),ai===t&&(ai=null),K(It)}var It=O(0);function Qu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||xd(s)||wd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ds=0,De=null,ot=null,Pt=null,Ku=!1,Fa=!1,ra=!1,Yu=0,uo=0,Qa=null,_T=0;function xt(){throw Error(a(321))}function bf(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!qn(t[s],n[s]))return!1;return!0}function Ef(t,n,s,l,h,f){return ds=f,De=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=t===null||t.memoizedState===null?Lp:jf,ra=!1,f=s(l,h),ra=!1,Fa&&(f=ip(n,s,l,h)),np(t),f}function np(t){q.H=fo;var n=ot!==null&&ot.next!==null;if(ds=0,Pt=ot=De=null,Ku=!1,uo=0,Qa=null,n)throw Error(a(300));t===null||zt||(t=t.dependencies,t!==null&&Lu(t)&&(zt=!0))}function ip(t,n,s,l){De=t;var h=0;do{if(Fa&&(Qa=null),uo=0,Fa=!1,25<=h)throw Error(a(301));if(h+=1,Pt=ot=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=Pp,f=n(s,l)}while(Fa);return f}function vT(){var t=q.H,n=t.useState()[0];return n=typeof n.then=="function"?co(n):n,t=t.useState()[0],(ot!==null?ot.memoizedState:null)!==t&&(De.flags|=1024),n}function Tf(){var t=Yu!==0;return Yu=0,t}function Sf(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function Af(t){if(Ku){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Ku=!1}ds=0,Pt=ot=De=null,Fa=!1,uo=Yu=0,Qa=null}function Sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?De.memoizedState=Pt=t:Pt=Pt.next=t,Pt}function Dt(){if(ot===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var n=Pt===null?De.memoizedState:Pt.next;if(n!==null)Pt=n,ot=t;else{if(t===null)throw De.alternate===null?Error(a(467)):Error(a(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Pt===null?De.memoizedState=Pt=t:Pt=Pt.next=t}return Pt}function Xu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function co(t){var n=uo;return uo+=1,Qa===null&&(Qa=[]),t=Kg(Qa,t,n),n=De,(Pt===null?n.memoizedState:Pt.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?Lp:jf),t}function $u(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return co(t);if(t.$$typeof===Ee)return an(t)}throw Error(a(438,String(t)))}function xf(t){var n=null,s=De.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Xu(),De.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=V;return n.index++,s}function ms(t,n){return typeof n=="function"?n(t):n}function Wu(t){var n=Dt();return wf(n,ot,t)}function wf(t,n,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=g=null,C=null,P=n,G=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(Ue&Y)===Y:(ds&Y)===Y){var z=P.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===za&&(G=!0);else if((ds&z)===z){P=P.next,z===za&&(G=!0);continue}else Y={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(T=C=Y,g=f):C=C.next=Y,De.lanes|=z,sr|=z;Y=P.action,ra&&s(f,Y),f=P.hasEagerState?P.eagerState:s(f,Y)}else z={lane:Y,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(T=C=z,g=f):C=C.next=z,De.lanes|=Y,sr|=Y;P=P.next}while(P!==null&&P!==n);if(C===null?g=f:C.next=T,!qn(f,t.memoizedState)&&(zt=!0,G&&(s=Ba,s!==null)))throw s;t.memoizedState=f,t.baseState=g,t.baseQueue=C,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Rf(t){var n=Dt(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);qn(f,n.memoizedState)||(zt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function sp(t,n,s){var l=De,h=Dt(),f=qe;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!qn((ot||h).memoizedState,s);if(g&&(h.memoizedState=s,zt=!0),h=h.queue,If(lp.bind(null,l,h,t),[t]),h.getSnapshot!==n||g||Pt!==null&&Pt.memoizedState.tag&1){if(l.flags|=2048,Ka(9,{destroy:void 0},ap.bind(null,l,h,s,n),null),ft===null)throw Error(a(349));f||(ds&127)!==0||rp(l,n,s)}return s}function rp(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=De.updateQueue,n===null?(n=Xu(),De.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function ap(t,n,s,l){n.value=s,n.getSnapshot=l,op(n)&&up(t)}function lp(t,n,s){return s(function(){op(n)&&up(t)})}function op(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!qn(t,s)}catch{return!0}}function up(t){var n=$r(t,2);n!==null&&On(n,t,2)}function Cf(t){var n=Sn();if(typeof t=="function"){var s=t;if(t=s(),ra){ht(!0);try{s()}finally{ht(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:t},n}function cp(t,n,s,l){return t.baseState=s,wf(t,ot,typeof l=="function"?l:ms)}function bT(t,n,s,l,h){if(ec(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};q.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,hp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function hp(t,n){var s=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=q.T,g={};q.T=g;try{var T=s(h,l),C=q.S;C!==null&&C(g,T),fp(t,n,T)}catch(P){Nf(t,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),q.T=f}}else try{f=s(h,l),fp(t,n,f)}catch(P){Nf(t,n,P)}}function fp(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){dp(t,n,l)},function(l){return Nf(t,n,l)}):dp(t,n,s)}function dp(t,n,s){n.status="fulfilled",n.value=s,mp(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,hp(t,s)))}function Nf(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,mp(n),n=n.next;while(n!==l)}t.action=null}function mp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function gp(t,n){return n}function pp(t,n){if(qe){var s=ft.formState;if(s!==null){e:{var l=De;if(qe){if(gt){t:{for(var h=gt,f=ri;h.nodeType!==8;){if(!f){h=null;break t}if(h=li(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){gt=li(h.nextSibling),l=h.data==="F!";break e}}Xs(l)}l=!1}l&&(n=s[0])}}return s=Sn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gp,lastRenderedState:n},s.queue=l,s=kp.bind(null,De,l),l.dispatch=s,l=Cf(!1),f=kf.bind(null,De,!1,l.queue),l=Sn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,s=bT.bind(null,De,h,f,s),h.dispatch=s,l.memoizedState=t,[n,s,!1]}function yp(t){var n=Dt();return _p(n,ot,t)}function _p(t,n,s){if(n=wf(t,n,gp)[0],t=Wu(ms)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=co(n)}catch(g){throw g===Ha?Bu:g}else l=n;n=Dt();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(De.flags|=2048,Ka(9,{destroy:void 0},ET.bind(null,h,s),null)),[l,f,t]}function ET(t,n){t.action=n}function vp(t){var n=Dt(),s=ot;if(s!==null)return _p(n,s,t);Dt(),n=n.memoizedState,s=Dt();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function Ka(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=De.updateQueue,n===null&&(n=Xu(),De.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function bp(){return Dt().memoizedState}function Zu(t,n,s,l){var h=Sn();De.flags|=t,h.memoizedState=Ka(1|n,{destroy:void 0},s,l===void 0?null:l)}function Ju(t,n,s,l){var h=Dt();l=l===void 0?null:l;var f=h.memoizedState.inst;ot!==null&&l!==null&&bf(l,ot.memoizedState.deps)?h.memoizedState=Ka(n,f,s,l):(De.flags|=t,h.memoizedState=Ka(1|n,f,s,l))}function Ep(t,n){Zu(8390656,8,t,n)}function If(t,n){Ju(2048,8,t,n)}function TT(t){De.flags|=4;var n=De.updateQueue;if(n===null)n=Xu(),De.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function Tp(t){var n=Dt().memoizedState;return TT({ref:n,nextImpl:t}),function(){if((We&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Sp(t,n){return Ju(4,2,t,n)}function Ap(t,n){return Ju(4,4,t,n)}function xp(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function wp(t,n,s){s=s!=null?s.concat([t]):null,Ju(4,4,xp.bind(null,n,t),s)}function Df(){}function Rp(t,n){var s=Dt();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&bf(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function Cp(t,n){var s=Dt();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&bf(n,l[1]))return l[0];if(l=t(),ra){ht(!0);try{t()}finally{ht(!1)}}return s.memoizedState=[l,n],l}function Of(t,n,s){return s===void 0||(ds&1073741824)!==0&&(Ue&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Ny(),De.lanes|=t,sr|=t,s)}function Np(t,n,s,l){return qn(s,n)?s:Ga.current!==null?(t=Of(t,s,l),qn(t,n)||(zt=!0),t):(ds&42)===0||(ds&1073741824)!==0&&(Ue&261930)===0?(zt=!0,t.memoizedState=s):(t=Ny(),De.lanes|=t,sr|=t,n)}function Ip(t,n,s,l,h){var f=te.p;te.p=f!==0&&8>f?f:8;var g=q.T,T={};q.T=T,kf(t,!1,n,s);try{var C=h(),P=q.S;if(P!==null&&P(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=yT(C,l);ho(t,n,G,Xn(t))}else ho(t,n,l,Xn(t))}catch(Y){ho(t,n,{then:function(){},status:"rejected",reason:Y},Xn())}finally{te.p=f,g!==null&&T.types!==null&&(g.types=T.types),q.T=g}}function ST(){}function Mf(t,n,s,l){if(t.tag!==5)throw Error(a(476));var h=Dp(t).queue;Ip(t,h,n,me,s===null?ST:function(){return Op(t),s(l)})}function Dp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:me},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Op(t){var n=Dp(t);n.next===null&&(n=t.alternate.memoizedState),ho(t,n.next.queue,{},Xn())}function Vf(){return an(No)}function Mp(){return Dt().memoizedState}function Vp(){return Dt().memoizedState}function AT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=Xn();t=Zs(s);var l=Js(n,t,s);l!==null&&(On(l,n,s),ao(l,n,s)),n={cache:uf()},t.payload=n;return}n=n.return}}function xT(t,n,s){var l=Xn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ec(t)?jp(n,s):(s=Wh(t,n,s,l),s!==null&&(On(s,t,l),Up(s,n,l)))}function kp(t,n,s){var l=Xn();ho(t,n,s,l)}function ho(t,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(ec(t))jp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,s);if(h.hasEagerState=!0,h.eagerState=T,qn(T,g))return Vu(t,n,h,0),ft===null&&Mu(),!1}catch{}finally{}if(s=Wh(t,n,h,l),s!==null)return On(s,t,l),Up(s,n,l),!0}return!1}function kf(t,n,s,l){if(l={lane:2,revertLane:dd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ec(t)){if(n)throw Error(a(479))}else n=Wh(t,s,l,2),n!==null&&On(n,t,2)}function ec(t){var n=t.alternate;return t===De||n!==null&&n===De}function jp(t,n){Fa=Ku=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Up(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Xe(t,s)}}var fo={readContext:an,use:$u,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt};fo.useEffectEvent=xt;var Lp={readContext:an,use:$u,useCallback:function(t,n){return Sn().memoizedState=[t,n===void 0?null:n],t},useContext:an,useEffect:Ep,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Zu(4194308,4,xp.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Zu(4194308,4,t,n)},useInsertionEffect:function(t,n){Zu(4,2,t,n)},useMemo:function(t,n){var s=Sn();n=n===void 0?null:n;var l=t();if(ra){ht(!0);try{t()}finally{ht(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=Sn();if(s!==void 0){var h=s(n);if(ra){ht(!0);try{s(n)}finally{ht(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=xT.bind(null,De,t),[l.memoizedState,t]},useRef:function(t){var n=Sn();return t={current:t},n.memoizedState=t},useState:function(t){t=Cf(t);var n=t.queue,s=kp.bind(null,De,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Df,useDeferredValue:function(t,n){var s=Sn();return Of(s,t,n)},useTransition:function(){var t=Cf(!1);return t=Ip.bind(null,De,t.queue,!0,!1),Sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=De,h=Sn();if(qe){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ft===null)throw Error(a(349));(Ue&127)!==0||rp(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Ep(lp.bind(null,l,f,t),[t]),l.flags|=2048,Ka(9,{destroy:void 0},ap.bind(null,l,f,s,n),null),s},useId:function(){var t=Sn(),n=ft.identifierPrefix;if(qe){var s=Pi,l=Li;s=(l&~(1<<32-Ze(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Yu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=_T++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Vf,useFormState:pp,useActionState:pp,useOptimistic:function(t){var n=Sn();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=kf.bind(null,De,!0,s),s.dispatch=n,[t,n]},useMemoCache:xf,useCacheRefresh:function(){return Sn().memoizedState=AT.bind(null,De)},useEffectEvent:function(t){var n=Sn(),s={impl:t};return n.memoizedState=s,function(){if((We&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},jf={readContext:an,use:$u,useCallback:Rp,useContext:an,useEffect:If,useImperativeHandle:wp,useInsertionEffect:Sp,useLayoutEffect:Ap,useMemo:Cp,useReducer:Wu,useRef:bp,useState:function(){return Wu(ms)},useDebugValue:Df,useDeferredValue:function(t,n){var s=Dt();return Np(s,ot.memoizedState,t,n)},useTransition:function(){var t=Wu(ms)[0],n=Dt().memoizedState;return[typeof t=="boolean"?t:co(t),n]},useSyncExternalStore:sp,useId:Mp,useHostTransitionStatus:Vf,useFormState:yp,useActionState:yp,useOptimistic:function(t,n){var s=Dt();return cp(s,ot,t,n)},useMemoCache:xf,useCacheRefresh:Vp};jf.useEffectEvent=Tp;var Pp={readContext:an,use:$u,useCallback:Rp,useContext:an,useEffect:If,useImperativeHandle:wp,useInsertionEffect:Sp,useLayoutEffect:Ap,useMemo:Cp,useReducer:Rf,useRef:bp,useState:function(){return Rf(ms)},useDebugValue:Df,useDeferredValue:function(t,n){var s=Dt();return ot===null?Of(s,t,n):Np(s,ot.memoizedState,t,n)},useTransition:function(){var t=Rf(ms)[0],n=Dt().memoizedState;return[typeof t=="boolean"?t:co(t),n]},useSyncExternalStore:sp,useId:Mp,useHostTransitionStatus:Vf,useFormState:vp,useActionState:vp,useOptimistic:function(t,n){var s=Dt();return ot!==null?cp(s,ot,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:xf,useCacheRefresh:Vp};Pp.useEffectEvent=Tp;function Uf(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:A({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Lf={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=Xn(),h=Zs(l);h.payload=n,s!=null&&(h.callback=s),n=Js(t,h,l),n!==null&&(On(n,t,l),ao(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=Xn(),h=Zs(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Js(t,h,l),n!==null&&(On(n,t,l),ao(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Xn(),l=Zs(s);l.tag=2,n!=null&&(l.callback=n),n=Js(t,l,s),n!==null&&(On(n,t,s),ao(n,t,s))}};function zp(t,n,s,l,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Zl(s,l)||!Zl(h,f):!0}function Bp(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Lf.enqueueReplaceState(n,n.state,null)}function aa(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=A({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function Hp(t){Ou(t)}function qp(t){console.error(t)}function Gp(t){Ou(t)}function tc(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Fp(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Pf(t,n,s){return s=Zs(s),s.tag=3,s.payload={element:null},s.callback=function(){tc(t,n)},s}function Qp(t){return t=Zs(t),t.tag=3,t}function Kp(t,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Fp(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Fp(n,s,l),typeof h!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function wT(t,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&Pa(n,s,h,!0),s=Fn.current,s!==null){switch(s.tag){case 31:case 13:return ai===null?dc():s.alternate===null&&wt===0&&(wt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Hu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),cd(t,l,h)),!1;case 22:return s.flags|=65536,l===Hu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),cd(t,l,h)),!1}throw Error(a(435,s.tag))}return cd(t,l,h),dc(),!1}if(qe)return n=Fn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==sf&&(t=Error(a(422),{cause:l}),to(ni(t,s)))):(l!==sf&&(n=Error(a(423),{cause:l}),to(ni(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=ni(l,s),h=Pf(t.stateNode,l,h),gf(t,h),wt!==4&&(wt=2)),!1;var f=Error(a(520),{cause:l});if(f=ni(f,s),Eo===null?Eo=[f]:Eo.push(f),wt!==4&&(wt=2),n===null)return!0;l=ni(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Pf(s.stateNode,l,t),gf(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(rr===null||!rr.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Qp(h),Kp(h,t,s,l),gf(s,h),!1}s=s.return}while(s!==null);return!1}var zf=Error(a(461)),zt=!1;function ln(t,n,s,l){n.child=t===null?Wg(n,null,s,l):sa(n,t.child,s,l)}function Yp(t,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var T in l)T!=="ref"&&(g[T]=l[T])}else g=l;return ea(n),l=Ef(t,n,s,g,f,h),T=Tf(),t!==null&&!zt?(Sf(t,n,h),gs(t,n,h)):(qe&&T&&tf(n),n.flags|=1,ln(t,n,l,h),n.child)}function Xp(t,n,s,l,h){if(t===null){var f=s.type;return typeof f=="function"&&!Zh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,$p(t,n,f,l,h)):(t=ju(s.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Yf(t,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Zl,s(g,l)&&t.ref===n.ref)return gs(t,n,h)}return n.flags|=1,t=us(f,l),t.ref=n.ref,t.return=n,n.child=t}function $p(t,n,s,l,h){if(t!==null){var f=t.memoizedProps;if(Zl(f,l)&&t.ref===n.ref)if(zt=!1,n.pendingProps=l=f,Yf(t,h))(t.flags&131072)!==0&&(zt=!0);else return n.lanes=t.lanes,gs(t,n,h)}return Bf(t,n,s,l,h)}function Wp(t,n,s,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Zp(t,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&zu(n,f!==null?f.cachePool:null),f!==null?ep(n,f):yf(),tp(n);else return l=n.lanes=536870912,Zp(t,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(zu(n,f.cachePool),ep(n,f),tr(),n.memoizedState=null):(t!==null&&zu(n,null),yf(),tr());return ln(t,n,h,s),n.child}function mo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Zp(t,n,s,l,h){var f=hf();return f=f===null?null:{parent:Lt._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&zu(n,null),yf(),tp(n),t!==null&&Pa(t,n,l,!0),n.childLanes=h,null}function nc(t,n){return n=sc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Jp(t,n,s){return sa(n,t.child,null,s),t=nc(n,n.pendingProps),t.flags|=2,Qn(n),n.memoizedState=null,t}function RT(t,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(qe){if(l.mode==="hidden")return t=nc(n,l),n.lanes=536870912,mo(null,t);if(vf(n),(t=gt)?(t=h0(t,ri),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ks!==null?{id:Li,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},s=jg(t),s.return=n,n.child=s,rn=n,gt=null)):t=null,t===null)throw Xs(n);return n.lanes=536870912,null}return nc(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(vf(n),h)if(n.flags&256)n.flags&=-257,n=Jp(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(zt||Pa(t,n,s,!1),h=(s&t.childLanes)!==0,zt||h){if(l=ft,l!==null&&(g=hi(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,$r(t,g),On(l,t,g),zf;dc(),n=Jp(t,n,s)}else t=f.treeContext,gt=li(g.nextSibling),rn=n,qe=!0,Ys=null,ri=!1,t!==null&&Pg(n,t),n=nc(n,l),n.flags|=4096;return n}return t=us(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ic(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Bf(t,n,s,l,h){return ea(n),s=Ef(t,n,s,l,void 0,h),l=Tf(),t!==null&&!zt?(Sf(t,n,h),gs(t,n,h)):(qe&&l&&tf(n),n.flags|=1,ln(t,n,s,h),n.child)}function ey(t,n,s,l,h,f){return ea(n),n.updateQueue=null,s=ip(n,l,s,h),np(t),l=Tf(),t!==null&&!zt?(Sf(t,n,f),gs(t,n,f)):(qe&&l&&tf(n),n.flags|=1,ln(t,n,s,f),n.child)}function ty(t,n,s,l,h){if(ea(n),n.stateNode===null){var f=ka,g=s.contextType;typeof g=="object"&&g!==null&&(f=an(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Lf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},df(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?an(g):ka,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Uf(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Lf.enqueueReplaceState(f,f.state,null),oo(n,l,f,h),lo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,C=aa(s,T);f.props=C;var P=f.context,G=s.contextType;g=ka,typeof G=="object"&&G!==null&&(g=an(G));var Y=s.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||P!==g)&&Bp(n,f,l,g),Ws=!1;var z=n.memoizedState;f.state=z,oo(n,l,f,h),lo(),P=n.memoizedState,T||z!==P||Ws?(typeof Y=="function"&&(Uf(n,s,Y,l),P=n.memoizedState),(C=Ws||zp(n,s,C,l,z,P,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=g,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,mf(t,n),g=n.memoizedProps,G=aa(s,g),f.props=G,Y=n.pendingProps,z=f.context,P=s.contextType,C=ka,typeof P=="object"&&P!==null&&(C=an(P)),T=s.getDerivedStateFromProps,(P=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||z!==C)&&Bp(n,f,l,C),Ws=!1,z=n.memoizedState,f.state=z,oo(n,l,f,h),lo();var H=n.memoizedState;g!==Y||z!==H||Ws||t!==null&&t.dependencies!==null&&Lu(t.dependencies)?(typeof T=="function"&&(Uf(n,s,T,l),H=n.memoizedState),(G=Ws||zp(n,s,G,l,z,H,C)||t!==null&&t.dependencies!==null&&Lu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=C,l=G):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,ic(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=sa(n,t.child,null,h),n.child=sa(n,null,s,h)):ln(t,n,s,h),n.memoizedState=f.state,t=n.child):t=gs(t,n,h),t}function ny(t,n,s,l){return Zr(),n.flags|=256,ln(t,n,s,l),n.child}var Hf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qf(t){return{baseLanes:t,cachePool:Fg()}}function Gf(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Yn),t}function iy(t,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(It.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(qe){if(h?er(n):tr(),(t=gt)?(t=h0(t,ri),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ks!==null?{id:Li,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},s=jg(t),s.return=n,n.child=s,rn=n,gt=null)):t=null,t===null)throw Xs(n);return wd(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(tr(),h=n.mode,T=sc({mode:"hidden",children:T},h),l=Wr(l,h,s,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=qf(s),l.childLanes=Gf(t,g,s),n.memoizedState=Hf,mo(null,l)):(er(n),Ff(n,T))}var C=t.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(f)n.flags&256?(er(n),n.flags&=-257,n=Qf(t,n,s)):n.memoizedState!==null?(tr(),n.child=t.child,n.flags|=128,n=null):(tr(),T=l.fallback,h=n.mode,l=sc({mode:"visible",children:l.children},h),T=Wr(T,h,s,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,sa(n,t.child,null,s),l=n.child,l.memoizedState=qf(s),l.childLanes=Gf(t,g,s),n.memoizedState=Hf,n=mo(null,l));else if(er(n),wd(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var P=g.dgst;g=P,l=Error(a(419)),l.stack="",l.digest=g,to({value:l,source:null,stack:null}),n=Qf(t,n,s)}else if(zt||Pa(t,n,s,!1),g=(s&t.childLanes)!==0,zt||g){if(g=ft,g!==null&&(l=hi(g,s),l!==0&&l!==C.retryLane))throw C.retryLane=l,$r(t,l),On(g,t,l),zf;xd(T)||dc(),n=Qf(t,n,s)}else xd(T)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,gt=li(T.nextSibling),rn=n,qe=!0,Ys=null,ri=!1,t!==null&&Pg(n,t),n=Ff(n,l.children),n.flags|=4096);return n}return h?(tr(),T=l.fallback,h=n.mode,C=t.child,P=C.sibling,l=us(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,P!==null?T=us(P,T):(T=Wr(T,h,s,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,mo(null,l),l=n.child,T=t.child.memoizedState,T===null?T=qf(s):(h=T.cachePool,h!==null?(C=Lt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Fg(),T={baseLanes:T.baseLanes|s,cachePool:h}),l.memoizedState=T,l.childLanes=Gf(t,g,s),n.memoizedState=Hf,mo(t.child,l)):(er(n),s=t.child,t=s.sibling,s=us(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=s,n.memoizedState=null,s)}function Ff(t,n){return n=sc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function sc(t,n){return t=Gn(22,t,null,n),t.lanes=0,t}function Qf(t,n,s){return sa(n,t.child,null,s),t=Ff(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function sy(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),lf(t.return,n,s)}function Kf(t,n,s,l,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function ry(t,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=It.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,re(It,g),ln(t,n,l,s),l=qe?eo:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sy(t,s,n);else if(t.tag===19)sy(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&Qu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Kf(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Qu(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Kf(n,!0,s,null,f,l);break;case"together":Kf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function gs(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),sr|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(Pa(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=us(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=us(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Yf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Lu(t)))}function CT(t,n,s){switch(n.tag){case 3:Rt(n,n.stateNode.containerInfo),$s(n,Lt,t.memoizedState.cache),Zr();break;case 27:case 5:Ji(n);break;case 4:Rt(n,n.stateNode.containerInfo);break;case 10:$s(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,vf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(er(n),n.flags|=128,null):(s&n.child.childLanes)!==0?iy(t,n,s):(er(n),t=gs(t,n,s),t!==null?t.sibling:null);er(n);break;case 19:var h=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(Pa(t,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return ry(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(It,It.current),l)break;return null;case 22:return n.lanes=0,Wp(t,n,s,n.pendingProps);case 24:$s(n,Lt,t.memoizedState.cache)}return gs(t,n,s)}function ay(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)zt=!0;else{if(!Yf(t,s)&&(n.flags&128)===0)return zt=!1,CT(t,n,s);zt=(t.flags&131072)!==0}else zt=!1,qe&&(n.flags&1048576)!==0&&Lg(n,eo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=na(n.elementType),n.type=t,typeof t=="function")Zh(t)?(l=aa(t,l),n.tag=1,n=ty(null,n,t,l,s)):(n.tag=0,n=Bf(null,n,t,l,s));else{if(t!=null){var h=t.$$typeof;if(h===tt){n.tag=11,n=Yp(null,n,t,l,s);break e}else if(h===N){n.tag=14,n=Xp(null,n,t,l,s);break e}}throw n=Qe(t)||t,Error(a(306,n,""))}}return n;case 0:return Bf(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=aa(l,n.pendingProps),ty(t,n,l,h,s);case 3:e:{if(Rt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,mf(t,n),oo(n,l,null,s);var g=n.memoizedState;if(l=g.cache,$s(n,Lt,l),l!==f.cache&&of(n,[Lt],s,!0),lo(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ny(t,n,l,s);break e}else if(l!==h){h=ni(Error(a(424)),n),to(h),n=ny(t,n,l,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(gt=li(t.firstChild),rn=n,qe=!0,Ys=null,ri=!0,s=Wg(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Zr(),l===h){n=gs(t,n,s);break e}ln(t,n,l,s)}n=n.child}return n;case 26:return ic(t,n),t===null?(s=y0(n.type,null,n.pendingProps,null))?n.memoizedState=s:qe||(s=n.type,t=n.pendingProps,l=bc(Ae.current).createElement(s),l[kt]=n,l[Zt]=t,on(l,s,t),jt(l),n.stateNode=l):n.memoizedState=y0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ji(n),t===null&&qe&&(l=n.stateNode=m0(n.type,n.pendingProps,Ae.current),rn=n,ri=!0,h=gt,ur(n.type)?(Rd=h,gt=li(l.firstChild)):gt=h),ln(t,n,n.pendingProps.children,s),ic(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&qe&&((h=l=gt)&&(l=s1(l,n.type,n.pendingProps,ri),l!==null?(n.stateNode=l,rn=n,gt=li(l.firstChild),ri=!1,h=!0):h=!1),h||Xs(n)),Ji(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,Td(h,f)?l=null:g!==null&&Td(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=Ef(t,n,vT,null,null,s),No._currentValue=h),ic(t,n),ln(t,n,l,s),n.child;case 6:return t===null&&qe&&((t=s=gt)&&(s=r1(s,n.pendingProps,ri),s!==null?(n.stateNode=s,rn=n,gt=null,t=!0):t=!1),t||Xs(n)),null;case 13:return iy(t,n,s);case 4:return Rt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=sa(n,null,l,s):ln(t,n,l,s),n.child;case 11:return Yp(t,n,n.type,n.pendingProps,s);case 7:return ln(t,n,n.pendingProps,s),n.child;case 8:return ln(t,n,n.pendingProps.children,s),n.child;case 12:return ln(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,$s(n,n.type,l.value),ln(t,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,ea(n),h=an(h),l=l(h),n.flags|=1,ln(t,n,l,s),n.child;case 14:return Xp(t,n,n.type,n.pendingProps,s);case 15:return $p(t,n,n.type,n.pendingProps,s);case 19:return ry(t,n,s);case 31:return RT(t,n,s);case 22:return Wp(t,n,s,n.pendingProps);case 24:return ea(n),l=an(Lt),t===null?(h=hf(),h===null&&(h=ft,f=uf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},df(n),$s(n,Lt,h)):((t.lanes&s)!==0&&(mf(t,n),oo(n,null,null,s),lo()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),$s(n,Lt,l)):(l=f.cache,$s(n,Lt,l),l!==h.cache&&of(n,[Lt],s,!0))),ln(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ps(t){t.flags|=4}function Xf(t,n,s,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(My())t.flags|=8192;else throw ia=Hu,ff}else t.flags&=-16777217}function ly(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!T0(n))if(My())t.flags|=8192;else throw ia=Hu,ff}function rc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Kt():536870912,t.lanes|=n,Wa|=n)}function go(t,n){if(!qe)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function pt(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function NT(t,n,s){var l=n.pendingProps;switch(nf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(n),null;case 1:return pt(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),fs(Lt),at(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(La(n)?ps(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,rf())),pt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(ps(n),f!==null?(pt(n),ly(n,f)):(pt(n),Xf(n,h,null,l,s))):f?f!==t.memoizedState?(ps(n),pt(n),ly(n,f)):(pt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&ps(n),pt(n),Xf(n,h,t,l,s)),null;case 27:if(es(n),s=Ae.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ps(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return pt(n),null}t=le.current,La(n)?zg(n):(t=m0(h,l,s),n.stateNode=t,ps(n))}return pt(n),null;case 5:if(es(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ps(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return pt(n),null}if(f=le.current,La(n))zg(n);else{var g=bc(Ae.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[kt]=n,f[Zt]=l;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(on(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ps(n)}}return pt(n),Xf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&ps(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Ae.current,La(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,h=rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[kt]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||i0(t.nodeValue,s)),t||Xs(n,!0)}else t=bc(t).createTextNode(l),t[kt]=n,n.stateNode=t}return pt(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=La(n),s!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[kt]=n}else Zr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;pt(n),t=!1}else s=rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(Qn(n),n):(Qn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return pt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=La(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[kt]=n}else Zr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;pt(n),h=!1}else h=rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Qn(n),n):(Qn(n),null)}return Qn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),rc(n,n.updateQueue),pt(n),null);case 4:return at(),t===null&&yd(n.stateNode.containerInfo),pt(n),null;case 10:return fs(n.type),pt(n),null;case 19:if(K(It),l=n.memoizedState,l===null)return pt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)go(l,!1);else{if(wt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Qu(t),f!==null){for(n.flags|=128,go(l,!1),t=f.updateQueue,n.updateQueue=t,rc(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)kg(s,t),s=s.sibling;return re(It,It.current&1|2),qe&&cs(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&nn()>cc&&(n.flags|=128,h=!0,go(l,!1),n.lanes=4194304)}else{if(!h)if(t=Qu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,rc(n,t),go(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!qe)return pt(n),null}else 2*nn()-l.renderingStartTime>cc&&s!==536870912&&(n.flags|=128,h=!0,go(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=nn(),t.sibling=null,s=It.current,re(It,h?s&1|2:s&1),qe&&cs(n,l.treeForkCount),t):(pt(n),null);case 22:case 23:return Qn(n),_f(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(pt(n),n.subtreeFlags&6&&(n.flags|=8192)):pt(n),s=n.updateQueue,s!==null&&rc(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&K(ta),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),fs(Lt),pt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function IT(t,n){switch(nf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return fs(Lt),at(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return es(n),null;case 31:if(n.memoizedState!==null){if(Qn(n),n.alternate===null)throw Error(a(340));Zr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Qn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Zr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(It),null;case 4:return at(),null;case 10:return fs(n.type),null;case 22:case 23:return Qn(n),_f(),t!==null&&K(ta),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return fs(Lt),null;case 25:return null;default:return null}}function oy(t,n){switch(nf(n),n.tag){case 3:fs(Lt),at();break;case 26:case 27:case 5:es(n);break;case 4:at();break;case 31:n.memoizedState!==null&&Qn(n);break;case 13:Qn(n);break;case 19:K(It);break;case 10:fs(n.type);break;case 22:case 23:Qn(n),_f(),t!==null&&K(ta);break;case 24:fs(Lt)}}function po(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==h)}}catch(T){rt(n,n.return,T)}}function nr(t,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var g=l.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,h=n;var C=s,P=T;try{P()}catch(G){rt(h,C,G)}}}l=l.next}while(l!==f)}}catch(G){rt(n,n.return,G)}}function uy(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Jg(n,s)}catch(l){rt(t,t.return,l)}}}function cy(t,n,s){s.props=aa(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){rt(t,n,l)}}function yo(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){rt(t,n,h)}}function zi(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){rt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){rt(t,n,h)}else s.current=null}function hy(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){rt(t,t.return,h)}}function $f(t,n,s){try{var l=t.stateNode;ZT(l,t.type,s,n),l[Zt]=n}catch(h){rt(t,t.return,h)}}function fy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ur(t.type)||t.tag===4}function Wf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ur(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zf(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=mi));else if(l!==4&&(l===27&&ur(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Zf(t,n,s),t=t.sibling;t!==null;)Zf(t,n,s),t=t.sibling}function ac(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&ur(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(ac(t,n,s),t=t.sibling;t!==null;)ac(t,n,s),t=t.sibling}function dy(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);on(n,l,s),n[kt]=t,n[Zt]=s}catch(f){rt(t,t.return,f)}}var ys=!1,Bt=!1,Jf=!1,my=typeof WeakSet=="function"?WeakSet:Set,en=null;function DT(t,n){if(t=t.containerInfo,bd=Rc,t=wg(t),Fh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var g=0,T=-1,C=-1,P=0,G=0,Y=t,z=null;t:for(;;){for(var H;Y!==s||h!==0&&Y.nodeType!==3||(T=g+h),Y!==f||l!==0&&Y.nodeType!==3||(C=g+l),Y.nodeType===3&&(g+=Y.nodeValue.length),(H=Y.firstChild)!==null;)z=Y,Y=H;for(;;){if(Y===t)break t;if(z===s&&++P===h&&(T=g),z===f&&++G===l&&(C=g),(H=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=H}s=T===-1||C===-1?null:{start:T,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ed={focusedElem:t,selectionRange:s},Rc=!1,en=n;en!==null;)if(n=en,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,en=t;else for(;en!==null;){switch(n=en,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var ue=aa(s.type,h);t=l.getSnapshotBeforeUpdate(ue,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){rt(s,s.return,_e)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)Ad(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ad(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,en=t;break}en=n.return}}function gy(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:vs(t,s),l&4&&po(5,s);break;case 1:if(vs(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(g){rt(s,s.return,g)}else{var h=aa(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){rt(s,s.return,g)}}l&64&&uy(s),l&512&&yo(s,s.return);break;case 3:if(vs(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Jg(t,n)}catch(g){rt(s,s.return,g)}}break;case 27:n===null&&l&4&&dy(s);case 26:case 5:vs(t,s),n===null&&l&4&&hy(s),l&512&&yo(s,s.return);break;case 12:vs(t,s);break;case 31:vs(t,s),l&4&&_y(t,s);break;case 13:vs(t,s),l&4&&vy(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=zT.bind(null,s),a1(t,s))));break;case 22:if(l=s.memoizedState!==null||ys,!l){n=n!==null&&n.memoizedState!==null||Bt,h=ys;var f=Bt;ys=l,(Bt=n)&&!f?bs(t,s,(s.subtreeFlags&8772)!==0):vs(t,s),ys=h,Bt=f}break;case 30:break;default:vs(t,s)}}function py(t){var n=t.alternate;n!==null&&(t.alternate=null,py(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ea(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var vt=null,Cn=!1;function _s(t,n,s){for(s=s.child;s!==null;)yy(t,n,s),s=s.sibling}function yy(t,n,s){if(Ne&&typeof Ne.onCommitFiberUnmount=="function")try{Ne.onCommitFiberUnmount(ce,s)}catch{}switch(s.tag){case 26:Bt||zi(s,n),_s(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Bt||zi(s,n);var l=vt,h=Cn;ur(s.type)&&(vt=s.stateNode,Cn=!1),_s(t,n,s),wo(s.stateNode),vt=l,Cn=h;break;case 5:Bt||zi(s,n);case 6:if(l=vt,h=Cn,vt=null,_s(t,n,s),vt=l,Cn=h,vt!==null)if(Cn)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(s.stateNode)}catch(f){rt(s,n,f)}else try{vt.removeChild(s.stateNode)}catch(f){rt(s,n,f)}break;case 18:vt!==null&&(Cn?(t=vt,u0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),rl(t)):u0(vt,s.stateNode));break;case 4:l=vt,h=Cn,vt=s.stateNode.containerInfo,Cn=!0,_s(t,n,s),vt=l,Cn=h;break;case 0:case 11:case 14:case 15:nr(2,s,n),Bt||nr(4,s,n),_s(t,n,s);break;case 1:Bt||(zi(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&cy(s,n,l)),_s(t,n,s);break;case 21:_s(t,n,s);break;case 22:Bt=(l=Bt)||s.memoizedState!==null,_s(t,n,s),Bt=l;break;default:_s(t,n,s)}}function _y(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{rl(t)}catch(s){rt(n,n.return,s)}}}function vy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{rl(t)}catch(s){rt(n,n.return,s)}}function OT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new my),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new my),n;default:throw Error(a(435,t.tag))}}function lc(t,n){var s=OT(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=BT.bind(null,t,l);l.then(h,h)}})}function Nn(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=t,g=n,T=g;e:for(;T!==null;){switch(T.tag){case 27:if(ur(T.type)){vt=T.stateNode,Cn=!1;break e}break;case 5:vt=T.stateNode,Cn=!1;break e;case 3:case 4:vt=T.stateNode.containerInfo,Cn=!0;break e}T=T.return}if(vt===null)throw Error(a(160));yy(f,g,h),vt=null,Cn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)by(n,t),n=n.sibling}var bi=null;function by(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Nn(n,t),In(t),l&4&&(nr(3,t,t.return),po(3,t),nr(5,t,t.return));break;case 1:Nn(n,t),In(t),l&512&&(Bt||s===null||zi(s,s.return)),l&64&&ys&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=bi;if(Nn(n,t),In(t),l&512&&(Bt||s===null||zi(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[wi]||f[kt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),on(f,l,s),f[kt]=t,jt(f),l=f;break e;case"link":var g=b0("link","href",h).get(l+(s.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(T,1);break t}}f=h.createElement(l),on(f,l,s),h.head.appendChild(f);break;case"meta":if(g=b0("meta","content",h).get(l+(s.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(T,1);break t}}f=h.createElement(l),on(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[kt]=t,jt(f),l=f}t.stateNode=l}else E0(h,t.type,t.stateNode);else t.stateNode=v0(h,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?E0(h,t.type,t.stateNode):v0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&$f(t,t.memoizedProps,s.memoizedProps)}break;case 27:Nn(n,t),In(t),l&512&&(Bt||s===null||zi(s,s.return)),s!==null&&l&4&&$f(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Nn(n,t),In(t),l&512&&(Bt||s===null||zi(s,s.return)),t.flags&32){h=t.stateNode;try{Rn(h,"")}catch(ue){rt(t,t.return,ue)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,$f(t,h,s!==null?s.memoizedProps:h)),l&1024&&(Jf=!0);break;case 6:if(Nn(n,t),In(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(ue){rt(t,t.return,ue)}}break;case 3:if(Sc=null,h=bi,bi=Ec(n.containerInfo),Nn(n,t),bi=h,In(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{rl(n.containerInfo)}catch(ue){rt(t,t.return,ue)}Jf&&(Jf=!1,Ey(t));break;case 4:l=bi,bi=Ec(t.stateNode.containerInfo),Nn(n,t),In(t),bi=l;break;case 12:Nn(n,t),In(t);break;case 31:Nn(n,t),In(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lc(t,l)));break;case 13:Nn(n,t),In(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(uc=nn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lc(t,l)));break;case 22:h=t.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,P=ys,G=Bt;if(ys=P||h,Bt=G||C,Nn(n,t),Bt=G,ys=P,In(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||ys||Bt||la(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=C.stateNode;var Y=C.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ue){rt(C,C.return,ue)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ue){rt(C,C.return,ue)}}}else if(n.tag===18){if(s===null){C=n;try{var H=C.stateNode;h?c0(H,!0):c0(C.stateNode,!1)}catch(ue){rt(C,C.return,ue)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,lc(t,s))));break;case 19:Nn(n,t),In(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lc(t,l)));break;case 30:break;case 21:break;default:Nn(n,t),In(t)}}function In(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(fy(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Wf(t);ac(t,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(Rn(g,""),s.flags&=-33);var T=Wf(t);ac(t,T,g);break;case 3:case 4:var C=s.stateNode.containerInfo,P=Wf(t);Zf(t,P,C);break;default:throw Error(a(161))}}catch(G){rt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ey(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ey(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function vs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)gy(t,n.alternate,n),n=n.sibling}function la(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:nr(4,n,n.return),la(n);break;case 1:zi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&cy(n,n.return,s),la(n);break;case 27:wo(n.stateNode);case 26:case 5:zi(n,n.return),la(n);break;case 22:n.memoizedState===null&&la(n);break;case 30:la(n);break;default:la(n)}t=t.sibling}}function bs(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:bs(h,f,s),po(4,f);break;case 1:if(bs(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){rt(l,l.return,P)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Zg(C[h],T)}catch(P){rt(l,l.return,P)}}s&&g&64&&uy(f),yo(f,f.return);break;case 27:dy(f);case 26:case 5:bs(h,f,s),s&&l===null&&g&4&&hy(f),yo(f,f.return);break;case 12:bs(h,f,s);break;case 31:bs(h,f,s),s&&g&4&&_y(h,f);break;case 13:bs(h,f,s),s&&g&4&&vy(h,f);break;case 22:f.memoizedState===null&&bs(h,f,s),yo(f,f.return);break;case 30:break;default:bs(h,f,s)}n=n.sibling}}function ed(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&no(s))}function td(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&no(t))}function Ei(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ty(t,n,s,l),n=n.sibling}function Ty(t,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Ei(t,n,s,l),h&2048&&po(9,n);break;case 1:Ei(t,n,s,l);break;case 3:Ei(t,n,s,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&no(t)));break;case 12:if(h&2048){Ei(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){rt(n,n.return,C)}}else Ei(t,n,s,l);break;case 31:Ei(t,n,s,l);break;case 13:Ei(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Ei(t,n,s,l):_o(t,n):f._visibility&2?Ei(t,n,s,l):(f._visibility|=2,Ya(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&ed(g,n);break;case 24:Ei(t,n,s,l),h&2048&&td(n.alternate,n);break;default:Ei(t,n,s,l)}}function Ya(t,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,T=s,C=l,P=g.flags;switch(g.tag){case 0:case 11:case 15:Ya(f,g,T,C,h),po(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?Ya(f,g,T,C,h):_o(f,g):(G._visibility|=2,Ya(f,g,T,C,h)),h&&P&2048&&ed(g.alternate,g);break;case 24:Ya(f,g,T,C,h),h&&P&2048&&td(g.alternate,g);break;default:Ya(f,g,T,C,h)}n=n.sibling}}function _o(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,h=l.flags;switch(l.tag){case 22:_o(s,l),h&2048&&ed(l.alternate,l);break;case 24:_o(s,l),h&2048&&td(l.alternate,l);break;default:_o(s,l)}n=n.sibling}}var vo=8192;function Xa(t,n,s){if(t.subtreeFlags&vo)for(t=t.child;t!==null;)Sy(t,n,s),t=t.sibling}function Sy(t,n,s){switch(t.tag){case 26:Xa(t,n,s),t.flags&vo&&t.memoizedState!==null&&_1(s,bi,t.memoizedState,t.memoizedProps);break;case 5:Xa(t,n,s);break;case 3:case 4:var l=bi;bi=Ec(t.stateNode.containerInfo),Xa(t,n,s),bi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=vo,vo=16777216,Xa(t,n,s),vo=l):Xa(t,n,s));break;default:Xa(t,n,s)}}function Ay(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function bo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];en=l,wy(l,t)}Ay(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)xy(t),t=t.sibling}function xy(t){switch(t.tag){case 0:case 11:case 15:bo(t),t.flags&2048&&nr(9,t,t.return);break;case 3:bo(t);break;case 12:bo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,oc(t)):bo(t);break;default:bo(t)}}function oc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];en=l,wy(l,t)}Ay(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:nr(8,n,n.return),oc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,oc(n));break;default:oc(n)}t=t.sibling}}function wy(t,n){for(;en!==null;){var s=en;switch(s.tag){case 0:case 11:case 15:nr(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:no(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,en=l;else e:for(s=t;en!==null;){l=en;var h=l.sibling,f=l.return;if(py(l),l===s){en=null;break e}if(h!==null){h.return=f,en=h;break e}en=f}}}var MT={getCacheForType:function(t){var n=an(Lt),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return an(Lt).controller.signal}},VT=typeof WeakMap=="function"?WeakMap:Map,We=0,ft=null,ke=null,Ue=0,st=0,Kn=null,ir=!1,$a=!1,nd=!1,Es=0,wt=0,sr=0,oa=0,id=0,Yn=0,Wa=0,Eo=null,Dn=null,sd=!1,uc=0,Ry=0,cc=1/0,hc=null,rr=null,Yt=0,ar=null,Za=null,Ts=0,rd=0,ad=null,Cy=null,To=0,ld=null;function Xn(){return(We&2)!==0&&Ue!==0?Ue&-Ue:q.T!==null?dd():Us()}function Ny(){if(Yn===0)if((Ue&536870912)===0||qe){var t=Un;Un<<=1,(Un&3932160)===0&&(Un=262144),Yn=t}else Yn=536870912;return t=Fn.current,t!==null&&(t.flags|=32),Yn}function On(t,n,s){(t===ft&&(st===2||st===9)||t.cancelPendingCommit!==null)&&(Ja(t,0),lr(t,Ue,Yn,!1)),Ln(t,s),((We&2)===0||t!==ft)&&(t===ft&&((We&2)===0&&(oa|=s),wt===4&&lr(t,Ue,Yn,!1)),Bi(t))}function Iy(t,n,s){if((We&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||Te(t,n),h=l?UT(t,n):ud(t,n,!0),f=l;do{if(h===0){$a&&!l&&lr(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!kT(s)){h=ud(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var T=t;h=Eo;var C=T.current.memoizedState.isDehydrated;if(C&&(Ja(T,g).flags|=256),g=ud(T,g,!1),g!==2){if(nd&&!C){T.errorRecoveryDisabledLanes|=f,oa|=f,h=4;break e}f=Dn,Dn=h,f!==null&&(Dn===null?Dn=f:Dn.push.apply(Dn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ja(t,0),lr(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:lr(l,n,Yn,!ir);break e;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=uc+300-nn(),10<h)){if(lr(l,n,Yn,!ir),$(l,0,!0)!==0)break e;Ts=n,l.timeoutHandle=l0(Dy.bind(null,l,s,Dn,hc,sd,n,Yn,oa,Wa,ir,f,"Throttled",-0,0),h);break e}Dy(l,s,Dn,hc,sd,n,Yn,oa,Wa,ir,f,null,-0,0)}}break}while(!0);Bi(t)}function Dy(t,n,s,l,h,f,g,T,C,P,G,Y,z,H){if(t.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:mi},Sy(n,f,Y);var ue=(f&62914560)===f?uc-nn():(f&4194048)===f?Ry-nn():0;if(ue=v1(Y,ue),ue!==null){Ts=f,t.cancelPendingCommit=ue(Py.bind(null,t,n,f,s,l,h,g,T,C,G,Y,null,z,H)),lr(t,f,g,!P);return}}Py(t,n,f,s,l,h,g,T,C)}function kT(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!qn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function lr(t,n,s,l){n&=~id,n&=~oa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-Ze(h),g=1<<f;l[f]=-1,h&=~g}s!==0&&rs(t,s,n)}function fc(){return(We&6)===0?(So(0),!1):!0}function od(){if(ke!==null){if(st===0)var t=ke.return;else t=ke,hs=Jr=null,Af(t),qa=null,so=0,t=ke;for(;t!==null;)oy(t.alternate,t),t=t.return;ke=null}}function Ja(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,t1(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Ts=0,od(),ft=t,ke=s=us(t.current,null),Ue=n,st=0,Kn=null,ir=!1,$a=Te(t,n),nd=!1,Wa=Yn=id=oa=sr=wt=0,Dn=Eo=null,sd=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-Ze(l),f=1<<h;n|=t[h],l&=~f}return Es=n,Mu(),s}function Oy(t,n){De=null,q.H=fo,n===Ha||n===Bu?(n=Yg(),st=3):n===ff?(n=Yg(),st=4):st=n===zf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Kn=n,ke===null&&(wt=1,tc(t,ni(n,t.current)))}function My(){var t=Fn.current;return t===null?!0:(Ue&4194048)===Ue?ai===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?t===ai:!1}function Vy(){var t=q.H;return q.H=fo,t===null?fo:t}function ky(){var t=q.A;return q.A=MT,t}function dc(){wt=4,ir||(Ue&4194048)!==Ue&&Fn.current!==null||($a=!0),(sr&134217727)===0&&(oa&134217727)===0||ft===null||lr(ft,Ue,Yn,!1)}function ud(t,n,s){var l=We;We|=2;var h=Vy(),f=ky();(ft!==t||Ue!==n)&&(hc=null,Ja(t,n)),n=!1;var g=wt;e:do try{if(st!==0&&ke!==null){var T=ke,C=Kn;switch(st){case 8:od(),g=6;break e;case 3:case 2:case 9:case 6:Fn.current===null&&(n=!0);var P=st;if(st=0,Kn=null,el(t,T,C,P),s&&$a){g=0;break e}break;default:P=st,st=0,Kn=null,el(t,T,C,P)}}jT(),g=wt;break}catch(G){Oy(t,G)}while(!0);return n&&t.shellSuspendCounter++,hs=Jr=null,We=l,q.H=h,q.A=f,ke===null&&(ft=null,Ue=0,Mu()),g}function jT(){for(;ke!==null;)jy(ke)}function UT(t,n){var s=We;We|=2;var l=Vy(),h=ky();ft!==t||Ue!==n?(hc=null,cc=nn()+500,Ja(t,n)):$a=Te(t,n);e:do try{if(st!==0&&ke!==null){n=ke;var f=Kn;t:switch(st){case 1:st=0,Kn=null,el(t,n,f,1);break;case 2:case 9:if(Qg(f)){st=0,Kn=null,Uy(n);break}n=function(){st!==2&&st!==9||ft!==t||(st=7),Bi(t)},f.then(n,n);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Qg(f)?(st=0,Kn=null,Uy(n)):(st=0,Kn=null,el(t,n,f,7));break;case 5:var g=null;switch(ke.tag){case 26:g=ke.memoizedState;case 5:case 27:var T=ke;if(g?T0(g):T.stateNode.complete){st=0,Kn=null;var C=T.sibling;if(C!==null)ke=C;else{var P=T.return;P!==null?(ke=P,mc(P)):ke=null}break t}}st=0,Kn=null,el(t,n,f,5);break;case 6:st=0,Kn=null,el(t,n,f,6);break;case 8:od(),wt=6;break e;default:throw Error(a(462))}}LT();break}catch(G){Oy(t,G)}while(!0);return hs=Jr=null,q.H=l,q.A=h,We=s,ke!==null?0:(ft=null,Ue=0,Mu(),wt)}function LT(){for(;ke!==null&&!Vl();)jy(ke)}function jy(t){var n=ay(t.alternate,t,Es);t.memoizedProps=t.pendingProps,n===null?mc(t):ke=n}function Uy(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=ey(s,n,n.pendingProps,n.type,void 0,Ue);break;case 11:n=ey(s,n,n.pendingProps,n.type.render,n.ref,Ue);break;case 5:Af(n);default:oy(s,n),n=ke=kg(n,Es),n=ay(s,n,Es)}t.memoizedProps=t.pendingProps,n===null?mc(t):ke=n}function el(t,n,s,l){hs=Jr=null,Af(n),qa=null,so=0;var h=n.return;try{if(wT(t,h,n,s,Ue)){wt=1,tc(t,ni(s,t.current)),ke=null;return}}catch(f){if(h!==null)throw ke=h,f;wt=1,tc(t,ni(s,t.current)),ke=null;return}n.flags&32768?(qe||l===1?t=!0:$a||(Ue&536870912)!==0?t=!1:(ir=t=!0,(l===2||l===9||l===3||l===6)&&(l=Fn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ly(n,t)):mc(n)}function mc(t){var n=t;do{if((n.flags&32768)!==0){Ly(n,ir);return}t=n.return;var s=NT(n.alternate,n,Es);if(s!==null){ke=s;return}if(n=n.sibling,n!==null){ke=n;return}ke=n=t}while(n!==null);wt===0&&(wt=5)}function Ly(t,n){do{var s=IT(t.alternate,t);if(s!==null){s.flags&=32767,ke=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){ke=t;return}ke=t=s}while(t!==null);wt=6,ke=null}function Py(t,n,s,l,h,f,g,T,C){t.cancelPendingCommit=null;do gc();while(Yt!==0);if((We&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=$h,mn(t,s,f,g,T,C),t===ft&&(ke=ft=null,Ue=0),Za=n,ar=t,Ts=s,rd=f,ad=h,Cy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,HT(Ai,function(){return Gy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,h=te.p,te.p=2,g=We,We|=4;try{DT(t,n,s)}finally{We=g,te.p=h,q.T=l}}Yt=1,zy(),By(),Hy()}}function zy(){if(Yt===1){Yt=0;var t=ar,n=Za,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=q.T,q.T=null;var l=te.p;te.p=2;var h=We;We|=4;try{by(n,t);var f=Ed,g=wg(t.containerInfo),T=f.focusedElem,C=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&xg(T.ownerDocument.documentElement,T)){if(C!==null&&Fh(T)){var P=C.start,G=C.end;if(G===void 0&&(G=P),"selectionStart"in T)T.selectionStart=P,T.selectionEnd=Math.min(G,T.value.length);else{var Y=T.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var H=z.getSelection(),ue=T.textContent.length,_e=Math.min(C.start,ue),ct=C.end===void 0?_e:Math.min(C.end,ue);!H.extend&&_e>ct&&(g=ct,ct=_e,_e=g);var k=Ag(T,_e),I=Ag(T,ct);if(k&&I&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==I.node||H.focusOffset!==I.offset)){var L=Y.createRange();L.setStart(k.node,k.offset),H.removeAllRanges(),_e>ct?(H.addRange(L),H.extend(I.node,I.offset)):(L.setEnd(I.node,I.offset),H.addRange(L))}}}}for(Y=[],H=T;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Y.length;T++){var Q=Y[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Rc=!!bd,Ed=bd=null}finally{We=h,te.p=l,q.T=s}}t.current=n,Yt=2}}function By(){if(Yt===2){Yt=0;var t=ar,n=Za,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=q.T,q.T=null;var l=te.p;te.p=2;var h=We;We|=4;try{gy(t,n.alternate,n)}finally{We=h,te.p=l,q.T=s}}Yt=3}}function Hy(){if(Yt===4||Yt===3){Yt=0,va();var t=ar,n=Za,s=Ts,l=Cy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Yt=5:(Yt=0,Za=ar=null,qy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(rr=null),zn(s),n=n.stateNode,Ne&&typeof Ne.onCommitFiberRoot=="function")try{Ne.onCommitFiberRoot(ce,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=q.T,h=te.p,te.p=2,q.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var T=l[g];f(T.value,{componentStack:T.stack})}}finally{q.T=n,te.p=h}}(Ts&3)!==0&&gc(),Bi(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===ld?To++:(To=0,ld=t):To=0,So(0)}}function qy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,no(n)))}function gc(){return zy(),By(),Hy(),Gy()}function Gy(){if(Yt!==5)return!1;var t=ar,n=rd;rd=0;var s=zn(Ts),l=q.T,h=te.p;try{te.p=32>s?32:s,q.T=null,s=ad,ad=null;var f=ar,g=Ts;if(Yt=0,Za=ar=null,Ts=0,(We&6)!==0)throw Error(a(331));var T=We;if(We|=4,xy(f.current),Ty(f,f.current,g,s),We=T,So(0,!1),Ne&&typeof Ne.onPostCommitFiberRoot=="function")try{Ne.onPostCommitFiberRoot(ce,f)}catch{}return!0}finally{te.p=h,q.T=l,qy(t,n)}}function Fy(t,n,s){n=ni(s,n),n=Pf(t.stateNode,n,2),t=Js(t,n,2),t!==null&&(Ln(t,2),Bi(t))}function rt(t,n,s){if(t.tag===3)Fy(t,t,s);else for(;n!==null;){if(n.tag===3){Fy(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(rr===null||!rr.has(l))){t=ni(s,t),s=Qp(2),l=Js(n,s,2),l!==null&&(Kp(s,l,n,t),Ln(l,2),Bi(l));break}}n=n.return}}function cd(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new VT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(nd=!0,h.add(s),t=PT.bind(null,t,n,s),n.then(t,t))}function PT(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,ft===t&&(Ue&s)===s&&(wt===4||wt===3&&(Ue&62914560)===Ue&&300>nn()-uc?(We&2)===0&&Ja(t,0):id|=s,Wa===Ue&&(Wa=0)),Bi(t)}function Qy(t,n){n===0&&(n=Kt()),t=$r(t,n),t!==null&&(Ln(t,n),Bi(t))}function zT(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Qy(t,s)}function BT(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Qy(t,s)}function HT(t,n){return Ct(t,n)}var pc=null,tl=null,hd=!1,yc=!1,fd=!1,or=0;function Bi(t){t!==tl&&t.next===null&&(tl===null?pc=tl=t:tl=tl.next=t),yc=!0,hd||(hd=!0,GT())}function So(t,n){if(!fd&&yc){fd=!0;do for(var s=!1,l=pc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-Ze(42|t)+1)-1,f&=h&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,$y(l,f))}else f=Ue,f=$(l,l===ft?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Te(l,f)||(s=!0,$y(l,f));l=l.next}while(s);fd=!1}}function qT(){Ky()}function Ky(){yc=hd=!1;var t=0;or!==0&&e1()&&(t=or);for(var n=nn(),s=null,l=pc;l!==null;){var h=l.next,f=Yy(l,n);f===0?(l.next=null,s===null?pc=h:s.next=h,h===null&&(tl=s)):(s=l,(t!==0||(f&3)!==0)&&(yc=!0)),l=h}Yt!==0&&Yt!==5||So(t),or!==0&&(or=0)}function Yy(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-Ze(f),T=1<<g,C=h[g];C===-1?((T&s)===0||(T&l)!==0)&&(h[g]=dn(T,n)):C<=n&&(t.expiredLanes|=T),f&=~T}if(n=ft,s=Ue,s=$(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(st===2||st===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Si(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Te(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&Si(l),zn(s)){case 2:case 8:s=Ur;break;case 32:s=Ai;break;case 268435456:s=Z;break;default:s=Ai}return l=Xy.bind(null,t),s=Ct(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&Si(l),t.callbackPriority=2,t.callbackNode=null,2}function Xy(t,n){if(Yt!==0&&Yt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(gc()&&t.callbackNode!==s)return null;var l=Ue;return l=$(t,t===ft?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Iy(t,l,n),Yy(t,nn()),t.callbackNode!=null&&t.callbackNode===s?Xy.bind(null,t):null)}function $y(t,n){if(gc())return null;Iy(t,n,!0)}function GT(){n1(function(){(We&6)!==0?Ct(jr,qT):Ky()})}function dd(){if(or===0){var t=za;t===0&&(t=Vt,Vt<<=1,(Vt&261888)===0&&(Vt=256)),or=t}return or}function Wy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:xa(""+t)}function Zy(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function FT(t,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=Wy((h[Zt]||null).action),g=l.submitter;g&&(n=(n=g[Zt]||null)?Wy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new Vi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(or!==0){var C=g?Zy(h,g):new FormData(h);Mf(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(T.preventDefault(),C=g?Zy(h,g):new FormData(h),Mf(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var md=0;md<Xh.length;md++){var gd=Xh[md],QT=gd.toLowerCase(),KT=gd[0].toUpperCase()+gd.slice(1);vi(QT,"on"+KT)}vi(Ng,"onAnimationEnd"),vi(Ig,"onAnimationIteration"),vi(Dg,"onAnimationStart"),vi("dblclick","onDoubleClick"),vi("focusin","onFocus"),vi("focusout","onBlur"),vi(uT,"onTransitionRun"),vi(cT,"onTransitionStart"),vi(hT,"onTransitionCancel"),vi(Og,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ao));function Jy(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var T=l[g],C=T.instance,P=T.currentTarget;if(T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=P;try{f(h)}catch(G){Ou(G)}h.currentTarget=null,f=C}else for(g=0;g<l.length;g++){if(T=l[g],C=T.instance,P=T.currentTarget,T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=P;try{f(h)}catch(G){Ou(G)}h.currentTarget=null,f=C}}}}function je(t,n){var s=n[ba];s===void 0&&(s=n[ba]=new Set);var l=t+"__bubble";s.has(l)||(e0(n,t,2,!1),s.add(l))}function pd(t,n,s){var l=0;n&&(l|=4),e0(s,t,l,n)}var _c="_reactListening"+Math.random().toString(36).slice(2);function yd(t){if(!t[_c]){t[_c]=!0,kl.forEach(function(s){s!=="selectionchange"&&(YT.has(s)||pd(s,!1,t),pd(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[_c]||(n[_c]=!0,pd("selectionchange",!1,n))}}function e0(t,n,s,l){switch(N0(n)){case 2:var h=T1;break;case 8:h=S1;break;default:h=Od}s=h.bind(null,n,s,t),h=void 0,!Hr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function _d(t,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var T=l.stateNode.containerInfo;if(T===h)break;if(g===4)for(g=l.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;T!==null;){if(g=Ri(T),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){l=f=g;continue e}T=T.parentNode}}l=l.return}qs(function(){var P=f,G=Zn(s),Y=[];e:{var z=Mg.get(t);if(z!==void 0){var H=Vi,ue=t;switch(t){case"keypress":if(Gr(s)===0)break e;case"keydown":case"keyup":H=Nu;break;case"focusin":ue="focus",H=Qr;break;case"focusout":ue="blur",H=Qr;break;case"beforeblur":case"afterblur":H=Qr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Yl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=bu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Ng:case Ig:case Dg:H=Tu;break;case Og:H=S;break;case"scroll":case"scrollend":H=Kl;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=Su;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=os;break;case"toggle":case"beforetoggle":H=Ie}var _e=(n&4)!==0,ct=!_e&&(t==="scroll"||t==="scrollend"),k=_e?z!==null?z+"Capture":null:z;_e=[];for(var I=P,L;I!==null;){var Q=I;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||k===null||(Q=gi(I,k),Q!=null&&_e.push(xo(I,Q,L))),ct)break;I=I.return}0<_e.length&&(z=new H(z,ue,null,s,G),Y.push({event:z,listeners:_e}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",z&&s!==Gl&&(ue=s.relatedTarget||s.fromElement)&&(Ri(ue)||ue[xi]))break e;if((H||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,H?(ue=s.relatedTarget||s.toElement,H=P,ue=ue?Ri(ue):null,ue!==null&&(ct=c(ue),_e=ue.tag,ue!==ct||_e!==5&&_e!==27&&_e!==6)&&(ue=null)):(H=null,ue=P),H!==ue)){if(_e=Yl,Q="onMouseLeave",k="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(_e=os,Q="onPointerLeave",k="onPointerEnter",I="pointer"),ct=H==null?z:Bn(H),L=ue==null?z:Bn(ue),z=new _e(Q,I+"leave",H,s,G),z.target=ct,z.relatedTarget=L,Q=null,Ri(G)===P&&(_e=new _e(k,I+"enter",ue,s,G),_e.target=L,_e.relatedTarget=ct,Q=_e),ct=Q,H&&ue)t:{for(_e=XT,k=H,I=ue,L=0,Q=k;Q;Q=_e(Q))L++;Q=0;for(var ge=I;ge;ge=_e(ge))Q++;for(;0<L-Q;)k=_e(k),L--;for(;0<Q-L;)I=_e(I),Q--;for(;L--;){if(k===I||I!==null&&k===I.alternate){_e=k;break t}k=_e(k),I=_e(I)}_e=null}else _e=null;H!==null&&t0(Y,z,H,_e,!1),ue!==null&&ct!==null&&t0(Y,ct,ue,_e,!0)}}e:{if(z=P?Bn(P):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var Ke=_g;else if(pg(z))if(vg)Ke=aT;else{Ke=sT;var he=iT}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&Aa(P.elementType)&&(Ke=_g):Ke=rT;if(Ke&&(Ke=Ke(t,P))){yg(Y,Ke,s,G);break e}he&&he(t,z,P),t==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&Bl(z,"number",z.value)}switch(he=P?Bn(P):window,t){case"focusin":(pg(he)||he.contentEditable==="true")&&(Oa=he,Qh=P,Jl=null);break;case"focusout":Jl=Qh=Oa=null;break;case"mousedown":Kh=!0;break;case"contextmenu":case"mouseup":case"dragend":Kh=!1,Rg(Y,s,G);break;case"selectionchange":if(oT)break;case"keydown":case"keyup":Rg(Y,s,G)}var Oe;if($e)e:{switch(t){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Da?Kr(t,s)&&(Le="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Le="onCompositionStart");Le&&(Ui&&s.locale!=="ko"&&(Da||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Da&&(Oe=Ql()):(Mi=G,Fl="value"in Mi?Mi.value:Mi.textContent,Da=!0)),he=vc(P,Le),0<he.length&&(Le=new ji(Le,t,null,s,G),Y.push({event:Le,listeners:he}),Oe?Le.data=Oe:(Oe=Ia(s),Oe!==null&&(Le.data=Oe)))),(Oe=ei?JE(t,s):eT(t,s))&&(Le=vc(P,"onBeforeInput"),0<Le.length&&(he=new ji("onBeforeInput","beforeinput",null,s,G),Y.push({event:he,listeners:Le}),he.data=Oe)),FT(Y,t,P,s,G)}Jy(Y,n)})}function xo(t,n,s){return{instance:t,listener:n,currentTarget:s}}function vc(t,n){for(var s=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=gi(t,s),h!=null&&l.unshift(xo(t,h,f)),h=gi(t,n),h!=null&&l.push(xo(t,h,f))),t.tag===3)return l;t=t.return}return[]}function XT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function t0(t,n,s,l,h){for(var f=n._reactName,g=[];s!==null&&s!==l;){var T=s,C=T.alternate,P=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||P===null||(C=P,h?(P=gi(s,f),P!=null&&g.unshift(xo(s,P,C))):h||(P=gi(s,f),P!=null&&g.push(xo(s,P,C)))),s=s.return}g.length!==0&&t.push({event:n,listeners:g})}var $T=/\r\n?/g,WT=/\u0000|\uFFFD/g;function n0(t){return(typeof t=="string"?t:""+t).replace($T,`
`).replace(WT,"")}function i0(t,n){return n=n0(n),n0(t)===n}function ut(t,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Rn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Rn(t,""+l);break;case"className":Hn(t,"class",l);break;case"tabIndex":Hn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Hn(t,s,l);break;case"style":ql(t,l,f);break;case"data":if(n!=="object"){Hn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=xa(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ut(t,n,"name",h.name,h,null),ut(t,n,"formEncType",h.formEncType,h,null),ut(t,n,"formMethod",h.formMethod,h,null),ut(t,n,"formTarget",h.formTarget,h,null)):(ut(t,n,"encType",h.encType,h,null),ut(t,n,"method",h.method,h,null),ut(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=xa(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=mi);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=xa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":je("beforetoggle",t),je("toggle",t),Ta(t,"popover",l);break;case"xlinkActuate":Ut(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ut(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ut(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ut(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ut(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ut(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ta(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=vu.get(s)||s,Ta(t,s,l))}}function vd(t,n,s,l,h,f){switch(s){case"style":ql(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?Rn(t,l):(typeof l=="number"||typeof l=="bigint")&&Rn(t,""+l);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"onClick":l!=null&&(t.onclick=mi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jl.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=t[Zt]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Ta(t,s,l)}}}function on(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",t),je("load",t);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ut(t,n,f,g,s,null)}}h&&ut(t,n,"srcSet",s.srcSet,s,null),l&&ut(t,n,"src",s.src,s,null);return;case"input":je("invalid",t);var T=f=g=h=null,C=null,P=null;for(l in s)if(s.hasOwnProperty(l)){var G=s[l];if(G!=null)switch(l){case"name":h=G;break;case"type":g=G;break;case"checked":C=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:ut(t,n,l,G,s,null)}}pu(t,f,T,C,P,g,h,!1);return;case"select":je("invalid",t),l=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":l=T;default:ut(t,n,h,T,s,null)}n=f,s=g,t.multiple=!!l,n!=null?Ps(t,!!l,n,!1):s!=null&&Ps(t,!!l,s,!0);return;case"textarea":je("invalid",t),f=h=l=null;for(g in s)if(s.hasOwnProperty(g)&&(T=s[g],T!=null))switch(g){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:ut(t,n,g,T,s,null)}zs(t,l,h,f);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(l=s[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ut(t,n,C,l,s,null)}return;case"dialog":je("beforetoggle",t),je("toggle",t),je("cancel",t),je("close",t);break;case"iframe":case"object":je("load",t);break;case"video":case"audio":for(l=0;l<Ao.length;l++)je(Ao[l],t);break;case"image":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"embed":case"source":case"link":je("error",t),je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(l=s[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ut(t,n,P,l,s,null)}return;default:if(Aa(n)){for(G in s)s.hasOwnProperty(G)&&(l=s[G],l!==void 0&&vd(t,n,G,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&ut(t,n,T,l,s,null))}function ZT(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,T=null,C=null,P=null,G=null;for(H in s){var Y=s[H];if(s.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=Y;default:l.hasOwnProperty(H)||ut(t,n,H,null,l,Y)}}for(var z in l){var H=l[z];if(Y=s[z],l.hasOwnProperty(z)&&(H!=null||Y!=null))switch(z){case"type":f=H;break;case"name":h=H;break;case"checked":P=H;break;case"defaultChecked":G=H;break;case"value":g=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==Y&&ut(t,n,z,H,l,Y)}}Sa(t,g,T,C,P,G,f,h);return;case"select":H=g=T=z=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:l.hasOwnProperty(f)||ut(t,n,f,null,l,C)}for(h in l)if(f=l[h],C=s[h],l.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":z=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==C&&ut(t,n,h,f,l,C)}n=T,s=g,l=H,z!=null?Ps(t,!!s,z,!1):!!l!=!!s&&(n!=null?Ps(t,!!s,n,!0):Ps(t,!!s,s?[]:"",!1));return;case"textarea":H=z=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ut(t,n,T,null,l,h)}for(g in l)if(h=l[g],f=s[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ut(t,n,g,h,l,f)}yu(t,z,H);return;case"option":for(var ue in s)if(z=s[ue],s.hasOwnProperty(ue)&&z!=null&&!l.hasOwnProperty(ue))switch(ue){case"selected":t.selected=!1;break;default:ut(t,n,ue,null,l,z)}for(C in l)if(z=l[C],H=s[C],l.hasOwnProperty(C)&&z!==H&&(z!=null||H!=null))switch(C){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:ut(t,n,C,z,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in s)z=s[_e],s.hasOwnProperty(_e)&&z!=null&&!l.hasOwnProperty(_e)&&ut(t,n,_e,null,l,z);for(P in l)if(z=l[P],H=s[P],l.hasOwnProperty(P)&&z!==H&&(z!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:ut(t,n,P,z,l,H)}return;default:if(Aa(n)){for(var ct in s)z=s[ct],s.hasOwnProperty(ct)&&z!==void 0&&!l.hasOwnProperty(ct)&&vd(t,n,ct,void 0,l,z);for(G in l)z=l[G],H=s[G],!l.hasOwnProperty(G)||z===H||z===void 0&&H===void 0||vd(t,n,G,z,l,H);return}}for(var k in s)z=s[k],s.hasOwnProperty(k)&&z!=null&&!l.hasOwnProperty(k)&&ut(t,n,k,null,l,z);for(Y in l)z=l[Y],H=s[Y],!l.hasOwnProperty(Y)||z===H||z==null&&H==null||ut(t,n,Y,z,l,H)}function s0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function JT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,g=h.initiatorType,T=h.duration;if(f&&T&&s0(g)){for(g=0,T=h.responseEnd,l+=1;l<s.length;l++){var C=s[l],P=C.startTime;if(P>T)break;var G=C.transferSize,Y=C.initiatorType;G&&s0(Y)&&(C=C.responseEnd,g+=G*(C<T?1:(T-P)/(C-P)))}if(--l,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var bd=null,Ed=null;function bc(t){return t.nodeType===9?t:t.ownerDocument}function r0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Td(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Sd=null;function e1(){var t=window.event;return t&&t.type==="popstate"?t===Sd?!1:(Sd=t,!0):(Sd=null,!1)}var l0=typeof setTimeout=="function"?setTimeout:void 0,t1=typeof clearTimeout=="function"?clearTimeout:void 0,o0=typeof Promise=="function"?Promise:void 0,n1=typeof queueMicrotask=="function"?queueMicrotask:typeof o0<"u"?function(t){return o0.resolve(null).then(t).catch(i1)}:l0;function i1(t){setTimeout(function(){throw t})}function ur(t){return t==="head"}function u0(t,n){var s=n,l=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(h),rl(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")wo(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,wo(s);for(var f=s.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[wi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&wo(t.ownerDocument.body);s=h}while(s);rl(n)}function c0(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function Ad(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Ad(s),Ea(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function s1(t,n,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[wi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=li(t.nextSibling),t===null)break}return null}function r1(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=li(t.nextSibling),t===null))return null;return t}function h0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=li(t.nextSibling),t===null))return null;return t}function xd(t){return t.data==="$?"||t.data==="$~"}function wd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function a1(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function li(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Rd=null;function f0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return li(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function d0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function m0(t,n,s){switch(n=bc(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function wo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ea(t)}var oi=new Map,g0=new Set;function Ec(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ss=te.d;te.d={f:l1,r:o1,D:u1,C:c1,L:h1,m:f1,X:m1,S:d1,M:g1};function l1(){var t=Ss.f(),n=fc();return t||n}function o1(t){var n=Wn(t);n!==null&&n.tag===5&&n.type==="form"?Op(n):Ss.r(t)}var nl=typeof document>"u"?null:document;function p0(t,n,s){var l=nl;if(l&&typeof n=="string"&&n){var h=wn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),g0.has(h)||(g0.add(h),t={rel:t,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),on(n,"link",t),jt(n),l.head.appendChild(n)))}}function u1(t){Ss.D(t),p0("dns-prefetch",t,null)}function c1(t,n){Ss.C(t,n),p0("preconnect",t,n)}function h1(t,n,s){Ss.L(t,n,s);var l=nl;if(l&&t&&n){var h='link[rel="preload"][as="'+wn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+wn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+wn(s.imageSizes)+'"]')):h+='[href="'+wn(t)+'"]';var f=h;switch(n){case"style":f=il(t);break;case"script":f=sl(t)}oi.has(f)||(t=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),oi.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Ro(f))||n==="script"&&l.querySelector(Co(f))||(n=l.createElement("link"),on(n,"link",t),jt(n),l.head.appendChild(n)))}}function f1(t,n){Ss.m(t,n);var s=nl;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+wn(l)+'"][href="'+wn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=sl(t)}if(!oi.has(f)&&(t=A({rel:"modulepreload",href:t},n),oi.set(f,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Co(f)))return}l=s.createElement("link"),on(l,"link",t),jt(l),s.head.appendChild(l)}}}function d1(t,n,s){Ss.S(t,n,s);var l=nl;if(l&&t){var h=Ci(l).hoistableStyles,f=il(t);n=n||"default";var g=h.get(f);if(!g){var T={loading:0,preload:null};if(g=l.querySelector(Ro(f)))T.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},s),(s=oi.get(f))&&Cd(t,s);var C=g=l.createElement("link");jt(C),on(C,"link",t),C._p=new Promise(function(P,G){C.onload=P,C.onerror=G}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Tc(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:T},h.set(f,g)}}}function m1(t,n){Ss.X(t,n);var s=nl;if(s&&t){var l=Ci(s).hoistableScripts,h=sl(t),f=l.get(h);f||(f=s.querySelector(Co(h)),f||(t=A({src:t,async:!0},n),(n=oi.get(h))&&Nd(t,n),f=s.createElement("script"),jt(f),on(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function g1(t,n){Ss.M(t,n);var s=nl;if(s&&t){var l=Ci(s).hoistableScripts,h=sl(t),f=l.get(h);f||(f=s.querySelector(Co(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=oi.get(h))&&Nd(t,n),f=s.createElement("script"),jt(f),on(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function y0(t,n,s,l){var h=(h=Ae.current)?Ec(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=il(s.href),s=Ci(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=il(s.href);var f=Ci(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(Ro(t)))&&!f._p&&(g.instance=f,g.state.loading=5),oi.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},oi.set(t,s),f||p1(h,t,s,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=sl(s),s=Ci(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function il(t){return'href="'+wn(t)+'"'}function Ro(t){return'link[rel="stylesheet"]['+t+"]"}function _0(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function p1(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),on(n,"link",s),jt(n),t.head.appendChild(n))}function sl(t){return'[src="'+wn(t)+'"]'}function Co(t){return"script[async]"+t}function v0(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+wn(s.href)+'"]');if(l)return n.instance=l,jt(l),l;var h=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),jt(l),on(l,"style",h),Tc(l,s.precedence,t),n.instance=l;case"stylesheet":h=il(s.href);var f=t.querySelector(Ro(h));if(f)return n.state.loading|=4,n.instance=f,jt(f),f;l=_0(s),(h=oi.get(h))&&Cd(l,h),f=(t.ownerDocument||t).createElement("link"),jt(f);var g=f;return g._p=new Promise(function(T,C){g.onload=T,g.onerror=C}),on(f,"link",l),n.state.loading|=4,Tc(f,s.precedence,t),n.instance=f;case"script":return f=sl(s.src),(h=t.querySelector(Co(f)))?(n.instance=h,jt(h),h):(l=s,(h=oi.get(f))&&(l=A({},s),Nd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),jt(h),on(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Tc(l,s.precedence,t));return n.instance}function Tc(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var T=l[g];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Cd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Nd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Sc=null;function b0(t,n,s){if(Sc===null){var l=new Map,h=Sc=new Map;h.set(s,l)}else h=Sc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[wi]||f[kt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var T=l.get(g);T?T.push(f):l.set(g,[f])}}return l}function E0(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function y1(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function T0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function _1(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=il(l.href),f=n.querySelector(Ro(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Ac.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,jt(f);return}f=n.ownerDocument||n,l=_0(l),(h=oi.get(h))&&Cd(l,h),f=f.createElement("link"),jt(f);var g=f;g._p=new Promise(function(T,C){g.onload=T,g.onerror=C}),on(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Ac.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var Id=0;function v1(t,n){return t.stylesheets&&t.count===0&&wc(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&wc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Id===0&&(Id=62500*JT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&wc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Id?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Ac(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var xc=null;function wc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,xc=new Map,n.forEach(b1,t),xc=null,Ac.call(t))}function b1(t,n){if(!(n.state.loading&4)){var s=xc.get(t);if(s)var l=s.get(null);else{s=new Map,xc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,h),s.set(g,h),this.count++,l=Ac.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var No={$$typeof:Ee,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function E1(t,n,s,l,h,f,g,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=nt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nt(0),this.hiddenUpdates=nt(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function S0(t,n,s,l,h,f,g,T,C,P,G,Y){return t=new E1(t,n,s,g,C,P,G,Y,T),n=1,f===!0&&(n|=24),f=Gn(3,null,null,n),t.current=f,f.stateNode=t,n=uf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},df(f),t}function A0(t){return t?(t=ka,t):ka}function x0(t,n,s,l,h,f){h=A0(h),l.context===null?l.context=h:l.pendingContext=h,l=Zs(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Js(t,l,n),s!==null&&(On(s,t,n),ao(s,t,n))}function w0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Dd(t,n){w0(t,n),(t=t.alternate)&&w0(t,n)}function R0(t){if(t.tag===13||t.tag===31){var n=$r(t,67108864);n!==null&&On(n,t,67108864),Dd(t,67108864)}}function C0(t){if(t.tag===13||t.tag===31){var n=Xn();n=Pn(n);var s=$r(t,n);s!==null&&On(s,t,n),Dd(t,n)}}var Rc=!0;function T1(t,n,s,l){var h=q.T;q.T=null;var f=te.p;try{te.p=2,Od(t,n,s,l)}finally{te.p=f,q.T=h}}function S1(t,n,s,l){var h=q.T;q.T=null;var f=te.p;try{te.p=8,Od(t,n,s,l)}finally{te.p=f,q.T=h}}function Od(t,n,s,l){if(Rc){var h=Md(l);if(h===null)_d(t,n,l,Cc,s),I0(t,l);else if(x1(h,t,n,s,l))l.stopPropagation();else if(I0(t,l),n&4&&-1<A1.indexOf(t)){for(;h!==null;){var f=Wn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=En(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var C=1<<31-Ze(g);T.entanglements[1]|=C,g&=~C}Bi(f),(We&6)===0&&(cc=nn()+500,So(0))}}break;case 31:case 13:T=$r(f,2),T!==null&&On(T,f,2),fc(),Dd(f,2)}if(f=Md(l),f===null&&_d(t,n,l,Cc,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else _d(t,n,l,null,s)}}function Md(t){return t=Zn(t),Vd(t)}var Cc=null;function Vd(t){if(Cc=null,t=Ri(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=p(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Cc=t,null}function N0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ss()){case jr:return 2;case Ur:return 8;case Ai:case Lr:return 32;case Z:return 268435456;default:return 32}default:return 32}}var kd=!1,cr=null,hr=null,fr=null,Io=new Map,Do=new Map,dr=[],A1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I0(t,n){switch(t){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":Io.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Do.delete(n.pointerId)}}function Oo(t,n,s,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Wn(n),n!==null&&R0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function x1(t,n,s,l,h){switch(n){case"focusin":return cr=Oo(cr,t,n,s,l,h),!0;case"dragenter":return hr=Oo(hr,t,n,s,l,h),!0;case"mouseover":return fr=Oo(fr,t,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return Io.set(f,Oo(Io.get(f)||null,t,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Do.set(f,Oo(Do.get(f)||null,t,n,s,l,h)),!0}return!1}function D0(t){var n=Ri(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,fi(t.priority,function(){C0(s)});return}}else if(n===31){if(n=p(s),n!==null){t.blockedOn=n,fi(t.priority,function(){C0(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Md(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Gl=l,s.target.dispatchEvent(l),Gl=null}else return n=Wn(s),n!==null&&R0(n),t.blockedOn=s,!1;n.shift()}return!0}function O0(t,n,s){Nc(t)&&s.delete(n)}function w1(){kd=!1,cr!==null&&Nc(cr)&&(cr=null),hr!==null&&Nc(hr)&&(hr=null),fr!==null&&Nc(fr)&&(fr=null),Io.forEach(O0),Do.forEach(O0)}function Ic(t,n){t.blockedOn===n&&(t.blockedOn=null,kd||(kd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,w1)))}var Dc=null;function M0(t){Dc!==t&&(Dc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Dc===t&&(Dc=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Vd(l||s)===null)continue;break}var f=Wn(s);f!==null&&(t.splice(n,3),n-=3,Mf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function rl(t){function n(C){return Ic(C,t)}cr!==null&&Ic(cr,t),hr!==null&&Ic(hr,t),fr!==null&&Ic(fr,t),Io.forEach(n),Do.forEach(n);for(var s=0;s<dr.length;s++){var l=dr[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<dr.length&&(s=dr[0],s.blockedOn===null);)D0(s),s.blockedOn===null&&dr.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],g=h[Zt]||null;if(typeof f=="function")g||M0(s);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Zt]||null)T=g.formAction;else if(Vd(h)!==null)continue}else T=g.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),M0(s)}}}function V0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function jd(t){this._internalRoot=t}Oc.prototype.render=jd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=Xn();x0(s,l,t,n,null,null)},Oc.prototype.unmount=jd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;x0(t.current,2,null,t,null,null),fc(),n[xi]=null}};function Oc(t){this._internalRoot=t}Oc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Us();t={blockedOn:null,target:t,priority:n};for(var s=0;s<dr.length&&n!==0&&n<dr[s].priority;s++);dr.splice(s,0,t),s===0&&D0(t)}};var k0=e.version;if(k0!=="19.2.0")throw Error(a(527,k0,"19.2.0"));te.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var R1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mc.isDisabled&&Mc.supportsFiber)try{ce=Mc.inject(R1),Ne=Mc}catch{}}return Vo.createRoot=function(t,n){if(!o(t))throw Error(a(299));var s=!1,l="",h=Hp,f=qp,g=Gp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=S0(t,1,!1,null,null,s,l,null,h,f,g,V0),t[xi]=n.current,yd(t),new jd(n)},Vo.hydrateRoot=function(t,n,s){if(!o(t))throw Error(a(299));var l=!1,h="",f=Hp,g=qp,T=Gp,C=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=S0(t,1,!0,n,s??null,l,h,C,f,g,T,V0),n.context=A0(null),s=n.current,l=Xn(),l=Pn(l),h=Zs(l),h.callback=null,Js(s,h,l),s=l,n.current.lanes=s,Ln(n,s),Bi(n),t[xi]=n.current,yd(t),new Oc(n)},Vo.version="19.2.0",Vo}var F0;function P1(){if(F0)return Pd.exports;F0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Pd.exports=L1(),Pd.exports}var z1=P1();const B1=()=>{};var Q0={};const wv=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},H1=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],p=r[i++],y=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Rv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,p=d?r[o+1]:0,y=o+2<r.length,_=y?r[o+2]:0,E=c>>2,A=(c&3)<<4|p>>4;let M=(p&15)<<2|_>>6,F=_&63;y||(F=64,d||(M=64)),a.push(i[E],i[A],i[M],i[F])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(wv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):H1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],p=o<r.length?i[r.charAt(o)]:0;++o;const _=o<r.length?i[r.charAt(o)]:64;++o;const A=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||p==null||_==null||A==null)throw new q1;const M=c<<2|p>>4;if(a.push(M),_!==64){const F=p<<4&240|_>>2;if(a.push(F),A!==64){const ee=_<<6&192|A;a.push(ee)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class q1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const G1=function(r){const e=wv(r);return Rv.encodeByteArray(e,!0)},th=function(r){return G1(r).replace(/\./g,"")},Cv=function(r){try{return Rv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function F1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Q1=()=>F1().__FIREBASE_DEFAULTS__,K1=()=>{if(typeof process>"u"||typeof Q0>"u")return;const r=Q0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Y1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Cv(r[1]);return e&&JSON.parse(e)},Eh=()=>{try{return B1()||Q1()||K1()||Y1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Nv=r=>Eh()?.emulatorHosts?.[r],X1=r=>{const e=Nv(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Iv=()=>Eh()?.config,Dv=r=>Eh()?.[`_${r}`];class $1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function Rl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ov(r){return(await fetch(r,{credentials:"include"})).ok}function W1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[th(JSON.stringify(i)),th(JSON.stringify(d)),""].join(".")}const Po={};function Z1(){const r={prod:[],emulator:[]};for(const e of Object.keys(Po))Po[e]?r.emulator.push(e):r.prod.push(e);return r}function J1(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let K0=!1;function Mv(r,e){if(typeof window>"u"||typeof document>"u"||!Rl(window.location.host)||Po[r]===e||Po[r]||K0)return;Po[r]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=Z1().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function y(M,F){M.setAttribute("width","24"),M.setAttribute("id",F),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{K0=!0,d()},M}function E(M,F){M.setAttribute("id",F),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function A(){const M=J1(a),F=i("text"),ee=document.getElementById(F)||document.createElement("span"),se=i("learnmore"),J=document.getElementById(se)||document.createElement("a"),pe=i("preprendIcon"),Ce=document.getElementById(pe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const Ee=M.element;p(Ee),E(J,se);const tt=_();y(Ce,pe),Ee.append(Ce,ee,J,tt),document.body.appendChild(Ee)}c?(ee.innerText="Preview backend disconnected.",Ce.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ce.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ee.innerText="Preview backend running in this workspace."),ee.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function tS(){const r=Eh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function sS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rS(){const r=bn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function aS(){return!tS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lS(){try{return typeof indexedDB=="object"}catch{return!1}}function oS(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const uS="FirebaseError";class Vs extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=uS,Object.setPrototypeOf(this,Vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eu.prototype.create)}}class eu{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?cS(c,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Vs(o,p,a)}}function cS(r,e){return r.replace(hS,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const hS=/\{\$([^}]+)}/g;function fS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function wr(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=e[o];if(Y0(c)&&Y0(d)){if(!wr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function Y0(r){return r!==null&&typeof r=="object"}function tu(r){const e=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function dS(r,e){const i=new mS(r,e);return i.subscribe.bind(i)}class mS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");gS(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=qd),o.error===void 0&&(o.error=qd),o.complete===void 0&&(o.complete=qd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gS(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function qd(){}function An(r){return r&&r._delegate?r._delegate:r}class da{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ua="[DEFAULT]";class pS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new $1;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_S(e))try{this.getOrInitializeService({instanceIdentifier:ua})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=ua){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ua){return this.instances.has(e)}getOptions(e=ua){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:yS(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ua){return this.component?this.component.multipleInstances?e:ua:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yS(r){return r===ua?void 0:r}function _S(r){return r.instantiationMode==="EAGER"}class vS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new pS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Pe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pe||(Pe={}));const bS={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},ES=Pe.INFO,TS={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},SS=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=TS[e];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Nm{constructor(e){this.name=e,this._logLevel=ES,this._logHandler=SS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const AS=(r,e)=>e.some(i=>r instanceof i);let X0,$0;function xS(){return X0||(X0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wS(){return $0||($0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Vv=new WeakMap,nm=new WeakMap,kv=new WeakMap,Gd=new WeakMap,Im=new WeakMap;function RS(r){const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Er(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Vv.set(i,r)}).catch(()=>{}),Im.set(e,r),e}function CS(r){if(nm.has(r))return;const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});nm.set(r,e)}let im={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return nm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||kv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Er(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function NS(r){im=r(im)}function IS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(Fd(this),e,...i);return kv.set(a,e.sort?e.sort():[e]),Er(a)}:wS().includes(r)?function(...e){return r.apply(Fd(this),e),Er(Vv.get(this))}:function(...e){return Er(r.apply(Fd(this),e))}}function DS(r){return typeof r=="function"?IS(r):(r instanceof IDBTransaction&&CS(r),AS(r,xS())?new Proxy(r,im):r)}function Er(r){if(r instanceof IDBRequest)return RS(r);if(Gd.has(r))return Gd.get(r);const e=DS(r);return e!==r&&(Gd.set(r,e),Im.set(e,r)),e}const Fd=r=>Im.get(r);function OS(r,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,e),p=Er(d);return a&&d.addEventListener("upgradeneeded",y=>{a(Er(d.result),y.oldVersion,y.newVersion,Er(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const MS=["get","getKey","getAll","getAllKeys","count"],VS=["put","add","delete","clear"],Qd=new Map;function W0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Qd.get(e))return Qd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=VS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||MS.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,o?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),o&&y.done]))[0]};return Qd.set(e,c),c}NS(r=>({...r,get:(e,i,a)=>W0(e,i)||r.get(e,i,a),has:(e,i)=>!!W0(e,i)||r.has(e,i)}));class kS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(jS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function jS(r){return r.getComponent()?.type==="VERSION"}const sm="@firebase/app",Z0="0.14.6";const Cs=new Nm("@firebase/app"),US="@firebase/app-compat",LS="@firebase/analytics-compat",PS="@firebase/analytics",zS="@firebase/app-check-compat",BS="@firebase/app-check",HS="@firebase/auth",qS="@firebase/auth-compat",GS="@firebase/database",FS="@firebase/data-connect",QS="@firebase/database-compat",KS="@firebase/functions",YS="@firebase/functions-compat",XS="@firebase/installations",$S="@firebase/installations-compat",WS="@firebase/messaging",ZS="@firebase/messaging-compat",JS="@firebase/performance",eA="@firebase/performance-compat",tA="@firebase/remote-config",nA="@firebase/remote-config-compat",iA="@firebase/storage",sA="@firebase/storage-compat",rA="@firebase/firestore",aA="@firebase/ai",lA="@firebase/firestore-compat",oA="firebase",uA="12.6.0";const rm="[DEFAULT]",cA={[sm]:"fire-core",[US]:"fire-core-compat",[PS]:"fire-analytics",[LS]:"fire-analytics-compat",[BS]:"fire-app-check",[zS]:"fire-app-check-compat",[HS]:"fire-auth",[qS]:"fire-auth-compat",[GS]:"fire-rtdb",[FS]:"fire-data-connect",[QS]:"fire-rtdb-compat",[KS]:"fire-fn",[YS]:"fire-fn-compat",[XS]:"fire-iid",[$S]:"fire-iid-compat",[WS]:"fire-fcm",[ZS]:"fire-fcm-compat",[JS]:"fire-perf",[eA]:"fire-perf-compat",[tA]:"fire-rc",[nA]:"fire-rc-compat",[iA]:"fire-gcs",[sA]:"fire-gcs-compat",[rA]:"fire-fst",[lA]:"fire-fst-compat",[aA]:"fire-vertex","fire-js":"fire-js",[oA]:"fire-js-all"};const nh=new Map,hA=new Map,am=new Map;function J0(r,e){try{r.container.addComponent(e)}catch(i){Cs.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function _l(r){const e=r.name;if(am.has(e))return Cs.debug(`There were multiple attempts to register component ${e}.`),!1;am.set(e,r);for(const i of nh.values())J0(i,r);for(const i of hA.values())J0(i,r);return!0}function Dm(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function ui(r){return r==null?!1:r.settings!==void 0}const fA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tr=new eu("app","Firebase",fA);class dA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}}const Cl=uA;function jv(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:rm,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Tr.create("bad-app-name",{appName:String(o)});if(i||(i=Iv()),!i)throw Tr.create("no-options");const c=nh.get(o);if(c){if(wr(i,c.options)&&wr(a,c.config))return c;throw Tr.create("duplicate-app",{appName:o})}const d=new vS(o);for(const y of am.values())d.addComponent(y);const p=new dA(i,a,d);return nh.set(o,p),p}function Uv(r=rm){const e=nh.get(r);if(!e&&r===rm&&Iv())return jv();if(!e)throw Tr.create("no-app",{appName:r});return e}function Sr(r,e,i){let a=cA[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cs.warn(d.join(" "));return}_l(new da(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const mA="firebase-heartbeat-database",gA=1,Qo="firebase-heartbeat-store";let Kd=null;function Lv(){return Kd||(Kd=OS(mA,gA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Qo)}catch(i){console.warn(i)}}}}).catch(r=>{throw Tr.create("idb-open",{originalErrorMessage:r.message})})),Kd}async function pA(r){try{const i=(await Lv()).transaction(Qo),a=await i.objectStore(Qo).get(Pv(r));return await i.done,a}catch(e){if(e instanceof Vs)Cs.warn(e.message);else{const i=Tr.create("idb-get",{originalErrorMessage:e?.message});Cs.warn(i.message)}}}async function e_(r,e){try{const a=(await Lv()).transaction(Qo,"readwrite");await a.objectStore(Qo).put(e,Pv(r)),await a.done}catch(i){if(i instanceof Vs)Cs.warn(i.message);else{const a=Tr.create("idb-set",{originalErrorMessage:i?.message});Cs.warn(a.message)}}}function Pv(r){return`${r.name}!${r.options.appId}`}const yA=1024,_A=30;class vA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new EA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=t_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>_A){const o=TA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Cs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=t_(),{heartbeatsToSend:i,unsentEntries:a}=bA(this._heartbeatsCache.heartbeats),o=th(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Cs.warn(e),""}}}function t_(){return new Date().toISOString().substring(0,10)}function bA(r,e=yA){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),n_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),n_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class EA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lS()?oS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await pA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return e_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return e_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function n_(r){return th(JSON.stringify({version:2,heartbeats:r})).length}function TA(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}function SA(r){_l(new da("platform-logger",e=>new kS(e),"PRIVATE")),_l(new da("heartbeat",e=>new vA(e),"PRIVATE")),Sr(sm,Z0,r),Sr(sm,Z0,"esm2020"),Sr("fire-js","")}SA("");var AA="firebase",xA="12.6.0";Sr(AA,xA,"app");function zv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wA=zv,Bv=new eu("auth","Firebase",zv());const ih=new Nm("@firebase/auth");function RA(r,...e){ih.logLevel<=Pe.WARN&&ih.warn(`Auth (${Cl}): ${r}`,...e)}function Hc(r,...e){ih.logLevel<=Pe.ERROR&&ih.error(`Auth (${Cl}): ${r}`,...e)}function Ns(r,...e){throw Om(r,...e)}function qi(r,...e){return Om(r,...e)}function Hv(r,e,i){const a={...wA(),[e]:i};return new eu("auth","Firebase",a).create(e,{appName:r.name})}function Rs(r){return Hv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Om(r,...e){if(typeof r!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return Bv.create(r,...e)}function Se(r,e,...i){if(!r)throw Om(e,...i)}function xs(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Hc(e),new Error(e)}function Is(r,e){r||xs(e)}function lm(){return typeof self<"u"&&self.location?.href||""}function CA(){return i_()==="http:"||i_()==="https:"}function i_(){return typeof self<"u"&&self.location?.protocol||null}function NA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CA()||iS()||"connection"in navigator)?navigator.onLine:!0}function IA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class nu{constructor(e,i){this.shortDelay=e,this.longDelay=i,Is(i>e,"Short delay should be less than long delay!"),this.isMobile=eS()||sS()}get(){return NA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Mm(r,e){Is(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class qv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const DA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const OA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],MA=new nu(3e4,6e4);function iu(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Nl(r,e,i,a,o={}){return Gv(r,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const p=tu({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:e,headers:y,...c};return nS()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&Rl(r.emulatorConfig.host)&&(_.credentials="include"),qv.fetch()(await Fv(r,r.config.apiHost,i,p),_)})}async function Gv(r,e,i){r._canInitEmulator=!1;const a={...DA,...e};try{const o=new VA(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Vc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Vc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw Vc(r,"user-disabled",d);const E=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Hv(r,E,_);Ns(r,E)}}catch(o){if(o instanceof Vs)throw o;Ns(r,"network-request-failed",{message:String(o)})}}async function Vm(r,e,i,a,o={}){const c=await Nl(r,e,i,a,o);return"mfaPendingCredential"in c&&Ns(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function Fv(r,e,i,a){const o=`${e}${i}?${a}`,c=r,d=c.config.emulator?Mm(r.config,o):`${r.config.apiScheme}://${o}`;return OA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class VA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(qi(this.auth,"network-request-failed")),MA.get())})}}function Vc(r,e,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=qi(r,e,a);return o.customData._tokenResponse=i,o}async function kA(r,e){return Nl(r,"POST","/v1/accounts:delete",e)}async function sh(r,e){return Nl(r,"POST","/v1/accounts:lookup",e)}function zo(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jA(r,e=!1){const i=An(r),a=await i.getIdToken(e),o=km(a);Se(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:zo(Yd(o.auth_time)),issuedAtTime:zo(Yd(o.iat)),expirationTime:zo(Yd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Yd(r){return Number(r)*1e3}function km(r){const[e,i,a]=r.split(".");if(e===void 0||i===void 0||a===void 0)return Hc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Cv(i);return o?JSON.parse(o):(Hc("Failed to decode base64 JWT payload"),null)}catch(o){return Hc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function s_(r){const e=km(r);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ko(r,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Vs&&UA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function UA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class LA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class om{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=zo(this.lastLoginAt),this.creationTime=zo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function rh(r){const e=r.auth,i=await r.getIdToken(),a=await Ko(r,sh(e,{idToken:i}));Se(a?.users.length,e,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?Qv(o.providerUserInfo):[],d=zA(r.providerData,c),p=r.isAnonymous,y=!(r.email&&o.passwordHash)&&!d?.length,_=p?y:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new om(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(r,E)}async function PA(r){const e=An(r);await rh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zA(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Qv(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function BA(r,e){const i=await Gv(r,{},async()=>{const a=tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await Fv(r,o,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return r.emulatorConfig&&Rl(r.emulatorConfig.host)&&(y.credentials="include"),qv.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function HA(r,e){return Nl(r,"POST","/v2/accounts:revokeToken",iu(r,e))}class dl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):s_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const i=s_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await BA(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new dl;return a&&(Se(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(Se(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Se(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new dl,this.toJSON())}_performRefresh(){return xs("not implemented")}}function gr(r,e){Se(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Ti{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new LA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new om(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Ko(this,this.stsTokenManager.getToken(this.auth,e));return Se(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return jA(this,e)}reload(){return PA(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Ti({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await rh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ui(this.auth.app))return Promise.reject(Rs(this.auth));const e=await this.getIdToken();return await Ko(this,kA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:A,emailVerified:M,isAnonymous:F,providerData:ee,stsTokenManager:se}=i;Se(A&&se,e,"internal-error");const J=dl.fromJSON(this.name,se);Se(typeof A=="string",e,"internal-error"),gr(a,e.name),gr(o,e.name),Se(typeof M=="boolean",e,"internal-error"),Se(typeof F=="boolean",e,"internal-error"),gr(c,e.name),gr(d,e.name),gr(p,e.name),gr(y,e.name),gr(_,e.name),gr(E,e.name);const pe=new Ti({uid:A,auth:e,email:o,emailVerified:M,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:J,createdAt:_,lastLoginAt:E});return ee&&Array.isArray(ee)&&(pe.providerData=ee.map(Ce=>({...Ce}))),y&&(pe._redirectEventId=y),pe}static async _fromIdTokenResponse(e,i,a=!1){const o=new dl;o.updateFromServerResponse(i);const c=new Ti({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await rh(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];Se(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Qv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new dl;p.updateFromIdToken(a);const y=new Ti({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new om(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const r_=new Map;function ws(r){Is(r instanceof Function,"Expected a class definition");let e=r_.get(r);return e?(Is(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,r_.set(r,e),e)}class Kv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Kv.type="NONE";const a_=Kv;function qc(r,e,i){return`firebase:${r}:${e}:${i}`}class ml{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=qc(this.userKey,o.apiKey,c),this.fullPersistenceKey=qc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await sh(this.auth,{idToken:e}).catch(()=>{});return i?Ti._fromGetAccountInfoResponse(this.auth,i,e):null}return Ti._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new ml(ws(a_),e,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||ws(a_);const d=qc(a,e.config.apiKey,e.name);let p=null;for(const _ of i)try{const E=await _._get(d);if(E){let A;if(typeof E=="string"){const M=await sh(e,{idToken:E}).catch(()=>{});if(!M)break;A=await Ti._fromGetAccountInfoResponse(e,M,E)}else A=Ti._fromJSON(e,E);_!==c&&(p=A),c=_;break}}catch{}const y=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new ml(c,e,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new ml(c,e,a))}}function l_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Wv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Yv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Jv(e))return"Blackberry";if(eb(e))return"Webos";if(Xv(e))return"Safari";if((e.includes("chrome/")||$v(e))&&!e.includes("edge/"))return"Chrome";if(Zv(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function Yv(r=bn()){return/firefox\//i.test(r)}function Xv(r=bn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $v(r=bn()){return/crios\//i.test(r)}function Wv(r=bn()){return/iemobile/i.test(r)}function Zv(r=bn()){return/android/i.test(r)}function Jv(r=bn()){return/blackberry/i.test(r)}function eb(r=bn()){return/webos/i.test(r)}function jm(r=bn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function qA(r=bn()){return jm(r)&&!!window.navigator?.standalone}function GA(){return rS()&&document.documentMode===10}function tb(r=bn()){return jm(r)||Zv(r)||eb(r)||Jv(r)||/windows phone/i.test(r)||Wv(r)}function nb(r,e=[]){let i;switch(r){case"Browser":i=l_(bn());break;case"Worker":i=`${l_(bn())}-${r}`;break;default:i=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Cl}/${a}`}class FA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,p)=>{try{const y=e(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function QA(r,e={}){return Nl(r,"GET","/v2/passwordPolicy",iu(r,e))}const KA=6;class YA{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??KA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class XA{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new o_(this),this.idTokenSubscription=new o_(this),this.beforeStateQueue=new FA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Bv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ws(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ml.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await sh(this,{idToken:e}),a=await Ti._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ui(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await rh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=IA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ui(this.app))return Promise.reject(Rs(this));const i=e?An(e):null;return i&&Se(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ui(this.app)?Promise.reject(Rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ui(this.app)?Promise.reject(Rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ws(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QA(this),i=new YA(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new eu("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await HA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ws(e)||this._popupRedirectResolver;Se(i,this,"argument-error"),this.redirectPersistenceManager=await ml.create(this,[ws(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,a,o);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(ui(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&RA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function su(r){return An(r)}class o_{constructor(e){this.auth=e,this.observer=null,this.addObserver=dS(i=>this.observer=i)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Um={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $A(r){Um=r}function WA(r){return Um.loadJS(r)}function ZA(){return Um.gapiScript}function JA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function ex(r,e){const i=Dm(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(wr(c,e??{}))return o;Ns(o,"already-initialized")}return i.initialize({options:e})}function tx(r,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ws);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function nx(r,e,i){const a=su(r);Se(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=ib(e),{host:d,port:p}=ix(e),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},E=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Se(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Se(wr(_,a.config.emulator)&&wr(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,Rl(d)?(Ov(`${c}//${d}${y}`),Mv("Auth",!0)):sx()}function ib(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function ix(r){const e=ib(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:u_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:u_(d)}}}function u_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function sx(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class sb{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return xs("not implemented")}_getIdTokenResponse(e){return xs("not implemented")}_linkToIdToken(e,i){return xs("not implemented")}_getReauthenticationResolver(e){return xs("not implemented")}}async function gl(r,e){return Vm(r,"POST","/v1/accounts:signInWithIdp",iu(r,e))}const rx="http://localhost";class ma extends sb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ma(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Ns("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new ma(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return gl(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,gl(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,gl(e,i)}buildRequest(){const e={requestUri:rx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=tu(i)}return e}}class rb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ru extends rb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class pr extends ru{constructor(){super("facebook.com")}static credential(e){return ma._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pr.credential(e.oauthAccessToken)}catch{return null}}}pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";pr.PROVIDER_ID="facebook.com";class yr extends ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ma._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return yr.credential(i,a)}catch{return null}}}yr.GOOGLE_SIGN_IN_METHOD="google.com";yr.PROVIDER_ID="google.com";class _r extends ru{constructor(){super("github.com")}static credential(e){return ma._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _r.credential(e.oauthAccessToken)}catch{return null}}}_r.GITHUB_SIGN_IN_METHOD="github.com";_r.PROVIDER_ID="github.com";class vr extends ru{constructor(){super("twitter.com")}static credential(e,i){return ma._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return vr.credential(i,a)}catch{return null}}}vr.TWITTER_SIGN_IN_METHOD="twitter.com";vr.PROVIDER_ID="twitter.com";async function ax(r,e){return Vm(r,"POST","/v1/accounts:signUp",iu(r,e))}class Ds{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await Ti._fromIdTokenResponse(e,a,o),d=c_(a);return new Ds({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=c_(a);return new Ds({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function c_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function h_(r){if(ui(r.app))return Promise.reject(Rs(r));const e=su(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Ds({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await ax(e,{returnSecureToken:!0}),a=await Ds._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class ah extends Vs{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,ah.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new ah(e,i,a,o)}}function ab(r,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ah._fromErrorAndOperation(r,c,e,a):c})}async function lx(r,e,i=!1){const a=await Ko(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return Ds._forOperation(r,"link",a)}async function ox(r,e,i=!1){const{auth:a}=r;if(ui(a.app))return Promise.reject(Rs(a));const o="reauthenticate";try{const c=await Ko(r,ab(a,o,e,r),i);Se(c.idToken,a,"internal-error");const d=km(c.idToken);Se(d,a,"internal-error");const{sub:p}=d;return Se(r.uid===p,a,"user-mismatch"),Ds._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ns(a,"user-mismatch"),c}}async function ux(r,e,i=!1){if(ui(r.app))return Promise.reject(Rs(r));const a="signIn",o=await ab(r,a,e),c=await Ds._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}async function cx(r,e){return Vm(r,"POST","/v1/accounts:signInWithCustomToken",iu(r,e))}async function hx(r,e){if(ui(r.app))return Promise.reject(Rs(r));const i=su(r),a=await cx(i,{token:e,returnSecureToken:!0}),o=await Ds._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function fx(r,e,i,a){return An(r).onIdTokenChanged(e,i,a)}function dx(r,e,i){return An(r).beforeAuthStateChanged(e,i)}function mx(r,e,i,a){return An(r).onAuthStateChanged(e,i,a)}const lh="__sak";class lb{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(lh,"1"),this.storage.removeItem(lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const gx=1e3,px=10;class ob extends lb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);GA()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,px):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},gx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}ob.type="LOCAL";const yx=ob;class ub extends lb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}ub.type="SESSION";const cb=ub;function _x(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Th{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new Th(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await _x(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Th.receivers=[];function Lm(r="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return r+i}class vx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=Lm("",20);o.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(A){const M=A;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(E),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Gi(){return window}function bx(r){Gi().location.href=r}function hb(){return typeof Gi().WorkerGlobalScope<"u"&&typeof Gi().importScripts=="function"}async function Ex(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Tx(){return navigator?.serviceWorker?.controller||null}function Sx(){return hb()?self:null}const fb="firebaseLocalStorageDb",Ax=1,oh="firebaseLocalStorage",db="fbase_key";class au{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Sh(r,e){return r.transaction([oh],e?"readwrite":"readonly").objectStore(oh)}function xx(){const r=indexedDB.deleteDatabase(fb);return new au(r).toPromise()}function um(){const r=indexedDB.open(fb,Ax);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(oh,{keyPath:db})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(oh)?e(a):(a.close(),await xx(),e(await um()))})})}async function f_(r,e,i){const a=Sh(r,!0).put({[db]:e,value:i});return new au(a).toPromise()}async function wx(r,e){const i=Sh(r,!1).get(e),a=await new au(i).toPromise();return a===void 0?null:a.value}function d_(r,e){const i=Sh(r,!0).delete(e);return new au(i).toPromise()}const Rx=800,Cx=3;class mb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await um(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>Cx)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Th._getInstance(Sx()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Ex(),!this.activeServiceWorker)return;this.sender=new vx(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Tx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await um();return await f_(e,lh,"1"),await d_(e,lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>f_(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>wx(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>d_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Sh(o,!1).getAll();return new au(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Rx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mb.type="LOCAL";const Nx=mb;new nu(3e4,6e4);function Ix(r,e){return e?ws(e):(Se(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Pm extends sb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return gl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return gl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function Dx(r){return ux(r.auth,new Pm(r),r.bypassAuthState)}function Ox(r){const{auth:e,user:i}=r;return Se(i,e,"internal-error"),ox(i,new Pm(r),r.bypassAuthState)}async function Mx(r){const{auth:e,user:i}=r;return Se(i,e,"internal-error"),lx(i,new Pm(r),r.bypassAuthState)}class gb{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Dx;case"linkViaPopup":case"linkViaRedirect":return Mx;case"reauthViaPopup":case"reauthViaRedirect":return Ox;default:Ns(this.auth,"internal-error")}}resolve(e){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Vx=new nu(2e3,1e4);class fl extends gb{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,fl.currentPopupAction&&fl.currentPopupAction.cancel(),fl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Is(this.filter.length===1,"Popup operations only handle one event");const e=Lm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Vx.get())};e()}}fl.currentPopupAction=null;const kx="pendingRedirect",Gc=new Map;class jx extends gb{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Gc.get(this.auth._key());if(!e){try{const a=await Ux(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Gc.set(this.auth._key(),e)}return this.bypassAuthState||Gc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ux(r,e){const i=zx(e),a=Px(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function Lx(r,e){Gc.set(r._key(),e)}function Px(r){return ws(r._redirectPersistence)}function zx(r){return qc(kx,r.config.apiKey,r.name)}async function Bx(r,e,i=!1){if(ui(r.app))return Promise.reject(Rs(r));const a=su(r),o=Ix(a,e),d=await new jx(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const Hx=600*1e3;class qx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Gx(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!pb(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(qi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Hx&&this.cachedEventUids.clear(),this.cachedEventUids.has(m_(e))}saveEventToCache(e){this.cachedEventUids.add(m_(e)),this.lastProcessedEventTime=Date.now()}}function m_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function pb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function Gx(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pb(r);default:return!1}}async function Fx(r,e={}){return Nl(r,"GET","/v1/projects",e)}const Qx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Kx=/^https?/;async function Yx(r){if(r.config.emulator)return;const{authorizedDomains:e}=await Fx(r);for(const i of e)try{if(Xx(i))return}catch{}Ns(r,"unauthorized-domain")}function Xx(r){const e=lm(),{protocol:i,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Kx.test(i))return!1;if(Qx.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const $x=new nu(3e4,6e4);function g_(){const r=Gi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Wx(r){return new Promise((e,i)=>{function a(){g_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{g_(),i(qi(r,"network-request-failed"))},timeout:$x.get()})}if(Gi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Gi().gapi?.load)a();else{const o=JA("iframefcb");return Gi()[o]=()=>{gapi.load?a():i(qi(r,"network-request-failed"))},WA(`${ZA()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Fc=null,e})}let Fc=null;function Zx(r){return Fc=Fc||Wx(r),Fc}const Jx=new nu(5e3,15e3),ew="__/auth/iframe",tw="emulator/auth/iframe",nw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sw(r){const e=r.config;Se(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?Mm(e,tw):`https://${r.config.authDomain}/${ew}`,a={apiKey:e.apiKey,appName:r.name,v:Cl},o=iw.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${tu(a).slice(1)}`}async function rw(r){const e=await Zx(r),i=Gi().gapi;return Se(i,r,"internal-error"),e.open({where:document.body,url:sw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nw,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=qi(r,"network-request-failed"),p=Gi().setTimeout(()=>{c(d)},Jx.get());function y(){Gi().clearTimeout(p),o(a)}a.ping(y).then(y,()=>{c(d)})}))}const aw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lw=500,ow=600,uw="_blank",cw="http://localhost";class p_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hw(r,e,i,a=lw,o=ow){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...aw,width:a.toString(),height:o.toString(),top:c,left:d},_=bn().toLowerCase();i&&(p=$v(_)?uw:i),Yv(_)&&(e=e||cw,y.scrollbars="yes");const E=Object.entries(y).reduce((M,[F,ee])=>`${M}${F}=${ee},`,"");if(qA(_)&&p!=="_self")return fw(e||"",p),new p_(null);const A=window.open(e||"",p,E);Se(A,r,"popup-blocked");try{A.focus()}catch{}return new p_(A)}function fw(r,e){const i=document.createElement("a");i.href=r,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const dw="__/auth/handler",mw="emulator/auth/handler",gw=encodeURIComponent("fac");async function y_(r,e,i,a,o,c){Se(r.config.authDomain,r,"auth-domain-config-required"),Se(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:Cl,eventId:o};if(e instanceof rb){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",fS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))d[E]=A}if(e instanceof ru){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(d.scopes=E.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const y=await r._getAppCheckToken(),_=y?`#${gw}=${encodeURIComponent(y)}`:"";return`${pw(r)}?${tu(p).slice(1)}${_}`}function pw({config:r}){return r.emulator?Mm(r,mw):`https://${r.authDomain}/${dw}`}const Xd="webStorageSupport";class yw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cb,this._completeRedirectFn=Bx,this._overrideRedirectResult=Lx}async _openPopup(e,i,a,o){Is(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await y_(e,i,a,lm(),o);return hw(e,c,Lm())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await y_(e,i,a,lm(),o);return bx(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Is(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await rw(e),a=new qx(e);return i.register("authEvent",o=>(Se(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Xd,{type:Xd},o=>{const c=o?.[0]?.[Xd];c!==void 0&&i(!!c),Ns(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Yx(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return tb()||Xv()||jm()}}const _w=yw;var __="@firebase/auth",v_="1.11.1";class vw{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function bw(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ew(r){_l(new da("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;Se(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nb(r)},_=new XA(a,o,c,y);return tx(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),_l(new da("auth-internal",e=>{const i=su(e.getProvider("auth").getImmediate());return(a=>new vw(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Sr(__,v_,bw(r)),Sr(__,v_,"esm2020")}const Tw=300,Sw=Dv("authIdTokenMaxAge")||Tw;let b_=null;const Aw=r=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>Sw)return;const o=i?.token;b_!==o&&(b_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function xw(r=Uv()){const e=Dm(r,"auth");if(e.isInitialized())return e.getImmediate();const i=ex(r,{popupRedirectResolver:_w,persistence:[Nx,yx,cb]}),a=Dv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Aw(c.toString());dx(i,d,()=>d(i.currentUser)),fx(i,p=>d(p))}}const o=Nv("auth");return o&&nx(i,`http://${o}`),i}function ww(){return document.getElementsByTagName("head")?.[0]??document}$A({loadJS(r){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const c=qi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",ww().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ew("Browser");var E_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ar,yb;(function(){var r;function e(N,x){function R(){}R.prototype=x.prototype,N.F=x.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(V,D,j){for(var w=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)w[Qe-2]=arguments[Qe];return x.prototype[D].apply(V,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,x,R){R||(R=0);const V=Array(16);if(typeof x=="string")for(var D=0;D<16;++D)V[D]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(D=0;D<16;++D)V[D]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=N.g[0],R=N.g[1],D=N.g[2];let j=N.g[3],w;w=x+(j^R&(D^j))+V[0]+3614090360&4294967295,x=R+(w<<7&4294967295|w>>>25),w=j+(D^x&(R^D))+V[1]+3905402710&4294967295,j=x+(w<<12&4294967295|w>>>20),w=D+(R^j&(x^R))+V[2]+606105819&4294967295,D=j+(w<<17&4294967295|w>>>15),w=R+(x^D&(j^x))+V[3]+3250441966&4294967295,R=D+(w<<22&4294967295|w>>>10),w=x+(j^R&(D^j))+V[4]+4118548399&4294967295,x=R+(w<<7&4294967295|w>>>25),w=j+(D^x&(R^D))+V[5]+1200080426&4294967295,j=x+(w<<12&4294967295|w>>>20),w=D+(R^j&(x^R))+V[6]+2821735955&4294967295,D=j+(w<<17&4294967295|w>>>15),w=R+(x^D&(j^x))+V[7]+4249261313&4294967295,R=D+(w<<22&4294967295|w>>>10),w=x+(j^R&(D^j))+V[8]+1770035416&4294967295,x=R+(w<<7&4294967295|w>>>25),w=j+(D^x&(R^D))+V[9]+2336552879&4294967295,j=x+(w<<12&4294967295|w>>>20),w=D+(R^j&(x^R))+V[10]+4294925233&4294967295,D=j+(w<<17&4294967295|w>>>15),w=R+(x^D&(j^x))+V[11]+2304563134&4294967295,R=D+(w<<22&4294967295|w>>>10),w=x+(j^R&(D^j))+V[12]+1804603682&4294967295,x=R+(w<<7&4294967295|w>>>25),w=j+(D^x&(R^D))+V[13]+4254626195&4294967295,j=x+(w<<12&4294967295|w>>>20),w=D+(R^j&(x^R))+V[14]+2792965006&4294967295,D=j+(w<<17&4294967295|w>>>15),w=R+(x^D&(j^x))+V[15]+1236535329&4294967295,R=D+(w<<22&4294967295|w>>>10),w=x+(D^j&(R^D))+V[1]+4129170786&4294967295,x=R+(w<<5&4294967295|w>>>27),w=j+(R^D&(x^R))+V[6]+3225465664&4294967295,j=x+(w<<9&4294967295|w>>>23),w=D+(x^R&(j^x))+V[11]+643717713&4294967295,D=j+(w<<14&4294967295|w>>>18),w=R+(j^x&(D^j))+V[0]+3921069994&4294967295,R=D+(w<<20&4294967295|w>>>12),w=x+(D^j&(R^D))+V[5]+3593408605&4294967295,x=R+(w<<5&4294967295|w>>>27),w=j+(R^D&(x^R))+V[10]+38016083&4294967295,j=x+(w<<9&4294967295|w>>>23),w=D+(x^R&(j^x))+V[15]+3634488961&4294967295,D=j+(w<<14&4294967295|w>>>18),w=R+(j^x&(D^j))+V[4]+3889429448&4294967295,R=D+(w<<20&4294967295|w>>>12),w=x+(D^j&(R^D))+V[9]+568446438&4294967295,x=R+(w<<5&4294967295|w>>>27),w=j+(R^D&(x^R))+V[14]+3275163606&4294967295,j=x+(w<<9&4294967295|w>>>23),w=D+(x^R&(j^x))+V[3]+4107603335&4294967295,D=j+(w<<14&4294967295|w>>>18),w=R+(j^x&(D^j))+V[8]+1163531501&4294967295,R=D+(w<<20&4294967295|w>>>12),w=x+(D^j&(R^D))+V[13]+2850285829&4294967295,x=R+(w<<5&4294967295|w>>>27),w=j+(R^D&(x^R))+V[2]+4243563512&4294967295,j=x+(w<<9&4294967295|w>>>23),w=D+(x^R&(j^x))+V[7]+1735328473&4294967295,D=j+(w<<14&4294967295|w>>>18),w=R+(j^x&(D^j))+V[12]+2368359562&4294967295,R=D+(w<<20&4294967295|w>>>12),w=x+(R^D^j)+V[5]+4294588738&4294967295,x=R+(w<<4&4294967295|w>>>28),w=j+(x^R^D)+V[8]+2272392833&4294967295,j=x+(w<<11&4294967295|w>>>21),w=D+(j^x^R)+V[11]+1839030562&4294967295,D=j+(w<<16&4294967295|w>>>16),w=R+(D^j^x)+V[14]+4259657740&4294967295,R=D+(w<<23&4294967295|w>>>9),w=x+(R^D^j)+V[1]+2763975236&4294967295,x=R+(w<<4&4294967295|w>>>28),w=j+(x^R^D)+V[4]+1272893353&4294967295,j=x+(w<<11&4294967295|w>>>21),w=D+(j^x^R)+V[7]+4139469664&4294967295,D=j+(w<<16&4294967295|w>>>16),w=R+(D^j^x)+V[10]+3200236656&4294967295,R=D+(w<<23&4294967295|w>>>9),w=x+(R^D^j)+V[13]+681279174&4294967295,x=R+(w<<4&4294967295|w>>>28),w=j+(x^R^D)+V[0]+3936430074&4294967295,j=x+(w<<11&4294967295|w>>>21),w=D+(j^x^R)+V[3]+3572445317&4294967295,D=j+(w<<16&4294967295|w>>>16),w=R+(D^j^x)+V[6]+76029189&4294967295,R=D+(w<<23&4294967295|w>>>9),w=x+(R^D^j)+V[9]+3654602809&4294967295,x=R+(w<<4&4294967295|w>>>28),w=j+(x^R^D)+V[12]+3873151461&4294967295,j=x+(w<<11&4294967295|w>>>21),w=D+(j^x^R)+V[15]+530742520&4294967295,D=j+(w<<16&4294967295|w>>>16),w=R+(D^j^x)+V[2]+3299628645&4294967295,R=D+(w<<23&4294967295|w>>>9),w=x+(D^(R|~j))+V[0]+4096336452&4294967295,x=R+(w<<6&4294967295|w>>>26),w=j+(R^(x|~D))+V[7]+1126891415&4294967295,j=x+(w<<10&4294967295|w>>>22),w=D+(x^(j|~R))+V[14]+2878612391&4294967295,D=j+(w<<15&4294967295|w>>>17),w=R+(j^(D|~x))+V[5]+4237533241&4294967295,R=D+(w<<21&4294967295|w>>>11),w=x+(D^(R|~j))+V[12]+1700485571&4294967295,x=R+(w<<6&4294967295|w>>>26),w=j+(R^(x|~D))+V[3]+2399980690&4294967295,j=x+(w<<10&4294967295|w>>>22),w=D+(x^(j|~R))+V[10]+4293915773&4294967295,D=j+(w<<15&4294967295|w>>>17),w=R+(j^(D|~x))+V[1]+2240044497&4294967295,R=D+(w<<21&4294967295|w>>>11),w=x+(D^(R|~j))+V[8]+1873313359&4294967295,x=R+(w<<6&4294967295|w>>>26),w=j+(R^(x|~D))+V[15]+4264355552&4294967295,j=x+(w<<10&4294967295|w>>>22),w=D+(x^(j|~R))+V[6]+2734768916&4294967295,D=j+(w<<15&4294967295|w>>>17),w=R+(j^(D|~x))+V[13]+1309151649&4294967295,R=D+(w<<21&4294967295|w>>>11),w=x+(D^(R|~j))+V[4]+4149444226&4294967295,x=R+(w<<6&4294967295|w>>>26),w=j+(R^(x|~D))+V[11]+3174756917&4294967295,j=x+(w<<10&4294967295|w>>>22),w=D+(x^(j|~R))+V[2]+718787259&4294967295,D=j+(w<<15&4294967295|w>>>17),w=R+(j^(D|~x))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+x&4294967295,N.g[1]=N.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+j&4294967295}a.prototype.v=function(N,x){x===void 0&&(x=N.length);const R=x-this.blockSize,V=this.C;let D=this.h,j=0;for(;j<x;){if(D==0)for(;j<=R;)o(this,N,j),j+=this.blockSize;if(typeof N=="string"){for(;j<x;)if(V[D++]=N.charCodeAt(j++),D==this.blockSize){o(this,V),D=0;break}}else for(;j<x;)if(V[D++]=N[j++],D==this.blockSize){o(this,V),D=0;break}}this.h=D,this.o+=x},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var x=1;x<N.length-8;++x)N[x]=0;x=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=x&255,x/=256;for(this.v(N),N=Array(16),x=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)N[x++]=this.g[R]>>>V&255;return N};function c(N,x){var R=p;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=x(N)}function d(N,x){this.h=x;const R=[];let V=!0;for(let D=N.length-1;D>=0;D--){const j=N[D]|0;V&&j==x||(R[D]=j,V=!1)}this.g=R}var p={};function y(N){return-128<=N&&N<128?c(N,function(x){return new d([x|0],x<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return A;if(N<0)return J(_(-N));const x=[];let R=1;for(let V=0;N>=R;V++)x[V]=N/R|0,R*=4294967296;return new d(x,0)}function E(N,x){if(N.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(N.charAt(0)=="-")return J(E(N.substring(1),x));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=_(Math.pow(x,8));let V=A;for(let j=0;j<N.length;j+=8){var D=Math.min(8,N.length-j);const w=parseInt(N.substring(j,j+D),x);D<8?(D=_(Math.pow(x,D)),V=V.j(D).add(_(w))):(V=V.j(R),V=V.add(_(w)))}return V}var A=y(0),M=y(1),F=y(16777216);r=d.prototype,r.m=function(){if(se(this))return-J(this).m();let N=0,x=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);N+=(V>=0?V:4294967296+V)*x,x*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(ee(this))return"0";if(se(this))return"-"+J(this).toString(N);const x=_(Math.pow(N,6));var R=this;let V="";for(;;){const D=tt(R,x).g;R=pe(R,D.j(x));let j=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=D,ee(R))return j+V;for(;j.length<6;)j="0"+j;V=j+V}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function ee(N){if(N.h!=0)return!1;for(let x=0;x<N.g.length;x++)if(N.g[x]!=0)return!1;return!0}function se(N){return N.h==-1}r.l=function(N){return N=pe(this,N),se(N)?-1:ee(N)?0:1};function J(N){const x=N.g.length,R=[];for(let V=0;V<x;V++)R[V]=~N.g[V];return new d(R,~N.h).add(M)}r.abs=function(){return se(this)?J(this):this},r.add=function(N){const x=Math.max(this.g.length,N.g.length),R=[];let V=0;for(let D=0;D<=x;D++){let j=V+(this.i(D)&65535)+(N.i(D)&65535),w=(j>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);V=w>>>16,j&=65535,w&=65535,R[D]=w<<16|j}return new d(R,R[R.length-1]&-2147483648?-1:0)};function pe(N,x){return N.add(J(x))}r.j=function(N){if(ee(this)||ee(N))return A;if(se(this))return se(N)?J(this).j(J(N)):J(J(this).j(N));if(se(N))return J(this.j(J(N)));if(this.l(F)<0&&N.l(F)<0)return _(this.m()*N.m());const x=this.g.length+N.g.length,R=[];for(var V=0;V<2*x;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<N.g.length;D++){const j=this.i(V)>>>16,w=this.i(V)&65535,Qe=N.i(D)>>>16,Et=N.i(D)&65535;R[2*V+2*D]+=w*Et,Ce(R,2*V+2*D),R[2*V+2*D+1]+=j*Et,Ce(R,2*V+2*D+1),R[2*V+2*D+1]+=w*Qe,Ce(R,2*V+2*D+1),R[2*V+2*D+2]+=j*Qe,Ce(R,2*V+2*D+2)}for(N=0;N<x;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=x;N<2*x;N++)R[N]=0;return new d(R,0)};function Ce(N,x){for(;(N[x]&65535)!=N[x];)N[x+1]+=N[x]>>>16,N[x]&=65535,x++}function Ee(N,x){this.g=N,this.h=x}function tt(N,x){if(ee(x))throw Error("division by zero");if(ee(N))return new Ee(A,A);if(se(N))return x=tt(J(N),x),new Ee(J(x.g),J(x.h));if(se(x))return x=tt(N,J(x)),new Ee(J(x.g),x.h);if(N.g.length>30){if(se(N)||se(x))throw Error("slowDivide_ only works with positive integers.");for(var R=M,V=x;V.l(N)<=0;)R=dt(R),V=dt(V);var D=fe(R,1),j=fe(V,1);for(V=fe(V,2),R=fe(R,2);!ee(V);){var w=j.add(V);w.l(N)<=0&&(D=D.add(R),j=w),V=fe(V,1),R=fe(R,1)}return x=pe(N,D.j(x)),new Ee(D,x)}for(D=A;N.l(x)>=0;){for(R=Math.max(1,Math.floor(N.m()/x.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),j=_(R),w=j.j(x);se(w)||w.l(N)>0;)R-=V,j=_(R),w=j.j(x);ee(j)&&(j=M),D=D.add(j),N=pe(N,w)}return new Ee(D,N)}r.B=function(N){return tt(this,N).h},r.and=function(N){const x=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<x;V++)R[V]=this.i(V)&N.i(V);return new d(R,this.h&N.h)},r.or=function(N){const x=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<x;V++)R[V]=this.i(V)|N.i(V);return new d(R,this.h|N.h)},r.xor=function(N){const x=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<x;V++)R[V]=this.i(V)^N.i(V);return new d(R,this.h^N.h)};function dt(N){const x=N.g.length+1,R=[];for(let V=0;V<x;V++)R[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(R,N.h)}function fe(N,x){const R=x>>5;x%=32;const V=N.g.length-R,D=[];for(let j=0;j<V;j++)D[j]=x>0?N.i(j+R)>>>x|N.i(j+R+1)<<32-x:N.i(j+R);return new d(D,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,yb=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=E,Ar=d}).apply(typeof E_<"u"?E_:typeof self<"u"?self:typeof window<"u"?window:{});var kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _b,ko,vb,Qc,cm,bb,Eb,Tb;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof kc=="object"&&kc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var v=a;u=u.split(".");for(var S=0;S<u.length-1;S++){var U=u[S];if(!(U in v))break e;v=v[U]}u=u[u.length-1],S=v[u],m=m(S),m!=S&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&v.push([S,m[S]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function E(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(S,U,B){for(var ne=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)ne[Ie-2]=arguments[Ie];return m.prototype[U].apply(S,ne)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let S=0;S<m;S++)v[S]=u[S];return v}return[]}function ee(u,m){for(let S=1;S<arguments.length;S++){const U=arguments[S];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const B=U.length||0;u.length=v+B;for(let ne=0;ne<B;ne++)u[v+ne]=U[ne]}else u.push(U)}}class se{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function pe(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ce{constructor(){this.h=this.g=null}add(m,v){const S=Ee.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var Ee=new se(()=>new tt,u=>u.reset());class tt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let dt,fe=!1,N=new Ce,x=()=>{const u=Promise.resolve(void 0);dt=()=>{u.then(R)}};function R(){for(var u;u=pe();){try{u.h.call(u.g)}catch(v){J(v)}var m=Ee;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}fe=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function Qe(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(Qe,D),Qe.prototype.init=function(u,m){const v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Qe.Z.h.call(this)},Qe.prototype.h=function(){Qe.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Et="closure_listenable_"+(Math.random()*1e6|0),q=0;function te(u,m,v,S,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=U,this.key=++q,this.da=this.fa=!1}function me(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function He(u,m,v){for(const S in u)m.call(v,u[S],S,u)}function Me(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(u,m){let v,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(v in S)u[v]=S[v];for(let B=0;B<K.length;B++)v=K[B],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function le(u){this.src=u,this.g={},this.h=0}le.prototype.add=function(u,m,v,S,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const ne=Ae(u,m,S,U);return ne>-1?(m=u[ne],v||(m.fa=!1)):(m=new te(m,this.src,B,!!S,U),m.fa=v,u.push(m)),m};function ve(u,m){const v=m.type;if(v in u.g){var S=u.g[v],U=Array.prototype.indexOf.call(S,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(S,U,1),B&&(me(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ae(u,m,v,S){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==S)return U}return-1}var Ve="closure_lm_"+(Math.random()*1e6|0),Rt={};function at(u,m,v,S,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)at(u,m[B],v,S,U);return null}return v=kr(v),u&&u[Et]?u.J(m,v,p(S)?!!S.capture:!1,U):Ji(u,m,v,!1,S,U)}function Ji(u,m,v,S,U,B){if(!m)throw Error("Invalid event type");const ne=p(U)?!!U.capture:!!U;let Ie=ns(u);if(Ie||(u[Ve]=Ie=new le(u)),v=Ie.add(m,v,S,ne,B),v.proxy)return v;if(S=es(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)j||(U=ne),U===void 0&&(U=!1),u.addEventListener(m.toString(),S,U);else if(u.attachEvent)u.attachEvent(jn(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function es(){function u(v){return m.call(u.src,u.listener,v)}const m=ts;return u}function ks(u,m,v,S,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)ks(u,m[B],v,S,U);else S=p(S)?!!S.capture:!!S,v=kr(v),u&&u[Et]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Ae(m,v,S,U),v>-1&&(me(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=ns(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ae(m,v,S,U)),(v=u>-1?m[u]:null)&&js(v))}function js(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Et])ve(m.i,u);else{var v=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(v,S,u.capture):m.detachEvent?m.detachEvent(jn(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=ns(m))?(ve(v,u),v.h==0&&(v.src=null,m[Ve]=null)):me(u)}}}function jn(u){return u in Rt?Rt[u]:Rt[u]="on"+u}function ts(u,m){if(u.da)u=!0;else{m=new Qe(m,this);const v=u.listener,S=u.ha||u.src;u.fa&&js(u),u=v.call(S,m)}return u}function ns(u){return u=u[Ve],u instanceof le?u:null}var is="__closure_events_fn_"+(Math.random()*1e9>>>0);function kr(u){return typeof u=="function"?u:(u[is]||(u[is]=function(m){return u.handleEvent(m)}),u[is])}function At(){V.call(this),this.i=new le(this),this.M=this,this.G=null}A(At,V),At.prototype[Et]=!0,At.prototype.removeEventListener=function(u,m,v,S){ks(this,u,m,v,S)};function Ct(u,m){var v,S=u.G;if(S)for(v=[];S;S=S.G)v.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var U=m;m=new D(S,u),re(m,U)}U=!0;let B,ne;if(v)for(ne=v.length-1;ne>=0;ne--)B=m.g=v[ne],U=Si(B,S,!0,m)&&U;if(B=m.g=u,U=Si(B,S,!0,m)&&U,U=Si(B,S,!1,m)&&U,v)for(ne=0;ne<v.length;ne++)B=m.g=v[ne],U=Si(B,S,!1,m)&&U}At.prototype.N=function(){if(At.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let S=0;S<v.length;S++)me(v[S]);delete u.g[m],u.h--}}this.G=null},At.prototype.J=function(u,m,v,S){return this.i.add(String(u),m,!1,v,S)},At.prototype.K=function(u,m,v,S){return this.i.add(String(u),m,!0,v,S)};function Si(u,m,v,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const ne=m[B];if(ne&&!ne.da&&ne.capture==v){const Ie=ne.listener,Nt=ne.ha||ne.src;ne.fa&&ve(u.i,ne),U=Ie.call(Nt,S)!==!1&&U}}return U&&!S.defaultPrevented}function Vl(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function va(u){u.g=Vl(()=>{u.g=null,u.i&&(u.i=!1,va(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class nn extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:va(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ss(u){V.call(this),this.h=u,this.g={}}A(ss,V);var jr=[];function Ur(u){He(u.g,function(m,v){this.g.hasOwnProperty(v)&&js(m)},u),u.g={}}ss.prototype.N=function(){ss.Z.N.call(this),Ur(this)},ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ai=d.JSON.stringify,Lr=d.JSON.parse,Z=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ie(){}function ae(){}var ce={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ne(){D.call(this,"d")}A(Ne,D);function ht(){D.call(this,"c")}A(ht,D);var Ze={},xn=null;function Mt(){return xn=xn||new At}Ze.Ia="serverreachability";function mt(u){D.call(this,Ze.Ia,u)}A(mt,D);function Vt(u){const m=Mt();Ct(m,new mt(m))}Ze.STAT_EVENT="statevent";function Un(u,m){D.call(this,Ze.STAT_EVENT,u),this.stat=m}A(Un,D);function Je(u){const m=Mt();Ct(m,new Un(m,u))}Ze.Ja="timingevent";function En(u,m){D.call(this,Ze.Ja,u),this.size=m}A(En,D);function $(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Te(){this.g=!0}Te.prototype.ua=function(){this.g=!1};function dn(u,m,v,S,U,B){u.info(function(){if(u.g)if(B){var ne="",Ie=B.split("&");for(let $e=0;$e<Ie.length;$e++){var Nt=Ie[$e].split("=");if(Nt.length>1){const _t=Nt[0];Nt=Nt[1];const ei=_t.split("_");ne=ei.length>=2&&ei[1]=="type"?ne+(_t+"="+Nt+"&"):ne+(_t+"=redacted&")}}}else ne=null;else ne=B;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+m+`
`+v+`
`+ne})}function Kt(u,m,v,S,U,B,ne){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+m+`
`+v+`
`+B+" "+ne})}function nt(u,m,v,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+mn(u,v)+(S?" "+S:"")})}function Ln(u,m){u.info(function(){return"TIMEOUT: "+m})}Te.prototype.info=function(){};function mn(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var U=S[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ne=1;ne<S.length;ne++)S[ne]=""}}}}return Ai(B)}catch{return m}}var rs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Xe={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},hi;function Pn(){}A(Pn,ie),Pn.prototype.g=function(){return new XMLHttpRequest},hi=new Pn;function zn(u){return encodeURIComponent(String(u))}function Us(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function fi(u,m,v,S){this.j=u,this.i=m,this.l=v,this.S=S||1,this.V=new ss(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new di}function di(){this.i=null,this.g="",this.h=!1}var kt={},Zt={};function xi(u,m,v){u.M=1,u.A=Pr(Ut(m)),u.u=v,u.R=!0,ba(u,null)}function ba(u,m){u.F=Date.now(),wi(u),u.B=Ut(u.A);var v=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),Aa(v.i,"t",S),u.C=0,v=u.j.L,u.h=new di,u.g=Ru(u.j,v?m:null,!u.u),u.P>0&&(u.O=new nn(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,S=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(jr[0]=U.toString()),U=jr);for(let B=0;B<U.length;B++){const ne=at(v,U[B],S||m.handleEvent,!1,m.h||m);if(!ne)break;m.g[ne.key]=ne}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Vt(),dn(u.i,u.v,u.B,u.l,u.S,u.u)}fi.prototype.ba=function(u){u=u.target;const m=this.O;m&&pi(u)==3?m.j():this.Y(u)},fi.prototype.Y=function(u){try{if(u==this.g)e:{const Ie=pi(this.g),Nt=this.g.ya(),$e=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||sn(this.g)))){this.K||Ie!=4||Nt==7||(Nt==8||$e<=0?Vt(3):Vt(2)),Ri(this);var m=this.g.ca();this.X=m;var v=Hh(this);if(this.o=m==200,Kt(this.i,this.v,this.B,this.l,this.S,Ie,m),this.o){if(this.U&&!this.L){t:{if(this.g){var S,U=this.g;if((S=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(S)){var B=S;break t}}B=null}if(u=B)nt(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ci(this,u);else{this.o=!1,this.m=3,Je(12),Bn(this),Wn(this);break e}}if(this.R){u=!0;let _t;for(;!this.K&&this.C<v.length;)if(_t=mu(this,v),_t==Zt){Ie==4&&(this.m=4,Je(14),u=!1),nt(this.i,this.l,null,"[Incomplete Response]");break}else if(_t==kt){this.m=4,Je(15),nt(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else nt(this.i,this.l,_t,null),Ci(this,_t);if(du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||v.length!=0||this.h.h||(this.m=1,Je(16),u=!1),this.o=this.o&&u,!u)nt(this.i,this.l,v,"[Invalid Chunked Response]"),Bn(this),Wn(this);else if(v.length>0&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.aa&&!ne.P&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Xl(ne),ne.P=!0,Je(11))}}else nt(this.i,this.l,v,null),Ci(this,v);Ie==4&&Bn(this),this.o&&!this.K&&(Ie==4?Su(this.j,this):(this.o=!1,wi(this)))}else ls(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Je(12)):(this.m=0,Je(13)),Bn(this),Wn(this)}}}catch{}finally{}};function Hh(u){if(!du(u))return u.g.la();const m=sn(u.g);if(m==="")return"";let v="";const S=m.length,U=pi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Bn(u),Wn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<S;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(U&&B==S-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function du(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function mu(u,m){var v=u.C,S=m.indexOf(`
`,v);return S==-1?Zt:(v=Number(m.substring(v,S)),isNaN(v)?kt:(S+=1,S+v>m.length?Zt:(m=m.slice(S,S+v),u.C=S+v,m)))}fi.prototype.cancel=function(){this.K=!0,Bn(this)};function wi(u){u.T=Date.now()+u.H,Ea(u,u.H)}function Ea(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=$(_(u.aa,u),m)}function Ri(u){u.D&&(d.clearTimeout(u.D),u.D=null)}fi.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ln(this.i,this.B),this.M!=2&&(Vt(),Je(17)),Bn(this),this.m=2,Wn(this)):Ea(this,this.T-u)};function Wn(u){u.j.I==0||u.K||Su(u.j,u)}function Bn(u){Ri(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Ur(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ci(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ii(v.h,u))){if(!u.L&&Ii(v.h,u)&&v.I==3){try{var S=v.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Na(v),Fs(v);else break e;Qr(v),Je(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=$(_(v.Va,v),6e3));Ni(v.h)<=1&&v.ta&&(v.ta=void 0)}else ji(v,11)}else if((u.L||v.g==u)&&Na(v),!w(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let $e=U[m];const _t=$e[0];if(!(_t<=v.K))if(v.K=_t,$e=$e[1],v.I==2)if($e[0]=="c"){v.M=$e[1],v.ba=$e[2];const ei=$e[3];ei!=null&&(v.ka=ei,v.j.info("VER="+v.ka));const Ui=$e[4];Ui!=null&&(v.za=Ui,v.j.info("SVER="+v.za));const yi=$e[5];yi!=null&&typeof yi=="number"&&yi>0&&(S=1.5*yi,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const _i=u.g;if(_i){const Kr=_i.g?_i.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kr){var B=S.h;B.g||Kr.indexOf("spdy")==-1&&Kr.indexOf("quic")==-1&&Kr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Ul(B,B.h),B.h=null))}if(S.G){const Ia=_i.g?_i.g.getResponseHeader("X-HTTP-Session-Id"):null;Ia&&(S.wa=Ia,it(S.J,S.G,Ia))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var ne=u;if(S.na=wu(S,S.L?S.ba:null,S.W),ne.L){Ll(S.h,ne);var Ie=ne,Nt=S.O;Nt&&(Ie.H=Nt),Ie.D&&(Ri(Ie),wi(Ie)),S.g=ne}else Eu(S);v.i.length>0&&ki(v)}else $e[0]!="stop"&&$e[0]!="close"||ji(v,7);else v.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?ji(v,7):Kl(v):$e[0]!="noop"&&v.l&&v.l.qa($e),v.A=0)}}Vt(4)}catch{}}var jt=class{constructor(u,m){this.g=u,this.map=m}};function kl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function jl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ni(u){return u.h?1:u.g?u.g.size:0}function Ii(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ul(u,m){u.g?u.g.add(m):u.h=m}function Ll(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}kl.prototype.cancel=function(){if(this.i=Pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Pl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var gu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ta(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const S=u[v].indexOf("=");let U,B=null;S>=0?(U=u[v].substring(0,S),B=u[v].substring(S+1)):U=u[v],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Hn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Hn?(this.l=u.l,Jt(this,u.j),this.o=u.o,this.g=u.g,Ls(this,u.u),this.h=u.h,zl(this,vu(u.i)),this.m=u.m):u&&(m=String(u).match(gu))?(this.l=!1,Jt(this,m[1]||"",!0),this.o=Di(m[2]||""),this.g=Di(m[3]||"",!0),Ls(this,m[4]),this.h=Di(m[5]||"",!0),zl(this,m[6]||"",!0),this.m=Di(m[7]||"")):(this.l=!1,this.i=new zs(null,this.l))}Hn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(zr(m,Sa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(zr(m,Sa,!0),"@"),u.push(zn(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(zr(v,v.charAt(0)=="/"?Bl:pu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",zr(v,yu)),u.join("")},Hn.prototype.resolve=function(u){const m=Ut(this);let v=!!u.j;v?Jt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var S=u.h;if(v)Ls(m,u.u);else if(v=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var U=m.h.lastIndexOf("/");U!=-1&&(S=m.h.slice(0,U+1)+S)}if(U=S,U==".."||U==".")S="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){S=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let ne=0;ne<U.length;){const Ie=U[ne++];Ie=="."?S&&ne==U.length&&B.push(""):Ie==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),S&&ne==U.length&&B.push("")):(B.push(Ie),S=!0)}S=B.join("/")}else S=U}return v?m.h=S:v=u.i.toString()!=="",v?zl(m,vu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ut(u){return new Hn(u)}function Jt(u,m,v){u.j=v?Di(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ls(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function zl(u,m,v){m instanceof zs?(u.i=m,xa(u.i,u.l)):(v||(m=zr(m,Ps)),u.i=new zs(m,u.l))}function it(u,m,v){u.i.set(m,v)}function Pr(u){return it(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Di(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function zr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,wn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function wn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Sa=/[#\/\?@]/g,pu=/[#\?:]/g,Bl=/[#\?]/g,Ps=/[#\?@]/g,yu=/#/g;function zs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Rn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ta(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=zs.prototype,r.add=function(u,m){Rn(this),this.i=null,u=Bs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function _u(u,m){Rn(u),m=Bs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Hl(u,m){return Rn(u),m=Bs(u,m),u.g.has(m)}r.forEach=function(u,m){Rn(this),this.g.forEach(function(v,S){v.forEach(function(U){u.call(m,U,S,this)},this)},this)};function ql(u,m){Rn(u);let v=[];if(typeof m=="string")Hl(u,m)&&(v=v.concat(u.g.get(Bs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return Rn(this),this.i=null,u=Bs(this,u),Hl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=ql(this,u),u.length>0?String(u[0]):m):m};function Aa(u,m,v){_u(u,m),v.length>0&&(u.i=null,u.g.set(Bs(u,m),F(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var v=m[S];const U=zn(v);v=ql(this,v);for(let B=0;B<v.length;B++){let ne=U;v[B]!==""&&(ne+="="+zn(v[B])),u.push(ne)}}return this.i=u.join("&")};function vu(u){const m=new zs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Bs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function xa(u,m){m&&!u.j&&(Rn(u),u.i=null,u.g.forEach(function(v,S){const U=S.toLowerCase();S!=U&&(_u(this,S),Aa(this,U,v))},u)),u.j=m}function mi(u,m){const v=new Te;if(d.Image){const S=new Image;S.onload=E(Zn,v,"TestLoadImage: loaded",!0,m,S),S.onerror=E(Zn,v,"TestLoadImage: error",!1,m,S),S.onabort=E(Zn,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=E(Zn,v,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function Gl(u,m){const v=new Te,S=new AbortController,U=setTimeout(()=>{S.abort(),Zn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(B=>{clearTimeout(U),B.ok?Zn(v,"TestPingServer: ok",!0,m):Zn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Zn(v,"TestPingServer: error",!1,m)})}function Zn(u,m,v,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(v)}catch{}}function Hs(){this.g=new Z}function Oi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Oi,ie),Oi.prototype.g=function(){return new Br(this.i,this.h)};function Br(u,m){At.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Br,At),r=Br.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,gi(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,qs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,gi(this)),this.g&&(this.readyState=3,gi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function wa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?qs(this):gi(this),this.readyState==3&&wa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,qs(this))},r.Na=function(u){this.g&&(this.response=u,qs(this))},r.ga=function(){this.g&&qs(this)};function qs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,gi(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function gi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Br.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Jn(u){let m="";return He(u,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function Hr(u,m,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Jn(v),typeof u=="string"?v!=null&&zn(v):it(u,m,v))}function lt(u){At.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(lt,At);var Mi=/^https?$/i,Fl=["POST","PUT"];r=lt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():hi.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){qr(this,B);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)v.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const B of S.keys())v.set(B,S.get(B));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Fl,m,void 0)>=0)||S||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ne]of v)this.g.setRequestHeader(B,ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){qr(this,B)}};function qr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ql(u),as(u)}function Ql(u){u.A||(u.A=!0,Ct(u,"complete"),Ct(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ct(this,"complete"),Ct(this,"abort"),as(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),as(this,!0)),lt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Gr(this):this.Xa())},r.Xa=function(){Gr(this)};function Gr(u){if(u.h&&typeof c<"u"){if(u.v&&pi(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ct(u,"readystatechange"),pi(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var S;if(S=B===0){let ne=String(u.D).match(gu)[1]||null;!ne&&d.self&&d.self.location&&(ne=d.self.location.protocol.slice(0,-1)),S=!Mi.test(ne?ne.toLowerCase():"")}v=S}if(v)Ct(u,"complete"),Ct(u,"success");else{u.o=6;try{var U=pi(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Ql(u)}}finally{as(u)}}}}function as(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ct(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function pi(u){return u.g?u.g.readyState:0}r.ca=function(){try{return pi(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Lr(m)}};function sn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ls(u){const m={};u=(u.g&&pi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(w(u[S]))continue;var v=Us(u[S]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[U]||[];m[U]=B,B.push(v)}Me(m,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Gs(u){this.za=0,this.i=[],this.j=new Te,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vi("baseRetryDelayMs",5e3,u),this.Za=Vi("retryDelaySeedMs",1e4,u),this.Ta=Vi("forwardChannelMaxRetries",2,u),this.va=Vi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new kl(u&&u.concurrentRequestLimit),this.Ba=new Hs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Gs.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,S){Je(0),this.W=u,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=wu(this,null,this.W),ki(this)};function Kl(u){if(Ra(u),u.I==3){var m=u.V++,v=Ut(u.J);if(it(v,"SID",u.M),it(v,"RID",m),it(v,"TYPE","terminate"),Fr(u,v),m=new fi(u,u.j,m),m.M=2,m.A=Pr(Ut(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Ru(m.j,null),m.g.ea(m.A)),m.F=Date.now(),wi(m)}xu(u)}function Fs(u){u.g&&(Xl(u),u.g.cancel(),u.g=null)}function Ra(u){Fs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Na(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function ki(u){if(!jl(u.h)&&!u.m){u.m=!0;var m=u.Ea;dt||x(),fe||(dt(),fe=!0),N.add(m,u),u.D=0}}function Ca(u,m){return Ni(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=$(_(u.Ea,u,m),Au(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new fi(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),re(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=bu(this,U,m),v=Ut(this.J),it(v,"RID",u),it(v,"CVER",22),this.G&&it(v,"X-HTTP-Session-Id",this.G),Fr(this,v),B&&(this.R?m="headers="+zn(Jn(B))+"&"+m:this.u&&Hr(v,this.u,B)),Ul(this.h,U),this.Ra&&it(v,"TYPE","init"),this.S?(it(v,"$req",m),it(v,"SID","null"),U.U=!0,xi(U,v,null)):xi(U,v,m),this.I=2}}else this.I==3&&(u?Yl(this,u):this.i.length==0||jl(this.h)||Yl(this))};function Yl(u,m){var v;m?v=m.l:v=u.V++;const S=Ut(u.J);it(S,"SID",u.M),it(S,"RID",v),it(S,"AID",u.K),Fr(u,S),u.u&&u.o&&Hr(S,u.u,u.o),v=new fi(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=bu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ul(u.h,v),xi(v,S,m)}function Fr(u,m){u.H&&He(u.H,function(v,S){it(m,S,v)}),u.l&&He({},function(v,S){it(m,S,v)})}function bu(u,m,v){v=Math.min(u.i.length,v);const S=u.l?_(u.l.Ka,u.l,u):null;e:{var U=u.i;let Ie=-1;for(;;){const Nt=["count="+v];Ie==-1?v>0?(Ie=U[0].g,Nt.push("ofs="+Ie)):Ie=0:Nt.push("ofs="+Ie);let $e=!0;for(let _t=0;_t<v;_t++){var B=U[_t].g;const ei=U[_t].map;if(B-=Ie,B<0)Ie=Math.max(0,U[_t].g-100),$e=!1;else try{B="req"+B+"_"||"";try{var ne=ei instanceof Map?ei:Object.entries(ei);for(const[Ui,yi]of ne){let _i=yi;p(yi)&&(_i=Ai(yi)),Nt.push(B+Ui+"="+encodeURIComponent(_i))}}catch(Ui){throw Nt.push(B+"type="+encodeURIComponent("_badmap")),Ui}}catch{S&&S(ei)}}if($e){ne=Nt.join("&");break e}}ne=void 0}return u=u.i.splice(0,v),m.G=u,ne}function Eu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;dt||x(),fe||(dt(),fe=!0),N.add(m,u),u.A=0}}function Qr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=$(_(u.Da,u),Au(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Tu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=$(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Je(10),Fs(this),Tu(this))};function Xl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Tu(u){u.g=new fi(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ut(u.na);it(m,"RID","rpc"),it(m,"SID",u.M),it(m,"AID",u.K),it(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&it(m,"TO",u.ia),it(m,"TYPE","xmlhttp"),Fr(u,m),u.u&&u.o&&Hr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Pr(Ut(m)),v.u=null,v.R=!0,ba(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Fs(this),Qr(this),Je(19))};function Na(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Su(u,m){var v=null;if(u.g==m){Na(u),Xl(u),u.g=null;var S=2}else if(Ii(u.h,m))v=m.G,Ll(u.h,m),S=1;else return;if(u.I!=0){if(m.o)if(S==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;S=Mt(),Ct(S,new En(S,v)),ki(u)}else Eu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(S==1&&Ca(u,m)||S==2&&Qr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:ji(u,5);break;case 4:ji(u,10);break;case 3:ji(u,6);break;default:ji(u,2)}}}function Au(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function ji(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),S=u.Ua;const U=!S;S=new Hn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Jt(S,"https"),Pr(S),U?mi(S.toString(),v):Gl(S.toString(),v)}else Je(2);u.I=0,u.l&&u.l.pa(m),xu(u),Ra(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Je(2)):(this.j.info("Failed to ping google.com"),Je(1))};function xu(u){if(u.I=0,u.ja=[],u.l){const m=Pl(u.h);(m.length!=0||u.i.length!=0)&&(ee(u.ja,m),ee(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function wu(u,m,v){var S=v instanceof Hn?Ut(v):new Hn(v);if(S.g!="")m&&(S.g=m+"."+S.g),Ls(S,S.u);else{var U=d.location;S=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new Hn(null);S&&Jt(B,S),m&&(B.g=m),U&&Ls(B,U),v&&(B.h=v),S=B}return v=u.G,m=u.wa,v&&m&&it(S,v,m),it(S,"VER",u.ka),Fr(u,S),S}function Ru(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new lt(new Oi({ab:v})):new lt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cu(){}r=Cu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Qs(){}Qs.prototype.g=function(u,m){return new Tn(u,m)};function Tn(u,m){At.call(this),this.g=new Gs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new os(this)}A(Tn,At),Tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){Kl(this.g)},Tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Ai(u),u=v);m.i.push(new jt(m.Ya++,u)),m.I==3&&ki(m)},Tn.prototype.N=function(){this.g.l=null,delete this.j,Kl(this.g),delete this.g,Tn.Z.N.call(this)};function Nu(u){Ne.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Nu,Ne);function Iu(){ht.call(this),this.status=1}A(Iu,ht);function os(u){this.g=u}A(os,Cu),os.prototype.ra=function(){Ct(this.g,"a")},os.prototype.qa=function(u){Ct(this.g,new Nu(u))},os.prototype.pa=function(u){Ct(this.g,new Iu)},os.prototype.oa=function(){Ct(this.g,"b")},Qs.prototype.createWebChannel=Qs.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,Tb=function(){return new Qs},Eb=function(){return Mt()},bb=Ze,cm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},rs.NO_ERROR=0,rs.TIMEOUT=8,rs.HTTP_ERROR=6,Qc=rs,Xe.COMPLETE="complete",vb=Xe,ae.EventType=ce,ce.OPEN="a",ce.CLOSE="b",ce.ERROR="c",ce.MESSAGE="d",At.prototype.listen=At.prototype.J,ko=ae,lt.prototype.listenOnce=lt.prototype.K,lt.prototype.getLastError=lt.prototype.Ha,lt.prototype.getLastErrorCode=lt.prototype.ya,lt.prototype.getStatus=lt.prototype.ca,lt.prototype.getResponseJson=lt.prototype.La,lt.prototype.getResponseText=lt.prototype.la,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Fa,_b=lt}).apply(typeof kc<"u"?kc:typeof self<"u"?self:typeof window<"u"?window:{});const T_="@firebase/firestore",S_="4.9.2";let _n=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");let Il="12.3.0";const ga=new Nm("@firebase/firestore");function ol(){return ga.logLevel}function oe(r,...e){if(ga.logLevel<=Pe.DEBUG){const i=e.map(zm);ga.debug(`Firestore (${Il}): ${r}`,...i)}}function Os(r,...e){if(ga.logLevel<=Pe.ERROR){const i=e.map(zm);ga.error(`Firestore (${Il}): ${r}`,...i)}}function vl(r,...e){if(ga.logLevel<=Pe.WARN){const i=e.map(zm);ga.warn(`Firestore (${Il}): ${r}`,...i)}}function zm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function be(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,Sb(r,a,i)}function Sb(r,e,i){let a=`FIRESTORE (${Il}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Os(a),new Error(a)}function et(r,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||Sb(e,o,a)}function Re(r,e){return r}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Vs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class Ab{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Rw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(_n.UNAUTHENTICATED)))}shutdown(){}}class Cw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Nw{constructor(e){this.t=e,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){et(this.o===void 0,42304);let a=this.i;const o=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new xr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new xr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},p=y=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new xr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(et(typeof a.accessToken=="string",31837,{l:a}),new Ab(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string",2055,{h:e}),new _n(e)}}class Iw{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Dw{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new Iw(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(_n.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class A_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ow{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ui(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){et(this.o===void 0,3512);const a=c=>{c.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,oe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new A_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(et(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new A_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Mw(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Bm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=Mw(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function ze(r,e){return r<e?-1:r>e?1:0}function hm(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const o=r.charAt(a),c=e.charAt(a);if(o!==c)return $d(o)===$d(c)?ze(o,c):$d(o)?1:-1}return ze(r.length,e.length)}const Vw=55296,kw=57343;function $d(r){const e=r.charCodeAt(0);return e>=Vw&&e<=kw}function bl(r,e,i){return r.length===e.length&&r.every(((a,o)=>i(a,e[o])))}const x_="__name__";class Hi{constructor(e,i,a){i===void 0?i=0:i>e.length&&be(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&be(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Hi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Hi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=Hi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return ze(e.length,i.length)}static compareSegments(e,i){const a=Hi.isNumericId(e),o=Hi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Hi.extractNumericId(e).compare(Hi.extractNumericId(i)):hm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ar.fromString(e.substring(4,e.length-2))}}class Tt extends Hi{construct(e,i,a){return new Tt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new de(W.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new Tt(i)}static emptyPath(){return new Tt([])}}const jw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends Hi{construct(e,i,a){return new hn(e,i,a)}static isValidIdentifier(e){return jw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===x_}static keyField(){return new hn([x_])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new de(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new de(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new de(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(c(),o++)}if(c(),d)throw new de(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(i)}static emptyPath(){return new hn([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Tt.fromString(e))}static fromName(e){return new ye(Tt.fromString(e).popFirst(5))}static empty(){return new ye(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Tt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Tt(e.slice()))}}function Uw(r,e,i){if(!i)throw new de(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Lw(r,e,i,a){if(e===!0&&a===!0)throw new de(W.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function w_(r){if(!ye.isDocumentKey(r))throw new de(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function xb(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Hm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":be(12329,{type:typeof r})}function Fi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new de(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Hm(r);throw new de(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Ft(r,e){const i={typeString:r};return e&&(i.value=e),i}function lu(r,e){if(!xb(r))throw new de(W.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new de(W.INVALID_ARGUMENT,i);return!0}const R_=-62135596800,C_=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*C_);return new yt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new de(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new de(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<R_)throw new de(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/C_}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lu(e,yt._jsonSchema))return new yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-R_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:Ft("string",yt._jsonSchemaVersion),seconds:Ft("number"),nanoseconds:Ft("number")};class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new yt(0,0))}static max(){return new xe(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Yo=-1;function Pw(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=xe.fromTimestamp(a===1e9?new yt(i+1,0):new yt(i,a));return new Rr(o,ye.empty(),e)}function zw(r){return new Rr(r.readTime,r.key,Yo)}class Rr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Rr(xe.min(),ye.empty(),Yo)}static max(){return new Rr(xe.max(),ye.empty(),Yo)}}function Bw(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ye.comparator(r.documentKey,e.documentKey),i!==0?i:ze(r.largestBatchId,e.largestBatchId))}const Hw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Dl(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==Hw)throw r;oe("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,a)=>{i(e)}))}static reject(e){return new X(((i,a)=>{a(e)}))}static waitFor(e){return new X(((i,a)=>{let o=0,c=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(y=>a(y)))})),d=!0,c===o&&i()}))}static or(e){let i=X.resolve(!1);for(const a of e)i=i.next((o=>o?X.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new X(((a,o)=>{const c=e.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(e[_]).next((E=>{d[_]=E,++p,p===c&&a(d)}),(E=>o(E)))}}))}static doWhile(e,i){return new X(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function Gw(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ol(r){return r.name==="IndexedDbTransactionError"}class Ah{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ah.ce=-1;const qm=-1;function xh(r){return r==null}function uh(r){return r===0&&1/r==-1/0}function Fw(r){return typeof r=="number"&&Number.isInteger(r)&&!uh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const wb="";function Qw(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=N_(e)),e=Kw(r.get(i),e);return N_(e)}function Kw(r,e){let i=e;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case wb:i+="";break;default:i+=c}}return i}function N_(r){return r+wb+""}function I_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Mr(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function Rb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class St{constructor(e,i){this.comparator=e,this.root=i||cn.EMPTY}insert(e,i){return new St(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jc(this.root,e,this.comparator,!1)}getReverseIterator(){return new jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jc(this.root,e,this.comparator,!0)}}class jc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??cn.RED,this.left=o??cn.EMPTY,this.right=c??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new cn(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return cn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new cn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wt{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new D_(this.data.getIterator())}getIteratorFrom(e){return new D_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Wt(this.comparator);return i.data=e,i}}class D_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class $n{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new $n([])}unionWith(e){let i=new Wt(hn.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new $n(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return bl(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class Cb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class fn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Cb("Invalid base64 string: "+c):c}})(e);return new fn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new fn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const Yw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cr(r){if(et(!!r,39018),typeof r=="string"){let e=0;const i=Yw.exec(r);if(et(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Ot(r.seconds),nanos:Ot(r.nanos)}}function Ot(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Nr(r){return typeof r=="string"?fn.fromBase64String(r):fn.fromUint8Array(r)}const Nb="server_timestamp",Ib="__type__",Db="__previous_value__",Ob="__local_write_time__";function Gm(r){return(r?.mapValue?.fields||{})[Ib]?.stringValue===Nb}function wh(r){const e=r.mapValue.fields[Db];return Gm(e)?wh(e):e}function Xo(r){const e=Cr(r.mapValue.fields[Ob].timestampValue);return new yt(e.seconds,e.nanos)}class Xw{constructor(e,i,a,o,c,d,p,y,_,E){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=E}}const ch="(default)";class $o{constructor(e,i){this.projectId=e,this.database=i||ch}static empty(){return new $o("","")}get isDefaultDatabase(){return this.database===ch}isEqual(e){return e instanceof $o&&e.projectId===this.projectId&&e.database===this.database}}const Mb="__type__",$w="__max__",Uc={mapValue:{}},Vb="__vector__",hh="value";function Ir(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Gm(r)?4:Zw(r)?9007199254740991:Ww(r)?10:11:be(28295,{value:r})}function Wi(r,e){if(r===e)return!0;const i=Ir(r);if(i!==Ir(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Xo(r).isEqual(Xo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Cr(o.timestampValue),p=Cr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return Nr(o.bytesValue).isEqual(Nr(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return Ot(o.geoPointValue.latitude)===Ot(c.geoPointValue.latitude)&&Ot(o.geoPointValue.longitude)===Ot(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Ot(o.integerValue)===Ot(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Ot(o.doubleValue),p=Ot(c.doubleValue);return d===p?uh(d)===uh(p):isNaN(d)&&isNaN(p)}return!1})(r,e);case 9:return bl(r.arrayValue.values||[],e.arrayValue.values||[],Wi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(I_(d)!==I_(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Wi(d[y],p[y])))return!1;return!0})(r,e);default:return be(52216,{left:r})}}function Wo(r,e){return(r.values||[]).find((i=>Wi(i,e)))!==void 0}function El(r,e){if(r===e)return 0;const i=Ir(r),a=Ir(e);if(i!==a)return ze(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return ze(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=Ot(c.integerValue||c.doubleValue),y=Ot(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,e);case 3:return O_(r.timestampValue,e.timestampValue);case 4:return O_(Xo(r),Xo(e));case 5:return hm(r.stringValue,e.stringValue);case 6:return(function(c,d){const p=Nr(c),y=Nr(d);return p.compareTo(y)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const E=ze(p[_],y[_]);if(E!==0)return E}return ze(p.length,y.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=ze(Ot(c.latitude),Ot(d.latitude));return p!==0?p:ze(Ot(c.longitude),Ot(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return M_(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[hh]?.arrayValue,E=y[hh]?.arrayValue,A=ze(_?.values?.length||0,E?.values?.length||0);return A!==0?A:M_(_,E)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Uc.mapValue&&d===Uc.mapValue)return 0;if(c===Uc.mapValue)return 1;if(d===Uc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},E=Object.keys(_);y.sort(),E.sort();for(let A=0;A<y.length&&A<E.length;++A){const M=hm(y[A],E[A]);if(M!==0)return M;const F=El(p[y[A]],_[E[A]]);if(F!==0)return F}return ze(y.length,E.length)})(r.mapValue,e.mapValue);default:throw be(23264,{he:i})}}function O_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ze(r,e);const i=Cr(r),a=Cr(e),o=ze(i.seconds,a.seconds);return o!==0?o:ze(i.nanos,a.nanos)}function M_(r,e){const i=r.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=El(i[o],a[o]);if(c)return c}return ze(i.length,a.length)}function Tl(r){return fm(r)}function fm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Cr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Nr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ye.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=fm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${fm(i.fields[d])}`;return o+"}"})(r.mapValue):be(61005,{value:r})}function Kc(r){switch(Ir(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wh(r);return e?16+Kc(e):16;case 5:return 2*r.stringValue.length;case 6:return Nr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Kc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return Mr(a.fields,((c,d)=>{o+=c.length+Kc(d)})),o})(r.mapValue);default:throw be(13486,{value:r})}}function dm(r){return!!r&&"integerValue"in r}function Fm(r){return!!r&&"arrayValue"in r}function V_(r){return!!r&&"nullValue"in r}function k_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Yc(r){return!!r&&"mapValue"in r}function Ww(r){return(r?.mapValue?.fields||{})[Mb]?.stringValue===Vb}function Bo(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Mr(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Bo(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Bo(r.arrayValue.values[i]);return e}return{...r}}function Zw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===$w}class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Yc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bo(i)}setAll(e){let i=hn.emptyPath(),a={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,o),a={},o=[],i=p.popLast()}d?a[p.lastSegment()]=Bo(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());Yc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Wi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Yc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Mr(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new kn(Bo(this.value))}}function kb(r){const e=[];return Mr(r.fields,((i,a)=>{const o=new hn([i]);if(Yc(a)){const c=kb(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new $n(e)}class vn{constructor(e,i,a,o,c,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new vn(e,0,xe.min(),xe.min(),xe.min(),kn.empty(),0)}static newFoundDocument(e,i,a,o){return new vn(e,1,i,xe.min(),a,o,0)}static newNoDocument(e,i){return new vn(e,2,i,xe.min(),xe.min(),kn.empty(),0)}static newUnknownDocument(e,i){return new vn(e,3,i,xe.min(),xe.min(),kn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fh{constructor(e,i){this.position=e,this.inclusive=i}}function j_(r,e,i){let a=0;for(let o=0;o<r.position.length;o++){const c=e[o],d=r.position[o];if(c.field.isKeyField()?a=ye.comparator(ye.fromName(d.referenceValue),i.key):a=El(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function U_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Wi(r.position[i],e.position[i]))return!1;return!0}class dh{constructor(e,i="asc"){this.field=e,this.dir=i}}function Jw(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class jb{}class $t extends jb{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new t2(e,i,a):i==="array-contains"?new s2(e,a):i==="in"?new r2(e,a):i==="not-in"?new a2(e,a):i==="array-contains-any"?new l2(e,a):new $t(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new n2(e,a):new i2(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(El(i,this.value)):i!==null&&Ir(this.value)===Ir(i)&&this.matchesComparison(El(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zi extends jb{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Zi(e,i)}matches(e){return Ub(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ub(r){return r.op==="and"}function Lb(r){return e2(r)&&Ub(r)}function e2(r){for(const e of r.filters)if(e instanceof Zi)return!1;return!0}function mm(r){if(r instanceof $t)return r.field.canonicalString()+r.op.toString()+Tl(r.value);if(Lb(r))return r.filters.map((e=>mm(e))).join(",");{const e=r.filters.map((i=>mm(i))).join(",");return`${r.op}(${e})`}}function Pb(r,e){return r instanceof $t?(function(a,o){return o instanceof $t&&a.op===o.op&&a.field.isEqual(o.field)&&Wi(a.value,o.value)})(r,e):r instanceof Zi?(function(a,o){return o instanceof Zi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,p)=>c&&Pb(d,o.filters[p])),!0):!1})(r,e):void be(19439)}function zb(r){return r instanceof $t?(function(i){return`${i.field.canonicalString()} ${i.op} ${Tl(i.value)}`})(r):r instanceof Zi?(function(i){return i.op.toString()+" {"+i.getFilters().map(zb).join(" ,")+"}"})(r):"Filter"}class t2 extends $t{constructor(e,i,a){super(e,i,a),this.key=ye.fromName(a.referenceValue)}matches(e){const i=ye.comparator(e.key,this.key);return this.matchesComparison(i)}}class n2 extends $t{constructor(e,i){super(e,"in",i),this.keys=Bb("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class i2 extends $t{constructor(e,i){super(e,"not-in",i),this.keys=Bb("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Bb(r,e){return(e.arrayValue?.values||[]).map((i=>ye.fromName(i.referenceValue)))}class s2 extends $t{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Fm(i)&&Wo(i.arrayValue,this.value)}}class r2 extends $t{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Wo(this.value.arrayValue,i)}}class a2 extends $t{constructor(e,i){super(e,"not-in",i)}matches(e){if(Wo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Wo(this.value.arrayValue,i)}}class l2 extends $t{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Fm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Wo(this.value.arrayValue,a)))}}class o2{constructor(e,i=null,a=[],o=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function L_(r,e=null,i=[],a=[],o=null,c=null,d=null){return new o2(r,e,i,a,o,c,d)}function Qm(r){const e=Re(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>mm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),xh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>Tl(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>Tl(a))).join(",")),e.Te=i}return e.Te}function Km(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Jw(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!Pb(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!U_(r.startAt,e.startAt)&&U_(r.endAt,e.endAt)}function gm(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Rh{constructor(e,i=null,a=[],o=[],c=null,d="F",p=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function u2(r,e,i,a,o,c,d,p){return new Rh(r,e,i,a,o,c,d,p)}function Ch(r){return new Rh(r)}function P_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function c2(r){return r.collectionGroup!==null}function Ho(r){const e=Re(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Wt(hn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new dh(c,a))})),i.has(hn.keyField().canonicalString())||e.Ie.push(new dh(hn.keyField(),a))}return e.Ie}function Qi(r){const e=Re(r);return e.Ee||(e.Ee=h2(e,Ho(r))),e.Ee}function h2(r,e){if(r.limitType==="F")return L_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new dh(o.field,c)}));const i=r.endAt?new fh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new fh(r.startAt.position,r.startAt.inclusive):null;return L_(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function pm(r,e,i){return new Rh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Nh(r,e){return Km(Qi(r),Qi(e))&&r.limitType===e.limitType}function Hb(r){return`${Qm(Qi(r))}|lt:${r.limitType}`}function ul(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>zb(o))).join(", ")}]`),xh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>Tl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>Tl(o))).join(",")),`Target(${a})`})(Qi(r))}; limitType=${r.limitType})`}function Ih(r,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ye.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,e)&&(function(a,o){for(const c of Ho(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(d,p,y){const _=j_(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,Ho(a),o)||a.endAt&&!(function(d,p,y){const _=j_(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,Ho(a),o))})(r,e)}function f2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function qb(r){return(e,i)=>{let a=!1;for(const o of Ho(r)){const c=d2(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function d2(r,e,i){const a=r.field.isKeyField()?ye.comparator(e.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?El(y,_):be(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return be(19790,{direction:r.dir})}}class ya{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Mr(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return Rb(this.inner)}size(){return this.innerSize}}const m2=new St(ye.comparator);function Ms(){return m2}const Gb=new St(ye.comparator);function jo(...r){let e=Gb;for(const i of r)e=e.insert(i.key,i);return e}function Fb(r){let e=Gb;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function ha(){return qo()}function Qb(){return qo()}function qo(){return new ya((r=>r.toString()),((r,e)=>r.isEqual(e)))}const g2=new St(ye.comparator),p2=new Wt(ye.comparator);function Be(...r){let e=p2;for(const i of r)e=e.add(i);return e}const y2=new Wt(ze);function _2(){return y2}function Ym(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uh(e)?"-0":e}}function Kb(r){return{integerValue:""+r}}function v2(r,e){return Fw(e)?Kb(e):Ym(r,e)}class Dh{constructor(){this._=void 0}}function b2(r,e,i){return r instanceof mh?(function(o,c){const d={fields:{[Ib]:{stringValue:Nb},[Ob]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Gm(c)&&(c=wh(c)),c&&(d.fields[Db]=c),{mapValue:d}})(i,e):r instanceof Sl?Xb(r,e):r instanceof Zo?$b(r,e):(function(o,c){const d=Yb(o,c),p=z_(d)+z_(o.Ae);return dm(d)&&dm(o.Ae)?Kb(p):Ym(o.serializer,p)})(r,e)}function E2(r,e,i){return r instanceof Sl?Xb(r,e):r instanceof Zo?$b(r,e):i}function Yb(r,e){return r instanceof gh?(function(a){return dm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class mh extends Dh{}class Sl extends Dh{constructor(e){super(),this.elements=e}}function Xb(r,e){const i=Wb(e);for(const a of r.elements)i.some((o=>Wi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Zo extends Dh{constructor(e){super(),this.elements=e}}function $b(r,e){let i=Wb(e);for(const a of r.elements)i=i.filter((o=>!Wi(o,a)));return{arrayValue:{values:i}}}class gh extends Dh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function z_(r){return Ot(r.integerValue||r.doubleValue)}function Wb(r){return Fm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class T2{constructor(e,i){this.field=e,this.transform=i}}function S2(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof Sl&&o instanceof Sl||a instanceof Zo&&o instanceof Zo?bl(a.elements,o.elements,Wi):a instanceof gh&&o instanceof gh?Wi(a.Ae,o.Ae):a instanceof mh&&o instanceof mh})(r.transform,e.transform)}class A2{constructor(e,i){this.version=e,this.transformResults=i}}class Ki{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ki}static exists(e){return new Ki(void 0,e)}static updateTime(e){return new Ki(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Oh{}function Zb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new eE(r.key,Ki.none()):new ou(r.key,r.data,Ki.none());{const i=r.data,a=kn.empty();let o=new Wt(hn.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new Vr(r.key,a,new $n(o.toArray()),Ki.none())}}function x2(r,e,i){r instanceof ou?(function(o,c,d){const p=o.value.clone(),y=H_(o.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,i):r instanceof Vr?(function(o,c,d){if(!Xc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=H_(o.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(Jb(o)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Go(r,e,i,a){return r instanceof ou?(function(c,d,p,y){if(!Xc(c.precondition,d))return p;const _=c.value.clone(),E=q_(c.fieldTransforms,y,d);return _.setAll(E),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,a):r instanceof Vr?(function(c,d,p,y){if(!Xc(c.precondition,d))return p;const _=q_(c.fieldTransforms,y,d),E=d.data;return E.setAll(Jb(c)),E.setAll(_),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,e,i,a):(function(c,d,p){return Xc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,e,i)}function w2(r,e){let i=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),c=Yb(a.transform,o||null);c!=null&&(i===null&&(i=kn.empty()),i.set(a.field,c))}return i||null}function B_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&bl(a,o,((c,d)=>S2(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ou extends Oh{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Vr extends Oh{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Jb(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function H_(r,e,i){const a=new Map;et(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,p=e.data.field(c.field);a.set(c.field,E2(d,p,i[o]))}return a}function q_(r,e,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,b2(c,d,e))}return a}class eE extends Oh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class R2 extends Oh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class C2{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&x2(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Go(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Go(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=Qb();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const y=Zb(d,p);y!==null&&a.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(xe.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Be())}isEqual(e){return this.batchId===e.batchId&&bl(this.mutations,e.mutations,((i,a)=>B_(i,a)))&&bl(this.baseMutations,e.baseMutations,((i,a)=>B_(i,a)))}}class Xm{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){et(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return g2})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Xm(e,i,a,o)}}class N2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class I2{constructor(e,i){this.count=e,this.unchangedNames=i}}var Gt,Ge;function D2(r){switch(r){case W.OK:return be(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return be(15467,{code:r})}}function tE(r){if(r===void 0)return Os("GRPC error has no .code"),W.UNKNOWN;switch(r){case Gt.OK:return W.OK;case Gt.CANCELLED:return W.CANCELLED;case Gt.UNKNOWN:return W.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return W.INTERNAL;case Gt.UNAVAILABLE:return W.UNAVAILABLE;case Gt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Gt.NOT_FOUND:return W.NOT_FOUND;case Gt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Gt.ABORTED:return W.ABORTED;case Gt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Gt.DATA_LOSS:return W.DATA_LOSS;default:return be(39323,{code:r})}}(Ge=Gt||(Gt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";function O2(){return new TextEncoder}const M2=new Ar([4294967295,4294967295],0);function G_(r){const e=O2().encode(r),i=new yb;return i.update(e),new Uint8Array(i.digest())}function F_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ar([i,a],0),new Ar([o,c],0)]}class $m{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Uo(`Invalid padding: ${i}`);if(a<0)throw new Uo(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Uo(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Uo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ar.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(Ar.fromNumber(a)));return o.compare(M2)===1&&(o=new Ar([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=G_(e),[a,o]=F_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new $m(c,o,i);return a.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=G_(e),[a,o]=F_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Uo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Mh{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,uu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Mh(xe.min(),o,new St(ze),Ms(),Be())}}class uu{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new uu(a,i,Be(),Be(),Be())}}class $c{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class nE{constructor(e,i){this.targetId=e,this.Ce=i}}class iE{constructor(e,i,a=fn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class Q_{constructor(){this.ve=0,this.Fe=K_(),this.Me=fn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),i=Be(),a=Be();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:be(38017,{changeType:c})}})),new uu(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=K_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,et(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class V2{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ms(),this.Je=Lc(),this.He=Lc(),this.Ye=new St(ze)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(gm(c))if(a===0){const d=new ye(c.path);this.et(i,d,vn.newNoDocument(d,xe.min()))}else et(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(e),y=p?this.ct(p,e,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=Nr(a).toUint8Array()}catch(y){if(y instanceof Cb)return vl("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new $m(d,o,c)}catch(y){return vl(y instanceof Uo?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&gm(p.target)){const y=new ye(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,vn.newNoDocument(y,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Be();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Mh(e,i,this.Ye,this.je,a);return this.je=Ms(),this.Je=Lc(),this.He=Lc(),this.Ye=new St(ze),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new Q_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Wt(ze),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Wt(ze),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||oe("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Q_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Lc(){return new St(ye.comparator)}function K_(){return new St(ye.comparator)}const k2={asc:"ASCENDING",desc:"DESCENDING"},j2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},U2={and:"AND",or:"OR"};class L2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function ym(r,e){return r.useProto3Json||xh(e)?e:{value:e}}function ph(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function P2(r,e){return ph(r,e.toTimestamp())}function Yi(r){return et(!!r,49232),xe.fromTimestamp((function(i){const a=Cr(i);return new yt(a.seconds,a.nanos)})(r))}function Wm(r,e){return _m(r,e).canonicalString()}function _m(r,e){const i=(function(o){return new Tt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function rE(r){const e=Tt.fromString(r);return et(cE(e),10190,{key:e.toString()}),e}function vm(r,e){return Wm(r.databaseId,e.path)}function Wd(r,e){const i=rE(e);if(i.get(1)!==r.databaseId.projectId)throw new de(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new de(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ye(lE(i))}function aE(r,e){return Wm(r.databaseId,e)}function z2(r){const e=rE(r);return e.length===4?Tt.emptyPath():lE(e)}function bm(r){return new Tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function lE(r){return et(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Y_(r,e,i){return{name:vm(r,e),fields:i.value.mapValue.fields}}function B2(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:be(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,E){return _.useProto3Json?(et(E===void 0||typeof E=="string",58123),fn.fromBase64String(E||"")):(et(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),fn.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(_){const E=_.code===void 0?W.UNKNOWN:tE(_.code);return new de(E,_.message||"")})(d);i=new iE(a,o,c,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Wd(r,a.document.name),c=Yi(a.document.updateTime),d=a.document.createTime?Yi(a.document.createTime):xe.min(),p=new kn({mapValue:{fields:a.document.fields}}),y=vn.newFoundDocument(o,c,d,p),_=a.targetIds||[],E=a.removedTargetIds||[];i=new $c(_,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Wd(r,a.document),c=a.readTime?Yi(a.readTime):xe.min(),d=vn.newNoDocument(o,c),p=a.removedTargetIds||[];i=new $c([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Wd(r,a.document),c=a.removedTargetIds||[];i=new $c([],c,o,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new I2(o,c),p=a.targetId;i=new nE(p,d)}}return i}function H2(r,e){let i;if(e instanceof ou)i={update:Y_(r,e.key,e.value)};else if(e instanceof eE)i={delete:vm(r,e.key)};else if(e instanceof Vr)i={update:Y_(r,e.key,e.data),updateMask:W2(e.fieldMask)};else{if(!(e instanceof R2))return be(16599,{Vt:e.type});i={verify:vm(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof mh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Sl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Zo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof gh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw be(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:P2(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:be(27497)})(r,e.precondition)),i}function q2(r,e){return r&&r.length>0?(et(e!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?Yi(o.updateTime):Yi(c);return d.isEqual(xe.min())&&(d=Yi(c)),new A2(d,o.transformResults||[])})(i,e)))):[]}function G2(r,e){return{documents:[aE(r,e.path)]}}function F2(r,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=aE(r,o);const c=(function(_){if(_.length!==0)return uE(Zi.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((E=>(function(M){return{field:cl(M.field),direction:Y2(M.dir)}})(E)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=ym(r,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function Q2(r){let e=z2(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){et(a===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=(function(A){const M=oE(A);return M instanceof Zi&&Lb(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((M=>(function(ee){return new dh(hl(ee.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ee.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let M;return M=typeof A=="object"?A.value:A,xh(M)?null:M})(i.limit));let y=null;i.startAt&&(y=(function(A){const M=!!A.before,F=A.values||[];return new fh(F,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const M=!A.before,F=A.values||[];return new fh(F,M)})(i.endAt)),u2(e,o,d,c,p,"F",y,_)}function K2(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function oE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=hl(i.unaryFilter.field);return $t.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=hl(i.unaryFilter.field);return $t.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=hl(i.unaryFilter.field);return $t.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=hl(i.unaryFilter.field);return $t.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(r):r.fieldFilter!==void 0?(function(i){return $t.create(hl(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Zi.create(i.compositeFilter.filters.map((a=>oE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(i.compositeFilter.op))})(r):be(30097,{filter:r})}function Y2(r){return k2[r]}function X2(r){return j2[r]}function $2(r){return U2[r]}function cl(r){return{fieldPath:r.canonicalString()}}function hl(r){return hn.fromServerFormat(r.fieldPath)}function uE(r){return r instanceof $t?(function(i){if(i.op==="=="){if(k_(i.value))return{unaryFilter:{field:cl(i.field),op:"IS_NAN"}};if(V_(i.value))return{unaryFilter:{field:cl(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(k_(i.value))return{unaryFilter:{field:cl(i.field),op:"IS_NOT_NAN"}};if(V_(i.value))return{unaryFilter:{field:cl(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cl(i.field),op:X2(i.op),value:i.value}}})(r):r instanceof Zi?(function(i){const a=i.getFilters().map((o=>uE(o)));return a.length===1?a[0]:{compositeFilter:{op:$2(i.op),filters:a}}})(r):be(54877,{filter:r})}function W2(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function cE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class br{constructor(e,i,a,o,c=xe.min(),d=xe.min(),p=fn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Z2{constructor(e){this.yt=e}}function J2(r){const e=Q2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?pm(e,e.limit,"L"):e}class eR{constructor(){this.Cn=new tR}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(Rr.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(Rr.min())}updateCollectionGroup(e,i,a){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class tR{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Wt(Tt.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Wt(Tt.comparator)).toArray()}}const X_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hE=41943040;class Vn{static withCacheSize(e){return new Vn(e,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(hE,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);class Al{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Al(0)}static cr(){return new Al(-1)}}const $_="LruGarbageCollector",nR=1048576;function W_([r,e],[i,a]){const o=ze(r,i);return o===0?ze(e,a):o}class iR{constructor(e){this.Ir=e,this.buffer=new Wt(W_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();W_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class sR{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe($_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ol(i)?oe($_,"Ignoring IndexedDB error during garbage collection: ",i):await Dl(i)}await this.Vr(3e5)}))}}class rR{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(Ah.ce);const a=new iR(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(X_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),X_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,c,d,p,y,_;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(a=A,p=Date.now(),this.removeTargets(e,a,i)))).next((A=>(c=A,y=Date.now(),this.removeOrphanedDocuments(e,a)))).next((A=>(_=Date.now(),ol()<=Pe.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${A} documents in `+(_-y)+`ms
Total Duration: ${_-E}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A}))))}}function aR(r,e){return new rR(r,e)}class lR{constructor(){this.changes=new ya((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class oR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class uR{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&Go(a.mutation,o,$n.empty(),yt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Be()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Be()){const o=ha();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=jo();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=ha();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Be())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,a,o){let c=Ms();const d=qo(),p=(function(){return qo()})();return i.forEach(((y,_)=>{const E=a.get(_.key);o.has(_.key)&&(E===void 0||E.mutation instanceof Vr)?c=c.insert(_.key,_):E!==void 0?(d.set(_.key,E.mutation.getFieldMask()),Go(E.mutation,_,E.mutation.getFieldMask(),yt.now())):d.set(_.key,$n.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((_,E)=>d.set(_,E))),i.forEach(((_,E)=>p.set(_,new oR(E,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,i){const a=qo();let o=new St(((d,p)=>d-p)),c=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let E=a.get(y)||$n.empty();E=p.applyToLocalView(_,E),a.set(y,E);const A=(o.get(p.batchId)||Be()).add(y);o=o.insert(p.batchId,A)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,E=y.value,A=Qb();E.forEach((M=>{if(!c.has(M)){const F=Zb(i.get(M),a.get(M));F!==null&&A.set(M,F),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,A))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return ye.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):c2(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):X.resolve(ha());let p=Yo,y=c;return d.next((_=>X.forEach(_,((E,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(E)?X.resolve():this.remoteDocumentCache.getEntry(e,E).next((M=>{y=y.insert(E,M)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,y,_,Be()))).next((E=>({batchId:p,changes:Fb(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ye(i)).next((a=>{let o=jo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=jo();return this.indexManager.getCollectionParents(e,c).next((p=>X.forEach(p,(y=>{const _=(function(A,M){return new Rh(M,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((E=>{E.forEach(((A,M)=>{d=d.insert(A,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((y,_)=>{const E=_.getKey();d.get(E)===null&&(d=d.insert(E,vn.newInvalidDocument(E)))}));let p=jo();return d.forEach(((y,_)=>{const E=c.get(y);E!==void 0&&Go(E.mutation,_,$n.empty(),yt.now()),Ih(i,_)&&(p=p.insert(y,_))})),p}))}}class cR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Yi(o.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:J2(o.bundledQuery),readTime:Yi(o.readTime)}})(i)),X.resolve()}}class hR{constructor(){this.overlays=new St(ye.comparator),this.qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ha();return X.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.St(e,i,c)})),X.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(e,i,a){const o=ha(),c=i.length+1,d=new ye(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&o.set(y.getKey(),y)}return X.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new St(((_,E)=>_-E));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let E=c.get(_.largestBatchId);E===null&&(E=ha(),c=c.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const p=ha(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,E)=>p.set(_,E))),!(p.size()>=o)););return X.resolve(p)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new N2(i,a));let c=this.qr.get(i);c===void 0&&(c=Be(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class fR{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}class Zm{constructor(){this.Qr=new Wt(tn.$r),this.Ur=new Wt(tn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new tn(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new tn(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new ye(new Tt([])),a=new tn(i,e),o=new tn(i,e+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ye(new Tt([])),a=new tn(i,e),o=new tn(i,e+1);let c=Be();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new tn(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class tn{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ye.comparator(e.key,i.key)||ze(e.Yr,i.Yr)}static Kr(e,i){return ze(e.Yr,i.Yr)||ye.comparator(e.key,i.key)}}class dR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Wt(tn.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new C2(c,i,a,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new tn(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?qm:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new tn(i,0),o=new tn(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Wt(ze);return i.forEach((o=>{const c=new tn(o,0),d=new tn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;ye.isDocumentKey(c)||(c=c.child(""));const d=new tn(new ye(c),0);let p=new Wt(ze);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(p=p.add(y.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){et(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(o=>{const c=new tn(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new tn(i,0),o=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class mR{constructor(e){this.ri=e,this.docs=(function(){return new St(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():vn.newInvalidDocument(i))}getEntries(e,i){let a=Ms();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():vn.newInvalidDocument(o))})),X.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=Ms();const d=i.path,p=new ye(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:E}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Bw(zw(E),a)<=0||(o.has(E.key)||Ih(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(e,i,a,o){be(9500)}ii(e,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new gR(this)}getSize(e){return X.resolve(this.size)}}class gR extends lR{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class pR{constructor(e){this.persistence=e,this.si=new ya((i=>Qm(i)),Km),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new Zm,this.targetCount=0,this.ai=Al.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Al(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Pr(i),X.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),X.waitFor(c).next((()=>o))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(e,i){return X.resolve(this._i.containsKey(i))}}class fE{constructor(e,i){this.ui={},this.overlays={},this.ci=new Ah(0),this.li=!1,this.li=!0,this.hi=new fR,this.referenceDelegate=e(this),this.Pi=new pR(this),this.indexManager=new eR,this.remoteDocumentCache=(function(o){return new mR(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new Z2(i),this.Ii=new cR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new hR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new dR(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){oe("MemoryPersistence","Starting transaction:",e);const o=new yR(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class yR extends qw{constructor(e){super(),this.currentSequenceNumber=e}}class Jm{constructor(e){this.persistence=e,this.Ri=new Zm,this.Vi=null}static mi(e){return new Jm(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const o=ye.fromPath(a);return this.gi(e,o).next((c=>{c||i.removeEntry(o,xe.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class yh{constructor(e,i){this.persistence=e,this.pi=new ya((a=>Qw(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=aR(this,i)}static mi(e,i){return new yh(e,i)}Ei(){}di(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return X.forEach(this.pi,((a,o)=>this.br(e,a,o).next((c=>c?X.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((p=>{p||(a++,c.removeEntry(d,xe.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Kc(e.data.value)),i}br(e,i,a){return X.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return X.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class eg{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=Be(),o=Be();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new eg(e,i.fromCache,a,o)}}class _R{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class vR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return aS()?8:Gw(bn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new _R;return this.Ss(e,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>c.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(ol()<=Pe.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",ul(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(ol()<=Pe.DEBUG&&oe("QueryEngine","Query:",ul(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(ol()<=Pe.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",ul(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qi(i))):X.resolve())}ys(e,i){if(P_(i))return X.resolve(null);let a=Qi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=pm(i,null,"F"),a=Qi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Be(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(e,pm(i,null,"F")):this.vs(e,_,i,y)}))))})))))}ws(e,i,a,o){return P_(i)||o.isEqual(xe.min())?X.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?X.resolve(null):(ol()<=Pe.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ul(i)),this.vs(e,d,i,Pw(o,Yo)).next((p=>p)))}))}Ds(e,i){let a=new Wt(qb(e));return i.forEach(((o,c)=>{Ih(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,a){return ol()<=Pe.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",ul(i)),this.ps.getDocumentsMatchingQuery(e,i,Rr.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const tg="LocalStore",bR=3e8;class ER{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new St(ze),this.xs=new ya((c=>Qm(c)),Km),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function TR(r,e,i,a){return new ER(r,e,i,a)}async function dE(r,e){const i=Re(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=Be();for(const _ of o){d.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}for(const _ of c){p.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function SR(r,e){const i=Re(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,E){const A=_.batch,M=A.keys();let F=X.resolve();return M.forEach((ee=>{F=F.next((()=>E.getEntry(y,ee))).next((se=>{const J=_.docVersions.get(ee);et(J!==null,48541),se.version.compareTo(J)<0&&(A.applyToRemoteDocument(se,_),se.isValidDocument()&&(se.setReadTime(_.commitVersion),E.addEntry(se)))}))})),F.next((()=>p.mutationQueue.removeMutationBatch(y,A)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=Be();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function mE(r){const e=Re(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function AR(r,e){const i=Re(r),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach(((E,A)=>{const M=o.get(A);if(!M)return;p.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,A))));let F=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?F=F.withResumeToken(fn.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):E.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(E.resumeToken,a)),o=o.insert(A,F),(function(se,J,pe){return se.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-se.snapshotVersion.toMicroseconds()>=bR?!0:pe.addedDocuments.size+pe.modifiedDocuments.size+pe.removedDocuments.size>0})(M,F,E)&&p.push(i.Pi.updateTargetData(c,F))}));let y=Ms(),_=Be();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),p.push(xR(c,d,e.documentUpdates).next((E=>{y=E.ks,_=E.qs}))),!a.isEqual(xe.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(E)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=o,c)))}function xR(r,e,i){let a=Be(),o=Be();return i.forEach((c=>a=a.add(c))),e.getEntries(r,a).next((c=>{let d=Ms();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),y.isNoDocument()&&y.version.isEqual(xe.min())?(e.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(p,y)):oe(tg,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:o}}))}function wR(r,e){const i=Re(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=qm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function RR(r,e){const i=Re(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((c=>c?(o=c,X.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new br(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function Em(r,e,i){const a=Re(r),o=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Ol(d))throw d;oe(tg,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function Z_(r,e,i){const a=Re(r);let o=xe.min(),c=Be();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,E){const A=Re(y),M=A.xs.get(E);return M!==void 0?X.resolve(A.Ms.get(M)):A.Pi.getTargetData(_,E)})(a,d,Qi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:xe.min(),i?c:Be()))).next((p=>(CR(a,f2(e),p),{documents:p,Qs:c})))))}function CR(r,e,i){let a=r.Os.get(e)||xe.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(e,a)}class J_{constructor(){this.activeTargetIds=_2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NR{constructor(){this.Mo=new J_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new J_,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class IR{Oo(e){}shutdown(){}}const ev="ConnectivityMonitor";class tv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(ev,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(ev,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Pc=null;function Tm(){return Pc===null?Pc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Pc++,"0x"+Pc.toString(16)}const Zd="RestConnection",DR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===ch?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,c){const d=Tm(),p=this.zo(e,i.toUriEncodedString());oe(Zd,`Sending RPC '${e}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:_}=new URL(p),E=Rl(_);return this.Jo(e,p,y,a,E).then((A=>(oe(Zd,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw vl(Zd,`RPC '${e}' ${d} failed with error: `,A,"url: ",p,"request:",a),A}))}Ho(e,i,a,o,c,d){return this.Go(e,i,a,o,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Il})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const a=DR[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class MR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const pn="WebChannelConnection";class VR extends OR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,c){const d=Tm();return new Promise(((p,y)=>{const _=new _b;_.setWithCredentials(!0),_.listenOnce(vb.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Qc.NO_ERROR:const A=_.getResponseJson();oe(pn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),p(A);break;case Qc.TIMEOUT:oe(pn,`RPC '${e}' ${d} timed out`),y(new de(W.DEADLINE_EXCEEDED,"Request time out"));break;case Qc.HTTP_ERROR:const M=_.getStatus();if(oe(pn,`RPC '${e}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const ee=F?.error;if(ee&&ee.status&&ee.message){const se=(function(pe){const Ce=pe.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(Ce)>=0?Ce:W.UNKNOWN})(ee.status);y(new de(se,ee.message))}else y(new de(W.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new de(W.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{oe(pn,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(o);oe(pn,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",E,a,15)}))}T_(e,i,a){const o=Tm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Tb(),p=Eb(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const E=c.join("");oe(pn,`Creating RPC '${e}' stream ${o}: ${E}`,y);const A=d.createWebChannel(E,y);this.I_(A);let M=!1,F=!1;const ee=new MR({Yo:J=>{F?oe(pn,`Not sending because RPC '${e}' stream ${o} is closed:`,J):(M||(oe(pn,`Opening RPC '${e}' stream ${o} transport.`),A.open(),M=!0),oe(pn,`RPC '${e}' stream ${o} sending:`,J),A.send(J))},Zo:()=>A.close()}),se=(J,pe,Ce)=>{J.listen(pe,(Ee=>{try{Ce(Ee)}catch(tt){setTimeout((()=>{throw tt}),0)}}))};return se(A,ko.EventType.OPEN,(()=>{F||(oe(pn,`RPC '${e}' stream ${o} transport opened.`),ee.o_())})),se(A,ko.EventType.CLOSE,(()=>{F||(F=!0,oe(pn,`RPC '${e}' stream ${o} transport closed`),ee.a_(),this.E_(A))})),se(A,ko.EventType.ERROR,(J=>{F||(F=!0,vl(pn,`RPC '${e}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),ee.a_(new de(W.UNAVAILABLE,"The operation could not be completed")))})),se(A,ko.EventType.MESSAGE,(J=>{if(!F){const pe=J.data[0];et(!!pe,16349);const Ce=pe,Ee=Ce?.error||Ce[0]?.error;if(Ee){oe(pn,`RPC '${e}' stream ${o} received error:`,Ee);const tt=Ee.status;let dt=(function(x){const R=Gt[x];if(R!==void 0)return tE(R)})(tt),fe=Ee.message;dt===void 0&&(dt=W.INTERNAL,fe="Unknown error status: "+tt+" with message "+Ee.message),F=!0,ee.a_(new de(dt,fe)),A.close()}else oe(pn,`RPC '${e}' stream ${o} received:`,pe),ee.u_(pe)}})),se(p,bb.STAT_EVENT,(J=>{J.stat===cm.PROXY?oe(pn,`RPC '${e}' stream ${o} detected buffering proxy`):J.stat===cm.NOPROXY&&oe(pn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{ee.__()}),0),ee}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Jd(){return typeof document<"u"?document:null}function Vh(r){return new L2(r,!0)}class gE{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const nv="PersistentStream";class pE{constructor(e,i,a,o,c,d,p,y){this.Mi=e,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new gE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===W.RESOURCE_EXHAUSTED?(Os(i.toString()),Os("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new de(W.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(nv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(oe(nv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class kR extends pE{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=B2(this.serializer,e),a=(function(c){if(!("targetChange"in c))return xe.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?xe.min():d.readTime?Yi(d.readTime):xe.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=bm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=gm(y)?{documents:G2(c,y)}:{query:F2(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=sE(c,d.resumeToken);const _=ym(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(xe.min())>0){p.readTime=ph(c,d.snapshotVersion.toTimestamp());const _=ym(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const a=K2(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=bm(this.serializer),i.removeTarget=e,this.q_(i)}}class jR extends pE{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=q2(e.writeResults,e.commitTime),a=Yi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=bm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>H2(this.serializer,a)))};this.q_(i)}}class UR{}class LR extends UR{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new de(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,_m(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(W.UNKNOWN,c.toString())}))}Ho(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,_m(i,a),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new de(W.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class PR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Os(i),this.aa=!1):oe("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const pa="RemoteStore";class zR{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{_a(this)&&(oe(pa,"Restarting streams for network reachability change."),await(async function(y){const _=Re(y);_.Ea.add(4),await cu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await kh(_)})(this))}))})),this.Ra=new PR(a,o)}}async function kh(r){if(_a(r))for(const e of r.da)await e(!0)}async function cu(r){for(const e of r.da)await e(!1)}function yE(r,e){const i=Re(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),rg(i)?sg(i):Ml(i).O_()&&ig(i,e))}function ng(r,e){const i=Re(r),a=Ml(i);i.Ia.delete(e),a.O_()&&_E(i,e),i.Ia.size===0&&(a.O_()?a.L_():_a(i)&&i.Ra.set("Unknown"))}function ig(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ml(r).Y_(e)}function _E(r,e){r.Va.Ue(e),Ml(r).Z_(e)}function sg(r){r.Va=new V2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Ml(r).start(),r.Ra.ua()}function rg(r){return _a(r)&&!Ml(r).x_()&&r.Ia.size>0}function _a(r){return Re(r).Ea.size===0}function vE(r){r.Va=void 0}async function BR(r){r.Ra.set("Online")}async function HR(r){r.Ia.forEach(((e,i)=>{ig(r,e)}))}async function qR(r,e){vE(r),rg(r)?(r.Ra.ha(e),sg(r)):r.Ra.set("Unknown")}async function GR(r,e,i){if(r.Ra.set("Online"),e instanceof iE&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(r,e)}catch(a){oe(pa,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await _h(r,a)}else if(e instanceof $c?r.Va.Ze(e):e instanceof nE?r.Va.st(e):r.Va.tt(e),!i.isEqual(xe.min()))try{const a=await mE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const E=c.Ia.get(_);E&&c.Ia.set(_,E.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const E=c.Ia.get(y);if(!E)return;c.Ia.set(y,E.withResumeToken(fn.EMPTY_BYTE_STRING,E.snapshotVersion)),_E(c,y);const A=new br(E.target,y,_,E.sequenceNumber);ig(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){oe(pa,"Failed to raise snapshot:",a),await _h(r,a)}}async function _h(r,e,i){if(!Ol(e))throw e;r.Ea.add(1),await cu(r),r.Ra.set("Offline"),i||(i=()=>mE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{oe(pa,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await kh(r)}))}function bE(r,e){return e().catch((i=>_h(r,i,e)))}async function jh(r){const e=Re(r),i=Dr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:qm;for(;FR(e);)try{const o=await wR(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,QR(e,o)}catch(o){await _h(e,o)}EE(e)&&TE(e)}function FR(r){return _a(r)&&r.Ta.length<10}function QR(r,e){r.Ta.push(e);const i=Dr(r);i.O_()&&i.X_&&i.ea(e.mutations)}function EE(r){return _a(r)&&!Dr(r).x_()&&r.Ta.length>0}function TE(r){Dr(r).start()}async function KR(r){Dr(r).ra()}async function YR(r){const e=Dr(r);for(const i of r.Ta)e.ea(i.mutations)}async function XR(r,e,i){const a=r.Ta.shift(),o=Xm.from(a,e,i);await bE(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await jh(r)}async function $R(r,e){e&&Dr(r).X_&&await(async function(a,o){if((function(d){return D2(d)&&d!==W.ABORTED})(o.code)){const c=a.Ta.shift();Dr(a).B_(),await bE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await jh(a)}})(r,e),EE(r)&&TE(r)}async function iv(r,e){const i=Re(r);i.asyncQueue.verifyOperationInProgress(),oe(pa,"RemoteStore received new credentials");const a=_a(i);i.Ea.add(3),await cu(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await kh(i)}async function WR(r,e){const i=Re(r);e?(i.Ea.delete(2),await kh(i)):e||(i.Ea.add(2),await cu(i),i.Ra.set("Unknown"))}function Ml(r){return r.ma||(r.ma=(function(i,a,o){const c=Re(i);return c.sa(),new kR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:BR.bind(null,r),t_:HR.bind(null,r),r_:qR.bind(null,r),H_:GR.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),rg(r)?sg(r):r.Ra.set("Unknown")):(await r.ma.stop(),vE(r))}))),r.ma}function Dr(r){return r.fa||(r.fa=(function(i,a,o){const c=Re(i);return c.sa(),new jR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:KR.bind(null,r),r_:$R.bind(null,r),ta:YR.bind(null,r),na:XR.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await jh(r)):(await r.fa.stop(),r.Ta.length>0&&(oe(pa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class ag{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,p=new ag(e,i,d,o,c);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lg(r,e){if(Os("AsyncQueue",`${e}: ${r}`),Ol(r))return new de(W.UNAVAILABLE,`${e}: ${r}`);throw r}class pl{static emptySet(e){return new pl(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ye.comparator(i.key,a.key):(i,a)=>ye.comparator(i.key,a.key),this.keyedMap=jo(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof pl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new pl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class sv{constructor(){this.ga=new St(ye.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class xl{constructor(e,i,a,o,c,d,p,y,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new xl(e,i,pl.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class ZR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class JR{constructor(){this.queries=rv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Re(i),c=o.queries;o.queries=rv(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new de(W.ABORTED,"Firestore shutting down"))}}function rv(){return new ya((r=>Hb(r)),Nh)}async function SE(r,e){const i=Re(r);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(a=2):(c=new ZR,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=lg(d,`Initialization of query '${ul(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&og(i)}async function AE(r,e){const i=Re(r),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function eC(r,e){const i=Re(r);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(o)&&(a=!0);d.wa=o}}a&&og(i)}function tC(r,e,i){const a=Re(r),o=a.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(e)}function og(r){r.Ca.forEach((e=>{e.next()}))}var Sm,av;(av=Sm||(Sm={})).Ma="default",av.Cache="cache";class xE{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new xl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=xl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Sm.Cache}}class wE{constructor(e){this.key=e}}class RE{constructor(e){this.key=e}}class nC{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=qb(e),this.tu=new pl(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new sv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,A)=>{const M=o.get(E),F=Ih(this.query,A)?A:null,ee=!!M&&this.mutatedKeys.has(M.key),se=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let J=!1;M&&F?M.data.isEqual(F.data)?ee!==se&&(a.track({type:3,doc:F}),J=!0):this.su(M,F)||(a.track({type:2,doc:F}),J=!0,(y&&this.eu(F,y)>0||_&&this.eu(F,_)<0)&&(p=!0)):!M&&F?(a.track({type:0,doc:F}),J=!0):M&&!F&&(a.track({type:1,doc:M}),J=!0,(y||_)&&(p=!0)),J&&(F?(d=d.add(F),c=se?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,A)=>(function(F,ee){const se=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:J})}};return se(F)-se(ee)})(E.type,A.type)||this.eu(E.doc,A.doc))),this.ou(a),o=o??!1;const p=i&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new xl(this.query,e.tu,c,d,e.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new RE(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new wE(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Be();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return xl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ug="SyncEngine";class iC{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class sC{constructor(e){this.key=e,this.hu=!1}}class rC{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ya((p=>Hb(p)),Nh),this.Iu=new Map,this.Eu=new Set,this.du=new St(ye.comparator),this.Au=new Map,this.Ru=new Zm,this.Vu={},this.mu=new Map,this.fu=Al.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function aC(r,e,i=!0){const a=ME(r);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await CE(a,e,i,!0),o}async function lC(r,e){const i=ME(r);await CE(i,e,!0,!1)}async function CE(r,e,i,a){const o=await RR(r.localStore,Qi(e)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await oC(r,e,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&yE(r.remoteStore,o),p}async function oC(r,e,i,a,o){r.pu=(A,M,F)=>(async function(se,J,pe,Ce){let Ee=J.view.ru(pe);Ee.Cs&&(Ee=await Z_(se.localStore,J.query,!1).then((({documents:N})=>J.view.ru(N,Ee))));const tt=Ce&&Ce.targetChanges.get(J.targetId),dt=Ce&&Ce.targetMismatches.get(J.targetId)!=null,fe=J.view.applyChanges(Ee,se.isPrimaryClient,tt,dt);return ov(se,J.targetId,fe.au),fe.snapshot})(r,A,M,F);const c=await Z_(r.localStore,e,!0),d=new nC(e,c.Qs),p=d.ru(c.documents),y=uu.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),_=d.applyChanges(p,r.isPrimaryClient,y);ov(r,i,_.au);const E=new iC(e,i,d);return r.Tu.set(e,E),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function uC(r,e,i){const a=Re(r),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!Nh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Em(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&ng(a.remoteStore,o.targetId),Am(a,o.targetId)})).catch(Dl)):(Am(a,o.targetId),await Em(a.localStore,o.targetId,!0))}async function cC(r,e){const i=Re(r),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),ng(i.remoteStore,a.targetId))}async function hC(r,e,i){const a=_C(r);try{const o=await(function(d,p){const y=Re(d),_=yt.now(),E=p.reduce(((F,ee)=>F.add(ee.key)),Be());let A,M;return y.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let ee=Ms(),se=Be();return y.Ns.getEntries(F,E).next((J=>{ee=J,ee.forEach(((pe,Ce)=>{Ce.isValidDocument()||(se=se.add(pe))}))})).next((()=>y.localDocuments.getOverlayedDocuments(F,ee))).next((J=>{A=J;const pe=[];for(const Ce of p){const Ee=w2(Ce,A.get(Ce.key).overlayedDocument);Ee!=null&&pe.push(new Vr(Ce.key,Ee,kb(Ee.value.mapValue),Ki.exists(!0)))}return y.mutationQueue.addMutationBatch(F,_,pe,p)})).next((J=>{M=J;const pe=J.applyToLocalDocumentSet(A,se);return y.documentOverlayCache.saveOverlays(F,J.batchId,pe)}))})).then((()=>({batchId:M.batchId,changes:Fb(A)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new St(ze)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,o.batchId,i),await hu(a,o.changes),await jh(a.remoteStore)}catch(o){const c=lg(o,"Failed to persist write");i.reject(c)}}async function NE(r,e){const i=Re(r);try{const a=await AR(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(et(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?et(d.hu,14607):o.removedDocuments.size>0&&(et(d.hu,42227),d.hu=!1))})),await hu(i,a,e)}catch(a){await Dl(a)}}function lv(r,e,i){const a=Re(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const y=Re(d);y.onlineState=p;let _=!1;y.queries.forEach(((E,A)=>{for(const M of A.Sa)M.va(p)&&(_=!0)})),_&&og(y)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function fC(r,e,i){const a=Re(r);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new St(ye.comparator);d=d.insert(c,vn.newNoDocument(c,xe.min()));const p=Be().add(c),y=new Mh(xe.min(),new Map,new St(ze),d,p);await NE(a,y),a.du=a.du.remove(c),a.Au.delete(e),cg(a)}else await Em(a.localStore,e,!1).then((()=>Am(a,e,i))).catch(Dl)}async function dC(r,e){const i=Re(r),a=e.batch.batchId;try{const o=await SR(i.localStore,e);DE(i,a,null),IE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await hu(i,o)}catch(o){await Dl(o)}}async function mC(r,e,i){const a=Re(r);try{const o=await(function(d,p){const y=Re(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let E;return y.mutationQueue.lookupMutationBatch(_,p).next((A=>(et(A!==null,37113),E=A.keys(),y.mutationQueue.removeMutationBatch(_,A)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,E,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E))).next((()=>y.localDocuments.getDocuments(_,E)))}))})(a.localStore,e);DE(a,e,i),IE(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await hu(a,o)}catch(o){await Dl(o)}}function IE(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function DE(r,e,i){const a=Re(r);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function Am(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||OE(r,a)}))}function OE(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(ng(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),cg(r))}function ov(r,e,i){for(const a of i)a instanceof wE?(r.Ru.addReference(a.key,e),gC(r,a)):a instanceof RE?(oe(ug,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||OE(r,a.key)):be(19791,{wu:a})}function gC(r,e){const i=e.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(oe(ug,"New document in limbo: "+i),r.Eu.add(a),cg(r))}function cg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new ye(Tt.fromString(e)),a=r.fu.next();r.Au.set(a,new sC(i)),r.du=r.du.insert(i,a),yE(r.remoteStore,new br(Qi(Ch(i.path)),a,"TargetPurposeLimboResolution",Ah.ce))}}async function hu(r,e,i){const a=Re(r),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const E=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(_){o.push(_);const E=eg.As(y.targetId,_);c.push(E)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(y,_){const E=Re(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>X.forEach(_,(M=>X.forEach(M.Es,(F=>E.persistence.referenceDelegate.addReference(A,M.targetId,F))).next((()=>X.forEach(M.ds,(F=>E.persistence.referenceDelegate.removeReference(A,M.targetId,F)))))))))}catch(A){if(!Ol(A))throw A;oe(tg,"Failed to update sequence numbers: "+A)}for(const A of _){const M=A.targetId;if(!A.fromCache){const F=E.Ms.get(M),ee=F.snapshotVersion,se=F.withLastLimboFreeSnapshotVersion(ee);E.Ms=E.Ms.insert(M,se)}}})(a.localStore,c))}async function pC(r,e){const i=Re(r);if(!i.currentUser.isEqual(e)){oe(ug,"User change. New user:",e.toKey());const a=await dE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new de(W.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await hu(i,a.Ls)}}function yC(r,e){const i=Re(r),a=i.Au.get(e);if(a&&a.hu)return Be().add(a.key);{let o=Be();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function ME(r){const e=Re(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=NE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fC.bind(null,e),e.Pu.H_=eC.bind(null,e.eventManager),e.Pu.yu=tC.bind(null,e.eventManager),e}function _C(r){const e=Re(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mC.bind(null,e),e}class vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return TR(this.persistence,new vR,e.initialUser,this.serializer)}Cu(e){return new fE(Jm.mi,this.serializer)}Du(e){return new NR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vh.provider={build:()=>new vh};class vC extends vh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){et(this.persistence.referenceDelegate instanceof yh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new sR(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new fE((a=>yh.mi(a,i)),this.serializer)}}class xm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>lv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=pC.bind(null,this.syncEngine),await WR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new JR})()}createDatastore(e){const i=Vh(e.databaseInfo.databaseId),a=(function(c){return new VR(c)})(e.databaseInfo);return(function(c,d,p,y){return new LR(c,d,p,y)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,p){return new zR(a,o,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>lv(this.syncEngine,i,0)),(function(){return tv.v()?new tv:new IR})())}createSyncEngine(e,i){return(function(o,c,d,p,y,_,E){const A=new rC(o,c,d,p,y,_);return E&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Re(i);oe(pa,"RemoteStore shutting down."),a.Ea.add(5),await cu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}xm.provider={build:()=>new xm};class VE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Os("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Or="FirestoreClient";class bC{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=_n.UNAUTHENTICATED,this.clientId=Bm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{oe(Or,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(oe(Or,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=lg(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function em(r,e){r.asyncQueue.verifyOperationInProgress(),oe(Or,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await dE(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function uv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await EC(r);oe(Or,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>iv(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>iv(e.remoteStore,o))),r._onlineComponents=e}async function EC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){oe(Or,"Using user provided OfflineComponentProvider");try{await em(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;vl("Error using user provided cache. Falling back to memory cache: "+i),await em(r,new vh)}}else oe(Or,"Using default OfflineComponentProvider"),await em(r,new vC(void 0));return r._offlineComponents}async function kE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(oe(Or,"Using user provided OnlineComponentProvider"),await uv(r,r._uninitializedComponentsProvider._online)):(oe(Or,"Using default OnlineComponentProvider"),await uv(r,new xm))),r._onlineComponents}function TC(r){return kE(r).then((e=>e.syncEngine))}async function wm(r){const e=await kE(r),i=e.eventManager;return i.onListen=aC.bind(null,e.syncEngine),i.onUnlisten=uC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=lC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=cC.bind(null,e.syncEngine),i}function SC(r,e,i={}){const a=new xr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const E=new VE({next:M=>{E.Nu(),d.enqueueAndForget((()=>AE(c,A)));const F=M.docs.has(p);!F&&M.fromCache?_.reject(new de(W.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&y&&y.source==="server"?_.reject(new de(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),A=new xE(Ch(p.path),E,{includeMetadataChanges:!0,qa:!0});return SE(c,A)})(await wm(r),r.asyncQueue,e,i,a))),a.promise}function jE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const cv=new Map;const UE="firestore.googleapis.com",hv=!0;class fv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=UE,this.ssl=hv}else this.host=e.host,this.ssl=e.ssl??hv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nR)throw new de(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Lw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new de(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new de(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new de(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hg{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Rw;switch(a.type){case"firstParty":return new Dw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new de(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=cv.get(i);a&&(oe("ComponentProvider","Removing Datastore"),cv.delete(i),a.terminate())})(this),Promise.resolve()}}function AC(r,e,i,a={}){r=Fi(r,hg);const o=Rl(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${i}`;o&&(Ov(`https://${p}`),Mv("Firestore",!0)),c.host!==UE&&c.host!==p&&vl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:o,emulatorOptions:a};if(!wr(y,d)&&(r._setSettings(y),a.mockUserToken)){let _,E;if(typeof a.mockUserToken=="string")_=a.mockUserToken,E=_n.MOCK_USER;else{_=W1(a.mockUserToken,r._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new de(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new _n(A)}r._authCredentials=new Cw(new Ab(_,E))}}class Uh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Uh(this.firestore,e,this._query)}}class Qt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qt(this.firestore,e,this._key)}toJSON(){return{type:Qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(lu(i,Qt._jsonSchema))return new Qt(e,a||null,new ye(Tt.fromString(i.referencePath)))}}Qt._jsonSchemaVersion="firestore/documentReference/1.0",Qt._jsonSchema={type:Ft("string",Qt._jsonSchemaVersion),referencePath:Ft("string")};class Jo extends Uh{constructor(e,i,a){super(e,i,Ch(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qt(this.firestore,null,new ye(e))}withConverter(e){return new Jo(this.firestore,e,this._path)}}function Ht(r,e,...i){if(r=An(r),arguments.length===1&&(e=Bm.newId()),Uw("doc","path",e),r instanceof hg){const a=Tt.fromString(e,...i);return w_(a),new Qt(r,null,new ye(a))}{if(!(r instanceof Qt||r instanceof Jo))throw new de(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Tt.fromString(e,...i));return w_(a),new Qt(r.firestore,r instanceof Jo?r.converter:null,new ye(a))}}const dv="AsyncQueue";class mv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new gE(this,"async_queue_retry"),this._c=()=>{const a=Jd();a&&oe(dv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Jd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Jd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new xr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ol(e))throw e;oe(dv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Os("INTERNAL UNHANDLED ERROR: ",gv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=ag.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&be(47125,{Pc:gv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function gv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function pv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class wl extends hg{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new mv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mv(e),this._firestoreClient=void 0,await e}}}function xC(r,e){const i=typeof r=="object"?r:Uv(),a=typeof r=="string"?r:ch,o=Dm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=X1("firestore");c&&AC(o,...c)}return o}function fg(r){if(r._terminated)throw new de(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||wC(r),r._firestoreClient}function wC(r){const e=r._freezeSettings(),i=(function(o,c,d,p){return new Xw(o,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,jE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new bC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class ci{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ci(fn.fromBase64String(e))}catch(i){throw new de(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ci(fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ci._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lu(e,ci._jsonSchema))return ci.fromBase64String(e.bytes)}}ci._jsonSchemaVersion="firestore/bytes/1.0",ci._jsonSchema={type:Ft("string",ci._jsonSchemaVersion),bytes:Ft("string")};class Lh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new de(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ph{constructor(e){this._methodName=e}}class Xi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new de(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new de(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xi._jsonSchemaVersion}}static fromJSON(e){if(lu(e,Xi._jsonSchema))return new Xi(e.latitude,e.longitude)}}Xi._jsonSchemaVersion="firestore/geoPoint/1.0",Xi._jsonSchema={type:Ft("string",Xi._jsonSchemaVersion),latitude:Ft("number"),longitude:Ft("number")};class $i{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:$i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lu(e,$i._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new $i(e.vectorValues);throw new de(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$i._jsonSchemaVersion="firestore/vectorValue/1.0",$i._jsonSchema={type:Ft("string",$i._jsonSchemaVersion),vectorValues:Ft("object")};const RC=/^__.*__$/;class CC{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Vr(e,this.data,this.fieldMask,i,this.fieldTransforms):new ou(e,this.data,i,this.fieldTransforms)}}class LE{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Vr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function PE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:r})}}class zh{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new zh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return bh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(PE(this.Ac)&&RC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class NC{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Vh(e)}Cc(e,i,a,o=!1){return new zh({Ac:e,methodName:i,Dc:a,path:hn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zE(r){const e=r._freezeSettings(),i=Vh(r._databaseId);return new NC(r._databaseId,!!e.ignoreUndefinedProperties,i)}function IC(r,e,i,a,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,e,i,o);mg("Data must be an object, but it was:",d,a);const p=BE(a,d);let y,_;if(c.merge)y=new $n(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const A of c.mergeFields){const M=Rm(e,A,i);if(!d.contains(M))throw new de(W.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);qE(E,M)||E.push(M)}y=new $n(E),_=d.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,_=d.fieldTransforms;return new CC(new kn(p),y,_)}class Bh extends Ph{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bh}}function DC(r,e,i){return new zh({Ac:3,Dc:e.settings.Dc,methodName:r._methodName,fc:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class dg extends Ph{constructor(e,i){super(e),this.vc=i}_toFieldTransform(e){const i=DC(this,e,!0),a=this.vc.map((c=>fu(c,i))),o=new Sl(a);return new T2(e.path,o)}isEqual(e){return e instanceof dg&&wr(this.vc,e.vc)}}function OC(r,e,i,a){const o=r.Cc(1,e,i);mg("Data must be an object, but it was:",o,a);const c=[],d=kn.empty();Mr(a,((y,_)=>{const E=gg(e,y,i);_=An(_);const A=o.yc(E);if(_ instanceof Bh)c.push(E);else{const M=fu(_,A);M!=null&&(c.push(E),d.set(E,M))}}));const p=new $n(c);return new LE(d,p,o.fieldTransforms)}function MC(r,e,i,a,o,c){const d=r.Cc(1,e,i),p=[Rm(e,a,i)],y=[o];if(c.length%2!=0)throw new de(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)p.push(Rm(e,c[M])),y.push(c[M+1]);const _=[],E=kn.empty();for(let M=p.length-1;M>=0;--M)if(!qE(_,p[M])){const F=p[M];let ee=y[M];ee=An(ee);const se=d.yc(F);if(ee instanceof Bh)_.push(F);else{const J=fu(ee,se);J!=null&&(_.push(F),E.set(F,J))}}const A=new $n(_);return new LE(E,A,d.fieldTransforms)}function fu(r,e){if(HE(r=An(r)))return mg("Unsupported field value:",e,r),BE(r,e);if(r instanceof Ph)return(function(a,o){if(!PE(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const p of a){let y=fu(p,o.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,e)}return(function(a,o){if((a=An(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return v2(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=yt.fromDate(a);return{timestampValue:ph(o.serializer,c)}}if(a instanceof yt){const c=new yt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ph(o.serializer,c)}}if(a instanceof Xi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ci)return{bytesValue:sE(o.serializer,a._byteString)};if(a instanceof Qt){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Wm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof $i)return(function(d,p){return{mapValue:{fields:{[Mb]:{stringValue:Vb},[hh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Ym(p.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Hm(a)}`)})(r,e)}function BE(r,e){const i={};return Rb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mr(r,((a,o)=>{const c=fu(o,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function HE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof yt||r instanceof Xi||r instanceof ci||r instanceof Qt||r instanceof Ph||r instanceof $i)}function mg(r,e,i){if(!HE(i)||!xb(i)){const a=Hm(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function Rm(r,e,i){if((e=An(e))instanceof Lh)return e._internalPath;if(typeof e=="string")return gg(r,e);throw bh("Field path arguments must be of type string or ",r,!1,void 0,i)}const VC=new RegExp("[~\\*/\\[\\]]");function gg(r,e,i){if(e.search(VC)>=0)throw bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Lh(...e.split("."))._internalPath}catch{throw bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function bh(r,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${o}`),y+=")"),new de(W.INVALID_ARGUMENT,p+r+y)}function qE(r,e){return r.some((i=>i.isEqual(e)))}class GE{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(FE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class kC extends GE{data(){return super.data()}}function FE(r,e){return typeof e=="string"?gg(r,e):e instanceof Lh?e._internalPath:e._delegate._internalPath}function jC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new de(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class UC{convertValue(e,i="none"){switch(Ir(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Nr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Mr(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[hh].arrayValue?.values?.map((a=>Ot(a.doubleValue)));return new $i(i)}convertGeoPoint(e){return new Xi(Ot(e.latitude),Ot(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=wh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Xo(e));default:return null}}convertTimestamp(e){const i=Cr(e);return new yt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Tt.fromString(e);et(cE(a),9688,{name:e});const o=new $o(a.get(1),a.get(3)),c=new ye(a.popFirst(5));return o.isEqual(i)||Os(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function LC(r,e,i){let a;return a=r?r.toFirestore(e):e,a}class Lo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fa extends GE{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Wc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(FE("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=fa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}fa._jsonSchemaVersion="firestore/documentSnapshot/1.0",fa._jsonSchema={type:Ft("string",fa._jsonSchemaVersion),bundleSource:Ft("string","DocumentSnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class Wc extends fa{data(e={}){return super.data(e)}}class yl{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Lo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Wc(this._firestore,this._userDataWriter,a.key,a,new Lo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new de(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const y=new Wc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Lo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Wc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Lo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,E=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),E=d.indexOf(p.doc.key)),{type:PC(p.type),doc:y,oldIndex:_,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=yl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Bm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function PC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:r})}}function zC(r){r=Fi(r,Qt);const e=Fi(r.firestore,wl);return SC(fg(e),r._key).then((i=>YE(e,r,i)))}yl._jsonSchemaVersion="firestore/querySnapshot/1.0",yl._jsonSchema={type:Ft("string",yl._jsonSchemaVersion),bundleSource:Ft("string","QuerySnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class QE extends UC{constructor(e){super(),this.firestore=e}convertBytes(e){return new ci(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Qt(this.firestore,null,i)}}function BC(r,e,i){r=Fi(r,Qt);const a=Fi(r.firestore,wl),o=LC(r.converter,e);return KE(a,[IC(zE(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,Ki.none())])}function un(r,e,i,...a){r=Fi(r,Qt);const o=Fi(r.firestore,wl),c=zE(o);let d;return d=typeof(e=An(e))=="string"||e instanceof Lh?MC(c,"updateDoc",r._key,e,i,a):OC(c,"updateDoc",r._key,e),KE(o,[d.toMutation(r._key,Ki.exists(!0))])}function yv(r,...e){r=An(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||pv(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(pv(e[a])){const y=e[a];e[a]=y.next?.bind(y),e[a+1]=y.error?.bind(y),e[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof Qt)d=Fi(r.firestore,wl),p=Ch(r._key.path),c={next:y=>{e[a]&&e[a](YE(d,r,y))},error:e[a+1],complete:e[a+2]};else{const y=Fi(r,Uh);d=Fi(y.firestore,wl),p=y._query;const _=new QE(d);c={next:E=>{e[a]&&e[a](new yl(d,_,y,E))},error:e[a+1],complete:e[a+2]},jC(r._query)}return(function(_,E,A,M){const F=new VE(M),ee=new xE(E,F,A);return _.asyncQueue.enqueueAndForget((async()=>SE(await wm(_),ee))),()=>{F.Nu(),_.asyncQueue.enqueueAndForget((async()=>AE(await wm(_),ee)))}})(fg(d),p,o,c)}function KE(r,e){return(function(a,o){const c=new xr;return a.asyncQueue.enqueueAndForget((async()=>hC(await TC(a),o,c))),c.promise})(fg(r),e)}function YE(r,e,i){const a=i.docs.get(e._key),o=new QE(r);return new fa(r,o,e._key,a,new Lo(i.hasPendingWrites,i.fromCache),e.converter)}function Mn(...r){return new dg("arrayUnion",r)}(function(e,i=!0){(function(o){Il=o})(Cl),_l(new da("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new wl(new Nw(a.getProvider("auth-internal")),new Ow(d,a.getProvider("app-check-internal")),(function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new de(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $o(_.options.projectId,E)})(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Sr(T_,S_,e),Sr(T_,S_,"esm2020")})();const HC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),_v=r=>{const e=qC(r);return e.charAt(0).toUpperCase()+e.slice(1)},XE=(...r)=>r.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),GC=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var FC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const QC=Fe.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...p},y)=>Fe.createElement("svg",{ref:y,...FC,width:e,height:e,stroke:r,strokeWidth:a?Number(i)*24/Number(e):i,className:XE("lucide",o),...!c&&!GC(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,E])=>Fe.createElement(_,E)),...Array.isArray(c)?c:[c]]));const bt=(r,e)=>{const i=Fe.forwardRef(({className:a,...o},c)=>Fe.createElement(QC,{ref:c,iconNode:e,className:XE(`lucide-${HC(_v(r))}`,`lucide-${r}`,a),...o}));return i.displayName=_v(r),i};const KC=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}]],ca=bt("badge",KC);const YC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],vv=bt("book-open",YC);const XC=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],$E=bt("briefcase",XC);const $C=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],WC=bt("chevron-down",$C);const ZC=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],bv=bt("chevron-up",ZC);const JC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],eN=bt("circle-check-big",JC);const tN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],nN=bt("circle-x",tN);const iN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],sN=bt("crosshair",iN);const rN=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],aN=bt("eye-off",rN);const lN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Zc=bt("eye",lN);const oN=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],uN=bt("gavel",oN);const cN=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],hN=bt("hammer",cN);const fN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Ev=bt("history",fN);const dN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],mN=bt("info",dN);const gN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Tv=bt("log-out",gN);const pN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Sv=bt("rotate-ccw",pN);const yN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Fo=bt("search",yN);const _N=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],vN=bt("settings",_N);const bN=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],Jc=bt("skull",bN);const EN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],eh=bt("target",EN);const TN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],SN=bt("trash-2",TN);const AN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Av=bt("triangle-alert",AN);const xN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],xv=bt("user",xN);const wN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],WE=bt("x",wN),RN={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:c87b26c0536b13eb6aa637"},ZE=jv(RN),zc=xw(ZE),qt=xC(ZE),Xt=typeof __app_id<"u"?__app_id:"investigation-game",CN="2",NN=["Kitchen Knife","Dagger","Crossed Swords","Fire Axe","Pickaxe","Hook","Scissors","Champagne Bottle","Katana","Blade","Saw","Hammer","Cricket Bat","Field Hockey Stick","Wrench","Crowbar","Brick","Moai Statue","Candlestick","Frying Pan","Stone","Pistol","Silenced Gun","Boxing Glove","Shotgun","Bow and Arrow","Rope","Wire","Necktie","Teddy Bear","Plastic Bag","Chain","Scarf","Arsenic","Cyanide Pill","Venomous Snake","Syringe","Sleeping Pills","Chainsaw","Explosives","Dynamite","Electrocution","Drowning","Push from Heights","Vehicle","Trophy","Screwdriver","Clamp","Fist","Electric Plug","Fire","Oil Drum","Lighter"],IN=["Hand","Shoe","Blood Stain","DNA Sample","T-Shirt","Shirt Button","Sewing Thread","Wedding Ring","Wristwatch","Gem Stone","Glasses","Purse","Name Badge","Credit Card","Receipt","Ticket","Memo","Notebook","Framed Picture","World Map","Floppy Disk","Smartphone","Laptop","Key","Coin","Cigarette","Flashlight","Funeral Urn","Ice Cube","Fork and Knife","Wilted Flower","Leaf","Droplet","Oil Drum","Artist Palette","Fountain Pen","Candy","Wine Glass","Hot Beverage","Kiss Mark","Lotion Bottle","Salt Shaker","Collision","Hammer","Glove","Ninja Mask","Joker Card","Game Die","Mirror"],DN={"Kitchen Knife":"",Dagger:"","Crossed Swords":"","Fire Axe":"",Pickaxe:"",Hook:"",Scissors:"","Champagne Bottle":"",Katana:"",Blade:"",Saw:"",Hammer:"","Cricket Bat":"","Field Hockey Stick":"",Wrench:"",Crowbar:"",Brick:"","Moai Statue":"",Candlestick:"","Frying Pan":"",Stone:"",Pistol:"","Silenced Gun":"","Boxing Glove":"",Shotgun:"","Bow and Arrow":"",Rope:"",Wire:"",Necktie:"","Teddy Bear":"","Plastic Bag":"",Chain:"",Scarf:"",Arsenic:"","Cyanide Pill":"","Venomous Snake":"",Syringe:"","Sleeping Pills":"",Chainsaw:"",Explosives:"",Dynamite:"",Electrocution:"",Drowning:"","Push from Heights":"",Vehicle:"",Trophy:"",Screwdriver:"",Clamp:"",Fist:"","Electric Plug":"",Fire:"","Oil Drum":"",Lighter:"",Hand:"",Shoe:"","Blood Stain":"","DNA Sample":"","T-Shirt":"","Shirt Button":"","Sewing Thread":"","Wedding Ring":"",Wristwatch:"","Gem Stone":"",Glasses:"",Purse:"","Name Badge":"","Credit Card":"",Receipt:"",Ticket:"",Memo:"",Notebook:"","Framed Picture":"","World Map":"","Floppy Disk":"",Smartphone:"",Laptop:"",Key:"",Coin:"",Cigarette:"",Flashlight:"","Funeral Urn":"","Ice Cube":"","Fork and Knife":"","Wilted Flower":"",Leaf:"",Droplet:"","Artist Palette":"","Fountain Pen":"",Candy:"","Wine Glass":"","Hot Beverage":"","Kiss Mark":"","Lotion Bottle":"","Salt Shaker":"",Collision:"",Glove:"","Ninja Mask":"","Joker Card":"","Game Die":"",Mirror:""},Bc={FIXED:{title:"Cause of Death",type:"purple",options:["Suffocation","Severe Injury","Loss of Blood","Chemical / Sickness","Accident","Projectile / Blast"]},MAIN:[{title:"Location of Crime",type:"green",options:["Living Room","Bedroom","Kitchen / Dining","Bathroom","Balcony","Garden"]},{title:"Location of Crime",type:"green",options:["Office","Hotel","Restaurant","Pub/Bar","School","Hospital"]},{title:"Location of Crime",type:"green",options:["Vacation home","Park","Supermarket","Forest","University","Bookstore"]},{title:"Location of Crime",type:"green",options:["Playground","Classroom","Dormitory","Cafeteria","Lift","Toilet"]}],SUBORDINATE:[{title:"Duration of Crime",options:["Instantaneous","Few Seconds","Few Minutes","Under an Hour","Several Hours","Days"]},{title:"Trace at Scene",options:["Footprints","Fingerprints","Blood/Fluids","Smell/Scent","Sound/Recording","Writing/Marks"]},{title:"Weapon Type",options:["Sharp","Blunt","Toxin/Chemical","Projectile","Everyday Object","Machinery/Tool"]},{title:"Weapon Property",options:["Heavy","Lightweight","Long","Short/Small","Noisy","Silent"]},{title:"Weapon Origin",options:["Household","Industrial/Work","Medical/Chemical","Outdoor/Nature","Military/Tactical","Sports/Recreation"]},{title:"Evidence Material",options:["Fabric/Cloth","Metal","Paper/Wood","Plastic","Biological","Stone/Glass"]},{title:"Evidence Condition",options:["Broken/Damaged","New/Shiny","Old/Worn","Wet/Dirty","Burnt/Singed","Incomplete"]},{title:"Social Relation",options:["Relatives","Friends","Colleagues","Lovers","Strangers","Enemies"]},{title:"Sudden Incident",options:["Loud Shout","Heavy Thud","Bright Flash","Dead Silence","Scream","Breaking Glass"]},{title:"Motive",options:["Hatred/Revenge","Greed/Money","Love/Passion","Jealousy","Fear/Defense","Madness"]},{title:"Killer's Trait",options:["Arrogant","Cautious","Violent","Calm/Cold","Nervous","Calculating"]},{title:"Impression",options:["Natural","Artistic","Cruel","Clumsy","Professional","Bizarre"]},{title:"Noticed By Others",options:["Sound","Smell","Silhouette","Someone Running","Object Thrown","Nothing"]},{title:"Evidence Size",options:["Tiny","Small","Medium","Large","Heavy","Microscopic"]},{title:"Evidence Color",options:["Red/Purple","Blue/Green","Yellow/Orange","Black/Grey","White/Clear","Metallic"]},{title:"State of Scene",options:["Chaos / Destruction","Signs of Struggle","Perfectly Tidy","Items Missing","Staged / Artificially Arranged","Covered (Ash/Water/Dust)"]},{title:"Injury/Wounds",options:["Head / Neck","Chest / Torso","Hands / Arms","Legs / Feet","Internal Organs","No Visible Wounds"]},{title:"Assassin Hint",options:["Man","Woman","Tall","Short","Strong","Weak"]},{title:"Shape of Evidence",options:["Round/Spherical","Square/Rectangular","Long/Thin","Flat/Sheet","Irregular/Amorphous","Sharp/Pointed"]},{title:"Weapon Operation",options:["Muscle Power","Mechanism/Trigger","Chemical/Reaction","Electrical","Passive/Trap","Animal/Living"]},{title:"Evidence Domain",options:["Work/Office","Home/Domestic","Travel/Outdoor","Leisure/Hobby","Medical/Hygiene","Vice/Illegal"]},{title:"Concealability (Weapon)",options:["Pocket Size","Bag/Backpack Size","Two-Handed/Large","Not Concealable","Invisible/Internal","Disguised as Object"]},{title:"Relation to Victim (Evidence)",options:["Owned by Victim","Stolen from Victim","Gifted to Victim","Belonged to Killer","Found at Scene","Unknown Origin"]},{title:"Texture of Evidence",options:["Hard/Rigid","Soft/Flexible","Metallic/Cold","Wooden/Rough","Paper-like","Sticky/Liquid"]},{title:"Residue Left by Weapon",options:["Blood","Powder/Dust","Water/Fluid","Ash/Burn Mark","Fragments/Shards","None/Clean"]},{title:"Visibility of Injury",options:["None Visible","Small Puncture","Large Wound","Bruising/Swelling","Burns/Rash","Dismemberment/Breakage"]}]},al=r=>{let e=r.length,i;const a=[...r];for(;e!==0;)i=Math.floor(Math.random()*e),e--,[a[e],a[i]]=[a[i],a[e]];return a},yn=r=>{const e=DN[r]||"";return b.jsx("span",{className:"text-2xl leading-none filter drop-shadow-sm grayscale-[0.2] mb-1 block",children:e})},ll=()=>b.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[b.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-gray-800 via-gray-900 to-black opacity-80"}),b.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:'url("https://www.transparenttextures.com/patterns/black-scales.png")'}})]}),As=()=>b.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 py-2 w-full bg-slate-950/80 backdrop-blur-sm border-t border-slate-900/50 z-50",children:[b.jsx(Fo,{size:12,className:"text-green-500"}),b.jsx("span",{className:"text-[10px] font-black tracking-widest text-green-500 uppercase",children:"INVESTIGATION"})]}),tm=({onClose:r})=>b.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-950/95 flex justify-center overflow-y-auto p-4 animate-in slide-in-from-bottom-10 fade-in duration-300",children:b.jsxs("div",{className:"w-full max-w-4xl relative",children:[b.jsx("button",{onClick:r,className:"fixed top-4 right-4 md:absolute md:-right-12 md:top-0 bg-slate-800 p-2 rounded-full text-white hover:bg-slate-700 shadow-lg z-50",children:b.jsx(WE,{size:24})}),b.jsxs("div",{className:"space-y-8 pb-20 mt-12 md:mt-0",children:[b.jsxs("div",{className:"text-center space-y-2",children:[b.jsx("h2",{className:"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-green-600",children:"GAME GUIDE"}),b.jsx("p",{className:"text-slate-400",children:"Deduction, Deception, and Discovery"})]}),b.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl p-6 shadow-xl",children:[b.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[b.jsx(eh,{className:"text-red-500"})," The Objective"]}),b.jsxs("p",{className:"text-slate-300 leading-relaxed",children:["A murder has been committed. The"," ",b.jsx("span",{className:"text-blue-400 font-bold",children:"Detective"})," knows the solution but can only communicate through vague clues. The"," ",b.jsx("span",{className:"text-green-400 font-bold",children:"Investigators"})," must interpret these clues to find the true"," ",b.jsx("strong",{className:"text-white",children:"Murder Weapon"})," and"," ",b.jsx("strong",{className:"text-white",children:"Evidence"})," before time runs out. Meanwhile, the"," ",b.jsx("span",{className:"text-red-400 font-bold",children:"Murderer"})," hides among them, trying to mislead the investigation."]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsxs("div",{className:"bg-slate-800/50 border border-blue-500/30 rounded-xl p-5",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx("div",{className:"bg-blue-600 p-1.5 rounded text-white",children:b.jsx(Fo,{size:16})}),b.jsx("span",{className:"font-bold text-blue-400",children:"Detective"})]}),b.jsx("p",{className:"text-sm text-slate-300",children:"Host & Guide. Knows the solution. Cannot speak about the case. Selects tile cards to give hints."})]}),b.jsxs("div",{className:"bg-slate-800/50 border border-red-500/30 rounded-xl p-5",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx("div",{className:"bg-red-600 p-1.5 rounded text-white",children:b.jsx(Jc,{size:16})}),b.jsx("span",{className:"font-bold text-red-400",children:"Murderer"})]}),b.jsx("p",{className:"text-sm text-slate-300",children:"The Culprit. Chooses the Means & Clue at the start. Hides identity and tries to sabotage the team."})]}),b.jsxs("div",{className:"bg-slate-800/50 border border-emerald-500/30 rounded-xl p-5",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx("div",{className:"bg-emerald-600 p-1.5 rounded text-white",children:b.jsx(ca,{size:16})}),b.jsx("span",{className:"font-bold text-emerald-400",children:"Investigator"})]}),b.jsx("p",{className:"text-sm text-slate-300",children:"The Team. Discusses clues and submits accusations to solve the crime."})]}),b.jsxs("div",{className:"bg-slate-800/50 border border-orange-500/30 rounded-xl p-5",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx("div",{className:"bg-orange-600 p-1.5 rounded text-white",children:b.jsx($E,{size:16})}),b.jsx("span",{className:"font-bold text-orange-400",children:"Accomplice"})]}),b.jsx("p",{className:"text-sm text-slate-300",children:"(Optional) Knows who the Murderer is. Helps them win without getting caught."})]}),b.jsxs("div",{className:"bg-slate-800/50 border border-indigo-500/30 rounded-xl p-5 md:col-span-2",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx("div",{className:"bg-indigo-600 p-1.5 rounded text-white",children:b.jsx(Zc,{size:16})}),b.jsx("span",{className:"font-bold text-indigo-400",children:"Witness"})]}),b.jsx("p",{className:"text-sm text-slate-300",children:"(Optional) Knows the Murderer but not the solution. Must help Investigators without revealing themselves. If the Murderer finds the Witness at the end, the Murderer wins!"})]})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsx("h3",{className:"text-xl font-bold text-white pl-2 border-l-4 border-green-500",children:"How It Works"}),b.jsxs("div",{className:"flex gap-4",children:[b.jsx("div",{className:"flex-none w-8 h-8 rounded-full bg-slate-800 border border-slate-700 flex items-center justify-center font-bold text-slate-500",children:"1"}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-white",children:"The Crime"}),b.jsx("p",{className:"text-sm text-slate-400",children:"Everyone closes their eyes. The Murderer wakes up and selects 1 Means card and 1 Clue card from their hand. This becomes the solution."})]})]}),b.jsxs("div",{className:"flex gap-4",children:[b.jsx("div",{className:"flex-none w-8 h-8 rounded-full bg-slate-800 border border-slate-700 flex items-center justify-center font-bold text-slate-500",children:"2"}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-white",children:"The Investigation"}),b.jsxs("p",{className:"text-sm text-slate-400",children:[`The Detective analyzes the solution. They receive random "Scene Tiles" (e.g., Location, Weather, Victim's Clothes). The Detective selects the option on each tile that`," ",b.jsx("em",{children:"best relates"})," to the solution."]})]})]}),b.jsxs("div",{className:"flex gap-4",children:[b.jsx("div",{className:"flex-none w-8 h-8 rounded-full bg-slate-800 border border-slate-700 flex items-center justify-center font-bold text-slate-500",children:"3"}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-white",children:"Discussion & Rounds"}),b.jsxs("p",{className:"text-sm text-slate-400",children:[`Investigators discuss the tiles. "Why did the Detective say it was 'Noisy'? Maybe the weapon is a Gun?" `,b.jsx("br",{}),"The game lasts ",b.jsx("strong",{children:"3 Rounds"}),". In each new round, the Detective replaces one old tile with a new one to refine the clues."]})]})]}),b.jsxs("div",{className:"flex gap-4",children:[b.jsx("div",{className:"flex-none w-8 h-8 rounded-full bg-slate-800 border border-slate-700 flex items-center justify-center font-bold text-slate-500",children:"4"}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-white",children:"Accusation & Winning"}),b.jsxs("ul",{className:"text-sm text-slate-400 list-disc ml-4 mt-1 space-y-1",children:[b.jsxs("li",{children:["Investigators can spend their"," ",b.jsx("strong",{className:"text-yellow-500",children:"Badge"})," to make an accusation at any time."]}),b.jsxs("li",{children:["If ",b.jsx("strong",{children:"CORRECT"}),": Investigators Win! (Unless Murderer finds Witness)."]}),b.jsxs("li",{children:["If ",b.jsx("strong",{children:"WRONG"}),": The player loses their badge and can no longer solve."]}),b.jsxs("li",{children:["If all badges are used or rounds end without a solution:"," ",b.jsx("strong",{children:"Murderer Wins!"})]})]})]})]})]}),b.jsx("div",{className:"text-center pt-8",children:b.jsx("button",{onClick:r,className:"bg-white text-slate-900 px-8 py-3 rounded-full font-bold hover:scale-105 transition-transform",children:"Got it, Let's Play!"})})]})]})});function ON(){const[r,e]=Fe.useState(null),[i,a]=Fe.useState("menu"),[o,c]=Fe.useState(""),[d,p]=Fe.useState(""),[y,_]=Fe.useState(null),[E,A]=Fe.useState(null),[M,F]=Fe.useState(!1),[ee,se]=Fe.useState(""),[J,pe]=Fe.useState(!1),[Ce,Ee]=Fe.useState(null),[tt,dt]=Fe.useState(null),[fe,N]=Fe.useState(null),[x,R]=Fe.useState(!1),[V,D]=Fe.useState(!1),[j,w]=Fe.useState(!1),[Qe,Et]=Fe.useState(!1),[q,te]=Fe.useState(!1),[me,He]=Fe.useState(!0),[Me,O]=Fe.useState(null),[K,re]=Fe.useState(!0),[le,ve]=Fe.useState(!0),[Ae,Ve]=Fe.useState(!1);if(Fe.useEffect(()=>{(async()=>{if(typeof __initial_auth_token<"u"&&__initial_auth_token)try{await hx(zc,__initial_auth_token)}catch(ae){console.error("Custom token sign-in failed, falling back to anon",ae),await h_(zc)}else await h_(zc)})();const ie=mx(zc,ae=>e(ae));return()=>ie()},[]),Fe.useEffect(()=>{E?.phase==="WITNESS_HUNT"?(re(!0),ve(!0)):re(!1)},[E?.phase]),Fe.useEffect(()=>{E?.accompliceSuggestion&&ve(!0)},[E?.accompliceSuggestion]),Fe.useEffect(()=>{if(!y||!r)return;const Z=Ht(qt,"artifacts",Xt,"public","data","rooms",y),ie=yv(Z,ae=>{if(ae.exists()){const ce=ae.data();if(!ce.players.find(ht=>ht.id===r.uid)){_(null),a("menu"),A(null),se("You were removed from the room.");return}A({id:ae.id,...ce}),ce.status==="playing"||ce.status==="finished"?a("game"):a("lobby"),ce.status==="lobby"&&(R(!1),N(null),Et(!1)),ce.status==="playing"&&ce.phase==="INVESTIGATION"&&ce.players.filter(Ze=>Ze.role!=="DETECTIVE"&&Ze.badge===!0).length===0&&!ce.activeAccusation&&ce.hostId===r.uid&&Rt()}else _(null),a("menu"),se("Room closed.")},ae=>console.error(ae));return()=>ie()},[y,r]),Fe.useEffect(()=>{const Z=yv(Ht(qt,"game_hub_settings","config"),ie=>{ie.exists()&&(ie.data()[CN]?.maintenance?pe(!0):pe(!1))});return()=>Z()},[]),J)return b.jsx("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:b.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[b.jsx(hN,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),b.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),b.jsx("p",{className:"text-gray-400",children:"Crime scene sealed. Forensics team is sweeping the area."})]})});const Rt=async Z=>{let ie=[{text:"All badges used. Murderer Escapes!",type:"danger"}];await un(Ht(qt,"artifacts",Xt,"public","data","rooms",y),{phase:"GAME_OVER_BAD",logs:Mn(...ie)})},at=(Z,ie)=>{O({title:Z,message:ie,type:"alert"})},Ji=(Z,ie,ae)=>{O({title:Z,message:ie,type:"confirm",onConfirm:ae})},es=()=>O(null),ks=async()=>{if(!r||!o.trim())return se("Enter nickname.");F(!0);const Z=Math.random().toString(36).substring(2,7).toUpperCase(),ie={roomId:Z,hostId:r.uid,players:[{id:r.uid,name:o,role:null,means:[],clues:[],badge:!0,ready:!0}],status:"lobby",settings:{useAccomplice:!1,useWitness:!1},logs:[],accusations:[],nextRoundRequests:[],readyPlayers:[],activeAccusation:null};try{await BC(Ht(qt,"artifacts",Xt,"public","data","rooms",Z),ie),_(Z),p(Z)}catch{se("Failed to create room.")}F(!1)},js=async()=>{if(!r||!d||!o.trim())return se("Enter details.");F(!0);try{const Z=Ht(qt,"artifacts",Xt,"public","data","rooms",d.toUpperCase()),ie=await zC(Z);if(!ie.exists())throw new Error("Room not found.");const ae=ie.data();if(ae.players.length>=10)throw new Error("Room full.");if(ae.status!=="lobby")throw new Error("Game started.");ae.players.find(Ne=>Ne.id===r.uid)||await un(Z,{players:Mn({id:r.uid,name:o,role:null,means:[],clues:[],badge:!0,ready:!0})}),_(d.toUpperCase())}catch(Z){se(Z.message)}F(!1)},jn=async Z=>{if(!E||E.hostId!==r.uid)return;const ie=E.settings?.[Z]||!1;await un(Ht(qt,"artifacts",Xt,"public","data","rooms",y),{[`settings.${Z}`]:!ie})},ts=async()=>{if(!y||!r||!E)return;const Z=E.players.filter(ie=>ie.id!==r.uid);try{const ie=Ht(qt,"artifacts",Xt,"public","data","rooms",y);Z.length===0||await un(ie,{players:Z,hostId:E.hostId===r.uid?Z[0].id:E.hostId})}catch{}_(null),a("menu"),A(null),te(!1)},ns=async Z=>{if(!E||E.hostId!==r.uid)return;const ie=E.players.filter(ae=>ae.id!==Z);await un(Ht(qt,"artifacts",Xt,"public","data","rooms",y),{players:ie})},is=async()=>{if(!E||E.hostId!==r.uid)return;const Z=E.players.map(ie=>({...ie,role:null,means:[],clues:[],badge:!0,ready:!0}));await un(Ht(qt,"artifacts",Xt,"public","data","rooms",y),{status:"lobby",phase:null,solution:null,activeTiles:null,logs:[],players:Z,round:1,accusations:[],successfulSolvers:[],accompliceSuggestion:null,murdererGuess:null,nextRoundRequests:[],readyPlayers:[],activeAccusation:null})},kr=async()=>{if(E.players.length<4)return se("Need 4+ players.");const Z=E.players.length;let ie=["DETECTIVE","MURDERER"];for(Z>=6&&E.settings?.useAccomplice&&ie.push("ACCOMPLICE"),Z>=5&&E.settings?.useWitness&&ie.push("WITNESS");ie.length<Z;)ie.push("INVESTIGATOR");ie=al(ie);const ae=al([...NN]),ce=al([...IN]),Ne=E.players.map((Mt,mt)=>{if(ie[mt]==="DETECTIVE")return{...Mt,role:ie[mt],means:[],clues:[],badge:!1};const Vt=[],Un=[];for(let Je=0;Je<4;Je++)Vt.push(ae.pop());for(let Je=0;Je<4;Je++)Un.push(ce.pop());return{...Mt,role:ie[mt],means:Vt,clues:Un,badge:!0}}),ht=al([...Bc.MAIN])[0],Ze=al([...Bc.SUBORDINATE]).slice(0,4),xn=[{...Bc.FIXED,id:"cause",selected:null},{...ht,id:"main",selected:null},...Ze.map((Mt,mt)=>({...Mt,id:`scene_${mt}`,selected:null}))];await un(Ht(qt,"artifacts",Xt,"public","data","rooms",y),{status:"playing",phase:"PRE_GAME_MURDER",players:Ne,activeTiles:xn,solution:null,round:1,logs:Mn({text:"Game Started. Planning Phase...",type:"neutral"}),accusations:[],nextRoundRequests:[],readyPlayers:[],activeAccusation:null})},At=async()=>{if(E.readyPlayers?.includes(r.uid))return;const Z=[...E.readyPlayers||[],r.uid],ie=E.players.length===Z.length;let ae={readyPlayers:Z};ie&&(ae.phase="MURDERER_SELECT",ae.logs=Mn({text:"Everyone Ready. Murderer is choosing...",type:"danger"})),await un(Ht(qt,"artifacts",Xt,"public","data","rooms",y),ae)},Ct=async(Z,ie)=>{await un(Ht(qt,"artifacts",Xt,"public","data","rooms",y),{solution:{means:Z,clue:ie,murdererId:r.uid},phase:"DETECTIVE_TURN",logs:Mn({text:"Crime Committed. Detective is analyzing evidence...",type:"danger"})})},Si=async(Z,ie)=>{const ae=[...E.activeTiles];ae[Z].selected=ie,await un(Ht(qt,"artifacts",Xt,"public","data","rooms",y),{activeTiles:ae})},Vl=async()=>{if(!E.activeTiles.every(ie=>ie.selected!==null))return at("Incomplete","Select an option for every tile!");await un(Ht(qt,"artifacts",Xt,"public","data","rooms",y),{phase:"INVESTIGATION",logs:Mn({text:`Round ${E.round} Clues Revealed! Investigators, submit your files when ready.`,type:"info"}),nextRoundRequests:[]})},va=async()=>{E.nextRoundRequests?.includes(r.uid)||await un(Ht(qt,"artifacts",Xt,"public","data","rooms",y),{nextRoundRequests:Mn(r.uid)})},nn=async Z=>{if(Z<2)return at("Invalid Action","You cannot replace the Cause of Death or Main Location tile.");if(E.round>=3)return;const ie=E.activeTiles.map(ht=>ht.title),ae=Bc.SUBORDINATE.filter(ht=>!ie.includes(ht.title)),ce=al(ae)[0],Ne=[...E.activeTiles];Ne[Z]={...ce,id:`scene_r${E.round+1}_${Z}`,selected:null},await un(Ht(qt,"artifacts",Xt,"public","data","rooms",y),{phase:"DETECTIVE_TURN",round:E.round+1,activeTiles:Ne,logs:Mn({text:`Round ${E.round+1} Begins. Detective is updating a clue...`,type:"neutral"})}),Et(!1)},ss=async()=>{if(!fe)return;const{targetId:Z,means:ie,clue:ae}=fe,ce=E.players.findIndex(mt=>mt.id===r.uid),Ne=[...E.players];Ne[ce].badge=!1;const ht=E.solution,Ze=Z===ht.murdererId&&ie===ht.means&&ae===ht.clue,xn={solverId:r.uid,solverName:Ne[ce].name,targetId:Z,means:ie,clue:ae,isCorrect:Ze,continueVotes:[]},Mt=E.nextRoundRequests||[];Mt.includes(r.uid)||Mt.push(r.uid),await un(Ht(qt,"artifacts",Xt,"public","data","rooms",y),{players:Ne,accusations:Mn(xn),activeAccusation:xn,nextRoundRequests:Mt,logs:Mn({text:`${Ne[ce].name} submitted a case file.`,type:"neutral"})}),R(!1),N(null)},jr=async()=>{if(!E.activeAccusation)return;const Z=E.activeAccusation.continueVotes||[];if(Z.includes(r.uid))return;const ie=[...Z,r.uid],ae=E.players.length===ie.length;let ce={"activeAccusation.continueVotes":ie};ae&&(ce.activeAccusation=null,E.activeAccusation.isCorrect?E.settings?.useWitness?(ce.phase="WITNESS_HUNT",ce.successfulSolvers=[E.activeAccusation.solverId],ce.logs=Mn({text:"CORRECT! But Murderer can steal win by finding Witness.",type:"warning"})):(ce.phase="GAME_OVER_GOOD",ce.successfulSolvers=[E.activeAccusation.solverId],ce.logs=Mn({text:"CORRECT! Investigators Win!",type:"success"})):ce.logs=Mn({text:`${E.activeAccusation.solverName} was WRONG. Game Continues.`,type:"danger"})),await un(Ht(qt,"artifacts",Xt,"public","data","rooms",y),ce)},Ur=async Z=>{await un(Ht(qt,"artifacts",Xt,"public","data","rooms",y),{accompliceSuggestion:Z})},Ai=async Z=>{const ie=E.players.find(Ne=>Ne.id===Z);let ae="GAME_OVER_GOOD",ce=[];ie.role==="WITNESS"?(ae="GAME_OVER_BAD",ce.push({text:`Murderer identified the Witness (${ie.name})! Murderer Wins!`,type:"danger"})):(ae="GAME_OVER_GOOD",ce.push({text:"Murderer guessed wrong! Investigators Win!",type:"success"})),await un(Ht(qt,"artifacts",Xt,"public","data","rooms",y),{phase:ae,logs:Mn(...ce)})},Lr=({role:Z})=>{if(!Z)return null;let ie="bg-gray-600",ae=xv;Z==="DETECTIVE"&&(ie="bg-blue-600",ae=Fo),Z==="MURDERER"&&(ie="bg-red-600",ae=Jc),Z==="INVESTIGATOR"&&(ie="bg-emerald-600",ae=ca),Z==="ACCOMPLICE"&&(ie="bg-orange-600",ae=$E),Z==="WITNESS"&&(ie="bg-indigo-600",ae=Zc);const ce=Z.charAt(0)+Z.slice(1).toLowerCase();return b.jsxs("div",{className:`${ie} text-white px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1 shadow-sm`,children:[M1.createElement(ae,{size:12})," ",b.jsx("span",{className:"whitespace-nowrap",children:ce})]})};if(!r)return b.jsx("div",{className:"h-screen bg-slate-900 text-white flex items-center justify-center",children:"Loading..."});if(i==="menu")return b.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[b.jsx(ll,{}),Ae&&b.jsx(tm,{onClose:()=>Ve(!1)}),b.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[b.jsx(Fo,{size:64,className:"text-green-500 mx-auto mb-4 animate-bounce drop-shadow-[0_0_15px_rgba(34,197,94,0.5)]"}),b.jsx("h1",{className:"text-3xl sm:text-5xl md:text-6xl font-black text-transparent bg-clip-text bg-gradient-to-b from-green-300 to-green-600 font-serif tracking-widest drop-shadow-md break-words max-w-full",children:"INVESTIGATION"}),b.jsx("p",{className:"text-gray-400 tracking-[0.3em] uppercase mt-2",children:"Murder Mystery"})]}),b.jsxs("div",{className:"bg-gray-900/80 backdrop-blur border border-gray-700 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10 animate-in slide-in-from-bottom-10 duration-700 delay-100",children:[ee&&b.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-sm border border-red-800",children:ee}),b.jsx("input",{className:"w-full bg-black/50 border border-gray-600 p-3 rounded mb-4 text-white placeholder-gray-500 focus:border-green-500 outline-none transition-colors",placeholder:"Your Codename",value:o,onChange:Z=>c(Z.target.value)}),b.jsxs("button",{onClick:ks,disabled:M,className:"w-full bg-gradient-to-r from-green-700 to-green-600 hover:from-green-600 hover:to-green-500 p-4 rounded font-bold mb-4 flex items-center justify-center gap-2 border border-green-500/30 shadow-[0_0_15px_rgba(34,197,94,0.2)] transition-all",children:[b.jsx(ca,{size:20})," Create Case File"]}),b.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[b.jsx("input",{className:"w-full sm:flex-1 bg-black/50 border border-gray-600 p-3 rounded text-white placeholder-gray-500 uppercase font-mono tracking-wider focus:border-green-500 outline-none",placeholder:"ROOM CODE",value:d,onChange:Z=>p(Z.target.value.toUpperCase())}),b.jsx("button",{onClick:js,disabled:M,className:"w-full sm:w-auto bg-gray-800 hover:bg-gray-700 border border-gray-600 px-6 py-3 rounded font-bold transition-colors",children:"Join"})]}),b.jsxs("button",{onClick:()=>Ve(!0),className:"w-full text-sm text-gray-400 hover:text-white flex items-center justify-center gap-2 py-2",children:[b.jsx(vv,{size:16})," How to Play"]})]}),b.jsx("div",{className:"fixed bottom-0 left-0 w-full",children:b.jsx(As,{})})]});if(i==="lobby"&&E){const Z=E.hostId===r.uid,ie=E.players.length;return b.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-6 relative pb-16",children:[b.jsx(ll,{}),Ae&&b.jsx(tm,{onClose:()=>Ve(!1)}),b.jsxs("div",{className:"z-10 w-full max-w-lg bg-gray-800/90 p-8 rounded-2xl border border-gray-700 shadow-2xl mb-4",children:[b.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-gray-700 pb-4",children:[b.jsxs("h2",{className:"text-2xl font-serif text-green-500",children:["Case File: ",E.roomId]}),b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[b.jsx(xv,{size:16})," ",ie,"/10"]}),b.jsx("button",{onClick:()=>te(!0),className:"p-2 bg-red-900/50 hover:bg-red-900 rounded text-red-300",title:"Leave Room",children:b.jsx(Tv,{size:16})})]})]}),b.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-xl border border-gray-700 flex justify-between items-center mb-6",children:[b.jsxs("div",{className:"flex items-center gap-2 text-gray-300 font-bold",children:[b.jsx(vN,{size:18})," Settings"]}),b.jsxs("div",{className:"flex gap-4",children:[ie>=6&&b.jsxs("label",{className:`flex items-center gap-2 cursor-pointer ${!Z&&"opacity-50 pointer-events-none"}`,children:[b.jsx("input",{type:"checkbox",checked:E.settings?.useAccomplice||!1,onChange:()=>jn("useAccomplice"),className:"w-4 h-4 accent-green-500 rounded"}),b.jsx("span",{className:"text-sm",children:"Accomp."})]}),ie>=5&&b.jsxs("label",{className:`flex items-center gap-2 cursor-pointer ${!Z&&"opacity-50 pointer-events-none"}`,children:[b.jsx("input",{type:"checkbox",checked:E.settings?.useWitness||!1,onChange:()=>jn("useWitness"),className:"w-4 h-4 accent-green-500 rounded"}),b.jsx("span",{className:"text-sm",children:"Witness"})]}),ie<5&&b.jsx("span",{className:"text-xs text-gray-500",children:"Need 5+ players for extra roles"})]})]}),b.jsxs("div",{className:"space-y-3 mb-8",children:[E.players.map(ae=>b.jsxs("div",{className:"flex items-center justify-between bg-gray-900 p-4 rounded border border-gray-700",children:[b.jsx("div",{className:"flex items-center gap-3",children:b.jsxs("span",{className:`font-bold ${ae.id===r.uid?"text-green-500":"text-gray-300"}`,children:[ae.name," ",ae.id===E.hostId&&""]})}),b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("span",{className:"text-green-600 flex items-center gap-1 text-sm",children:[b.jsx(eN,{size:14})," Ready"]}),Z&&ae.id!==r.uid&&b.jsx("button",{onClick:()=>ns(ae.id),className:"text-red-900 hover:text-red-500 transition-colors",children:b.jsx(SN,{size:16})})]})]},ae.id)),E.players.length<4&&b.jsx("div",{className:"text-center text-gray-500 animate-pulse italic",children:"Waiting for more investigators..."})]}),Z?b.jsx("button",{onClick:kr,disabled:E.players.length<4,className:`w-full py-4 rounded-xl font-bold text-lg shadow-lg transition-all ${E.players.length<4?"bg-gray-700 cursor-not-allowed text-gray-500":"bg-green-700 hover:bg-green-600 text-white shadow-green-900/30"}`,children:"Start Investigation"}):b.jsx("div",{className:"text-center text-green-500/80 font-serif mb-2",children:"Waiting for Host to start..."})]}),b.jsx("div",{className:"fixed bottom-0 left-0 w-full",children:b.jsx(As,{})}),q&&b.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6 max-w-sm w-full text-center shadow-2xl",children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Leave Case?"}),b.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:"Are you sure? You will be removed from the lobby."}),b.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[b.jsx("button",{onClick:()=>te(!1),className:"bg-slate-700 hover:bg-slate-600 text-white py-3 rounded font-bold",children:"Stay"}),b.jsx("button",{onClick:ts,className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold",children:"Leave"})]})]})})]})}if(i==="game"&&E){const Z=E.players.find($=>$.id===r.uid);if(!Z)return b.jsx("div",{onClick:()=>window.location.reload(),className:"p-10 text-white cursor-pointer",children:"You were removed. Click to reload."});let ie={};if(ie[Z.id]=Z.role,Z.role==="DETECTIVE"&&E.players.forEach($=>ie[$.id]=$.role),Z.role==="MURDERER"){const $=E.players.find(Te=>Te.role==="ACCOMPLICE");$&&(ie[$.id]="ACCOMPLICE")}if(Z.role==="ACCOMPLICE"){const $=E.players.find(Te=>Te.role==="MURDERER");$&&(ie[$.id]="MURDERER")}Z.role==="WITNESS"&&E.players.forEach($=>{$.role==="MURDERER"&&(ie[$.id]="MURDERER")});const ae=Z.role==="DETECTIVE",ce=Z.role==="MURDERER",Ne=Z.role==="ACCOMPLICE",ht=E.phase==="PRE_GAME_MURDER",Ze=E.phase==="MURDERER_SELECT",xn=E.phase==="DETECTIVE_TURN",Mt=E.phase==="INVESTIGATION",mt=E.phase==="WITNESS_HUNT",Vt=E.phase==="GAME_OVER_GOOD",Un=($,Te,dn)=>{ae||!Z.badge||!Mt||N(Kt=>{if(Kt?.targetId!==$)return{targetId:$,[Te]:dn,[Te==="means"?"clue":"means"]:null};const nt={...Kt};return nt[Te]===dn?nt[Te]=null:nt[Te]=dn,nt})},Je=E.players.filter($=>$.role!=="DETECTIVE").every($=>{const Te=E.nextRoundRequests?.includes($.id),dn=E.accusations?.some(Kt=>Kt.solverId===$.id);return Te||dn}),En=E.accusations?.find($=>$.solverId===r.uid);if(ht){const $=E.readyPlayers?.includes(r.uid);return b.jsxs("div",{className:"min-h-screen bg-slate-900 text-slate-100 flex flex-col relative pb-16",children:[b.jsx(ll,{}),b.jsxs("div",{className:"bg-slate-800 p-3 shadow-lg z-20 flex justify-between items-center sticky top-0 border-b border-slate-700",children:[b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-slate-400 font-bold uppercase",children:"Pre-Game Phase"}),b.jsxs("div",{className:"text-sm font-bold text-white flex items-center gap-2",children:[b.jsx(Zc,{size:16})," View Roles & Cards"]})]}),b.jsx("button",{onClick:At,disabled:$,className:`px-6 py-2 rounded-full font-bold text-sm transition-all ${$?"bg-green-600 text-white cursor-default":"bg-blue-600 hover:bg-blue-500 text-white shadow-lg animate-pulse"}`,children:$?"Waiting for others...":"Ready for Murder"})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-transparent z-10",children:b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 max-w-7xl mx-auto pb-20",children:E.players.map(Te=>{const dn=Te.id===r.uid,Kt=ie[Te.id]||Te.role==="DETECTIVE";return b.jsxs("div",{className:`relative bg-slate-900 border rounded-xl overflow-hidden shadow-lg ${dn?"border-blue-500/50":"border-slate-800"}`,children:[b.jsx("div",{className:"p-2 bg-slate-800/80 flex justify-between items-center border-b border-slate-700",children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:`font-bold text-sm ${dn?"text-blue-400":"text-slate-200"}`,children:Te.name}),Kt&&b.jsx(Lr,{role:Te.role})]})}),b.jsxs("div",{className:"p-2 grid grid-cols-2 gap-2",children:[b.jsxs("div",{className:"space-y-1",children:[b.jsx("div",{className:"text-[10px] uppercase font-bold text-red-900 mb-1",children:"Murder Weapon"}),Te.means.map(nt=>b.jsxs("div",{className:"p-1.5 rounded bg-slate-800 border border-red-900/30 flex flex-col items-center justify-center text-center gap-1 min-h-[50px] shadow-sm",children:[yn(nt),b.jsx("span",{className:"text-[9px] font-bold text-red-200 leading-tight line-clamp-2",children:nt})]},nt))]}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("div",{className:"text-[10px] uppercase font-bold text-blue-900 mb-1",children:"Evidence on Site"}),Te.clues.map(nt=>b.jsxs("div",{className:"p-1.5 rounded bg-slate-800 border border-blue-900/30 flex flex-col items-center justify-center text-center gap-1 min-h-[50px] shadow-sm",children:[yn(nt),b.jsx("span",{className:"text-[9px] font-bold text-blue-200 leading-tight line-clamp-2",children:nt})]},nt))]})]})]},Te.id)})})}),b.jsx("div",{className:"fixed bottom-0 left-0 w-full z-50",children:b.jsx(As,{})})]})}return Ze?ce||Ne?b.jsxs("div",{className:"min-h-screen bg-red-950 text-white p-4 flex flex-col items-center justify-center relative pb-16",children:[b.jsx(ll,{}),b.jsxs("div",{className:"z-10 text-center w-full flex-1 flex flex-col",children:[b.jsxs("div",{className:"mt-4 mb-2",children:[b.jsx("h1",{className:"text-3xl md:text-4xl font-black text-red-500 mb-2",children:"COMMIT THE CRIME"}),b.jsx("p",{className:"text-red-200 mb-4 max-w-md mx-auto text-sm md:text-base",children:ce?"Select 1 Murder Weapon and 1 Evidence.":"The Murderer is selecting the weapon and evidence. Watch closely."})]}),ce?b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 w-full max-w-4xl mx-auto flex-1 overflow-y-auto pb-32",children:[b.jsxs("div",{className:"bg-red-900/30 p-4 rounded-xl border border-red-800 h-fit",children:[b.jsxs("h3",{className:"text-red-400 font-bold mb-2 flex items-center gap-2 text-sm",children:[b.jsx(uN,{size:16})," MURDER WEAPON"]}),b.jsx("div",{className:"grid grid-cols-2 gap-2",children:Z.means.map($=>b.jsxs("button",{onClick:()=>N({...fe,means:$}),className:`p-2 rounded-lg border flex flex-col items-center justify-center gap-1 transition-all min-h-[80px] shadow-md hover:shadow-lg active:scale-95 ${fe?.means===$?"bg-red-600 border-white text-white scale-105 shadow-xl ring-2 ring-white/50":"bg-red-900/50 border-red-700 text-red-200 hover:bg-red-800"}`,children:[yn($),b.jsx("span",{className:"text-xs font-bold leading-tight",children:$})]},$))})]}),b.jsxs("div",{className:"bg-blue-900/30 p-4 rounded-xl border border-blue-800 h-fit",children:[b.jsxs("h3",{className:"text-blue-400 font-bold mb-2 flex items-center gap-2 text-sm",children:[b.jsx(Fo,{size:16})," EVIDENCE ON SITE"]}),b.jsx("div",{className:"grid grid-cols-2 gap-2",children:Z.clues.map($=>b.jsxs("button",{onClick:()=>N({...fe,clue:$}),className:`p-2 rounded-lg border flex flex-col items-center justify-center gap-1 transition-all min-h-[80px] shadow-md hover:shadow-lg active:scale-95 ${fe?.clue===$?"bg-blue-600 border-white text-white scale-105 shadow-xl ring-2 ring-white/50":"bg-blue-900/50 border-blue-700 text-blue-200 hover:bg-blue-800"}`,children:[yn($),b.jsx("span",{className:"text-xs font-bold leading-tight",children:$})]},$))})]})]}):b.jsx("div",{className:"flex-1 flex items-center justify-center",children:b.jsxs("div",{className:"bg-red-900/20 p-8 rounded-xl border border-red-500/30 animate-pulse text-center",children:[b.jsx(Jc,{size:48,className:"mx-auto text-red-500 mb-4"}),b.jsx("div",{className:"text-red-300 font-bold",children:"MURDER IN PROGRESS..."})]})})]}),ce&&b.jsx("div",{className:"fixed bottom-12 left-0 w-full p-4 flex justify-center z-40 pointer-events-none",children:b.jsx("button",{disabled:!fe?.means||!fe?.clue,onClick:()=>Ct(fe.means,fe.clue),className:"w-full max-w-md bg-white text-red-900 px-8 py-3 rounded-full font-black text-lg hover:scale-105 disabled:opacity-50 disabled:scale-100 transition-all shadow-2xl pointer-events-auto",children:"CONFIRM KILL"})}),b.jsx("div",{className:"fixed bottom-0 left-0 w-full z-50",children:b.jsx(As,{})})]}):ae?b.jsxs("div",{className:"min-h-screen bg-slate-900 text-white flex flex-col items-center justify-center p-8 text-center relative pb-16",children:[b.jsx(ll,{}),b.jsxs("div",{className:"z-10",children:[b.jsx("h2",{className:"text-3xl font-bold text-blue-400 mb-4",children:"Awaiting The Crime..."}),b.jsxs("div",{className:"animate-pulse bg-slate-800 p-6 rounded-xl max-w-lg",children:[b.jsx("p",{className:"text-slate-300",children:"The Murderer is choosing the Murder Weapon and Evidence."}),b.jsx("p",{className:"text-slate-500 text-sm mt-4",children:"Study everyone's cards carefully while you wait."})]})]}),b.jsx("div",{className:"fixed bottom-0 left-0 w-full z-50",children:b.jsx(As,{})})]}):b.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col items-center justify-center p-8 text-center relative pb-16",children:[b.jsxs("div",{className:"z-10",children:[b.jsx(aN,{size:64,className:"text-slate-700 mb-6 mx-auto"}),b.jsx("h2",{className:"text-4xl font-black text-slate-500 mb-4",children:"EYES CLOSED"}),b.jsx("p",{className:"text-slate-600",children:"The Murder is taking place. You will be informed once the detective finishes examining the crime scene."})]}),b.jsx("div",{className:"fixed bottom-0 left-0 w-full z-50",children:b.jsx(As,{})})]}):b.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100 font-sans flex flex-col relative overflow-hidden pb-12",children:[b.jsx(ll,{}),Ae&&b.jsx(tm,{onClose:()=>Ve(!1)}),b.jsxs("div",{className:"bg-slate-900 border-b border-slate-800 p-2 px-3 flex justify-between items-center shadow-md z-20 sticky top-0",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"font-serif font-black text-xl tracking-wider text-green-500",children:"INV."}),b.jsxs("div",{className:"flex flex-col leading-tight",onClick:()=>D(!V),children:[b.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold",children:"Role"}),b.jsx("div",{className:"flex items-center gap-1 cursor-pointer hover:bg-slate-800 rounded -ml-1 transition-colors",children:V?b.jsx(Lr,{role:Z.role}):b.jsxs("span",{className:"text-xs font-bold text-slate-300 flex items-center",children:["Show ",b.jsx(Zc,{size:10,className:"ml-1"})]})})]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("div",{className:"text-center mr-2",children:[b.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold block",children:"Rnd"}),b.jsxs("span",{className:"text-sm font-bold text-white",children:[E.round,"/3"]})]}),ae&&xn&&b.jsx("button",{onClick:Vl,className:"bg-green-600 hover:bg-green-500 text-white px-3 py-1.5 rounded text-xs font-bold shadow-lg animate-pulse",children:"Confirm"}),Mt&&ae&&E.round<3&&b.jsxs("button",{disabled:!Je,onClick:()=>Et(!Qe),className:`${Qe?"bg-red-500 animate-pulse":Je?"bg-blue-600":"bg-slate-700 opacity-50 cursor-not-allowed"} 
                     hover:brightness-110 text-white px-3 py-1.5 rounded text-xs font-bold shadow-lg transition-colors flex items-center gap-1`,children:[Qe?"Select Tile":"Next Rnd",!Je&&b.jsxs("span",{className:"text-[10px] bg-black/30 px-1 rounded",children:[E.nextRoundRequests?.length||0,"/",E.players.length-1]})]}),Mt&&!ae&&!En&&!E.nextRoundRequests?.includes(r.uid)&&E.round<3&&b.jsx("button",{onClick:va,className:"bg-blue-600 hover:bg-blue-500 text-white px-3 py-1.5 rounded text-xs font-bold shadow-lg",children:"Req. Next"}),Mt&&!ae&&E.nextRoundRequests?.includes(r.uid)&&b.jsx("div",{className:"text-[10px] text-green-400 font-bold bg-green-900/30 px-2 py-1 rounded border border-green-800",children:"Ready"}),b.jsx("button",{onClick:()=>w(!0),className:"p-2 hover:bg-slate-800 rounded-full text-slate-400 hover:text-white",children:b.jsx(Ev,{size:18})}),b.jsx("button",{onClick:()=>Ve(!0),className:"p-2 hover:bg-slate-800 rounded-full text-slate-400 hover:text-white",children:b.jsx(vv,{size:18})}),b.jsx("button",{onClick:()=>te(!0),className:"p-2 hover:bg-slate-800 rounded-full text-slate-400 hover:text-red-400",children:b.jsx(Tv,{size:18})})]})]}),b.jsx("div",{className:"bg-slate-800/80 p-2 flex justify-center md:hidden border-b border-slate-700 z-10",children:b.jsxs("button",{onClick:()=>He(!me),className:"text-xs font-bold text-slate-400 flex items-center gap-1",children:[me?"Hide Clues":"Show Clues"," ",me?b.jsx(bv,{size:12}):b.jsx(WC,{size:12})]})}),me&&b.jsx("div",{className:"bg-slate-900/50 p-2 overflow-x-auto border-b border-slate-800 z-10",children:b.jsx("div",{className:"flex gap-2 min-w-max mx-auto px-2",children:E.activeTiles.map(($,Te)=>b.jsxs("div",{onClick:()=>{Qe&&ae&&Te>=2&&nn(Te)},className:`w-40 bg-slate-800 rounded-lg border-2 flex flex-col relative shadow-lg transition-all
                    ${Qe&&Te>=2&&ae?"border-red-500 cursor-pointer hover:bg-red-900/20 scale-105":ae&&xn&&"hover:border-blue-500/50"} 
                    ${$.selected===null?"border-slate-700":"border-slate-600"}
                    ${Qe&&Te<2&&"opacity-50"} 
                  `,children:[Qe&&Te>=2&&ae&&b.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 z-10 text-red-500 font-bold",children:b.jsx(nN,{size:32})}),b.jsx("div",{className:`p-1.5 text-center font-bold text-[10px] uppercase tracking-wider text-white truncate ${$.type==="purple"?"bg-purple-900":$.type==="green"?"bg-emerald-900":"bg-slate-700"}`,children:$.title}),b.jsx("div",{className:"p-1.5 space-y-0.5",children:$.options.map((dn,Kt)=>{const nt=$.selected===Kt;return b.jsxs("div",{onClick:Ln=>{Ln.stopPropagation(),ae&&xn&&Si(Te,Kt)},className:`text-[10px] px-1.5 py-1 rounded cursor-pointer flex justify-between items-center transition-colors ${nt?"bg-red-600 text-white font-bold shadow-md ring-1 ring-red-400":ae&&xn?"hover:bg-slate-700 text-slate-300":"text-slate-500 opacity-50"}`,children:[b.jsx("span",{className:"truncate",children:dn}),nt&&b.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full ml-1 shrink-0"})]},Kt)})})]},$.id))})}),b.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-transparent relative z-10",children:b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 max-w-7xl mx-auto pb-32",children:E.players.map($=>{const Te=$.id===r.uid,dn=ie[$.id]||$.role==="DETECTIVE"||E.phase.includes("GAME_OVER"),Kt=fe?.targetId===$.id,nt=E.accompliceSuggestion===$.id,Ln=En?.targetId===$.id,mn=E.accusations?.find(Xe=>Xe.solverId===$.id),rs=mt&&!K&&(Ne||ce)&&$.role!=="DETECTIVE"&&$.role!=="MURDERER"&&$.role!=="ACCOMPLICE";return b.jsxs("div",{className:`relative bg-slate-900 border rounded-xl overflow-hidden shadow-lg transition-all 
                     ${Te?"border-blue-500/30 ring-1 ring-blue-900/50":"border-slate-800"}
                     ${mt&&nt&&ce?"ring-4 ring-yellow-500 scale-105":""}
                     ${Ln?"border-yellow-500/50 ring-1 ring-yellow-500/30":""}
                   `,children:[b.jsxs("div",{className:"p-2 bg-slate-800/80 flex justify-between items-center border-b border-slate-700",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:`font-bold text-sm ${Te?"text-blue-400":"text-slate-200"}`,children:$.name}),dn&&b.jsx(Lr,{role:$.role})]}),$.badge&&$.role!=="DETECTIVE"&&b.jsx(ca,{size:14,className:"text-yellow-500",fill:"currentColor"}),!$.badge&&$.role!=="DETECTIVE"&&b.jsx("div",{className:"text-[10px] text-slate-600 font-bold uppercase",children:"Submitted"})]}),b.jsxs("div",{className:"p-2 grid grid-cols-2 gap-2",children:[b.jsxs("div",{className:"space-y-1",children:[b.jsx("div",{className:"text-[10px] uppercase font-bold text-red-900 mb-1",children:"Murder Weapon"}),$.means.map(Xe=>{const hi=Kt&&fe.means===Xe,Pn=Ln&&En.means===Xe,zn=(ae||Ne||ce)&&E.solution?.means===Xe&&E.solution?.murdererId===$.id;return b.jsxs("div",{onClick:Us=>{Us.stopPropagation(),$.id!==r.uid&&Un($.id,"means",Xe)},className:`p-1.5 rounded-md border flex flex-col items-center justify-center text-center cursor-pointer transition-all active:scale-95 touch-manipulation min-h-[60px] shadow-sm ${hi?"bg-red-600 text-white font-bold shadow-md scale-105 border border-white":Pn?"bg-red-900/40 text-red-200 border border-yellow-500/50 shadow-inner":zn?"bg-purple-900/80 text-white border-2 border-purple-400 shadow-[0_0_10px_rgba(168,85,247,0.5)] animate-pulse":"bg-slate-800 text-red-200 border border-red-900/30 hover:bg-red-900/20 hover:border-red-500"} ${$.id===r.uid&&"opacity-50 cursor-not-allowed hover:bg-slate-800 hover:border-red-900/30"}`,children:[yn(Xe),b.jsx("span",{className:"text-[10px] font-bold leading-tight line-clamp-2 w-full",children:Xe})]},Xe)})]}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("div",{className:"text-[10px] uppercase font-bold text-blue-900 mb-1",children:"Evidence on Site"}),$.clues.map(Xe=>{const hi=Kt&&fe.clue===Xe,Pn=Ln&&En.clue===Xe,zn=(ae||Ne||ce)&&E.solution?.clue===Xe&&E.solution?.murdererId===$.id;return b.jsxs("div",{onClick:Us=>{Us.stopPropagation(),$.id!==r.uid&&Un($.id,"clue",Xe)},className:`p-1.5 rounded-md border flex flex-col items-center justify-center text-center cursor-pointer transition-all active:scale-95 touch-manipulation min-h-[60px] shadow-sm ${hi?"bg-blue-600 text-white font-bold shadow-md scale-105 border border-white":Pn?"bg-blue-900/40 text-blue-200 border border-yellow-500/50 shadow-inner":zn?"bg-purple-900/80 text-white border-2 border-purple-400 shadow-[0_0_10px_rgba(168,85,247,0.5)] animate-pulse":"bg-slate-800 text-blue-200 border border-blue-900/30 hover:bg-blue-900/20 hover:border-blue-500"} ${$.id===r.uid&&"opacity-50 cursor-not-allowed hover:bg-slate-800 hover:border-blue-900/30"}`,children:[yn(Xe),b.jsx("span",{className:"text-[10px] font-bold leading-tight line-clamp-2 w-full",children:Xe})]},Xe)})]})]}),mt&&nt&&(Ne||ce)&&b.jsx("div",{className:"absolute inset-0 bg-yellow-500/30 pointer-events-none flex items-center justify-center z-20",children:b.jsx("div",{className:`bg-yellow-500 text-black px-3 py-1.5 rounded-lg font-black text-xs shadow-xl border-2 border-black transform -rotate-6 ${ce?"animate-pulse scale-110":""}`,children:Ne?"YOU SUGGESTED":"ACCOMPLICE'S PICK"})}),mn&&b.jsxs("div",{className:`mx-2 mb-2 border-2 rounded-lg p-2 text-center relative overflow-hidden ${(mt||Vt)&&mn.isCorrect?"border-green-500 bg-green-950/40":"border-red-500 bg-red-950/40"}`,children:[b.jsx("div",{className:`absolute top-0 left-0 w-full h-1 ${(mt||Vt)&&mn.isCorrect?"bg-green-500":"bg-red-500"}`}),b.jsx("div",{className:`text-[10px] font-black uppercase tracking-widest mb-1 ${(mt||Vt)&&mn.isCorrect?"text-green-400":"text-red-400"}`,children:(mt||Vt)&&mn.isCorrect?"SUCCESSFUL ATTEMPT":"FAILED ATTEMPT"}),b.jsxs("div",{className:"text-xs text-slate-200 mb-1",children:["Suspected:"," ",b.jsx("span",{className:"font-bold text-white text-sm",children:E.players.find(Xe=>Xe.id===mn.targetId)?.name})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[b.jsxs("div",{className:`border rounded px-1 py-0.5 text-[10px] truncate flex items-center justify-center gap-1 ${(mt||Vt)&&mn.isCorrect?"bg-black/40 border-green-500/20 text-green-200":"bg-black/40 border-red-500/20 text-red-200"}`,children:[yn(mn.means),mn.means]}),b.jsxs("div",{className:`border rounded px-1 py-0.5 text-[10px] truncate flex items-center justify-center gap-1 ${(mt||Vt)&&mn.isCorrect?"bg-black/40 border-green-500/20 text-green-200":"bg-black/40 border-blue-500/20 text-blue-200"}`,children:[yn(mn.clue),mn.clue]})]})]}),rs&&b.jsxs("div",{className:"p-2 pt-0 mt-auto sticky bottom-0 bg-slate-900/95 backdrop-blur-sm border-t border-slate-700 -mx-px -mb-px rounded-b-xl z-30",children:[Ne&&b.jsxs("button",{onClick:Xe=>{Xe.stopPropagation(),Ur($.id)},className:"w-full bg-yellow-500 hover:bg-yellow-400 text-black font-bold py-2 px-4 rounded-lg text-xs flex items-center justify-center gap-2 shadow-lg animate-in slide-in-from-bottom-2 fade-in",children:[b.jsx(eh,{size:14})," Suggest as Witness"]}),ce&&b.jsxs("button",{onClick:Xe=>{Xe.stopPropagation();const hi=E.settings?.useAccomplice,Pn=E.accompliceSuggestion;if(hi&&!Pn){at("Wait!","Wait for your Accomplice to suggest a target first!");return}Ji("Eliminate Witness?",`Eliminate ${$.name} as the Witness? This ends the game.`,()=>Ai($.id))},className:"w-full bg-red-600 hover:bg-red-500 text-white font-bold py-2 px-4 rounded-lg text-xs flex items-center justify-center gap-2 shadow-lg animate-in slide-in-from-bottom-2 fade-in animate-pulse",children:[b.jsx(sN,{size:14})," ELIMINATE"]})]}),Kt&&(fe.means||fe.clue)&&!mt&&b.jsx("div",{className:"p-2 pt-0 mt-auto sticky bottom-0 bg-slate-900/95 backdrop-blur-sm border-t border-slate-700 -mx-px -mb-px rounded-b-xl z-10",children:b.jsxs("button",{onClick:Xe=>{Xe.stopPropagation(),R(!0)},className:"w-full bg-yellow-500 hover:bg-yellow-400 text-black font-bold py-2 px-4 rounded-lg text-xs flex items-center justify-center gap-2 shadow-lg animate-in slide-in-from-bottom-2 fade-in transition-transform active:scale-95",children:[b.jsx(ca,{size:14})," Review Accusation"]})})]},$.id)})})}),j&&b.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex justify-end",children:b.jsxs("div",{className:"w-full max-w-md bg-slate-900 h-full border-l border-slate-700 flex flex-col shadow-2xl animate-in slide-in-from-right",children:[b.jsxs("div",{className:"p-4 border-b border-slate-700 flex justify-between items-center bg-slate-800",children:[b.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[b.jsx(Ev,{})," Case Logs"]}),b.jsx("button",{onClick:()=>w(!1),children:b.jsx(WE,{className:"text-slate-400 hover:text-white"})})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[...E.logs||[]].reverse().map(($,Te)=>b.jsxs("div",{className:`text-sm p-3 rounded border-l-4 ${$.type==="danger"?"bg-red-900/20 border-red-500 text-red-200":$.type==="success"?"bg-green-900/20 border-green-500 text-green-200":$.type==="warning"?"bg-orange-900/20 border-orange-500 text-orange-200":"bg-slate-800 border-blue-500 text-slate-300"}`,children:[b.jsxs("div",{className:"font-mono text-[10px] opacity-50 mb-1",children:["EVENT ",E.logs.length-Te]}),$.text]},Te))})]})}),q&&b.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6 max-w-sm w-full text-center shadow-2xl",children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Leave Game?"}),b.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:E.hostId===r.uid?"As Host, you can return everyone to the lobby or leave the room entirely.":"Are you sure? You will be removed from the room."}),E.hostId===r.uid?b.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[b.jsx("button",{onClick:()=>te(!1),className:"bg-slate-700 hover:bg-slate-600 text-white py-3 rounded font-bold",children:"Stay (Resume)"}),b.jsx("button",{onClick:()=>{is(),te(!1)},className:"bg-blue-600 hover:bg-blue-500 text-white py-3 rounded font-bold",children:"Return to Lobby"}),b.jsx("button",{onClick:ts,className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold",children:"Leave Room"})]}):b.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[b.jsx("button",{onClick:()=>te(!1),className:"bg-slate-700 hover:bg-slate-600 text-white py-3 rounded font-bold",children:"Stay"}),b.jsx("button",{onClick:ts,className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold",children:"Leave"})]})]})}),Me&&b.jsx("div",{className:"fixed inset-0 bg-black/90 z-[70] flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6 max-w-sm w-full text-center shadow-2xl animate-in zoom-in-95 duration-200",children:[b.jsx("div",{className:"flex justify-center mb-4",children:Me.type==="confirm"?b.jsx(Av,{size:48,className:"text-yellow-500"}):b.jsx(mN,{size:48,className:"text-blue-500"})}),b.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:Me.title}),b.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:Me.message}),b.jsxs("div",{className:`grid ${Me.type==="confirm"?"grid-cols-2":"grid-cols-1"} gap-3`,children:[Me.type==="confirm"&&b.jsx("button",{onClick:es,className:"bg-slate-700 hover:bg-slate-600 text-white py-3 rounded font-bold",children:"Cancel"}),b.jsx("button",{onClick:()=>{Me.onConfirm&&Me.onConfirm(),es()},className:`${Me.type==="confirm"?"bg-red-600 hover:bg-red-500":"bg-blue-600 hover:bg-blue-500"} text-white py-3 rounded font-bold`,children:Me.type==="confirm"?"Confirm":"OK"})]})]})}),mt&&!K&&ce&&E.accompliceSuggestion&&le&&b.jsx("div",{className:"fixed inset-0 z-40 flex items-start justify-center pt-20",onClick:()=>ve(!1),children:b.jsxs("div",{onClick:$=>$.stopPropagation(),className:"bg-green-900/90 border-2 border-green-500 p-4 rounded-xl shadow-2xl animate-bounce cursor-default max-w-xs text-center backdrop-blur-sm",children:[b.jsxs("div",{className:"font-bold text-green-400 text-sm mb-1 uppercase",children:[b.jsx(eh,{size:14,className:"inline mr-1"})," Target Confirmed"]}),"Accomplice suggests:"," ",b.jsx("span",{className:"text-white font-black text-lg block mt-1",children:E.players.find($=>$.id===E.accompliceSuggestion)?.name}),b.jsx("div",{className:"text-[10px] text-green-300 mt-2 uppercase tracking-wide",children:"Click empty space to dismiss"})]})}),x&&fe&&b.jsx("div",{className:"fixed inset-0 bg-black/90 z-[100] flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl w-full max-w-lg p-6 shadow-2xl max-h-[90vh] overflow-y-auto",children:[b.jsxs("h3",{className:"text-2xl font-black text-yellow-500 mb-4 flex items-center gap-2",children:[b.jsx(ca,{})," SUBMIT CASE FILE"]}),b.jsxs("div",{className:"space-y-4 mb-8",children:[b.jsxs("div",{className:"bg-slate-800 p-4 rounded-lg",children:[b.jsx("div",{className:"text-xs text-slate-500 uppercase",children:"Suspect"}),b.jsx("div",{className:"text-xl font-bold text-white",children:E.players.find($=>$.id===fe.targetId)?.name})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-slate-500 uppercase mb-1",children:"Murder Weapon"}),fe.means?b.jsxs("div",{className:"p-3 bg-red-900/50 border border-red-600 rounded text-red-100 font-bold text-center text-sm flex items-center justify-center gap-2",children:[yn(fe.means),fe.means]}):b.jsx("div",{className:"p-3 bg-slate-800 border border-slate-700 border-dashed rounded text-slate-500 text-center text-xs",children:"Select Murder Weapon from Card"})]}),b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-slate-500 uppercase mb-1",children:"Evidence on Site"}),fe.clue?b.jsxs("div",{className:"p-3 bg-blue-900/50 border border-blue-600 rounded text-blue-100 font-bold text-center text-sm flex items-center justify-center gap-2",children:[yn(fe.clue),fe.clue]}):b.jsx("div",{className:"p-3 bg-slate-800 border border-slate-700 border-dashed rounded text-slate-500 text-center text-xs",children:"Select Evidence on Site from Card"})]})]}),b.jsxs("div",{className:"bg-blue-900/20 p-3 rounded text-sm text-blue-200 text-center border border-blue-800",children:[b.jsx("div",{className:"font-bold mb-1",children:"PROCEDURE NOTE"}),"Your result will be revealed only after ",b.jsx("strong",{children:"ALL"})," ","investigators have submitted their files."]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsx("button",{onClick:()=>R(!1),className:"py-3 rounded-lg font-bold text-slate-400 hover:bg-slate-800",children:"Cancel"}),b.jsx("button",{disabled:!fe.means||!fe.clue,onClick:ss,className:"bg-yellow-600 hover:bg-yellow-500 text-black py-3 rounded-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed",children:"CONFIRM & SUBMIT"})]})]})}),E.activeAccusation&&b.jsx("div",{className:"fixed inset-0 bg-black/95 z-[100] flex items-center justify-center p-4",children:b.jsxs("div",{className:`max-w-lg w-full p-6 rounded-2xl border-4 shadow-2xl text-center ${E.activeAccusation.isCorrect?"bg-green-900/90 border-green-500":"bg-red-900/90 border-red-500"}`,children:[b.jsx("h2",{className:"text-3xl font-black text-white mb-2 uppercase tracking-widest",children:E.activeAccusation.isCorrect?"CASE SOLVED!":"WRONG ACCUSATION"}),b.jsxs("div",{className:"bg-black/30 p-4 rounded-xl mb-6 text-left",children:[b.jsx("div",{className:"text-xs uppercase font-bold text-white/50 mb-2 border-b border-white/10 pb-1",children:"The Accusation Attempt"}),b.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-2 items-center mb-1",children:[b.jsx("span",{className:"text-sm text-gray-400 font-bold",children:"Accuser:"}),b.jsx("span",{className:"text-white font-bold",children:E.activeAccusation.solverName})]}),b.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-2 items-center mb-4",children:[b.jsx("span",{className:"text-sm text-gray-400 font-bold",children:"Suspect:"}),b.jsx("span",{className:"text-xl text-white font-black",children:E.players.find($=>$.id===E.activeAccusation.targetId)?.name})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{className:"bg-red-900/30 border border-red-500/30 p-2 rounded text-center",children:[b.jsx("div",{className:"text-[10px] text-red-300 uppercase font-bold mb-1",children:"Murder Weapon"}),b.jsxs("div",{className:"text-white font-bold text-sm flex items-center justify-center gap-1",children:[yn(E.activeAccusation.means),E.activeAccusation.means]})]}),b.jsxs("div",{className:"bg-blue-900/30 border border-blue-500/30 p-2 rounded text-center",children:[b.jsx("div",{className:"text-[10px] text-blue-300 uppercase font-bold mb-1",children:"Evidence on Site"}),b.jsxs("div",{className:"text-white font-bold text-sm flex items-center justify-center gap-1",children:[yn(E.activeAccusation.clue),E.activeAccusation.clue]})]})]})]}),b.jsxs("div",{className:"flex flex-col items-center gap-3",children:[b.jsxs("div",{className:"text-xs uppercase font-bold text-white/50",children:["Waiting for players:"," ",E.activeAccusation.continueVotes?.length||0,"/",E.players.length]}),b.jsxs("button",{onClick:jr,disabled:E.activeAccusation.continueVotes?.includes(r.uid),className:`px-8 py-3 rounded-full font-bold text-lg transition-all flex items-center gap-2 ${E.activeAccusation.continueVotes?.includes(r.uid)?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-white text-black hover:scale-105 shadow-xl"}`,children:[E.activeAccusation.continueVotes?.includes(r.uid)?"WAITING...":"CONTINUE"," ",b.jsx(bv,{className:"rotate-90"})]})]})]})}),mt&&K&&b.jsx("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center p-4 bg-black/80",children:ce||Ne?b.jsxs("div",{className:"bg-red-950 border-2 border-red-500 p-6 rounded-xl shadow-2xl text-center max-w-lg animate-in fade-in zoom-in duration-300",children:[b.jsx("h2",{className:"text-2xl md:text-3xl font-black text-red-500 mb-2",children:"YOU HAVE BEEN CAUGHT!"}),b.jsx("p",{className:"text-red-100 text-base md:text-lg mb-4",children:Ne?"Help the Murderer find the Witness.":"Identify the Witness to steal the win."}),ce&&E.settings?.useAccomplice&&(E.accompliceSuggestion?b.jsxs("div",{className:"bg-green-900/40 p-3 rounded border border-green-500 mb-4 animate-bounce",children:[b.jsxs("div",{className:"font-bold text-green-400 text-sm mb-1 uppercase",children:[b.jsx(eh,{size:14,className:"inline mr-1"})," Target Confirmed"]}),"Accomplice suggests:"," ",b.jsx("span",{className:"text-white font-black text-lg block mt-1",children:E.players.find($=>$.id===E.accompliceSuggestion)?.name})]}):b.jsxs("div",{className:"bg-black/40 p-3 rounded border border-red-500/50 mb-4 animate-pulse",children:[b.jsxs("div",{className:"font-bold text-yellow-400 text-sm mb-1 uppercase",children:[b.jsx(Av,{size:14,className:"inline mr-1"})," Hold Fire"]}),"Waiting for Accomplice suggestion..."]})),b.jsx("button",{onClick:()=>re(!1),className:"mt-4 bg-white text-red-900 px-8 py-3 rounded-full font-black uppercase text-sm hover:scale-105 transition-transform shadow-xl",children:"Select Witness"})]}):b.jsxs("div",{className:"bg-slate-900/95 border-2 border-yellow-500 p-6 rounded-xl shadow-2xl text-center max-w-lg animate-in fade-in zoom-in duration-300",children:[b.jsx("h2",{className:"text-3xl font-black text-yellow-500 mb-2",children:"CRIME SOLVED!"}),b.jsx("p",{className:"text-slate-200 text-lg mb-4",children:"The Investigators found the solution. However..."}),b.jsx("div",{className:"text-xl font-bold text-red-400 mb-4 animate-pulse",children:"THE MURDERER IS HUNTING FOR THE WITNESS"}),b.jsx("p",{className:"text-slate-400 text-sm",children:"If the Murderer identifies the Witness correctly, the Bad Guys steal the win."})]})}),E.phase==="GAME_OVER_GOOD"&&b.jsxs("div",{className:"fixed inset-0 bg-blue-900/95 z-50 flex flex-col items-center justify-center p-6 text-center",children:[b.jsx(ca,{size:96,className:"text-yellow-400 mb-6 shadow-xl"}),b.jsx("h1",{className:"text-4xl md:text-6xl font-black text-white mb-4",children:"INVESTIGATORS WIN"}),b.jsxs("p",{className:"text-blue-200 text-lg md:text-xl max-w-lg mb-8",children:["Solved by:"," ",b.jsx("span",{className:"text-yellow-400 font-bold",children:(E.successfulSolvers||[]).map($=>E.players.find(Te=>Te.id===$)?.name).join(", ")||"The Team"})]}),b.jsxs("div",{className:"bg-white/10 p-6 rounded-xl border border-white/20 mb-8 w-full max-w-md backdrop-blur-md",children:[b.jsx("div",{className:"text-sm uppercase tracking-widest text-blue-300 mb-6 font-bold",children:"The Solution"}),b.jsxs("div",{className:"flex justify-center gap-4 mb-6",children:[b.jsxs("div",{className:"bg-slate-900/80 border-2 border-red-500/50 p-4 rounded-xl flex flex-col items-center justify-center w-32 h-36 shadow-2xl transform hover:scale-105 transition-transform",children:[b.jsx("div",{className:"text-red-400 text-[10px] font-black uppercase tracking-widest mb-2",children:"Weapon"}),b.jsx("div",{className:"scale-150 mb-2",children:yn(E.solution.means)}),b.jsx("div",{className:"text-sm font-bold text-white leading-tight",children:E.solution.means})]}),b.jsx("div",{className:"flex items-center text-white/50",children:b.jsx("span",{className:"text-2xl font-black",children:"+"})}),b.jsxs("div",{className:"bg-slate-900/80 border-2 border-blue-500/50 p-4 rounded-xl flex flex-col items-center justify-center w-32 h-36 shadow-2xl transform hover:scale-105 transition-transform",children:[b.jsx("div",{className:"text-blue-400 text-[10px] font-black uppercase tracking-widest mb-2",children:"Evidence"}),b.jsx("div",{className:"scale-150 mb-2",children:yn(E.solution.clue)}),b.jsx("div",{className:"text-sm font-bold text-white leading-tight",children:E.solution.clue})]})]}),b.jsxs("div",{className:"text-lg text-blue-200 bg-black/20 p-2 rounded-lg inline-block px-6",children:["Culprit:"," ",b.jsx("span",{className:"text-white font-black",children:E.players.find($=>$.id===E.solution.murdererId)?.name})]})]}),E.hostId===r.uid&&b.jsxs("button",{onClick:is,className:"bg-white text-blue-900 px-8 py-3 rounded-full font-bold hover:scale-105 transition-transform flex items-center gap-2 shadow-xl",children:[b.jsx(Sv,{size:20})," Return to Lobby"]}),b.jsx("div",{className:"bg-gray-950 pb-1 pt-1 z-50 w-full mt-auto fixed bottom-0 left-0 right-0",children:b.jsx(As,{})})]}),E.phase==="GAME_OVER_BAD"&&b.jsxs("div",{className:"fixed inset-0 bg-red-950/95 z-50 flex flex-col items-center justify-center p-6 text-center",children:[b.jsx(Jc,{size:96,className:"text-red-500 mb-6 shadow-xl"}),b.jsx("h1",{className:"text-4xl md:text-6xl font-black text-white mb-4",children:"MURDERER WINS"}),b.jsx("p",{className:"text-red-200 text-lg md:text-xl max-w-lg mb-8",children:"The investigation failed or the witness was silenced."}),b.jsxs("div",{className:"bg-white/10 p-6 rounded-xl border border-white/20 mb-8 w-full max-w-md backdrop-blur-md",children:[b.jsx("div",{className:"text-sm uppercase tracking-widest text-red-300 mb-6 font-bold",children:"The Solution"}),b.jsxs("div",{className:"flex justify-center gap-4 mb-6",children:[b.jsxs("div",{className:"bg-slate-900/80 border-2 border-red-500/50 p-4 rounded-xl flex flex-col items-center justify-center w-32 h-36 shadow-2xl transform hover:scale-105 transition-transform",children:[b.jsx("div",{className:"text-red-400 text-[10px] font-black uppercase tracking-widest mb-2",children:"Weapon"}),b.jsx("div",{className:"scale-150 mb-2",children:yn(E.solution.means)}),b.jsx("div",{className:"text-sm font-bold text-white leading-tight",children:E.solution.means})]}),b.jsx("div",{className:"flex items-center text-white/50",children:b.jsx("span",{className:"text-2xl font-black",children:"+"})}),b.jsxs("div",{className:"bg-slate-900/80 border-2 border-blue-500/50 p-4 rounded-xl flex flex-col items-center justify-center w-32 h-36 shadow-2xl transform hover:scale-105 transition-transform",children:[b.jsx("div",{className:"text-blue-400 text-[10px] font-black uppercase tracking-widest mb-2",children:"Evidence"}),b.jsx("div",{className:"scale-150 mb-2",children:yn(E.solution.clue)}),b.jsx("div",{className:"text-sm font-bold text-white leading-tight",children:E.solution.clue})]})]}),b.jsxs("div",{className:"text-lg text-red-200 bg-black/20 p-2 rounded-lg inline-block px-6",children:["Culprit:"," ",b.jsx("span",{className:"text-white font-black",children:E.players.find($=>$.id===E.solution.murdererId)?.name})]})]}),E.hostId===r.uid&&b.jsxs("button",{onClick:is,className:"bg-white text-red-900 px-8 py-3 rounded-full font-bold hover:scale-105 transition-transform flex items-center gap-2 shadow-xl",children:[b.jsx(Sv,{size:20})," Return to Lobby"]}),b.jsx("div",{className:"bg-gray-950 pb-1 pt-1 z-50 w-full mt-auto fixed bottom-0 left-0 right-0",children:b.jsx(As,{})})]}),b.jsx("div",{className:"fixed bottom-0 left-0 w-full z-50",children:b.jsx(As,{})})]})}return null}z1.createRoot(document.getElementById("root")).render(b.jsx(Fe.StrictMode,{children:b.jsx(ON,{})}));
