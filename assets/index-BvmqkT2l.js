(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function O1(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Vd={exports:{}},No={};var P0;function M1(){if(P0)return No;P0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:c}}return No.Fragment=e,No.jsx=i,No.jsxs=i,No}var z0;function V1(){return z0||(z0=1,Vd.exports=M1()),Vd.exports}var b=V1(),kd={exports:{}},xe={};var B0;function k1(){if(B0)return xe;B0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.iterator;function F(D){return D===null||typeof D!="object"?null:(D=M&&D[M]||D["@@iterator"],typeof D=="function"?D:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ne=Object.assign,Z={};function ye(D,K,ie){this.props=D,this.context=K,this.refs=Z,this.updater=ie||J}ye.prototype.isReactComponent={},ye.prototype.setState=function(D,K){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,K,"setState")},ye.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Ce(){}Ce.prototype=ye.prototype;function Te(D,K,ie){this.props=D,this.context=K,this.refs=Z,this.updater=ie||J}var tt=Te.prototype=new Ce;tt.constructor=Te,ne(tt,ye.prototype),tt.isPureReactComponent=!0;var dt=Array.isArray;function fe(){}var I={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(D,K,ie){var ae=ie.ref;return{$$typeof:s,type:D,key:K,ref:ae!==void 0?ae:null,props:ie}}function V(D,K){return R(D.type,K,D.props)}function O(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function j(D){var K={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ie){return K[ie]})}var x=/\/+/g;function Xe(D,K){return typeof D=="object"&&D!==null&&D.key!=null?j(""+D.key):K.toString(36)}function bt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(fe,fe):(D.status="pending",D.then(function(K){D.status==="pending"&&(D.status="fulfilled",D.value=K)},function(K){D.status==="pending"&&(D.status="rejected",D.reason=K)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function q(D,K,ie,ae,Ee){var Ae=typeof D;(Ae==="undefined"||Ae==="boolean")&&(D=null);var Oe=!1;if(D===null)Oe=!0;else switch(Ae){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(D.$$typeof){case s:case e:Oe=!0;break;case E:return Oe=D._init,q(Oe(D._payload),K,ie,ae,Ee)}}if(Oe)return Ee=Ee(D),Oe=ae===""?"."+Xe(D,0):ae,dt(Ee)?(ie="",Oe!=null&&(ie=Oe.replace(x,"$&/")+"/"),q(Ee,K,ie,"",function($i){return $i})):Ee!=null&&(O(Ee)&&(Ee=V(Ee,ie+(Ee.key==null||D&&D.key===Ee.key?"":(""+Ee.key).replace(x,"$&/")+"/")+Oe)),K.push(Ee)),1;Oe=0;var Nt=ae===""?".":ae+":";if(dt(D))for(var at=0;at<D.length;at++)ae=D[at],Ae=Nt+Xe(ae,at),Oe+=q(ae,K,ie,Ae,Ee);else if(at=F(D),typeof at=="function")for(D=at.call(D),at=0;!(ae=D.next()).done;)ae=ae.value,Ae=Nt+Xe(ae,at++),Oe+=q(ae,K,ie,Ae,Ee);else if(Ae==="object"){if(typeof D.then=="function")return q(bt(D),K,ie,ae,Ee);throw K=String(D),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function ee(D,K,ie){if(D==null)return D;var ae=[],Ee=0;return q(D,ae,"","",function(Ae){return K.call(ie,Ae,Ee++)}),ae}function me(D){if(D._status===-1){var K=D._result;K=K(),K.then(function(ie){(D._status===0||D._status===-1)&&(D._status=1,D._result=ie)},function(ie){(D._status===0||D._status===-1)&&(D._status=2,D._result=ie)}),D._status===-1&&(D._status=0,D._result=K)}if(D._status===1)return D._result.default;throw D._result}var qe=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},Ve={map:ee,forEach:function(D,K,ie){ee(D,function(){K.apply(this,arguments)},ie)},count:function(D){var K=0;return ee(D,function(){K++}),K},toArray:function(D){return ee(D,function(K){return K})||[]},only:function(D){if(!O(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return xe.Activity=A,xe.Children=Ve,xe.Component=ye,xe.Fragment=i,xe.Profiler=o,xe.PureComponent=Te,xe.StrictMode=a,xe.Suspense=y,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,xe.__COMPILER_RUNTIME={__proto__:null,c:function(D){return I.H.useMemoCache(D)}},xe.cache=function(D){return function(){return D.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(D,K,ie){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ae=ne({},D.props),Ee=D.key;if(K!=null)for(Ae in K.key!==void 0&&(Ee=""+K.key),K)!w.call(K,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&K.ref===void 0||(ae[Ae]=K[Ae]);var Ae=arguments.length-2;if(Ae===1)ae.children=ie;else if(1<Ae){for(var Oe=Array(Ae),Nt=0;Nt<Ae;Nt++)Oe[Nt]=arguments[Nt+2];ae.children=Oe}return R(D.type,Ee,ae)},xe.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},xe.createElement=function(D,K,ie){var ae,Ee={},Ae=null;if(K!=null)for(ae in K.key!==void 0&&(Ae=""+K.key),K)w.call(K,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(Ee[ae]=K[ae]);var Oe=arguments.length-2;if(Oe===1)Ee.children=ie;else if(1<Oe){for(var Nt=Array(Oe),at=0;at<Oe;at++)Nt[at]=arguments[at+2];Ee.children=Nt}if(D&&D.defaultProps)for(ae in Oe=D.defaultProps,Oe)Ee[ae]===void 0&&(Ee[ae]=Oe[ae]);return R(D,Ae,Ee)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(D){return{$$typeof:p,render:D}},xe.isValidElement=O,xe.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:me}},xe.memo=function(D,K){return{$$typeof:_,type:D,compare:K===void 0?null:K}},xe.startTransition=function(D){var K=I.T,ie={};I.T=ie;try{var ae=D(),Ee=I.S;Ee!==null&&Ee(ie,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(fe,qe)}catch(Ae){qe(Ae)}finally{K!==null&&ie.types!==null&&(K.types=ie.types),I.T=K}},xe.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},xe.use=function(D){return I.H.use(D)},xe.useActionState=function(D,K,ie){return I.H.useActionState(D,K,ie)},xe.useCallback=function(D,K){return I.H.useCallback(D,K)},xe.useContext=function(D){return I.H.useContext(D)},xe.useDebugValue=function(){},xe.useDeferredValue=function(D,K){return I.H.useDeferredValue(D,K)},xe.useEffect=function(D,K){return I.H.useEffect(D,K)},xe.useEffectEvent=function(D){return I.H.useEffectEvent(D)},xe.useId=function(){return I.H.useId()},xe.useImperativeHandle=function(D,K,ie){return I.H.useImperativeHandle(D,K,ie)},xe.useInsertionEffect=function(D,K){return I.H.useInsertionEffect(D,K)},xe.useLayoutEffect=function(D,K){return I.H.useLayoutEffect(D,K)},xe.useMemo=function(D,K){return I.H.useMemo(D,K)},xe.useOptimistic=function(D,K){return I.H.useOptimistic(D,K)},xe.useReducer=function(D,K,ie){return I.H.useReducer(D,K,ie)},xe.useRef=function(D){return I.H.useRef(D)},xe.useState=function(D){return I.H.useState(D)},xe.useSyncExternalStore=function(D,K,ie){return I.H.useSyncExternalStore(D,K,ie)},xe.useTransition=function(){return I.H.useTransition()},xe.version="19.2.0",xe}var H0;function Rm(){return H0||(H0=1,kd.exports=k1()),kd.exports}var Ke=Rm();const j1=O1(Ke);var jd={exports:{}},Do={},Ud={exports:{}},Ld={};var q0;function U1(){return q0||(q0=1,(function(s){function e(q,ee){var me=q.length;q.push(ee);e:for(;0<me;){var qe=me-1>>>1,Ve=q[qe];if(0<o(Ve,ee))q[qe]=ee,q[me]=Ve,me=qe;else break e}}function i(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var ee=q[0],me=q.pop();if(me!==ee){q[0]=me;e:for(var qe=0,Ve=q.length,D=Ve>>>1;qe<D;){var K=2*(qe+1)-1,ie=q[K],ae=K+1,Ee=q[ae];if(0>o(ie,me))ae<Ve&&0>o(Ee,ie)?(q[qe]=Ee,q[ae]=me,qe=ae):(q[qe]=ie,q[K]=me,qe=K);else if(ae<Ve&&0>o(Ee,me))q[qe]=Ee,q[ae]=me,qe=ae;else break e}}return ee}function o(q,ee){var me=q.sortIndex-ee.sortIndex;return me!==0?me:q.id-ee.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var y=[],_=[],E=1,A=null,M=3,F=!1,J=!1,ne=!1,Z=!1,ye=typeof setTimeout=="function"?setTimeout:null,Ce=typeof clearTimeout=="function"?clearTimeout:null,Te=typeof setImmediate<"u"?setImmediate:null;function tt(q){for(var ee=i(_);ee!==null;){if(ee.callback===null)a(_);else if(ee.startTime<=q)a(_),ee.sortIndex=ee.expirationTime,e(y,ee);else break;ee=i(_)}}function dt(q){if(ne=!1,tt(q),!J)if(i(y)!==null)J=!0,fe||(fe=!0,j());else{var ee=i(_);ee!==null&&bt(dt,ee.startTime-q)}}var fe=!1,I=-1,w=5,R=-1;function V(){return Z?!0:!(s.unstable_now()-R<w)}function O(){if(Z=!1,fe){var q=s.unstable_now();R=q;var ee=!0;try{e:{J=!1,ne&&(ne=!1,Ce(I),I=-1),F=!0;var me=M;try{t:{for(tt(q),A=i(y);A!==null&&!(A.expirationTime>q&&V());){var qe=A.callback;if(typeof qe=="function"){A.callback=null,M=A.priorityLevel;var Ve=qe(A.expirationTime<=q);if(q=s.unstable_now(),typeof Ve=="function"){A.callback=Ve,tt(q),ee=!0;break t}A===i(y)&&a(y),tt(q)}else a(y);A=i(y)}if(A!==null)ee=!0;else{var D=i(_);D!==null&&bt(dt,D.startTime-q),ee=!1}}break e}finally{A=null,M=me,F=!1}ee=void 0}}finally{ee?j():fe=!1}}}var j;if(typeof Te=="function")j=function(){Te(O)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Xe=x.port2;x.port1.onmessage=O,j=function(){Xe.postMessage(null)}}else j=function(){ye(O,0)};function bt(q,ee){I=ye(function(){q(s.unstable_now())},ee)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(q){q.callback=null},s.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<q?Math.floor(1e3/q):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(q){switch(M){case 1:case 2:case 3:var ee=3;break;default:ee=M}var me=M;M=ee;try{return q()}finally{M=me}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(q,ee){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var me=M;M=q;try{return ee()}finally{M=me}},s.unstable_scheduleCallback=function(q,ee,me){var qe=s.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?qe+me:qe):me=qe,q){case 1:var Ve=-1;break;case 2:Ve=250;break;case 5:Ve=1073741823;break;case 4:Ve=1e4;break;default:Ve=5e3}return Ve=me+Ve,q={id:E++,callback:ee,priorityLevel:q,startTime:me,expirationTime:Ve,sortIndex:-1},me>qe?(q.sortIndex=me,e(_,q),i(y)===null&&q===i(_)&&(ne?(Ce(I),I=-1):ne=!0,bt(dt,me-qe))):(q.sortIndex=Ve,e(y,q),J||F||(J=!0,fe||(fe=!0,j()))),q},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(q){var ee=M;return function(){var me=M;M=ee;try{return q.apply(this,arguments)}finally{M=me}}}})(Ld)),Ld}var G0;function L1(){return G0||(G0=1,Ud.exports=U1()),Ud.exports}var Pd={exports:{}},gn={};var F0;function P1(){if(F0)return gn;F0=1;var s=Rm();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,_,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:y,containerInfo:_,implementation:E}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,gn.createPortal=function(y,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(y,_,null,E)},gn.flushSync=function(y){var _=d.T,E=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=E,a.d.f()}},gn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},gn.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},gn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var E=_.as,A=p(E,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,F=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:M,fetchPriority:F}):E==="script"&&a.d.X(y,{crossOrigin:A,integrity:M,fetchPriority:F,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},gn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},gn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,A=p(E,_.crossOrigin);a.d.L(y,E,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},gn.preloadModule=function(y,_){if(typeof y=="string")if(_){var E=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},gn.requestFormReset=function(y){a.d.r(y)},gn.unstable_batchedUpdates=function(y,_){return y(_)},gn.useFormState=function(y,_,E){return d.H.useFormState(y,_,E)},gn.useFormStatus=function(){return d.H.useHostTransitionStatus()},gn.version="19.2.0",gn}var Q0;function z1(){if(Q0)return Pd.exports;Q0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Pd.exports=P1(),Pd.exports}var K0;function B1(){if(K0)return Do;K0=1;var s=L1(),e=Rm(),i=z1();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return y(h),t;if(f===l)return y(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var g=!1,T=h.child;T;){if(T===r){g=!0,r=h,l=f;break}if(T===l){g=!0,l=h,r=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===r){g=!0,r=f,l=h;break}if(T===l){g=!0,l=f,r=h;break}T=T.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,M=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ye=Symbol.for("react.profiler"),Ce=Symbol.for("react.consumer"),Te=Symbol.for("react.context"),tt=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function Xe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ne:return"Fragment";case ye:return"Profiler";case Z:return"StrictMode";case dt:return"Suspense";case fe:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J:return"Portal";case Te:return t.displayName||"Context";case Ce:return(t._context.displayName||"Context")+".Consumer";case tt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:Xe(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return Xe(t(n))}catch{}}return null}var bt=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},qe=[],Ve=-1;function D(t){return{current:t}}function K(t){0>Ve||(t.current=qe[Ve],qe[Ve]=null,Ve--)}function ie(t,n){Ve++,qe[Ve]=t.current,t.current=n}var ae=D(null),Ee=D(null),Ae=D(null),Oe=D(null);function Nt(t,n){switch(ie(Ae,n),ie(Ee,t),ie(ae,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?o0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=o0(n),t=u0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(ae),ie(ae,t)}function at(){K(ae),K(Ee),K(Ae)}function $i(t){t.memoizedState!==null&&ie(Oe,t);var n=ae.current,r=u0(n,t.type);n!==r&&(ie(Ee,t),ie(ae,r))}function Wi(t){Ee.current===t&&(K(ae),K(Ee)),Oe.current===t&&(K(Oe),xo._currentValue=me)}var ks,js;function kn(t){if(ks===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);ks=n&&n[1]||"",js=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ks+t+js}var Us=!1;function Zi(t,n){if(!t||Us)return"";Us=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var z=H}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(H){z=H}t.call(Y.prototype)}}else{try{throw Error()}catch(H){z=H}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var C=g.split(`
`),P=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===P.length)for(l=C.length-1,h=P.length-1;1<=l&&0<=h&&C[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==P[h]){var G=`
`+C[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=h);break}}}finally{Us=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?kn(r):""}function Ji(t,n){switch(t.tag){case 26:case 27:case 5:return kn(t.type);case 16:return kn("Lazy");case 13:return t.child!==n&&n!==null?kn("Suspense Fallback"):kn("Suspense");case 19:return kn("SuspenseList");case 0:case 15:return Zi(t.type,!1);case 11:return Zi(t.type.render,!1);case 1:return Zi(t.type,!0);case 31:return kn("Activity");default:return""}}function es(t){try{var n="",r=null;do n+=Ji(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var wt=Object.prototype.hasOwnProperty,Dt=s.unstable_scheduleCallback,bi=s.unstable_cancelCallback,Dl=s.unstable_shouldYield,_a=s.unstable_requestPaint,rn=s.unstable_now,ts=s.unstable_getCurrentPriorityLevel,jr=s.unstable_ImmediatePriority,Ur=s.unstable_UserBlockingPriority,Ti=s.unstable_NormalPriority,W=s.unstable_LowPriority,se=s.unstable_IdlePriority,ce=s.log,pe=s.unstable_setDisableYieldValue,ke=null,Ge=null;function xt(t){if(typeof ce=="function"&&pe(t),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(ke,t)}catch{}}var Fe=Math.clz32?Math.clz32:An,Ut=Math.log,Tt=Math.LN2;function An(t){return t>>>=0,t===0?32:31-(Ut(t)/Tt|0)|0}var oe=256,Me=262144,re=4194304;function mt(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ht(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=mt(l):(g&=T,g!==0?h=mt(g):r||(r=T&~t,r!==0&&(h=mt(r))))):(T=l&~f,T!==0?h=mt(T):g!==0?h=mt(g):r||(r=l&~t,r!==0&&(h=mt(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function gt(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function ns(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Si(){var t=re;return re<<=1,(re&62914560)===0&&(re=4194304),t}function Ot(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function is(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function nt(t,n,r,l,h,f){var g=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,P=t.hiddenUpdates;for(r=g&~r;0<r;){var G=31-Fe(r),Y=1<<G;T[G]=0,C[G]=-1;var z=P[G];if(z!==null)for(P[G]=null,G=0;G<z.length;G++){var H=z[G];H!==null&&(H.lane&=-536870913)}r&=~Y}l!==0&&ai(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function ai(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Fe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function ss(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Fe(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function rs(t,n){var r=n&-n;return r=(r&42)!==0?1:li(r),(r&(t.suspendedLanes|n))!==0?0:r}function li(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function as(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function uu(){var t=ee.p;return t!==0?t:(t=window.event,t===void 0?32:O0(t.type))}function oi(t,n){var r=ee.p;try{return ee.p=t,n()}finally{ee.p=r}}var ui=Math.random().toString(36).slice(2),Lt="__reactFiber$"+ui,en="__reactProps$"+ui,Ai="__reactContainer$"+ui,va="__reactEvents$"+ui,Ph="__reactListeners$"+ui,cu="__reactHandles$"+ui,hu="__reactResources$"+ui,wi="__reactMarker$"+ui;function Ea(t){delete t[Lt],delete t[en],delete t[va],delete t[Ph],delete t[cu]}function xi(t){var n=t[Lt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Ai]||r[Lt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=p0(t);t!==null;){if(r=t[Lt])return r;t=p0(t)}return n}t=r,r=t.parentNode}return null}function Qn(t){if(t=t[Lt]||t[Ai]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function jn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ri(t){var n=t[hu];return n||(n=t[hu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Pt(t){t[wi]=!0}var Ol=new Set,Ml={};function Ci(t,n){Ii(t,n),Ii(t+"Capture",n)}function Ii(t,n){for(Ml[t]=n,t=0;t<n.length;t++)Ol.add(n[t])}var Vl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kl={},jl={};function fu(t){return wt.call(jl,t)?!0:wt.call(kl,t)?!1:Vl.test(t)?jl[t]=!0:(kl[t]=!0,!1)}function ba(t,n,r){if(fu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Un(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function zt(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ls(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ul(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function it(t){if(!t._valueTracker){var n=Ls(t)?"checked":"value";t._valueTracker=Ul(t,n,""+t[n])}}function Lr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Ls(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Ni(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Pr=/[\n"\\]/g;function wn(t){return t.replace(Pr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ta(t,n,r,l,h,f,g,T){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+tn(n)):t.value!==""+tn(n)&&(t.value=""+tn(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Ll(t,g,tn(n)):r!=null?Ll(t,g,tn(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+tn(T):t.removeAttribute("name")}function du(t,n,r,l,h,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){it(t);return}r=r!=null?""+tn(r):"",n=n!=null?""+tn(n):r,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),it(t)}function Ll(t,n,r){n==="number"&&Ni(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Ps(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+tn(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function mu(t,n,r){if(n!=null&&(n=""+tn(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+tn(r):""}function zs(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(bt(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=tn(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),it(t)}function xn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var gu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pl(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||gu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function zl(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&Pl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Pl(t,f,n[f])}function Sa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Aa(t){return Bs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ci(){}var Bl=null;function Kn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hs=null,Di=null;function zr(t){var n=Qn(t);if(n&&(t=n.stateNode)){var r=t[en]||null;e:switch(t=n.stateNode,n.type){case"input":if(Ta(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+wn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[en]||null;if(!h)throw Error(a(90));Ta(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Lr(l)}break e;case"textarea":mu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Ps(t,!!r.multiple,n,!1)}}}var wa=!1;function qs(t,n,r){if(wa)return t(n,r);wa=!0;try{var l=t(n);return l}finally{if(wa=!1,(Hs!==null||Di!==null)&&(uc(),Hs&&(n=Hs,t=Di,Di=Hs=null,zr(n),t)))for(n=0;n<t.length;n++)zr(t[n])}}function hi(t,n){var r=t.stateNode;if(r===null)return null;var l=r[en]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Br=!1;if(Yn)try{var lt={};Object.defineProperty(lt,"passive",{get:function(){Br=!0}}),window.addEventListener("test",lt,lt),window.removeEventListener("test",lt,lt)}catch{Br=!1}var Oi=null,Hl=null,Hr=null;function ql(){if(Hr)return Hr;var t,n=Hl,r=n.length,l,h="value"in Oi?Oi.value:Oi.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var g=r-t;for(l=1;l<=g&&n[r-l]===h[f-l];l++);return Hr=h.slice(t,1<l?1-l:void 0)}function qr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ls(){return!0}function fi(){return!1}function an(t){function n(r,l,h,f,g){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ls:fi,this.isPropagationStopped=fi,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),n}var os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mi=an(os),Gs=A({},os,{view:0,detail:0}),Gl=an(Gs),Fs,xa,Vi,Ra=A({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vi&&(Vi&&t.type==="mousemove"?(Fs=t.screenX-Vi.screenX,xa=t.screenY-Vi.screenY):xa=Fs=0,Vi=t),Fs)},movementY:function(t){return"movementY"in t?t.movementY:xa}}),Fl=an(Ra),Gr=A({},Ra,{dataTransfer:0}),yu=an(Gr),_u=A({},Gs,{relatedTarget:0}),Fr=an(_u),Ql=A({},os,{animationName:0,elapsedTime:0,pseudoElement:0}),vu=an(Ql),Ca=A({},os,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Eu=an(Ca),bu=A({},os,{data:0}),ki=an(bu),Tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Su={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Au[t])?!!n[t]:!1}function Qs(){return wu}var bn=A({},Gs,{key:function(t){if(t.key){var n=Tu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=qr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Su[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qs,charCode:function(t){return t.type==="keypress"?qr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xu=an(bn),Ru=A({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),us=an(Ru),u=A({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qs}),m=an(u),v=A({},os,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=an(v),U=A({},Ra,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=an(U),te=A({},os,{newState:0,oldState:0}),Ie=an(te),Mt=[9,13,27,32],Ze=Yn&&"CompositionEvent"in window,vt=null;Yn&&"documentMode"in document&&(vt=document.documentMode);var Xn=Yn&&"TextEvent"in window&&!vt,ji=Yn&&(!Ze||vt&&8<vt&&11>=vt),di=" ",mi=!1;function Qr(t,n){switch(t){case"keyup":return Mt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ia(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Na=!1;function nT(t,n){switch(t){case"compositionend":return Ia(n);case"keypress":return n.which!==32?null:(mi=!0,di);case"textInput":return t=n.data,t===di&&mi?null:t;default:return null}}function iT(t,n){if(Na)return t==="compositionend"||!Ze&&Qr(t,n)?(t=ql(),Hr=Hl=Oi=null,Na=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ji&&n.locale!=="ko"?null:n.data;default:return null}}var sT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!sT[t.type]:n==="textarea"}function Eg(t,n,r,l){Hs?Di?Di.push(l):Di=[l]:Hs=l,n=pc(n,"onChange"),0<n.length&&(r=new Mi("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Kl=null,Yl=null;function rT(t){n0(t,0)}function Cu(t){var n=jn(t);if(Lr(n))return t}function bg(t,n){if(t==="change")return n}var Tg=!1;if(Yn){var zh;if(Yn){var Bh="oninput"in document;if(!Bh){var Sg=document.createElement("div");Sg.setAttribute("oninput","return;"),Bh=typeof Sg.oninput=="function"}zh=Bh}else zh=!1;Tg=zh&&(!document.documentMode||9<document.documentMode)}function Ag(){Kl&&(Kl.detachEvent("onpropertychange",wg),Yl=Kl=null)}function wg(t){if(t.propertyName==="value"&&Cu(Yl)){var n=[];Eg(n,Yl,t,Kn(t)),qs(rT,n)}}function aT(t,n,r){t==="focusin"?(Ag(),Kl=n,Yl=r,Kl.attachEvent("onpropertychange",wg)):t==="focusout"&&Ag()}function lT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cu(Yl)}function oT(t,n){if(t==="click")return Cu(n)}function uT(t,n){if(t==="input"||t==="change")return Cu(n)}function cT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Ln=typeof Object.is=="function"?Object.is:cT;function Xl(t,n){if(Ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!wt.call(n,h)||!Ln(t[h],n[h]))return!1}return!0}function xg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rg(t,n){var r=xg(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=xg(r)}}function Cg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Cg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Ig(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ni(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ni(t.document)}return n}function Hh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var hT=Yn&&"documentMode"in document&&11>=document.documentMode,Da=null,qh=null,$l=null,Gh=!1;function Ng(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Gh||Da==null||Da!==Ni(l)||(l=Da,"selectionStart"in l&&Hh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),$l&&Xl($l,l)||($l=l,l=pc(qh,"onSelect"),0<l.length&&(n=new Mi("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Da)))}function Kr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Oa={animationend:Kr("Animation","AnimationEnd"),animationiteration:Kr("Animation","AnimationIteration"),animationstart:Kr("Animation","AnimationStart"),transitionrun:Kr("Transition","TransitionRun"),transitionstart:Kr("Transition","TransitionStart"),transitioncancel:Kr("Transition","TransitionCancel"),transitionend:Kr("Transition","TransitionEnd")},Fh={},Dg={};Yn&&(Dg=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function Yr(t){if(Fh[t])return Fh[t];if(!Oa[t])return t;var n=Oa[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Dg)return Fh[t]=n[r];return t}var Og=Yr("animationend"),Mg=Yr("animationiteration"),Vg=Yr("animationstart"),fT=Yr("transitionrun"),dT=Yr("transitionstart"),mT=Yr("transitioncancel"),kg=Yr("transitionend"),jg=new Map,Qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qh.push("scrollEnd");function gi(t,n){jg.set(t,n),Ci(n,[t])}var Iu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},$n=[],Ma=0,Kh=0;function Nu(){for(var t=Ma,n=Kh=Ma=0;n<t;){var r=$n[n];$n[n++]=null;var l=$n[n];$n[n++]=null;var h=$n[n];$n[n++]=null;var f=$n[n];if($n[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&Ug(r,h,f)}}function Du(t,n,r,l){$n[Ma++]=t,$n[Ma++]=n,$n[Ma++]=r,$n[Ma++]=l,Kh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Yh(t,n,r,l){return Du(t,n,r,l),Ou(t)}function Xr(t,n){return Du(t,null,null,n),Ou(t)}function Ug(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Fe(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function Ou(t){if(50<vo)throw vo=0,sd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Va={};function gT(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(t,n,r,l){return new gT(t,n,r,l)}function Xh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cs(t,n){var r=t.alternate;return r===null?(r=Pn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Lg(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Mu(t,n,r,l,h,f){var g=0;if(l=t,typeof t=="function")Xh(t)&&(g=1);else if(typeof t=="string")g=E1(t,r,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Pn(31,r,n,h),t.elementType=R,t.lanes=f,t;case ne:return $r(r.children,h,f,n);case Z:g=8,h|=24;break;case ye:return t=Pn(12,r,n,h|2),t.elementType=ye,t.lanes=f,t;case dt:return t=Pn(13,r,n,h),t.elementType=dt,t.lanes=f,t;case fe:return t=Pn(19,r,n,h),t.elementType=fe,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Te:g=10;break e;case Ce:g=9;break e;case tt:g=11;break e;case I:g=14;break e;case w:g=16,l=null;break e}g=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Pn(g,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function $r(t,n,r,l){return t=Pn(7,t,l,n),t.lanes=r,t}function $h(t,n,r){return t=Pn(6,t,null,n),t.lanes=r,t}function Pg(t){var n=Pn(18,null,null,0);return n.stateNode=t,n}function Wh(t,n,r){return n=Pn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var zg=new WeakMap;function Wn(t,n){if(typeof t=="object"&&t!==null){var r=zg.get(t);return r!==void 0?r:(n={value:t,source:n,stack:es(n)},zg.set(t,n),n)}return{value:t,source:n,stack:es(n)}}var ka=[],ja=0,Vu=null,Wl=0,Zn=[],Jn=0,Ks=null,Ui=1,Li="";function hs(t,n){ka[ja++]=Wl,ka[ja++]=Vu,Vu=t,Wl=n}function Bg(t,n,r){Zn[Jn++]=Ui,Zn[Jn++]=Li,Zn[Jn++]=Ks,Ks=t;var l=Ui;t=Li;var h=32-Fe(l)-1;l&=~(1<<h),r+=1;var f=32-Fe(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,Ui=1<<32-Fe(n)+h|r<<h|l,Li=f+t}else Ui=1<<f|r<<h|l,Li=t}function Zh(t){t.return!==null&&(hs(t,1),Bg(t,1,0))}function Jh(t){for(;t===Vu;)Vu=ka[--ja],ka[ja]=null,Wl=ka[--ja],ka[ja]=null;for(;t===Ks;)Ks=Zn[--Jn],Zn[Jn]=null,Li=Zn[--Jn],Zn[Jn]=null,Ui=Zn[--Jn],Zn[Jn]=null}function Hg(t,n){Zn[Jn++]=Ui,Zn[Jn++]=Li,Zn[Jn++]=Ks,Ui=n.id,Li=n.overflow,Ks=t}var ln=null,pt=null,Qe=!1,Ys=null,ei=!1,ef=Error(a(519));function Xs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zl(Wn(n,t)),ef}function qg(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Lt]=t,n[en]=l,r){case"dialog":Ue("cancel",n),Ue("close",n);break;case"iframe":case"object":case"embed":Ue("load",n);break;case"video":case"audio":for(r=0;r<bo.length;r++)Ue(bo[r],n);break;case"source":Ue("error",n);break;case"img":case"image":case"link":Ue("error",n),Ue("load",n);break;case"details":Ue("toggle",n);break;case"input":Ue("invalid",n),du(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ue("invalid",n);break;case"textarea":Ue("invalid",n),zs(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||a0(n.textContent,r)?(l.popover!=null&&(Ue("beforetoggle",n),Ue("toggle",n)),l.onScroll!=null&&Ue("scroll",n),l.onScrollEnd!=null&&Ue("scrollend",n),l.onClick!=null&&(n.onclick=ci),n=!0):n=!1,n||Xs(t,!0)}function Gg(t){for(ln=t.return;ln;)switch(ln.tag){case 5:case 31:case 13:ei=!1;return;case 27:case 3:ei=!0;return;default:ln=ln.return}}function Ua(t){if(t!==ln)return!1;if(!Qe)return Gg(t),Qe=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||vd(t.type,t.memoizedProps)),r=!r),r&&pt&&Xs(t),Gg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));pt=g0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));pt=g0(t)}else n===27?(n=pt,ur(t.type)?(t=Ad,Ad=null,pt=t):pt=n):pt=ln?ni(t.stateNode.nextSibling):null;return!0}function Wr(){pt=ln=null,Qe=!1}function tf(){var t=Ys;return t!==null&&(Nn===null?Nn=t:Nn.push.apply(Nn,t),Ys=null),t}function Zl(t){Ys===null?Ys=[t]:Ys.push(t)}var nf=D(null),Zr=null,fs=null;function $s(t,n,r){ie(nf,n._currentValue),n._currentValue=r}function ds(t){t._currentValue=nf.current,K(nf)}function sf(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function rf(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var C=0;C<n.length;C++)if(T.context===n[C]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),sf(f.return,r,t),l||(g=null);break e}f=T.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),sf(g,r,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function La(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var T=h.type;Ln(h.pendingProps.value,g.value)||(t!==null?t.push(T):t=[T])}}else if(h===Oe.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(xo):t=[xo])}h=h.return}t!==null&&rf(n,t,r,l),n.flags|=262144}function ku(t){for(t=t.firstContext;t!==null;){if(!Ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Jr(t){Zr=t,fs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function on(t){return Fg(Zr,t)}function ju(t,n){return Zr===null&&Jr(t),Fg(t,n)}function Fg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},fs===null){if(t===null)throw Error(a(308));fs=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else fs=fs.next=n;return r}var pT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},yT=s.unstable_scheduleCallback,_T=s.unstable_NormalPriority,Bt={$$typeof:Te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function af(){return{controller:new pT,data:new Map,refCount:0}}function Jl(t){t.refCount--,t.refCount===0&&yT(_T,function(){t.controller.abort()})}var eo=null,lf=0,Pa=0,za=null;function vT(t,n){if(eo===null){var r=eo=[];lf=0,Pa=cd(),za={status:"pending",value:void 0,then:function(l){r.push(l)}}}return lf++,n.then(Qg,Qg),n}function Qg(){if(--lf===0&&eo!==null){za!==null&&(za.status="fulfilled");var t=eo;eo=null,Pa=0,za=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function ET(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var Kg=q.S;q.S=function(t,n){Ny=rn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&vT(t,n),Kg!==null&&Kg(t,n)};var ea=D(null);function of(){var t=ea.current;return t!==null?t:ft.pooledCache}function Uu(t,n){n===null?ie(ea,ea.current):ie(ea,n.pool)}function Yg(){var t=of();return t===null?null:{parent:Bt._currentValue,pool:t}}var Ba=Error(a(460)),uf=Error(a(474)),Lu=Error(a(542)),Pu={then:function(){}};function Xg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function $g(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(ci,ci),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Zg(t),t;default:if(typeof n.status=="string")n.then(ci,ci);else{if(t=ft,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Zg(t),t}throw na=n,Ba}}function ta(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(na=r,Ba):r}}var na=null;function Wg(){if(na===null)throw Error(a(459));var t=na;return na=null,t}function Zg(t){if(t===Ba||t===Lu)throw Error(a(483))}var Ha=null,to=0;function zu(t){var n=to;return to+=1,Ha===null&&(Ha=[]),$g(Ha,t,n)}function no(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Bu(t,n){throw n.$$typeof===M?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Jg(t){function n(k,N){if(t){var L=k.deletions;L===null?(k.deletions=[N],k.flags|=16):L.push(N)}}function r(k,N){if(!t)return null;for(;N!==null;)n(k,N),N=N.sibling;return null}function l(k){for(var N=new Map;k!==null;)k.key!==null?N.set(k.key,k):N.set(k.index,k),k=k.sibling;return N}function h(k,N){return k=cs(k,N),k.index=0,k.sibling=null,k}function f(k,N,L){return k.index=L,t?(L=k.alternate,L!==null?(L=L.index,L<N?(k.flags|=67108866,N):L):(k.flags|=67108866,N)):(k.flags|=1048576,N)}function g(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function T(k,N,L,Q){return N===null||N.tag!==6?(N=$h(L,k.mode,Q),N.return=k,N):(N=h(N,L),N.return=k,N)}function C(k,N,L,Q){var ge=L.type;return ge===ne?G(k,N,L.props.children,Q,L.key):N!==null&&(N.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===w&&ta(ge)===N.type)?(N=h(N,L.props),no(N,L),N.return=k,N):(N=Mu(L.type,L.key,L.props,null,k.mode,Q),no(N,L),N.return=k,N)}function P(k,N,L,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=Wh(L,k.mode,Q),N.return=k,N):(N=h(N,L.children||[]),N.return=k,N)}function G(k,N,L,Q,ge){return N===null||N.tag!==7?(N=$r(L,k.mode,Q,ge),N.return=k,N):(N=h(N,L),N.return=k,N)}function Y(k,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=$h(""+N,k.mode,L),N.return=k,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case F:return L=Mu(N.type,N.key,N.props,null,k.mode,L),no(L,N),L.return=k,L;case J:return N=Wh(N,k.mode,L),N.return=k,N;case w:return N=ta(N),Y(k,N,L)}if(bt(N)||j(N))return N=$r(N,k.mode,L,null),N.return=k,N;if(typeof N.then=="function")return Y(k,zu(N),L);if(N.$$typeof===Te)return Y(k,ju(k,N),L);Bu(k,N)}return null}function z(k,N,L,Q){var ge=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ge!==null?null:T(k,N,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case F:return L.key===ge?C(k,N,L,Q):null;case J:return L.key===ge?P(k,N,L,Q):null;case w:return L=ta(L),z(k,N,L,Q)}if(bt(L)||j(L))return ge!==null?null:G(k,N,L,Q,null);if(typeof L.then=="function")return z(k,N,zu(L),Q);if(L.$$typeof===Te)return z(k,N,ju(k,L),Q);Bu(k,L)}return null}function H(k,N,L,Q,ge){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(L)||null,T(N,k,""+Q,ge);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:return k=k.get(Q.key===null?L:Q.key)||null,C(N,k,Q,ge);case J:return k=k.get(Q.key===null?L:Q.key)||null,P(N,k,Q,ge);case w:return Q=ta(Q),H(k,N,L,Q,ge)}if(bt(Q)||j(Q))return k=k.get(L)||null,G(N,k,Q,ge,null);if(typeof Q.then=="function")return H(k,N,L,zu(Q),ge);if(Q.$$typeof===Te)return H(k,N,L,ju(N,Q),ge);Bu(N,Q)}return null}function ue(k,N,L,Q){for(var ge=null,$e=null,he=N,De=N=0,Pe=null;he!==null&&De<L.length;De++){he.index>De?(Pe=he,he=null):Pe=he.sibling;var We=z(k,he,L[De],Q);if(We===null){he===null&&(he=Pe);break}t&&he&&We.alternate===null&&n(k,he),N=f(We,N,De),$e===null?ge=We:$e.sibling=We,$e=We,he=Pe}if(De===L.length)return r(k,he),Qe&&hs(k,De),ge;if(he===null){for(;De<L.length;De++)he=Y(k,L[De],Q),he!==null&&(N=f(he,N,De),$e===null?ge=he:$e.sibling=he,$e=he);return Qe&&hs(k,De),ge}for(he=l(he);De<L.length;De++)Pe=H(he,k,De,L[De],Q),Pe!==null&&(t&&Pe.alternate!==null&&he.delete(Pe.key===null?De:Pe.key),N=f(Pe,N,De),$e===null?ge=Pe:$e.sibling=Pe,$e=Pe);return t&&he.forEach(function(mr){return n(k,mr)}),Qe&&hs(k,De),ge}function ve(k,N,L,Q){if(L==null)throw Error(a(151));for(var ge=null,$e=null,he=N,De=N=0,Pe=null,We=L.next();he!==null&&!We.done;De++,We=L.next()){he.index>De?(Pe=he,he=null):Pe=he.sibling;var mr=z(k,he,We.value,Q);if(mr===null){he===null&&(he=Pe);break}t&&he&&mr.alternate===null&&n(k,he),N=f(mr,N,De),$e===null?ge=mr:$e.sibling=mr,$e=mr,he=Pe}if(We.done)return r(k,he),Qe&&hs(k,De),ge;if(he===null){for(;!We.done;De++,We=L.next())We=Y(k,We.value,Q),We!==null&&(N=f(We,N,De),$e===null?ge=We:$e.sibling=We,$e=We);return Qe&&hs(k,De),ge}for(he=l(he);!We.done;De++,We=L.next())We=H(he,k,De,We.value,Q),We!==null&&(t&&We.alternate!==null&&he.delete(We.key===null?De:We.key),N=f(We,N,De),$e===null?ge=We:$e.sibling=We,$e=We);return t&&he.forEach(function(D1){return n(k,D1)}),Qe&&hs(k,De),ge}function ct(k,N,L,Q){if(typeof L=="object"&&L!==null&&L.type===ne&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case F:e:{for(var ge=L.key;N!==null;){if(N.key===ge){if(ge=L.type,ge===ne){if(N.tag===7){r(k,N.sibling),Q=h(N,L.props.children),Q.return=k,k=Q;break e}}else if(N.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===w&&ta(ge)===N.type){r(k,N.sibling),Q=h(N,L.props),no(Q,L),Q.return=k,k=Q;break e}r(k,N);break}else n(k,N);N=N.sibling}L.type===ne?(Q=$r(L.props.children,k.mode,Q,L.key),Q.return=k,k=Q):(Q=Mu(L.type,L.key,L.props,null,k.mode,Q),no(Q,L),Q.return=k,k=Q)}return g(k);case J:e:{for(ge=L.key;N!==null;){if(N.key===ge)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){r(k,N.sibling),Q=h(N,L.children||[]),Q.return=k,k=Q;break e}else{r(k,N);break}else n(k,N);N=N.sibling}Q=Wh(L,k.mode,Q),Q.return=k,k=Q}return g(k);case w:return L=ta(L),ct(k,N,L,Q)}if(bt(L))return ue(k,N,L,Q);if(j(L)){if(ge=j(L),typeof ge!="function")throw Error(a(150));return L=ge.call(L),ve(k,N,L,Q)}if(typeof L.then=="function")return ct(k,N,zu(L),Q);if(L.$$typeof===Te)return ct(k,N,ju(k,L),Q);Bu(k,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(r(k,N.sibling),Q=h(N,L),Q.return=k,k=Q):(r(k,N),Q=$h(L,k.mode,Q),Q.return=k,k=Q),g(k)):r(k,N)}return function(k,N,L,Q){try{to=0;var ge=ct(k,N,L,Q);return Ha=null,ge}catch(he){if(he===Ba||he===Lu)throw he;var $e=Pn(29,he,null,k.mode);return $e.lanes=Q,$e.return=k,$e}finally{}}}var ia=Jg(!0),ep=Jg(!1),Ws=!1;function cf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Zs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Js(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Je&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Ou(t),Ug(t,null,r),n}return Du(t,l,n,r),Ou(t)}function io(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,ss(t,r)}}function ff(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var df=!1;function so(){if(df){var t=za;if(t!==null)throw t}}function ro(t,n,r,l){df=!1;var h=t.updateQueue;Ws=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,P=C.next;C.next=null,g===null?f=P:g.next=P,g=C;var G=t.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==g&&(T===null?G.firstBaseUpdate=P:T.next=P,G.lastBaseUpdate=C))}if(f!==null){var Y=h.baseState;g=0,G=P=C=null,T=f;do{var z=T.lane&-536870913,H=z!==T.lane;if(H?(Le&z)===z:(l&z)===z){z!==0&&z===Pa&&(df=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ue=t,ve=T;z=n;var ct=r;switch(ve.tag){case 1:if(ue=ve.payload,typeof ue=="function"){Y=ue.call(ct,Y,z);break e}Y=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ve.payload,z=typeof ue=="function"?ue.call(ct,Y,z):ue,z==null)break e;Y=A({},Y,z);break e;case 2:Ws=!0}}z=T.callback,z!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(P=G=H,C=Y):G=G.next=H,g|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(C=Y),h.baseState=C,h.firstBaseUpdate=P,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),sr|=g,t.lanes=g,t.memoizedState=Y}}function tp(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function np(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)tp(r[t],n)}var qa=D(null),Hu=D(0);function ip(t,n){t=Ts,ie(Hu,t),ie(qa,n),Ts=t|n.baseLanes}function mf(){ie(Hu,Ts),ie(qa,qa.current)}function gf(){Ts=Hu.current,K(qa),K(Hu)}var zn=D(null),ti=null;function er(t){var n=t.alternate;ie(Vt,Vt.current&1),ie(zn,t),ti===null&&(n===null||qa.current!==null||n.memoizedState!==null)&&(ti=t)}function pf(t){ie(Vt,Vt.current),ie(zn,t),ti===null&&(ti=t)}function sp(t){t.tag===22?(ie(Vt,Vt.current),ie(zn,t),ti===null&&(ti=t)):tr()}function tr(){ie(Vt,Vt.current),ie(zn,zn.current)}function Bn(t){K(zn),ti===t&&(ti=null),K(Vt)}var Vt=D(0);function qu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Td(r)||Sd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ms=0,Ne=null,ot=null,Ht=null,Gu=!1,Ga=!1,sa=!1,Fu=0,ao=0,Fa=null,bT=0;function Rt(){throw Error(a(321))}function yf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Ln(t[r],n[r]))return!1;return!0}function _f(t,n,r,l,h,f){return ms=f,Ne=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=t===null||t.memoizedState===null?Bp:Mf,sa=!1,f=r(l,h),sa=!1,Ga&&(f=ap(n,r,l,h)),rp(t),f}function rp(t){q.H=uo;var n=ot!==null&&ot.next!==null;if(ms=0,Ht=ot=Ne=null,Gu=!1,ao=0,Fa=null,n)throw Error(a(300));t===null||qt||(t=t.dependencies,t!==null&&ku(t)&&(qt=!0))}function ap(t,n,r,l){Ne=t;var h=0;do{if(Ga&&(Fa=null),ao=0,Ga=!1,25<=h)throw Error(a(301));if(h+=1,Ht=ot=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=Hp,f=n(r,l)}while(Ga);return f}function TT(){var t=q.H,n=t.useState()[0];return n=typeof n.then=="function"?lo(n):n,t=t.useState()[0],(ot!==null?ot.memoizedState:null)!==t&&(Ne.flags|=1024),n}function vf(){var t=Fu!==0;return Fu=0,t}function Ef(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function bf(t){if(Gu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Gu=!1}ms=0,Ht=ot=Ne=null,Ga=!1,ao=Fu=0,Fa=null}function Tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?Ne.memoizedState=Ht=t:Ht=Ht.next=t,Ht}function kt(){if(ot===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var n=Ht===null?Ne.memoizedState:Ht.next;if(n!==null)Ht=n,ot=t;else{if(t===null)throw Ne.alternate===null?Error(a(467)):Error(a(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Ht===null?Ne.memoizedState=Ht=t:Ht=Ht.next=t}return Ht}function Qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function lo(t){var n=ao;return ao+=1,Fa===null&&(Fa=[]),t=$g(Fa,t,n),n=Ne,(Ht===null?n.memoizedState:Ht.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?Bp:Mf),t}function Ku(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return lo(t);if(t.$$typeof===Te)return on(t)}throw Error(a(438,String(t)))}function Tf(t){var n=null,r=Ne.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Qu(),Ne.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=V;return n.index++,r}function gs(t,n){return typeof n=="function"?n(t):n}function Yu(t){var n=kt();return Sf(n,ot,t)}function Sf(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=g=null,C=null,P=n,G=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(Le&Y)===Y:(ms&Y)===Y){var z=P.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===Pa&&(G=!0);else if((ms&z)===z){P=P.next,z===Pa&&(G=!0);continue}else Y={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(T=C=Y,g=f):C=C.next=Y,Ne.lanes|=z,sr|=z;Y=P.action,sa&&r(f,Y),f=P.hasEagerState?P.eagerState:r(f,Y)}else z={lane:Y,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(T=C=z,g=f):C=C.next=z,Ne.lanes|=Y,sr|=Y;P=P.next}while(P!==null&&P!==n);if(C===null?g=f:C.next=T,!Ln(f,t.memoizedState)&&(qt=!0,G&&(r=za,r!==null)))throw r;t.memoizedState=f,t.baseState=g,t.baseQueue=C,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Af(t){var n=kt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);Ln(f,n.memoizedState)||(qt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function lp(t,n,r){var l=Ne,h=kt(),f=Qe;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!Ln((ot||h).memoizedState,r);if(g&&(h.memoizedState=r,qt=!0),h=h.queue,Rf(cp.bind(null,l,h,t),[t]),h.getSnapshot!==n||g||Ht!==null&&Ht.memoizedState.tag&1){if(l.flags|=2048,Qa(9,{destroy:void 0},up.bind(null,l,h,r,n),null),ft===null)throw Error(a(349));f||(ms&127)!==0||op(l,n,r)}return r}function op(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Ne.updateQueue,n===null?(n=Qu(),Ne.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function up(t,n,r,l){n.value=r,n.getSnapshot=l,hp(n)&&fp(t)}function cp(t,n,r){return r(function(){hp(n)&&fp(t)})}function hp(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Ln(t,r)}catch{return!0}}function fp(t){var n=Xr(t,2);n!==null&&Dn(n,t,2)}function wf(t){var n=Tn();if(typeof t=="function"){var r=t;if(t=r(),sa){xt(!0);try{r()}finally{xt(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:t},n}function dp(t,n,r,l){return t.baseState=r,Sf(t,ot,typeof l=="function"?l:gs)}function ST(t,n,r,l,h){if(Wu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};q.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,mp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function mp(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=q.T,g={};q.T=g;try{var T=r(h,l),C=q.S;C!==null&&C(g,T),gp(t,n,T)}catch(P){xf(t,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),q.T=f}}else try{f=r(h,l),gp(t,n,f)}catch(P){xf(t,n,P)}}function gp(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){pp(t,n,l)},function(l){return xf(t,n,l)}):pp(t,n,r)}function pp(t,n,r){n.status="fulfilled",n.value=r,yp(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,mp(t,r)))}function xf(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,yp(n),n=n.next;while(n!==l)}t.action=null}function yp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function _p(t,n){return n}function vp(t,n){if(Qe){var r=ft.formState;if(r!==null){e:{var l=Ne;if(Qe){if(pt){t:{for(var h=pt,f=ei;h.nodeType!==8;){if(!f){h=null;break t}if(h=ni(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){pt=ni(h.nextSibling),l=h.data==="F!";break e}}Xs(l)}l=!1}l&&(n=r[0])}}return r=Tn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_p,lastRenderedState:n},r.queue=l,r=Lp.bind(null,Ne,l),l.dispatch=r,l=wf(!1),f=Of.bind(null,Ne,!1,l.queue),l=Tn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=ST.bind(null,Ne,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function Ep(t){var n=kt();return bp(n,ot,t)}function bp(t,n,r){if(n=Sf(t,n,_p)[0],t=Yu(gs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=lo(n)}catch(g){throw g===Ba?Lu:g}else l=n;n=kt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Ne.flags|=2048,Qa(9,{destroy:void 0},AT.bind(null,h,r),null)),[l,f,t]}function AT(t,n){t.action=n}function Tp(t){var n=kt(),r=ot;if(r!==null)return bp(n,r,t);kt(),n=n.memoizedState,r=kt();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Qa(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Ne.updateQueue,n===null&&(n=Qu(),Ne.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Sp(){return kt().memoizedState}function Xu(t,n,r,l){var h=Tn();Ne.flags|=t,h.memoizedState=Qa(1|n,{destroy:void 0},r,l===void 0?null:l)}function $u(t,n,r,l){var h=kt();l=l===void 0?null:l;var f=h.memoizedState.inst;ot!==null&&l!==null&&yf(l,ot.memoizedState.deps)?h.memoizedState=Qa(n,f,r,l):(Ne.flags|=t,h.memoizedState=Qa(1|n,f,r,l))}function Ap(t,n){Xu(8390656,8,t,n)}function Rf(t,n){$u(2048,8,t,n)}function wT(t){Ne.flags|=4;var n=Ne.updateQueue;if(n===null)n=Qu(),Ne.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function wp(t){var n=kt().memoizedState;return wT({ref:n,nextImpl:t}),function(){if((Je&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function xp(t,n){return $u(4,2,t,n)}function Rp(t,n){return $u(4,4,t,n)}function Cp(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Ip(t,n,r){r=r!=null?r.concat([t]):null,$u(4,4,Cp.bind(null,n,t),r)}function Cf(){}function Np(t,n){var r=kt();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&yf(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Dp(t,n){var r=kt();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&yf(n,l[1]))return l[0];if(l=t(),sa){xt(!0);try{t()}finally{xt(!1)}}return r.memoizedState=[l,n],l}function If(t,n,r){return r===void 0||(ms&1073741824)!==0&&(Le&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Oy(),Ne.lanes|=t,sr|=t,r)}function Op(t,n,r,l){return Ln(r,n)?r:qa.current!==null?(t=If(t,r,l),Ln(t,n)||(qt=!0),t):(ms&42)===0||(ms&1073741824)!==0&&(Le&261930)===0?(qt=!0,t.memoizedState=r):(t=Oy(),Ne.lanes|=t,sr|=t,n)}function Mp(t,n,r,l,h){var f=ee.p;ee.p=f!==0&&8>f?f:8;var g=q.T,T={};q.T=T,Of(t,!1,n,r);try{var C=h(),P=q.S;if(P!==null&&P(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=ET(C,l);oo(t,n,G,Gn(t))}else oo(t,n,l,Gn(t))}catch(Y){oo(t,n,{then:function(){},status:"rejected",reason:Y},Gn())}finally{ee.p=f,g!==null&&T.types!==null&&(g.types=T.types),q.T=g}}function xT(){}function Nf(t,n,r,l){if(t.tag!==5)throw Error(a(476));var h=Vp(t).queue;Mp(t,h,n,me,r===null?xT:function(){return kp(t),r(l)})}function Vp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:me},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function kp(t){var n=Vp(t);n.next===null&&(n=t.alternate.memoizedState),oo(t,n.next.queue,{},Gn())}function Df(){return on(xo)}function jp(){return kt().memoizedState}function Up(){return kt().memoizedState}function RT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Gn();t=Zs(r);var l=Js(n,t,r);l!==null&&(Dn(l,n,r),io(l,n,r)),n={cache:af()},t.payload=n;return}n=n.return}}function CT(t,n,r){var l=Gn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Wu(t)?Pp(n,r):(r=Yh(t,n,r,l),r!==null&&(Dn(r,t,l),zp(r,n,l)))}function Lp(t,n,r){var l=Gn();oo(t,n,r,l)}function oo(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Wu(t))Pp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,r);if(h.hasEagerState=!0,h.eagerState=T,Ln(T,g))return Du(t,n,h,0),ft===null&&Nu(),!1}catch{}finally{}if(r=Yh(t,n,h,l),r!==null)return Dn(r,t,l),zp(r,n,l),!0}return!1}function Of(t,n,r,l){if(l={lane:2,revertLane:cd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Wu(t)){if(n)throw Error(a(479))}else n=Yh(t,r,l,2),n!==null&&Dn(n,t,2)}function Wu(t){var n=t.alternate;return t===Ne||n!==null&&n===Ne}function Pp(t,n){Ga=Gu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function zp(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,ss(t,r)}}var uo={readContext:on,use:Ku,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useLayoutEffect:Rt,useInsertionEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useSyncExternalStore:Rt,useId:Rt,useHostTransitionStatus:Rt,useFormState:Rt,useActionState:Rt,useOptimistic:Rt,useMemoCache:Rt,useCacheRefresh:Rt};uo.useEffectEvent=Rt;var Bp={readContext:on,use:Ku,useCallback:function(t,n){return Tn().memoizedState=[t,n===void 0?null:n],t},useContext:on,useEffect:Ap,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Xu(4194308,4,Cp.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Xu(4194308,4,t,n)},useInsertionEffect:function(t,n){Xu(4,2,t,n)},useMemo:function(t,n){var r=Tn();n=n===void 0?null:n;var l=t();if(sa){xt(!0);try{t()}finally{xt(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=Tn();if(r!==void 0){var h=r(n);if(sa){xt(!0);try{r(n)}finally{xt(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=CT.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var n=Tn();return t={current:t},n.memoizedState=t},useState:function(t){t=wf(t);var n=t.queue,r=Lp.bind(null,Ne,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Cf,useDeferredValue:function(t,n){var r=Tn();return If(r,t,n)},useTransition:function(){var t=wf(!1);return t=Mp.bind(null,Ne,t.queue,!0,!1),Tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Ne,h=Tn();if(Qe){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),ft===null)throw Error(a(349));(Le&127)!==0||op(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Ap(cp.bind(null,l,f,t),[t]),l.flags|=2048,Qa(9,{destroy:void 0},up.bind(null,l,f,r,n),null),r},useId:function(){var t=Tn(),n=ft.identifierPrefix;if(Qe){var r=Li,l=Ui;r=(l&~(1<<32-Fe(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Fu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=bT++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Df,useFormState:vp,useActionState:vp,useOptimistic:function(t){var n=Tn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Of.bind(null,Ne,!0,r),r.dispatch=n,[t,n]},useMemoCache:Tf,useCacheRefresh:function(){return Tn().memoizedState=RT.bind(null,Ne)},useEffectEvent:function(t){var n=Tn(),r={impl:t};return n.memoizedState=r,function(){if((Je&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Mf={readContext:on,use:Ku,useCallback:Np,useContext:on,useEffect:Rf,useImperativeHandle:Ip,useInsertionEffect:xp,useLayoutEffect:Rp,useMemo:Dp,useReducer:Yu,useRef:Sp,useState:function(){return Yu(gs)},useDebugValue:Cf,useDeferredValue:function(t,n){var r=kt();return Op(r,ot.memoizedState,t,n)},useTransition:function(){var t=Yu(gs)[0],n=kt().memoizedState;return[typeof t=="boolean"?t:lo(t),n]},useSyncExternalStore:lp,useId:jp,useHostTransitionStatus:Df,useFormState:Ep,useActionState:Ep,useOptimistic:function(t,n){var r=kt();return dp(r,ot,t,n)},useMemoCache:Tf,useCacheRefresh:Up};Mf.useEffectEvent=wp;var Hp={readContext:on,use:Ku,useCallback:Np,useContext:on,useEffect:Rf,useImperativeHandle:Ip,useInsertionEffect:xp,useLayoutEffect:Rp,useMemo:Dp,useReducer:Af,useRef:Sp,useState:function(){return Af(gs)},useDebugValue:Cf,useDeferredValue:function(t,n){var r=kt();return ot===null?If(r,t,n):Op(r,ot.memoizedState,t,n)},useTransition:function(){var t=Af(gs)[0],n=kt().memoizedState;return[typeof t=="boolean"?t:lo(t),n]},useSyncExternalStore:lp,useId:jp,useHostTransitionStatus:Df,useFormState:Tp,useActionState:Tp,useOptimistic:function(t,n){var r=kt();return ot!==null?dp(r,ot,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Tf,useCacheRefresh:Up};Hp.useEffectEvent=wp;function Vf(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var kf={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Gn(),h=Zs(l);h.payload=n,r!=null&&(h.callback=r),n=Js(t,h,l),n!==null&&(Dn(n,t,l),io(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Gn(),h=Zs(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Js(t,h,l),n!==null&&(Dn(n,t,l),io(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Gn(),l=Zs(r);l.tag=2,n!=null&&(l.callback=n),n=Js(t,l,r),n!==null&&(Dn(n,t,r),io(n,t,r))}};function qp(t,n,r,l,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Xl(r,l)||!Xl(h,f):!0}function Gp(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&kf.enqueueReplaceState(n,n.state,null)}function ra(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function Fp(t){Iu(t)}function Qp(t){console.error(t)}function Kp(t){Iu(t)}function Zu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Yp(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function jf(t,n,r){return r=Zs(r),r.tag=3,r.payload={element:null},r.callback=function(){Zu(t,n)},r}function Xp(t){return t=Zs(t),t.tag=3,t}function $p(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Yp(n,r,l)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Yp(n,r,l),typeof h!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function IT(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&La(n,r,h,!0),r=zn.current,r!==null){switch(r.tag){case 31:case 13:return ti===null?cc():r.alternate===null&&Ct===0&&(Ct=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Pu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),ld(t,l,h)),!1;case 22:return r.flags|=65536,l===Pu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),ld(t,l,h)),!1}throw Error(a(435,r.tag))}return ld(t,l,h),cc(),!1}if(Qe)return n=zn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==ef&&(t=Error(a(422),{cause:l}),Zl(Wn(t,r)))):(l!==ef&&(n=Error(a(423),{cause:l}),Zl(Wn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Wn(l,r),h=jf(t.stateNode,l,h),ff(t,h),Ct!==4&&(Ct=2)),!1;var f=Error(a(520),{cause:l});if(f=Wn(f,r),_o===null?_o=[f]:_o.push(f),Ct!==4&&(Ct=2),n===null)return!0;l=Wn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=jf(r.stateNode,l,t),ff(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(rr===null||!rr.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Xp(h),$p(h,t,r,l),ff(r,h),!1}r=r.return}while(r!==null);return!1}var Uf=Error(a(461)),qt=!1;function un(t,n,r,l){n.child=t===null?ep(n,null,r,l):ia(n,t.child,r,l)}function Wp(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var g={};for(var T in l)T!=="ref"&&(g[T]=l[T])}else g=l;return Jr(n),l=_f(t,n,r,g,f,h),T=vf(),t!==null&&!qt?(Ef(t,n,h),ps(t,n,h)):(Qe&&T&&Zh(n),n.flags|=1,un(t,n,l,h),n.child)}function Zp(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!Xh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Jp(t,n,f,l,h)):(t=Mu(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Ff(t,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Xl,r(g,l)&&t.ref===n.ref)return ps(t,n,h)}return n.flags|=1,t=cs(f,l),t.ref=n.ref,t.return=n,n.child=t}function Jp(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(Xl(f,l)&&t.ref===n.ref)if(qt=!1,n.pendingProps=l=f,Ff(t,h))(t.flags&131072)!==0&&(qt=!0);else return n.lanes=t.lanes,ps(t,n,h)}return Lf(t,n,r,l,h)}function ey(t,n,r,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return ty(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Uu(n,f!==null?f.cachePool:null),f!==null?ip(n,f):mf(),sp(n);else return l=n.lanes=536870912,ty(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(Uu(n,f.cachePool),ip(n,f),tr(),n.memoizedState=null):(t!==null&&Uu(n,null),mf(),tr());return un(t,n,h,r),n.child}function co(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ty(t,n,r,l,h){var f=of();return f=f===null?null:{parent:Bt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Uu(n,null),mf(),sp(n),t!==null&&La(t,n,l,!0),n.childLanes=h,null}function Ju(t,n){return n=tc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function ny(t,n,r){return ia(n,t.child,null,r),t=Ju(n,n.pendingProps),t.flags|=2,Bn(n),n.memoizedState=null,t}function NT(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Qe){if(l.mode==="hidden")return t=Ju(n,l),n.lanes=536870912,co(null,t);if(pf(n),(t=pt)?(t=m0(t,ei),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ks!==null?{id:Ui,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},r=Pg(t),r.return=n,n.child=r,ln=n,pt=null)):t=null,t===null)throw Xs(n);return n.lanes=536870912,null}return Ju(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(pf(n),h)if(n.flags&256)n.flags&=-257,n=ny(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(qt||La(t,n,r,!1),h=(r&t.childLanes)!==0,qt||h){if(l=ft,l!==null&&(g=rs(l,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Xr(t,g),Dn(l,t,g),Uf;cc(),n=ny(t,n,r)}else t=f.treeContext,pt=ni(g.nextSibling),ln=n,Qe=!0,Ys=null,ei=!1,t!==null&&Hg(n,t),n=Ju(n,l),n.flags|=4096;return n}return t=cs(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ec(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Lf(t,n,r,l,h){return Jr(n),r=_f(t,n,r,l,void 0,h),l=vf(),t!==null&&!qt?(Ef(t,n,h),ps(t,n,h)):(Qe&&l&&Zh(n),n.flags|=1,un(t,n,r,h),n.child)}function iy(t,n,r,l,h,f){return Jr(n),n.updateQueue=null,r=ap(n,l,r,h),rp(t),l=vf(),t!==null&&!qt?(Ef(t,n,f),ps(t,n,f)):(Qe&&l&&Zh(n),n.flags|=1,un(t,n,r,f),n.child)}function sy(t,n,r,l,h){if(Jr(n),n.stateNode===null){var f=Va,g=r.contextType;typeof g=="object"&&g!==null&&(f=on(g)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=kf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},cf(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?on(g):Va,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Vf(n,r,g,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&kf.enqueueReplaceState(f,f.state,null),ro(n,l,f,h),so(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,C=ra(r,T);f.props=C;var P=f.context,G=r.contextType;g=Va,typeof G=="object"&&G!==null&&(g=on(G));var Y=r.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||P!==g)&&Gp(n,f,l,g),Ws=!1;var z=n.memoizedState;f.state=z,ro(n,l,f,h),so(),P=n.memoizedState,T||z!==P||Ws?(typeof Y=="function"&&(Vf(n,r,Y,l),P=n.memoizedState),(C=Ws||qp(n,r,C,l,z,P,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=g,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,hf(t,n),g=n.memoizedProps,G=ra(r,g),f.props=G,Y=n.pendingProps,z=f.context,P=r.contextType,C=Va,typeof P=="object"&&P!==null&&(C=on(P)),T=r.getDerivedStateFromProps,(P=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||z!==C)&&Gp(n,f,l,C),Ws=!1,z=n.memoizedState,f.state=z,ro(n,l,f,h),so();var H=n.memoizedState;g!==Y||z!==H||Ws||t!==null&&t.dependencies!==null&&ku(t.dependencies)?(typeof T=="function"&&(Vf(n,r,T,l),H=n.memoizedState),(G=Ws||qp(n,r,G,l,z,H,C)||t!==null&&t.dependencies!==null&&ku(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=C,l=G):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,ec(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ia(n,t.child,null,h),n.child=ia(n,null,r,h)):un(t,n,r,h),n.memoizedState=f.state,t=n.child):t=ps(t,n,h),t}function ry(t,n,r,l){return Wr(),n.flags|=256,un(t,n,r,l),n.child}var Pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zf(t){return{baseLanes:t,cachePool:Yg()}}function Bf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=qn),t}function ay(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Vt.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Qe){if(h?er(n):tr(),(t=pt)?(t=m0(t,ei),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ks!==null?{id:Ui,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},r=Pg(t),r.return=n,n.child=r,ln=n,pt=null)):t=null,t===null)throw Xs(n);return Sd(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(tr(),h=n.mode,T=tc({mode:"hidden",children:T},h),l=$r(l,h,r,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=zf(r),l.childLanes=Bf(t,g,r),n.memoizedState=Pf,co(null,l)):(er(n),Hf(n,T))}var C=t.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(f)n.flags&256?(er(n),n.flags&=-257,n=qf(t,n,r)):n.memoizedState!==null?(tr(),n.child=t.child,n.flags|=128,n=null):(tr(),T=l.fallback,h=n.mode,l=tc({mode:"visible",children:l.children},h),T=$r(T,h,r,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,ia(n,t.child,null,r),l=n.child,l.memoizedState=zf(r),l.childLanes=Bf(t,g,r),n.memoizedState=Pf,n=co(null,l));else if(er(n),Sd(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var P=g.dgst;g=P,l=Error(a(419)),l.stack="",l.digest=g,Zl({value:l,source:null,stack:null}),n=qf(t,n,r)}else if(qt||La(t,n,r,!1),g=(r&t.childLanes)!==0,qt||g){if(g=ft,g!==null&&(l=rs(g,r),l!==0&&l!==C.retryLane))throw C.retryLane=l,Xr(t,l),Dn(g,t,l),Uf;Td(T)||cc(),n=qf(t,n,r)}else Td(T)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,pt=ni(T.nextSibling),ln=n,Qe=!0,Ys=null,ei=!1,t!==null&&Hg(n,t),n=Hf(n,l.children),n.flags|=4096);return n}return h?(tr(),T=l.fallback,h=n.mode,C=t.child,P=C.sibling,l=cs(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,P!==null?T=cs(P,T):(T=$r(T,h,r,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,co(null,l),l=n.child,T=t.child.memoizedState,T===null?T=zf(r):(h=T.cachePool,h!==null?(C=Bt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Yg(),T={baseLanes:T.baseLanes|r,cachePool:h}),l.memoizedState=T,l.childLanes=Bf(t,g,r),n.memoizedState=Pf,co(t.child,l)):(er(n),r=t.child,t=r.sibling,r=cs(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=r,n.memoizedState=null,r)}function Hf(t,n){return n=tc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function tc(t,n){return t=Pn(22,t,null,n),t.lanes=0,t}function qf(t,n,r){return ia(n,t.child,null,r),t=Hf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ly(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),sf(t.return,n,r)}function Gf(t,n,r,l,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function oy(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=Vt.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,ie(Vt,g),un(t,n,l,r),l=Qe?Wl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ly(t,r,n);else if(t.tag===19)ly(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&qu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Gf(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&qu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Gf(n,!0,r,null,f,l);break;case"together":Gf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ps(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),sr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(La(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=cs(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=cs(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Ff(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ku(t)))}function DT(t,n,r){switch(n.tag){case 3:Nt(n,n.stateNode.containerInfo),$s(n,Bt,t.memoizedState.cache),Wr();break;case 27:case 5:$i(n);break;case 4:Nt(n,n.stateNode.containerInfo);break;case 10:$s(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,pf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(er(n),n.flags|=128,null):(r&n.child.childLanes)!==0?ay(t,n,r):(er(n),t=ps(t,n,r),t!==null?t.sibling:null);er(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(La(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return oy(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(Vt,Vt.current),l)break;return null;case 22:return n.lanes=0,ey(t,n,r,n.pendingProps);case 24:$s(n,Bt,t.memoizedState.cache)}return ps(t,n,r)}function uy(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)qt=!0;else{if(!Ff(t,r)&&(n.flags&128)===0)return qt=!1,DT(t,n,r);qt=(t.flags&131072)!==0}else qt=!1,Qe&&(n.flags&1048576)!==0&&Bg(n,Wl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=ta(n.elementType),n.type=t,typeof t=="function")Xh(t)?(l=ra(t,l),n.tag=1,n=sy(null,n,t,l,r)):(n.tag=0,n=Lf(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===tt){n.tag=11,n=Wp(null,n,t,l,r);break e}else if(h===I){n.tag=14,n=Zp(null,n,t,l,r);break e}}throw n=Xe(t)||t,Error(a(306,n,""))}}return n;case 0:return Lf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=ra(l,n.pendingProps),sy(t,n,l,h,r);case 3:e:{if(Nt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,hf(t,n),ro(n,l,null,r);var g=n.memoizedState;if(l=g.cache,$s(n,Bt,l),l!==f.cache&&rf(n,[Bt],r,!0),so(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ry(t,n,l,r);break e}else if(l!==h){h=Wn(Error(a(424)),n),Zl(h),n=ry(t,n,l,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(pt=ni(t.firstChild),ln=n,Qe=!0,Ys=null,ei=!0,r=ep(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Wr(),l===h){n=ps(t,n,r);break e}un(t,n,l,r)}n=n.child}return n;case 26:return ec(t,n),t===null?(r=E0(n.type,null,n.pendingProps,null))?n.memoizedState=r:Qe||(r=n.type,t=n.pendingProps,l=yc(Ae.current).createElement(r),l[Lt]=n,l[en]=t,cn(l,r,t),Pt(l),n.stateNode=l):n.memoizedState=E0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return $i(n),t===null&&Qe&&(l=n.stateNode=y0(n.type,n.pendingProps,Ae.current),ln=n,ei=!0,h=pt,ur(n.type)?(Ad=h,pt=ni(l.firstChild)):pt=h),un(t,n,n.pendingProps.children,r),ec(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Qe&&((h=l=pt)&&(l=l1(l,n.type,n.pendingProps,ei),l!==null?(n.stateNode=l,ln=n,pt=ni(l.firstChild),ei=!1,h=!0):h=!1),h||Xs(n)),$i(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,vd(h,f)?l=null:g!==null&&vd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=_f(t,n,TT,null,null,r),xo._currentValue=h),ec(t,n),un(t,n,l,r),n.child;case 6:return t===null&&Qe&&((t=r=pt)&&(r=o1(r,n.pendingProps,ei),r!==null?(n.stateNode=r,ln=n,pt=null,t=!0):t=!1),t||Xs(n)),null;case 13:return ay(t,n,r);case 4:return Nt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ia(n,null,l,r):un(t,n,l,r),n.child;case 11:return Wp(t,n,n.type,n.pendingProps,r);case 7:return un(t,n,n.pendingProps,r),n.child;case 8:return un(t,n,n.pendingProps.children,r),n.child;case 12:return un(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,$s(n,n.type,l.value),un(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Jr(n),h=on(h),l=l(h),n.flags|=1,un(t,n,l,r),n.child;case 14:return Zp(t,n,n.type,n.pendingProps,r);case 15:return Jp(t,n,n.type,n.pendingProps,r);case 19:return oy(t,n,r);case 31:return NT(t,n,r);case 22:return ey(t,n,r,n.pendingProps);case 24:return Jr(n),l=on(Bt),t===null?(h=of(),h===null&&(h=ft,f=af(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},cf(n),$s(n,Bt,h)):((t.lanes&r)!==0&&(hf(t,n),ro(n,null,null,r),so()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),$s(n,Bt,l)):(l=f.cache,$s(n,Bt,l),l!==h.cache&&rf(n,[Bt],r,!0))),un(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ys(t){t.flags|=4}function Qf(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(jy())t.flags|=8192;else throw na=Pu,uf}else t.flags&=-16777217}function cy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!w0(n))if(jy())t.flags|=8192;else throw na=Pu,uf}function nc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Si():536870912,t.lanes|=n,$a|=n)}function ho(t,n){if(!Qe)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function yt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function OT(t,n,r){var l=n.pendingProps;switch(Jh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(n),null;case 1:return yt(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ds(Bt),at(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ua(n)?ys(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,tf())),yt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(ys(n),f!==null?(yt(n),cy(n,f)):(yt(n),Qf(n,h,null,l,r))):f?f!==t.memoizedState?(ys(n),yt(n),cy(n,f)):(yt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&ys(n),yt(n),Qf(n,h,t,l,r)),null;case 27:if(Wi(n),r=Ae.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ys(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return yt(n),null}t=ae.current,Ua(n)?qg(n):(t=y0(h,l,r),n.stateNode=t,ys(n))}return yt(n),null;case 5:if(Wi(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ys(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return yt(n),null}if(f=ae.current,Ua(n))qg(n);else{var g=yc(Ae.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[Lt]=n,f[en]=l;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(cn(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ys(n)}}return yt(n),Qf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&ys(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Ae.current,Ua(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=ln,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Lt]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||a0(t.nodeValue,r)),t||Xs(n,!0)}else t=yc(t).createTextNode(l),t[Lt]=n,n.stateNode=t}return yt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=Ua(n),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Lt]=n}else Wr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;yt(n),t=!1}else r=tf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Bn(n),n):(Bn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return yt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ua(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Lt]=n}else Wr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;yt(n),h=!1}else h=tf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Bn(n),n):(Bn(n),null)}return Bn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),nc(n,n.updateQueue),yt(n),null);case 4:return at(),t===null&&md(n.stateNode.containerInfo),yt(n),null;case 10:return ds(n.type),yt(n),null;case 19:if(K(Vt),l=n.memoizedState,l===null)return yt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)ho(l,!1);else{if(Ct!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=qu(t),f!==null){for(n.flags|=128,ho(l,!1),t=f.updateQueue,n.updateQueue=t,nc(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Lg(r,t),r=r.sibling;return ie(Vt,Vt.current&1|2),Qe&&hs(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&rn()>lc&&(n.flags|=128,h=!0,ho(l,!1),n.lanes=4194304)}else{if(!h)if(t=qu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,nc(n,t),ho(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Qe)return yt(n),null}else 2*rn()-l.renderingStartTime>lc&&r!==536870912&&(n.flags|=128,h=!0,ho(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=rn(),t.sibling=null,r=Vt.current,ie(Vt,h?r&1|2:r&1),Qe&&hs(n,l.treeForkCount),t):(yt(n),null);case 22:case 23:return Bn(n),gf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(yt(n),n.subtreeFlags&6&&(n.flags|=8192)):yt(n),r=n.updateQueue,r!==null&&nc(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&K(ea),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),ds(Bt),yt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function MT(t,n){switch(Jh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ds(Bt),at(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Wi(n),null;case 31:if(n.memoizedState!==null){if(Bn(n),n.alternate===null)throw Error(a(340));Wr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Bn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Wr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(Vt),null;case 4:return at(),null;case 10:return ds(n.type),null;case 22:case 23:return Bn(n),gf(),t!==null&&K(ea),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ds(Bt),null;case 25:return null;default:return null}}function hy(t,n){switch(Jh(n),n.tag){case 3:ds(Bt),at();break;case 26:case 27:case 5:Wi(n);break;case 4:at();break;case 31:n.memoizedState!==null&&Bn(n);break;case 13:Bn(n);break;case 19:K(Vt);break;case 10:ds(n.type);break;case 22:case 23:Bn(n),gf(),t!==null&&K(ea);break;case 24:ds(Bt)}}function fo(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,g=r.inst;l=f(),g.destroy=l}r=r.next}while(r!==h)}}catch(T){rt(n,n.return,T)}}function nr(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var g=l.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,h=n;var C=r,P=T;try{P()}catch(G){rt(h,C,G)}}}l=l.next}while(l!==f)}}catch(G){rt(n,n.return,G)}}function fy(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{np(n,r)}catch(l){rt(t,t.return,l)}}}function dy(t,n,r){r.props=ra(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){rt(t,n,l)}}function mo(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){rt(t,n,h)}}function Pi(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){rt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){rt(t,n,h)}else r.current=null}function my(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){rt(t,t.return,h)}}function Kf(t,n,r){try{var l=t.stateNode;t1(l,t.type,r,n),l[en]=n}catch(h){rt(t,t.return,h)}}function gy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ur(t.type)||t.tag===4}function Yf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ur(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ci));else if(l!==4&&(l===27&&ur(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Xf(t,n,r),t=t.sibling;t!==null;)Xf(t,n,r),t=t.sibling}function ic(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&ur(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(ic(t,n,r),t=t.sibling;t!==null;)ic(t,n,r),t=t.sibling}function py(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);cn(n,l,r),n[Lt]=t,n[en]=r}catch(f){rt(t,t.return,f)}}var _s=!1,Gt=!1,$f=!1,yy=typeof WeakSet=="function"?WeakSet:Set,nn=null;function VT(t,n){if(t=t.containerInfo,yd=Ac,t=Ig(t),Hh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var g=0,T=-1,C=-1,P=0,G=0,Y=t,z=null;t:for(;;){for(var H;Y!==r||h!==0&&Y.nodeType!==3||(T=g+h),Y!==f||l!==0&&Y.nodeType!==3||(C=g+l),Y.nodeType===3&&(g+=Y.nodeValue.length),(H=Y.firstChild)!==null;)z=Y,Y=H;for(;;){if(Y===t)break t;if(z===r&&++P===h&&(T=g),z===f&&++G===l&&(C=g),(H=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=H}r=T===-1||C===-1?null:{start:T,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(_d={focusedElem:t,selectionRange:r},Ac=!1,nn=n;nn!==null;)if(n=nn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,nn=t;else for(;nn!==null;){switch(n=nn,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var ue=ra(r.type,h);t=l.getSnapshotBeforeUpdate(ue,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){rt(r,r.return,ve)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)bd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":bd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,nn=t;break}nn=n.return}}function _y(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Es(t,r),l&4&&fo(5,r);break;case 1:if(Es(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(g){rt(r,r.return,g)}else{var h=ra(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){rt(r,r.return,g)}}l&64&&fy(r),l&512&&mo(r,r.return);break;case 3:if(Es(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{np(t,n)}catch(g){rt(r,r.return,g)}}break;case 27:n===null&&l&4&&py(r);case 26:case 5:Es(t,r),n===null&&l&4&&my(r),l&512&&mo(r,r.return);break;case 12:Es(t,r);break;case 31:Es(t,r),l&4&&by(t,r);break;case 13:Es(t,r),l&4&&Ty(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=qT.bind(null,r),u1(t,r))));break;case 22:if(l=r.memoizedState!==null||_s,!l){n=n!==null&&n.memoizedState!==null||Gt,h=_s;var f=Gt;_s=l,(Gt=n)&&!f?bs(t,r,(r.subtreeFlags&8772)!==0):Es(t,r),_s=h,Gt=f}break;case 30:break;default:Es(t,r)}}function vy(t){var n=t.alternate;n!==null&&(t.alternate=null,vy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ea(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Et=null,Rn=!1;function vs(t,n,r){for(r=r.child;r!==null;)Ey(t,n,r),r=r.sibling}function Ey(t,n,r){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(ke,r)}catch{}switch(r.tag){case 26:Gt||Pi(r,n),vs(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Gt||Pi(r,n);var l=Et,h=Rn;ur(r.type)&&(Et=r.stateNode,Rn=!1),vs(t,n,r),So(r.stateNode),Et=l,Rn=h;break;case 5:Gt||Pi(r,n);case 6:if(l=Et,h=Rn,Et=null,vs(t,n,r),Et=l,Rn=h,Et!==null)if(Rn)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(r.stateNode)}catch(f){rt(r,n,f)}else try{Et.removeChild(r.stateNode)}catch(f){rt(r,n,f)}break;case 18:Et!==null&&(Rn?(t=Et,f0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),sl(t)):f0(Et,r.stateNode));break;case 4:l=Et,h=Rn,Et=r.stateNode.containerInfo,Rn=!0,vs(t,n,r),Et=l,Rn=h;break;case 0:case 11:case 14:case 15:nr(2,r,n),Gt||nr(4,r,n),vs(t,n,r);break;case 1:Gt||(Pi(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&dy(r,n,l)),vs(t,n,r);break;case 21:vs(t,n,r);break;case 22:Gt=(l=Gt)||r.memoizedState!==null,vs(t,n,r),Gt=l;break;default:vs(t,n,r)}}function by(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{sl(t)}catch(r){rt(n,n.return,r)}}}function Ty(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{sl(t)}catch(r){rt(n,n.return,r)}}function kT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new yy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new yy),n;default:throw Error(a(435,t.tag))}}function sc(t,n){var r=kT(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=GT.bind(null,t,l);l.then(h,h)}})}function Cn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,g=n,T=g;e:for(;T!==null;){switch(T.tag){case 27:if(ur(T.type)){Et=T.stateNode,Rn=!1;break e}break;case 5:Et=T.stateNode,Rn=!1;break e;case 3:case 4:Et=T.stateNode.containerInfo,Rn=!0;break e}T=T.return}if(Et===null)throw Error(a(160));Ey(f,g,h),Et=null,Rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Sy(n,t),n=n.sibling}var pi=null;function Sy(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Cn(n,t),In(t),l&4&&(nr(3,t,t.return),fo(3,t),nr(5,t,t.return));break;case 1:Cn(n,t),In(t),l&512&&(Gt||r===null||Pi(r,r.return)),l&64&&_s&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=pi;if(Cn(n,t),In(t),l&512&&(Gt||r===null||Pi(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[wi]||f[Lt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),cn(f,l,r),f[Lt]=t,Pt(f),l=f;break e;case"link":var g=S0("link","href",h).get(l+(r.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(T,1);break t}}f=h.createElement(l),cn(f,l,r),h.head.appendChild(f);break;case"meta":if(g=S0("meta","content",h).get(l+(r.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(T,1);break t}}f=h.createElement(l),cn(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Lt]=t,Pt(f),l=f}t.stateNode=l}else A0(h,t.type,t.stateNode);else t.stateNode=T0(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?A0(h,t.type,t.stateNode):T0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Kf(t,t.memoizedProps,r.memoizedProps)}break;case 27:Cn(n,t),In(t),l&512&&(Gt||r===null||Pi(r,r.return)),r!==null&&l&4&&Kf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Cn(n,t),In(t),l&512&&(Gt||r===null||Pi(r,r.return)),t.flags&32){h=t.stateNode;try{xn(h,"")}catch(ue){rt(t,t.return,ue)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Kf(t,h,r!==null?r.memoizedProps:h)),l&1024&&($f=!0);break;case 6:if(Cn(n,t),In(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(ue){rt(t,t.return,ue)}}break;case 3:if(Ec=null,h=pi,pi=_c(n.containerInfo),Cn(n,t),pi=h,In(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{sl(n.containerInfo)}catch(ue){rt(t,t.return,ue)}$f&&($f=!1,Ay(t));break;case 4:l=pi,pi=_c(t.stateNode.containerInfo),Cn(n,t),In(t),pi=l;break;case 12:Cn(n,t),In(t);break;case 31:Cn(n,t),In(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,sc(t,l)));break;case 13:Cn(n,t),In(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ac=rn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,sc(t,l)));break;case 22:h=t.memoizedState!==null;var C=r!==null&&r.memoizedState!==null,P=_s,G=Gt;if(_s=P||h,Gt=G||C,Cn(n,t),Gt=G,_s=P,In(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||C||_s||Gt||aa(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){C=r=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=C.stateNode;var Y=C.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ue){rt(C,C.return,ue)}}}else if(n.tag===6){if(r===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ue){rt(C,C.return,ue)}}}else if(n.tag===18){if(r===null){C=n;try{var H=C.stateNode;h?d0(H,!0):d0(C.stateNode,!1)}catch(ue){rt(C,C.return,ue)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,sc(t,r))));break;case 19:Cn(n,t),In(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,sc(t,l)));break;case 30:break;case 21:break;default:Cn(n,t),In(t)}}function In(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(gy(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Yf(t);ic(t,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(xn(g,""),r.flags&=-33);var T=Yf(t);ic(t,T,g);break;case 3:case 4:var C=r.stateNode.containerInfo,P=Yf(t);Xf(t,P,C);break;default:throw Error(a(161))}}catch(G){rt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ay(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ay(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Es(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)_y(t,n.alternate,n),n=n.sibling}function aa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:nr(4,n,n.return),aa(n);break;case 1:Pi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&dy(n,n.return,r),aa(n);break;case 27:So(n.stateNode);case 26:case 5:Pi(n,n.return),aa(n);break;case 22:n.memoizedState===null&&aa(n);break;case 30:aa(n);break;default:aa(n)}t=t.sibling}}function bs(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:bs(h,f,r),fo(4,f);break;case 1:if(bs(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){rt(l,l.return,P)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)tp(C[h],T)}catch(P){rt(l,l.return,P)}}r&&g&64&&fy(f),mo(f,f.return);break;case 27:py(f);case 26:case 5:bs(h,f,r),r&&l===null&&g&4&&my(f),mo(f,f.return);break;case 12:bs(h,f,r);break;case 31:bs(h,f,r),r&&g&4&&by(h,f);break;case 13:bs(h,f,r),r&&g&4&&Ty(h,f);break;case 22:f.memoizedState===null&&bs(h,f,r),mo(f,f.return);break;case 30:break;default:bs(h,f,r)}n=n.sibling}}function Wf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Jl(r))}function Zf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Jl(t))}function yi(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)wy(t,n,r,l),n=n.sibling}function wy(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:yi(t,n,r,l),h&2048&&fo(9,n);break;case 1:yi(t,n,r,l);break;case 3:yi(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Jl(t)));break;case 12:if(h&2048){yi(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){rt(n,n.return,C)}}else yi(t,n,r,l);break;case 31:yi(t,n,r,l);break;case 13:yi(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?yi(t,n,r,l):go(t,n):f._visibility&2?yi(t,n,r,l):(f._visibility|=2,Ka(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Wf(g,n);break;case 24:yi(t,n,r,l),h&2048&&Zf(n.alternate,n);break;default:yi(t,n,r,l)}}function Ka(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,T=r,C=l,P=g.flags;switch(g.tag){case 0:case 11:case 15:Ka(f,g,T,C,h),fo(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?Ka(f,g,T,C,h):go(f,g):(G._visibility|=2,Ka(f,g,T,C,h)),h&&P&2048&&Wf(g.alternate,g);break;case 24:Ka(f,g,T,C,h),h&&P&2048&&Zf(g.alternate,g);break;default:Ka(f,g,T,C,h)}n=n.sibling}}function go(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:go(r,l),h&2048&&Wf(l.alternate,l);break;case 24:go(r,l),h&2048&&Zf(l.alternate,l);break;default:go(r,l)}n=n.sibling}}var po=8192;function Ya(t,n,r){if(t.subtreeFlags&po)for(t=t.child;t!==null;)xy(t,n,r),t=t.sibling}function xy(t,n,r){switch(t.tag){case 26:Ya(t,n,r),t.flags&po&&t.memoizedState!==null&&b1(r,pi,t.memoizedState,t.memoizedProps);break;case 5:Ya(t,n,r);break;case 3:case 4:var l=pi;pi=_c(t.stateNode.containerInfo),Ya(t,n,r),pi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=po,po=16777216,Ya(t,n,r),po=l):Ya(t,n,r));break;default:Ya(t,n,r)}}function Ry(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function yo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];nn=l,Iy(l,t)}Ry(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Cy(t),t=t.sibling}function Cy(t){switch(t.tag){case 0:case 11:case 15:yo(t),t.flags&2048&&nr(9,t,t.return);break;case 3:yo(t);break;case 12:yo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,rc(t)):yo(t);break;default:yo(t)}}function rc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];nn=l,Iy(l,t)}Ry(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:nr(8,n,n.return),rc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,rc(n));break;default:rc(n)}t=t.sibling}}function Iy(t,n){for(;nn!==null;){var r=nn;switch(r.tag){case 0:case 11:case 15:nr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Jl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,nn=l;else e:for(r=t;nn!==null;){l=nn;var h=l.sibling,f=l.return;if(vy(l),l===r){nn=null;break e}if(h!==null){h.return=f,nn=h;break e}nn=f}}}var jT={getCacheForType:function(t){var n=on(Bt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return on(Bt).controller.signal}},UT=typeof WeakMap=="function"?WeakMap:Map,Je=0,ft=null,je=null,Le=0,st=0,Hn=null,ir=!1,Xa=!1,Jf=!1,Ts=0,Ct=0,sr=0,la=0,ed=0,qn=0,$a=0,_o=null,Nn=null,td=!1,ac=0,Ny=0,lc=1/0,oc=null,rr=null,$t=0,ar=null,Wa=null,Ss=0,nd=0,id=null,Dy=null,vo=0,sd=null;function Gn(){return(Je&2)!==0&&Le!==0?Le&-Le:q.T!==null?cd():uu()}function Oy(){if(qn===0)if((Le&536870912)===0||Qe){var t=Me;Me<<=1,(Me&3932160)===0&&(Me=262144),qn=t}else qn=536870912;return t=zn.current,t!==null&&(t.flags|=32),qn}function Dn(t,n,r){(t===ft&&(st===2||st===9)||t.cancelPendingCommit!==null)&&(Za(t,0),lr(t,Le,qn,!1)),is(t,r),((Je&2)===0||t!==ft)&&(t===ft&&((Je&2)===0&&(la|=r),Ct===4&&lr(t,Le,qn,!1)),zi(t))}function My(t,n,r){if((Je&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||gt(t,n),h=l?zT(t,n):ad(t,n,!0),f=l;do{if(h===0){Xa&&!l&&lr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!LT(r)){h=ad(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var T=t;h=_o;var C=T.current.memoizedState.isDehydrated;if(C&&(Za(T,g).flags|=256),g=ad(T,g,!1),g!==2){if(Jf&&!C){T.errorRecoveryDisabledLanes|=f,la|=f,h=4;break e}f=Nn,Nn=h,f!==null&&(Nn===null?Nn=f:Nn.push.apply(Nn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Za(t,0),lr(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:lr(l,n,qn,!ir);break e;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ac+300-rn(),10<h)){if(lr(l,n,qn,!ir),ht(l,0,!0)!==0)break e;Ss=n,l.timeoutHandle=c0(Vy.bind(null,l,r,Nn,oc,td,n,qn,la,$a,ir,f,"Throttled",-0,0),h);break e}Vy(l,r,Nn,oc,td,n,qn,la,$a,ir,f,null,-0,0)}}break}while(!0);zi(t)}function Vy(t,n,r,l,h,f,g,T,C,P,G,Y,z,H){if(t.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ci},xy(n,f,Y);var ue=(f&62914560)===f?ac-rn():(f&4194048)===f?Ny-rn():0;if(ue=T1(Y,ue),ue!==null){Ss=f,t.cancelPendingCommit=ue(Hy.bind(null,t,n,f,r,l,h,g,T,C,G,Y,null,z,H)),lr(t,f,g,!P);return}}Hy(t,n,f,r,l,h,g,T,C)}function LT(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!Ln(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function lr(t,n,r,l){n&=~ed,n&=~la,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-Fe(h),g=1<<f;l[f]=-1,h&=~g}r!==0&&ai(t,r,n)}function uc(){return(Je&6)===0?(Eo(0),!1):!0}function rd(){if(je!==null){if(st===0)var t=je.return;else t=je,fs=Zr=null,bf(t),Ha=null,to=0,t=je;for(;t!==null;)hy(t.alternate,t),t=t.return;je=null}}function Za(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,s1(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Ss=0,rd(),ft=t,je=r=cs(t.current,null),Le=n,st=0,Hn=null,ir=!1,Xa=gt(t,n),Jf=!1,$a=qn=ed=la=sr=Ct=0,Nn=_o=null,td=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-Fe(l),f=1<<h;n|=t[h],l&=~f}return Ts=n,Nu(),r}function ky(t,n){Ne=null,q.H=uo,n===Ba||n===Lu?(n=Wg(),st=3):n===uf?(n=Wg(),st=4):st=n===Uf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Hn=n,je===null&&(Ct=1,Zu(t,Wn(n,t.current)))}function jy(){var t=zn.current;return t===null?!0:(Le&4194048)===Le?ti===null:(Le&62914560)===Le||(Le&536870912)!==0?t===ti:!1}function Uy(){var t=q.H;return q.H=uo,t===null?uo:t}function Ly(){var t=q.A;return q.A=jT,t}function cc(){Ct=4,ir||(Le&4194048)!==Le&&zn.current!==null||(Xa=!0),(sr&134217727)===0&&(la&134217727)===0||ft===null||lr(ft,Le,qn,!1)}function ad(t,n,r){var l=Je;Je|=2;var h=Uy(),f=Ly();(ft!==t||Le!==n)&&(oc=null,Za(t,n)),n=!1;var g=Ct;e:do try{if(st!==0&&je!==null){var T=je,C=Hn;switch(st){case 8:rd(),g=6;break e;case 3:case 2:case 9:case 6:zn.current===null&&(n=!0);var P=st;if(st=0,Hn=null,Ja(t,T,C,P),r&&Xa){g=0;break e}break;default:P=st,st=0,Hn=null,Ja(t,T,C,P)}}PT(),g=Ct;break}catch(G){ky(t,G)}while(!0);return n&&t.shellSuspendCounter++,fs=Zr=null,Je=l,q.H=h,q.A=f,je===null&&(ft=null,Le=0,Nu()),g}function PT(){for(;je!==null;)Py(je)}function zT(t,n){var r=Je;Je|=2;var l=Uy(),h=Ly();ft!==t||Le!==n?(oc=null,lc=rn()+500,Za(t,n)):Xa=gt(t,n);e:do try{if(st!==0&&je!==null){n=je;var f=Hn;t:switch(st){case 1:st=0,Hn=null,Ja(t,n,f,1);break;case 2:case 9:if(Xg(f)){st=0,Hn=null,zy(n);break}n=function(){st!==2&&st!==9||ft!==t||(st=7),zi(t)},f.then(n,n);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Xg(f)?(st=0,Hn=null,zy(n)):(st=0,Hn=null,Ja(t,n,f,7));break;case 5:var g=null;switch(je.tag){case 26:g=je.memoizedState;case 5:case 27:var T=je;if(g?w0(g):T.stateNode.complete){st=0,Hn=null;var C=T.sibling;if(C!==null)je=C;else{var P=T.return;P!==null?(je=P,hc(P)):je=null}break t}}st=0,Hn=null,Ja(t,n,f,5);break;case 6:st=0,Hn=null,Ja(t,n,f,6);break;case 8:rd(),Ct=6;break e;default:throw Error(a(462))}}BT();break}catch(G){ky(t,G)}while(!0);return fs=Zr=null,q.H=l,q.A=h,Je=r,je!==null?0:(ft=null,Le=0,Nu(),Ct)}function BT(){for(;je!==null&&!Dl();)Py(je)}function Py(t){var n=uy(t.alternate,t,Ts);t.memoizedProps=t.pendingProps,n===null?hc(t):je=n}function zy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=iy(r,n,n.pendingProps,n.type,void 0,Le);break;case 11:n=iy(r,n,n.pendingProps,n.type.render,n.ref,Le);break;case 5:bf(n);default:hy(r,n),n=je=Lg(n,Ts),n=uy(r,n,Ts)}t.memoizedProps=t.pendingProps,n===null?hc(t):je=n}function Ja(t,n,r,l){fs=Zr=null,bf(n),Ha=null,to=0;var h=n.return;try{if(IT(t,h,n,r,Le)){Ct=1,Zu(t,Wn(r,t.current)),je=null;return}}catch(f){if(h!==null)throw je=h,f;Ct=1,Zu(t,Wn(r,t.current)),je=null;return}n.flags&32768?(Qe||l===1?t=!0:Xa||(Le&536870912)!==0?t=!1:(ir=t=!0,(l===2||l===9||l===3||l===6)&&(l=zn.current,l!==null&&l.tag===13&&(l.flags|=16384))),By(n,t)):hc(n)}function hc(t){var n=t;do{if((n.flags&32768)!==0){By(n,ir);return}t=n.return;var r=OT(n.alternate,n,Ts);if(r!==null){je=r;return}if(n=n.sibling,n!==null){je=n;return}je=n=t}while(n!==null);Ct===0&&(Ct=5)}function By(t,n){do{var r=MT(t.alternate,t);if(r!==null){r.flags&=32767,je=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){je=t;return}je=t=r}while(t!==null);Ct=6,je=null}function Hy(t,n,r,l,h,f,g,T,C){t.cancelPendingCommit=null;do fc();while($t!==0);if((Je&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Kh,nt(t,r,f,g,T,C),t===ft&&(je=ft=null,Le=0),Wa=n,ar=t,Ss=r,nd=f,id=h,Dy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,FT(Ti,function(){return Ky(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,h=ee.p,ee.p=2,g=Je,Je|=4;try{VT(t,n,r)}finally{Je=g,ee.p=h,q.T=l}}$t=1,qy(),Gy(),Fy()}}function qy(){if($t===1){$t=0;var t=ar,n=Wa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=q.T,q.T=null;var l=ee.p;ee.p=2;var h=Je;Je|=4;try{Sy(n,t);var f=_d,g=Ig(t.containerInfo),T=f.focusedElem,C=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&Cg(T.ownerDocument.documentElement,T)){if(C!==null&&Hh(T)){var P=C.start,G=C.end;if(G===void 0&&(G=P),"selectionStart"in T)T.selectionStart=P,T.selectionEnd=Math.min(G,T.value.length);else{var Y=T.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var H=z.getSelection(),ue=T.textContent.length,ve=Math.min(C.start,ue),ct=C.end===void 0?ve:Math.min(C.end,ue);!H.extend&&ve>ct&&(g=ct,ct=ve,ve=g);var k=Rg(T,ve),N=Rg(T,ct);if(k&&N&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==N.node||H.focusOffset!==N.offset)){var L=Y.createRange();L.setStart(k.node,k.offset),H.removeAllRanges(),ve>ct?(H.addRange(L),H.extend(N.node,N.offset)):(L.setEnd(N.node,N.offset),H.addRange(L))}}}}for(Y=[],H=T;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Y.length;T++){var Q=Y[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Ac=!!yd,_d=yd=null}finally{Je=h,ee.p=l,q.T=r}}t.current=n,$t=2}}function Gy(){if($t===2){$t=0;var t=ar,n=Wa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=q.T,q.T=null;var l=ee.p;ee.p=2;var h=Je;Je|=4;try{_y(t,n.alternate,n)}finally{Je=h,ee.p=l,q.T=r}}$t=3}}function Fy(){if($t===4||$t===3){$t=0,_a();var t=ar,n=Wa,r=Ss,l=Dy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?$t=5:($t=0,Wa=ar=null,Qy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(rr=null),as(r),n=n.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(ke,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=q.T,h=ee.p,ee.p=2,q.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var T=l[g];f(T.value,{componentStack:T.stack})}}finally{q.T=n,ee.p=h}}(Ss&3)!==0&&fc(),zi(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===sd?vo++:(vo=0,sd=t):vo=0,Eo(0)}}function Qy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Jl(n)))}function fc(){return qy(),Gy(),Fy(),Ky()}function Ky(){if($t!==5)return!1;var t=ar,n=nd;nd=0;var r=as(Ss),l=q.T,h=ee.p;try{ee.p=32>r?32:r,q.T=null,r=id,id=null;var f=ar,g=Ss;if($t=0,Wa=ar=null,Ss=0,(Je&6)!==0)throw Error(a(331));var T=Je;if(Je|=4,Cy(f.current),wy(f,f.current,g,r),Je=T,Eo(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(ke,f)}catch{}return!0}finally{ee.p=h,q.T=l,Qy(t,n)}}function Yy(t,n,r){n=Wn(r,n),n=jf(t.stateNode,n,2),t=Js(t,n,2),t!==null&&(is(t,2),zi(t))}function rt(t,n,r){if(t.tag===3)Yy(t,t,r);else for(;n!==null;){if(n.tag===3){Yy(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(rr===null||!rr.has(l))){t=Wn(r,t),r=Xp(2),l=Js(n,r,2),l!==null&&($p(r,l,n,t),is(l,2),zi(l));break}}n=n.return}}function ld(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new UT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(Jf=!0,h.add(r),t=HT.bind(null,t,n,r),n.then(t,t))}function HT(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,ft===t&&(Le&r)===r&&(Ct===4||Ct===3&&(Le&62914560)===Le&&300>rn()-ac?(Je&2)===0&&Za(t,0):ed|=r,$a===Le&&($a=0)),zi(t)}function Xy(t,n){n===0&&(n=Si()),t=Xr(t,n),t!==null&&(is(t,n),zi(t))}function qT(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Xy(t,r)}function GT(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Xy(t,r)}function FT(t,n){return Dt(t,n)}var dc=null,el=null,od=!1,mc=!1,ud=!1,or=0;function zi(t){t!==el&&t.next===null&&(el===null?dc=el=t:el=el.next=t),mc=!0,od||(od=!0,KT())}function Eo(t,n){if(!ud&&mc){ud=!0;do for(var r=!1,l=dc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-Fe(42|t)+1)-1,f&=h&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Jy(l,f))}else f=Le,f=ht(l,l===ft?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||gt(l,f)||(r=!0,Jy(l,f));l=l.next}while(r);ud=!1}}function QT(){$y()}function $y(){mc=od=!1;var t=0;or!==0&&i1()&&(t=or);for(var n=rn(),r=null,l=dc;l!==null;){var h=l.next,f=Wy(l,n);f===0?(l.next=null,r===null?dc=h:r.next=h,h===null&&(el=r)):(r=l,(t!==0||(f&3)!==0)&&(mc=!0)),l=h}$t!==0&&$t!==5||Eo(t),or!==0&&(or=0)}function Wy(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-Fe(f),T=1<<g,C=h[g];C===-1?((T&r)===0||(T&l)!==0)&&(h[g]=ns(T,n)):C<=n&&(t.expiredLanes|=T),f&=~T}if(n=ft,r=Le,r=ht(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(st===2||st===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&bi(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||gt(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&bi(l),as(r)){case 2:case 8:r=Ur;break;case 32:r=Ti;break;case 268435456:r=se;break;default:r=Ti}return l=Zy.bind(null,t),r=Dt(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&bi(l),t.callbackPriority=2,t.callbackNode=null,2}function Zy(t,n){if($t!==0&&$t!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(fc()&&t.callbackNode!==r)return null;var l=Le;return l=ht(t,t===ft?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(My(t,l,n),Wy(t,rn()),t.callbackNode!=null&&t.callbackNode===r?Zy.bind(null,t):null)}function Jy(t,n){if(fc())return null;My(t,n,!0)}function KT(){r1(function(){(Je&6)!==0?Dt(jr,QT):$y()})}function cd(){if(or===0){var t=Pa;t===0&&(t=oe,oe<<=1,(oe&261888)===0&&(oe=256)),or=t}return or}function e0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Aa(""+t)}function t0(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function YT(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=e0((h[en]||null).action),g=l.submitter;g&&(n=(n=g[en]||null)?e0(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new Mi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(or!==0){var C=g?t0(h,g):new FormData(h);Nf(r,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(T.preventDefault(),C=g?t0(h,g):new FormData(h),Nf(r,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var hd=0;hd<Qh.length;hd++){var fd=Qh[hd],XT=fd.toLowerCase(),$T=fd[0].toUpperCase()+fd.slice(1);gi(XT,"on"+$T)}gi(Og,"onAnimationEnd"),gi(Mg,"onAnimationIteration"),gi(Vg,"onAnimationStart"),gi("dblclick","onDoubleClick"),gi("focusin","onFocus"),gi("focusout","onBlur"),gi(fT,"onTransitionRun"),gi(dT,"onTransitionStart"),gi(mT,"onTransitionCancel"),gi(kg,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),Ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bo));function n0(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var T=l[g],C=T.instance,P=T.currentTarget;if(T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=P;try{f(h)}catch(G){Iu(G)}h.currentTarget=null,f=C}else for(g=0;g<l.length;g++){if(T=l[g],C=T.instance,P=T.currentTarget,T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=P;try{f(h)}catch(G){Iu(G)}h.currentTarget=null,f=C}}}}function Ue(t,n){var r=n[va];r===void 0&&(r=n[va]=new Set);var l=t+"__bubble";r.has(l)||(i0(n,t,2,!1),r.add(l))}function dd(t,n,r){var l=0;n&&(l|=4),i0(r,t,l,n)}var gc="_reactListening"+Math.random().toString(36).slice(2);function md(t){if(!t[gc]){t[gc]=!0,Ol.forEach(function(r){r!=="selectionchange"&&(WT.has(r)||dd(r,!1,t),dd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[gc]||(n[gc]=!0,dd("selectionchange",!1,n))}}function i0(t,n,r,l){switch(O0(n)){case 2:var h=w1;break;case 8:h=x1;break;default:h=Id}r=h.bind(null,n,r,t),h=void 0,!Br||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function gd(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var T=l.stateNode.containerInfo;if(T===h)break;if(g===4)for(g=l.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;T!==null;){if(g=xi(T),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){l=f=g;continue e}T=T.parentNode}}l=l.return}qs(function(){var P=f,G=Kn(r),Y=[];e:{var z=jg.get(t);if(z!==void 0){var H=Mi,ue=t;switch(t){case"keypress":if(qr(r)===0)break e;case"keydown":case"keyup":H=xu;break;case"focusin":ue="focus",H=Fr;break;case"focusout":ue="blur",H=Fr;break;case"beforeblur":case"afterblur":H=Fr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Fl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=yu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Og:case Mg:case Vg:H=vu;break;case kg:H=S;break;case"scroll":case"scrollend":H=Gl;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=Eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=us;break;case"toggle":case"beforetoggle":H=Ie}var ve=(n&4)!==0,ct=!ve&&(t==="scroll"||t==="scrollend"),k=ve?z!==null?z+"Capture":null:z;ve=[];for(var N=P,L;N!==null;){var Q=N;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||k===null||(Q=hi(N,k),Q!=null&&ve.push(To(N,Q,L))),ct)break;N=N.return}0<ve.length&&(z=new H(z,ue,null,r,G),Y.push({event:z,listeners:ve}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",z&&r!==Bl&&(ue=r.relatedTarget||r.fromElement)&&(xi(ue)||ue[Ai]))break e;if((H||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,H?(ue=r.relatedTarget||r.toElement,H=P,ue=ue?xi(ue):null,ue!==null&&(ct=c(ue),ve=ue.tag,ue!==ct||ve!==5&&ve!==27&&ve!==6)&&(ue=null)):(H=null,ue=P),H!==ue)){if(ve=Fl,Q="onMouseLeave",k="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(ve=us,Q="onPointerLeave",k="onPointerEnter",N="pointer"),ct=H==null?z:jn(H),L=ue==null?z:jn(ue),z=new ve(Q,N+"leave",H,r,G),z.target=ct,z.relatedTarget=L,Q=null,xi(G)===P&&(ve=new ve(k,N+"enter",ue,r,G),ve.target=L,ve.relatedTarget=ct,Q=ve),ct=Q,H&&ue)t:{for(ve=ZT,k=H,N=ue,L=0,Q=k;Q;Q=ve(Q))L++;Q=0;for(var ge=N;ge;ge=ve(ge))Q++;for(;0<L-Q;)k=ve(k),L--;for(;0<Q-L;)N=ve(N),Q--;for(;L--;){if(k===N||N!==null&&k===N.alternate){ve=k;break t}k=ve(k),N=ve(N)}ve=null}else ve=null;H!==null&&s0(Y,z,H,ve,!1),ue!==null&&ct!==null&&s0(Y,ct,ue,ve,!0)}}e:{if(z=P?jn(P):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var $e=bg;else if(vg(z))if(Tg)$e=uT;else{$e=lT;var he=aT}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&Sa(P.elementType)&&($e=bg):$e=oT;if($e&&($e=$e(t,P))){Eg(Y,$e,r,G);break e}he&&he(t,z,P),t==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&Ll(z,"number",z.value)}switch(he=P?jn(P):window,t){case"focusin":(vg(he)||he.contentEditable==="true")&&(Da=he,qh=P,$l=null);break;case"focusout":$l=qh=Da=null;break;case"mousedown":Gh=!0;break;case"contextmenu":case"mouseup":case"dragend":Gh=!1,Ng(Y,r,G);break;case"selectionchange":if(hT)break;case"keydown":case"keyup":Ng(Y,r,G)}var De;if(Ze)e:{switch(t){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Na?Qr(t,r)&&(Pe="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Pe="onCompositionStart");Pe&&(ji&&r.locale!=="ko"&&(Na||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Na&&(De=ql()):(Oi=G,Hl="value"in Oi?Oi.value:Oi.textContent,Na=!0)),he=pc(P,Pe),0<he.length&&(Pe=new ki(Pe,t,null,r,G),Y.push({event:Pe,listeners:he}),De?Pe.data=De:(De=Ia(r),De!==null&&(Pe.data=De)))),(De=Xn?nT(t,r):iT(t,r))&&(Pe=pc(P,"onBeforeInput"),0<Pe.length&&(he=new ki("onBeforeInput","beforeinput",null,r,G),Y.push({event:he,listeners:Pe}),he.data=De)),YT(Y,t,P,r,G)}n0(Y,n)})}function To(t,n,r){return{instance:t,listener:n,currentTarget:r}}function pc(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=hi(t,r),h!=null&&l.unshift(To(t,h,f)),h=hi(t,n),h!=null&&l.push(To(t,h,f))),t.tag===3)return l;t=t.return}return[]}function ZT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function s0(t,n,r,l,h){for(var f=n._reactName,g=[];r!==null&&r!==l;){var T=r,C=T.alternate,P=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||P===null||(C=P,h?(P=hi(r,f),P!=null&&g.unshift(To(r,P,C))):h||(P=hi(r,f),P!=null&&g.push(To(r,P,C)))),r=r.return}g.length!==0&&t.push({event:n,listeners:g})}var JT=/\r\n?/g,e1=/\u0000|\uFFFD/g;function r0(t){return(typeof t=="string"?t:""+t).replace(JT,`
`).replace(e1,"")}function a0(t,n){return n=r0(n),r0(t)===n}function ut(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||xn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&xn(t,""+l);break;case"className":Un(t,"class",l);break;case"tabIndex":Un(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Un(t,r,l);break;case"style":zl(t,l,f);break;case"data":if(n!=="object"){Un(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Aa(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&ut(t,n,"name",h.name,h,null),ut(t,n,"formEncType",h.formEncType,h,null),ut(t,n,"formMethod",h.formMethod,h,null),ut(t,n,"formTarget",h.formTarget,h,null)):(ut(t,n,"encType",h.encType,h,null),ut(t,n,"method",h.method,h,null),ut(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Aa(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=ci);break;case"onScroll":l!=null&&Ue("scroll",t);break;case"onScrollEnd":l!=null&&Ue("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Aa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Ue("beforetoggle",t),Ue("toggle",t),ba(t,"popover",l);break;case"xlinkActuate":zt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":zt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":zt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":zt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":zt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":zt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":zt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":zt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":zt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ba(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=pu.get(r)||r,ba(t,r,l))}}function pd(t,n,r,l,h,f){switch(r){case"style":zl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?xn(t,l):(typeof l=="number"||typeof l=="bigint")&&xn(t,""+l);break;case"onScroll":l!=null&&Ue("scroll",t);break;case"onScrollEnd":l!=null&&Ue("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ci);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ml.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[en]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):ba(t,r,l)}}}function cn(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",t),Ue("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ut(t,n,f,g,r,null)}}h&&ut(t,n,"srcSet",r.srcSet,r,null),l&&ut(t,n,"src",r.src,r,null);return;case"input":Ue("invalid",t);var T=f=g=h=null,C=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var G=r[l];if(G!=null)switch(l){case"name":h=G;break;case"type":g=G;break;case"checked":C=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:ut(t,n,l,G,r,null)}}du(t,f,T,C,P,g,h,!1);return;case"select":Ue("invalid",t),l=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":l=T;default:ut(t,n,h,T,r,null)}n=f,r=g,t.multiple=!!l,n!=null?Ps(t,!!l,n,!1):r!=null&&Ps(t,!!l,r,!0);return;case"textarea":Ue("invalid",t),f=h=l=null;for(g in r)if(r.hasOwnProperty(g)&&(T=r[g],T!=null))switch(g){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:ut(t,n,g,T,r,null)}zs(t,l,h,f);return;case"option":for(C in r)if(r.hasOwnProperty(C)&&(l=r[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ut(t,n,C,l,r,null)}return;case"dialog":Ue("beforetoggle",t),Ue("toggle",t),Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":Ue("load",t);break;case"video":case"audio":for(l=0;l<bo.length;l++)Ue(bo[l],t);break;case"image":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"embed":case"source":case"link":Ue("error",t),Ue("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ut(t,n,P,l,r,null)}return;default:if(Sa(n)){for(G in r)r.hasOwnProperty(G)&&(l=r[G],l!==void 0&&pd(t,n,G,l,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(l=r[T],l!=null&&ut(t,n,T,l,r,null))}function t1(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,T=null,C=null,P=null,G=null;for(H in r){var Y=r[H];if(r.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=Y;default:l.hasOwnProperty(H)||ut(t,n,H,null,l,Y)}}for(var z in l){var H=l[z];if(Y=r[z],l.hasOwnProperty(z)&&(H!=null||Y!=null))switch(z){case"type":f=H;break;case"name":h=H;break;case"checked":P=H;break;case"defaultChecked":G=H;break;case"value":g=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==Y&&ut(t,n,z,H,l,Y)}}Ta(t,g,T,C,P,G,f,h);return;case"select":H=g=T=z=null;for(f in r)if(C=r[f],r.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:l.hasOwnProperty(f)||ut(t,n,f,null,l,C)}for(h in l)if(f=l[h],C=r[h],l.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":z=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==C&&ut(t,n,h,f,l,C)}n=T,r=g,l=H,z!=null?Ps(t,!!r,z,!1):!!l!=!!r&&(n!=null?Ps(t,!!r,n,!0):Ps(t,!!r,r?[]:"",!1));return;case"textarea":H=z=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ut(t,n,T,null,l,h)}for(g in l)if(h=l[g],f=r[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ut(t,n,g,h,l,f)}mu(t,z,H);return;case"option":for(var ue in r)if(z=r[ue],r.hasOwnProperty(ue)&&z!=null&&!l.hasOwnProperty(ue))switch(ue){case"selected":t.selected=!1;break;default:ut(t,n,ue,null,l,z)}for(C in l)if(z=l[C],H=r[C],l.hasOwnProperty(C)&&z!==H&&(z!=null||H!=null))switch(C){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:ut(t,n,C,z,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in r)z=r[ve],r.hasOwnProperty(ve)&&z!=null&&!l.hasOwnProperty(ve)&&ut(t,n,ve,null,l,z);for(P in l)if(z=l[P],H=r[P],l.hasOwnProperty(P)&&z!==H&&(z!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:ut(t,n,P,z,l,H)}return;default:if(Sa(n)){for(var ct in r)z=r[ct],r.hasOwnProperty(ct)&&z!==void 0&&!l.hasOwnProperty(ct)&&pd(t,n,ct,void 0,l,z);for(G in l)z=l[G],H=r[G],!l.hasOwnProperty(G)||z===H||z===void 0&&H===void 0||pd(t,n,G,z,l,H);return}}for(var k in r)z=r[k],r.hasOwnProperty(k)&&z!=null&&!l.hasOwnProperty(k)&&ut(t,n,k,null,l,z);for(Y in l)z=l[Y],H=r[Y],!l.hasOwnProperty(Y)||z===H||z==null&&H==null||ut(t,n,Y,z,l,H)}function l0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function n1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,g=h.initiatorType,T=h.duration;if(f&&T&&l0(g)){for(g=0,T=h.responseEnd,l+=1;l<r.length;l++){var C=r[l],P=C.startTime;if(P>T)break;var G=C.transferSize,Y=C.initiatorType;G&&l0(Y)&&(C=C.responseEnd,g+=G*(C<T?1:(T-P)/(C-P)))}if(--l,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var yd=null,_d=null;function yc(t){return t.nodeType===9?t:t.ownerDocument}function o0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function u0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function vd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ed=null;function i1(){var t=window.event;return t&&t.type==="popstate"?t===Ed?!1:(Ed=t,!0):(Ed=null,!1)}var c0=typeof setTimeout=="function"?setTimeout:void 0,s1=typeof clearTimeout=="function"?clearTimeout:void 0,h0=typeof Promise=="function"?Promise:void 0,r1=typeof queueMicrotask=="function"?queueMicrotask:typeof h0<"u"?function(t){return h0.resolve(null).then(t).catch(a1)}:c0;function a1(t){setTimeout(function(){throw t})}function ur(t){return t==="head"}function f0(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),sl(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")So(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,So(r);for(var f=r.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[wi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&So(t.ownerDocument.body);r=h}while(r);sl(n)}function d0(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function bd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":bd(r),Ea(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function l1(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[wi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ni(t.nextSibling),t===null)break}return null}function o1(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=ni(t.nextSibling),t===null))return null;return t}function m0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ni(t.nextSibling),t===null))return null;return t}function Td(t){return t.data==="$?"||t.data==="$~"}function Sd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function u1(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ni(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Ad=null;function g0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return ni(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function p0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function y0(t,n,r){switch(n=yc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function So(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ea(t)}var ii=new Map,_0=new Set;function _c(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var As=ee.d;ee.d={f:c1,r:h1,D:f1,C:d1,L:m1,m:g1,X:y1,S:p1,M:_1};function c1(){var t=As.f(),n=uc();return t||n}function h1(t){var n=Qn(t);n!==null&&n.tag===5&&n.type==="form"?kp(n):As.r(t)}var tl=typeof document>"u"?null:document;function v0(t,n,r){var l=tl;if(l&&typeof n=="string"&&n){var h=wn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),_0.has(h)||(_0.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),cn(n,"link",t),Pt(n),l.head.appendChild(n)))}}function f1(t){As.D(t),v0("dns-prefetch",t,null)}function d1(t,n){As.C(t,n),v0("preconnect",t,n)}function m1(t,n,r){As.L(t,n,r);var l=tl;if(l&&t&&n){var h='link[rel="preload"][as="'+wn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+wn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+wn(r.imageSizes)+'"]')):h+='[href="'+wn(t)+'"]';var f=h;switch(n){case"style":f=nl(t);break;case"script":f=il(t)}ii.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),ii.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Ao(f))||n==="script"&&l.querySelector(wo(f))||(n=l.createElement("link"),cn(n,"link",t),Pt(n),l.head.appendChild(n)))}}function g1(t,n){As.m(t,n);var r=tl;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+wn(l)+'"][href="'+wn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=il(t)}if(!ii.has(f)&&(t=A({rel:"modulepreload",href:t},n),ii.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(wo(f)))return}l=r.createElement("link"),cn(l,"link",t),Pt(l),r.head.appendChild(l)}}}function p1(t,n,r){As.S(t,n,r);var l=tl;if(l&&t){var h=Ri(l).hoistableStyles,f=nl(t);n=n||"default";var g=h.get(f);if(!g){var T={loading:0,preload:null};if(g=l.querySelector(Ao(f)))T.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=ii.get(f))&&wd(t,r);var C=g=l.createElement("link");Pt(C),cn(C,"link",t),C._p=new Promise(function(P,G){C.onload=P,C.onerror=G}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,vc(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:T},h.set(f,g)}}}function y1(t,n){As.X(t,n);var r=tl;if(r&&t){var l=Ri(r).hoistableScripts,h=il(t),f=l.get(h);f||(f=r.querySelector(wo(h)),f||(t=A({src:t,async:!0},n),(n=ii.get(h))&&xd(t,n),f=r.createElement("script"),Pt(f),cn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function _1(t,n){As.M(t,n);var r=tl;if(r&&t){var l=Ri(r).hoistableScripts,h=il(t),f=l.get(h);f||(f=r.querySelector(wo(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=ii.get(h))&&xd(t,n),f=r.createElement("script"),Pt(f),cn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function E0(t,n,r,l){var h=(h=Ae.current)?_c(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=nl(r.href),r=Ri(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=nl(r.href);var f=Ri(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(Ao(t)))&&!f._p&&(g.instance=f,g.state.loading=5),ii.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},ii.set(t,r),f||v1(h,t,r,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=il(r),r=Ri(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function nl(t){return'href="'+wn(t)+'"'}function Ao(t){return'link[rel="stylesheet"]['+t+"]"}function b0(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function v1(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),cn(n,"link",r),Pt(n),t.head.appendChild(n))}function il(t){return'[src="'+wn(t)+'"]'}function wo(t){return"script[async]"+t}function T0(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+wn(r.href)+'"]');if(l)return n.instance=l,Pt(l),l;var h=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Pt(l),cn(l,"style",h),vc(l,r.precedence,t),n.instance=l;case"stylesheet":h=nl(r.href);var f=t.querySelector(Ao(h));if(f)return n.state.loading|=4,n.instance=f,Pt(f),f;l=b0(r),(h=ii.get(h))&&wd(l,h),f=(t.ownerDocument||t).createElement("link"),Pt(f);var g=f;return g._p=new Promise(function(T,C){g.onload=T,g.onerror=C}),cn(f,"link",l),n.state.loading|=4,vc(f,r.precedence,t),n.instance=f;case"script":return f=il(r.src),(h=t.querySelector(wo(f)))?(n.instance=h,Pt(h),h):(l=r,(h=ii.get(f))&&(l=A({},r),xd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Pt(h),cn(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,vc(l,r.precedence,t));return n.instance}function vc(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var T=l[g];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function wd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function xd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ec=null;function S0(t,n,r){if(Ec===null){var l=new Map,h=Ec=new Map;h.set(r,l)}else h=Ec,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[wi]||f[Lt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var T=l.get(g);T?T.push(f):l.set(g,[f])}}return l}function A0(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function E1(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function w0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function b1(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=nl(l.href),f=n.querySelector(Ao(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=bc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Pt(f);return}f=n.ownerDocument||n,l=b0(l),(h=ii.get(h))&&wd(l,h),f=f.createElement("link"),Pt(f);var g=f;g._p=new Promise(function(T,C){g.onload=T,g.onerror=C}),cn(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=bc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Rd=0;function T1(t,n){return t.stylesheets&&t.count===0&&Sc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&Sc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Rd===0&&(Rd=62500*n1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Sc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Rd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function bc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Tc=null;function Sc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Tc=new Map,n.forEach(S1,t),Tc=null,bc.call(t))}function S1(t,n){if(!(n.state.loading&4)){var r=Tc.get(t);if(r)var l=r.get(null);else{r=new Map,Tc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),l=g)}l&&r.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||l,f===l&&r.set(null,h),r.set(g,h),this.count++,l=bc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var xo={$$typeof:Te,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function A1(t,n,r,l,h,f,g,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ot(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ot(0),this.hiddenUpdates=Ot(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function x0(t,n,r,l,h,f,g,T,C,P,G,Y){return t=new A1(t,n,r,g,C,P,G,Y,T),n=1,f===!0&&(n|=24),f=Pn(3,null,null,n),t.current=f,f.stateNode=t,n=af(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},cf(f),t}function R0(t){return t?(t=Va,t):Va}function C0(t,n,r,l,h,f){h=R0(h),l.context===null?l.context=h:l.pendingContext=h,l=Zs(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Js(t,l,n),r!==null&&(Dn(r,t,n),io(r,t,n))}function I0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Cd(t,n){I0(t,n),(t=t.alternate)&&I0(t,n)}function N0(t){if(t.tag===13||t.tag===31){var n=Xr(t,67108864);n!==null&&Dn(n,t,67108864),Cd(t,67108864)}}function D0(t){if(t.tag===13||t.tag===31){var n=Gn();n=li(n);var r=Xr(t,n);r!==null&&Dn(r,t,n),Cd(t,n)}}var Ac=!0;function w1(t,n,r,l){var h=q.T;q.T=null;var f=ee.p;try{ee.p=2,Id(t,n,r,l)}finally{ee.p=f,q.T=h}}function x1(t,n,r,l){var h=q.T;q.T=null;var f=ee.p;try{ee.p=8,Id(t,n,r,l)}finally{ee.p=f,q.T=h}}function Id(t,n,r,l){if(Ac){var h=Nd(l);if(h===null)gd(t,n,l,wc,r),M0(t,l);else if(C1(h,t,n,r,l))l.stopPropagation();else if(M0(t,l),n&4&&-1<R1.indexOf(t)){for(;h!==null;){var f=Qn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=mt(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var C=1<<31-Fe(g);T.entanglements[1]|=C,g&=~C}zi(f),(Je&6)===0&&(lc=rn()+500,Eo(0))}}break;case 31:case 13:T=Xr(f,2),T!==null&&Dn(T,f,2),uc(),Cd(f,2)}if(f=Nd(l),f===null&&gd(t,n,l,wc,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else gd(t,n,l,null,r)}}function Nd(t){return t=Kn(t),Dd(t)}var wc=null;function Dd(t){if(wc=null,t=xi(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=p(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return wc=t,null}function O0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ts()){case jr:return 2;case Ur:return 8;case Ti:case W:return 32;case se:return 268435456;default:return 32}default:return 32}}var Od=!1,cr=null,hr=null,fr=null,Ro=new Map,Co=new Map,dr=[],R1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function M0(t,n){switch(t){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":Ro.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Co.delete(n.pointerId)}}function Io(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Qn(n),n!==null&&N0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function C1(t,n,r,l,h){switch(n){case"focusin":return cr=Io(cr,t,n,r,l,h),!0;case"dragenter":return hr=Io(hr,t,n,r,l,h),!0;case"mouseover":return fr=Io(fr,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return Ro.set(f,Io(Ro.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Co.set(f,Io(Co.get(f)||null,t,n,r,l,h)),!0}return!1}function V0(t){var n=xi(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,oi(t.priority,function(){D0(r)});return}}else if(n===31){if(n=p(r),n!==null){t.blockedOn=n,oi(t.priority,function(){D0(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Nd(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Bl=l,r.target.dispatchEvent(l),Bl=null}else return n=Qn(r),n!==null&&N0(n),t.blockedOn=r,!1;n.shift()}return!0}function k0(t,n,r){xc(t)&&r.delete(n)}function I1(){Od=!1,cr!==null&&xc(cr)&&(cr=null),hr!==null&&xc(hr)&&(hr=null),fr!==null&&xc(fr)&&(fr=null),Ro.forEach(k0),Co.forEach(k0)}function Rc(t,n){t.blockedOn===n&&(t.blockedOn=null,Od||(Od=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,I1)))}var Cc=null;function j0(t){Cc!==t&&(Cc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Cc===t&&(Cc=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Dd(l||r)===null)continue;break}var f=Qn(r);f!==null&&(t.splice(n,3),n-=3,Nf(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function sl(t){function n(C){return Rc(C,t)}cr!==null&&Rc(cr,t),hr!==null&&Rc(hr,t),fr!==null&&Rc(fr,t),Ro.forEach(n),Co.forEach(n);for(var r=0;r<dr.length;r++){var l=dr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<dr.length&&(r=dr[0],r.blockedOn===null);)V0(r),r.blockedOn===null&&dr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],g=h[en]||null;if(typeof f=="function")g||j0(r);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[en]||null)T=g.formAction;else if(Dd(h)!==null)continue}else T=g.action;typeof T=="function"?r[l+1]=T:(r.splice(l,3),l-=3),j0(r)}}}function U0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Md(t){this._internalRoot=t}Ic.prototype.render=Md.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Gn();C0(r,l,t,n,null,null)},Ic.prototype.unmount=Md.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;C0(t.current,2,null,t,null,null),uc(),n[Ai]=null}};function Ic(t){this._internalRoot=t}Ic.prototype.unstable_scheduleHydration=function(t){if(t){var n=uu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<dr.length&&n!==0&&n<dr[r].priority;r++);dr.splice(r,0,t),r===0&&V0(t)}};var L0=e.version;if(L0!=="19.2.0")throw Error(a(527,L0,"19.2.0"));ee.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var N1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{ke=Nc.inject(N1),Ge=Nc}catch{}}return Do.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",h=Fp,f=Qp,g=Kp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=x0(t,1,!1,null,null,r,l,null,h,f,g,U0),t[Ai]=n.current,md(t),new Md(n)},Do.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,h="",f=Fp,g=Qp,T=Kp,C=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(C=r.formState)),n=x0(t,1,!0,n,r??null,l,h,C,f,g,T,U0),n.context=R0(null),r=n.current,l=Gn(),l=li(l),h=Zs(l),h.callback=null,Js(r,h,l),r=l,n.current.lanes=r,is(n,r),zi(n),t[Ai]=n.current,md(t),new Ic(n)},Do.version="19.2.0",Do}var Y0;function H1(){if(Y0)return jd.exports;Y0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),jd.exports=B1(),jd.exports}var q1=H1();const G1=()=>{};var X0={};const Nv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},F1=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],p=s[i++],y=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Dv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,p=d?s[o+1]:0,y=o+2<s.length,_=y?s[o+2]:0,E=c>>2,A=(c&3)<<4|p>>4;let M=(p&15)<<2|_>>6,F=_&63;y||(F=64,d||(M=64)),a.push(i[E],i[A],i[M],i[F])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Nv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):F1(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],p=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const A=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||p==null||_==null||A==null)throw new Q1;const M=c<<2|p>>4;if(a.push(M),_!==64){const F=p<<4&240|_>>2;if(a.push(F),A!==64){const J=_<<6&192|A;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Q1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const K1=function(s){const e=Nv(s);return Dv.encodeByteArray(e,!0)},Xc=function(s){return K1(s).replace(/\./g,"")},Ov=function(s){try{return Dv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Y1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const X1=()=>Y1().__FIREBASE_DEFAULTS__,$1=()=>{if(typeof process>"u"||typeof X0>"u")return;const s=X0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},W1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Ov(s[1]);return e&&JSON.parse(e)},_h=()=>{try{return G1()||X1()||$1()||W1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Mv=s=>_h()?.emulatorHosts?.[s],Z1=s=>{const e=Mv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Vv=()=>_h()?.config,kv=s=>_h()?.[`_${s}`];class J1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function Al(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function jv(s){return(await fetch(s,{credentials:"include"})).ok}function eS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Xc(JSON.stringify(i)),Xc(JSON.stringify(d)),""].join(".")}const jo={};function tS(){const s={prod:[],emulator:[]};for(const e of Object.keys(jo))jo[e]?s.emulator.push(e):s.prod.push(e);return s}function nS(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let $0=!1;function Uv(s,e){if(typeof window>"u"||typeof document>"u"||!Al(window.location.host)||jo[s]===e||jo[s]||$0)return;jo[s]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=tS().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function y(M,F){M.setAttribute("width","24"),M.setAttribute("id",F),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{$0=!0,d()},M}function E(M,F){M.setAttribute("id",F),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function A(){const M=nS(a),F=i("text"),J=document.getElementById(F)||document.createElement("span"),ne=i("learnmore"),Z=document.getElementById(ne)||document.createElement("a"),ye=i("preprendIcon"),Ce=document.getElementById(ye)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const Te=M.element;p(Te),E(Z,ne);const tt=_();y(Ce,ye),Te.append(Ce,J,Z,tt),document.body.appendChild(Te)}c?(J.innerText="Preview backend disconnected.",Ce.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ce.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function sS(){const s=_h()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function lS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oS(){const s=En();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function uS(){return!sS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cS(){try{return typeof indexedDB=="object"}catch{return!1}}function hS(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const fS="FirebaseError";class Vs extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=fS,Object.setPrototypeOf(this,Vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$o.prototype.create)}}class $o{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?dS(c,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Vs(o,p,a)}}function dS(s,e){return s.replace(mS,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const mS=/\{\$([^}]+)}/g;function gS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Rr(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=s[o],d=e[o];if(W0(c)&&W0(d)){if(!Rr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function W0(s){return s!==null&&typeof s=="object"}function Wo(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function pS(s,e){const i=new yS(s,e);return i.subscribe.bind(i)}class yS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");_S(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=zd),o.error===void 0&&(o.error=zd),o.complete===void 0&&(o.complete=zd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _S(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function zd(){}function Sn(s){return s&&s._delegate?s._delegate:s}class ha{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const oa="[DEFAULT]";class vS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new J1;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bS(e))try{this.getOrInitializeService({instanceIdentifier:oa})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=oa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oa){return this.instances.has(e)}getOptions(e=oa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:ES(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=oa){return this.component?this.component.multipleInstances?e:oa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ES(s){return s===oa?void 0:s}function bS(s){return s.instantiationMode==="EAGER"}class TS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new vS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var ze;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(ze||(ze={}));const SS={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},AS=ze.INFO,wS={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},xS=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=wS[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cm{constructor(e){this.name=e,this._logLevel=AS,this._logHandler=xS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const RS=(s,e)=>e.some(i=>s instanceof i);let Z0,J0;function CS(){return Z0||(Z0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IS(){return J0||(J0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Lv=new WeakMap,em=new WeakMap,Pv=new WeakMap,Bd=new WeakMap,Im=new WeakMap;function NS(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Tr(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Lv.set(i,s)}).catch(()=>{}),Im.set(e,s),e}function DS(s){if(em.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});em.set(s,e)}let tm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return em.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Pv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Tr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function OS(s){tm=s(tm)}function MS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Hd(this),e,...i);return Pv.set(a,e.sort?e.sort():[e]),Tr(a)}:IS().includes(s)?function(...e){return s.apply(Hd(this),e),Tr(Lv.get(this))}:function(...e){return Tr(s.apply(Hd(this),e))}}function VS(s){return typeof s=="function"?MS(s):(s instanceof IDBTransaction&&DS(s),RS(s,CS())?new Proxy(s,tm):s)}function Tr(s){if(s instanceof IDBRequest)return NS(s);if(Bd.has(s))return Bd.get(s);const e=VS(s);return e!==s&&(Bd.set(s,e),Im.set(e,s)),e}const Hd=s=>Im.get(s);function kS(s,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),p=Tr(d);return a&&d.addEventListener("upgradeneeded",y=>{a(Tr(d.result),y.oldVersion,y.newVersion,Tr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const jS=["get","getKey","getAll","getAllKeys","count"],US=["put","add","delete","clear"],qd=new Map;function e_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(qd.get(e))return qd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=US.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||jS.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,o?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),o&&y.done]))[0]};return qd.set(e,c),c}OS(s=>({...s,get:(e,i,a)=>e_(e,i)||s.get(e,i,a),has:(e,i)=>!!e_(e,i)||s.has(e,i)}));class LS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(PS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function PS(s){return s.getComponent()?.type==="VERSION"}const nm="@firebase/app",t_="0.14.6";const Cs=new Cm("@firebase/app"),zS="@firebase/app-compat",BS="@firebase/analytics-compat",HS="@firebase/analytics",qS="@firebase/app-check-compat",GS="@firebase/app-check",FS="@firebase/auth",QS="@firebase/auth-compat",KS="@firebase/database",YS="@firebase/data-connect",XS="@firebase/database-compat",$S="@firebase/functions",WS="@firebase/functions-compat",ZS="@firebase/installations",JS="@firebase/installations-compat",eA="@firebase/messaging",tA="@firebase/messaging-compat",nA="@firebase/performance",iA="@firebase/performance-compat",sA="@firebase/remote-config",rA="@firebase/remote-config-compat",aA="@firebase/storage",lA="@firebase/storage-compat",oA="@firebase/firestore",uA="@firebase/ai",cA="@firebase/firestore-compat",hA="firebase",fA="12.6.0";const im="[DEFAULT]",dA={[nm]:"fire-core",[zS]:"fire-core-compat",[HS]:"fire-analytics",[BS]:"fire-analytics-compat",[GS]:"fire-app-check",[qS]:"fire-app-check-compat",[FS]:"fire-auth",[QS]:"fire-auth-compat",[KS]:"fire-rtdb",[YS]:"fire-data-connect",[XS]:"fire-rtdb-compat",[$S]:"fire-fn",[WS]:"fire-fn-compat",[ZS]:"fire-iid",[JS]:"fire-iid-compat",[eA]:"fire-fcm",[tA]:"fire-fcm-compat",[nA]:"fire-perf",[iA]:"fire-perf-compat",[sA]:"fire-rc",[rA]:"fire-rc-compat",[aA]:"fire-gcs",[lA]:"fire-gcs-compat",[oA]:"fire-fst",[cA]:"fire-fst-compat",[uA]:"fire-vertex","fire-js":"fire-js",[hA]:"fire-js-all"};const $c=new Map,mA=new Map,sm=new Map;function n_(s,e){try{s.container.addComponent(e)}catch(i){Cs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function pl(s){const e=s.name;if(sm.has(e))return Cs.debug(`There were multiple attempts to register component ${e}.`),!1;sm.set(e,s);for(const i of $c.values())n_(i,s);for(const i of mA.values())n_(i,s);return!0}function Nm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function si(s){return s==null?!1:s.settings!==void 0}const gA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sr=new $o("app","Firebase",gA);class pA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ha("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sr.create("app-deleted",{appName:this._name})}}const wl=fA;function zv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:im,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Sr.create("bad-app-name",{appName:String(o)});if(i||(i=Vv()),!i)throw Sr.create("no-options");const c=$c.get(o);if(c){if(Rr(i,c.options)&&Rr(a,c.config))return c;throw Sr.create("duplicate-app",{appName:o})}const d=new TS(o);for(const y of sm.values())d.addComponent(y);const p=new pA(i,a,d);return $c.set(o,p),p}function Bv(s=im){const e=$c.get(s);if(!e&&s===im&&Vv())return zv();if(!e)throw Sr.create("no-app",{appName:s});return e}function Ar(s,e,i){let a=dA[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cs.warn(d.join(" "));return}pl(new ha(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const yA="firebase-heartbeat-database",_A=1,Ho="firebase-heartbeat-store";let Gd=null;function Hv(){return Gd||(Gd=kS(yA,_A,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Ho)}catch(i){console.warn(i)}}}}).catch(s=>{throw Sr.create("idb-open",{originalErrorMessage:s.message})})),Gd}async function vA(s){try{const i=(await Hv()).transaction(Ho),a=await i.objectStore(Ho).get(qv(s));return await i.done,a}catch(e){if(e instanceof Vs)Cs.warn(e.message);else{const i=Sr.create("idb-get",{originalErrorMessage:e?.message});Cs.warn(i.message)}}}async function i_(s,e){try{const a=(await Hv()).transaction(Ho,"readwrite");await a.objectStore(Ho).put(e,qv(s)),await a.done}catch(i){if(i instanceof Vs)Cs.warn(i.message);else{const a=Sr.create("idb-set",{originalErrorMessage:i?.message});Cs.warn(a.message)}}}function qv(s){return`${s.name}!${s.options.appId}`}const EA=1024,bA=30;class TA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new AA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=s_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>bA){const o=wA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Cs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=s_(),{heartbeatsToSend:i,unsentEntries:a}=SA(this._heartbeatsCache.heartbeats),o=Xc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Cs.warn(e),""}}}function s_(){return new Date().toISOString().substring(0,10)}function SA(s,e=EA){const i=[];let a=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),r_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),r_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class AA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cS()?hS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await vA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return i_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return i_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function r_(s){return Xc(JSON.stringify({version:2,heartbeats:s})).length}function wA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function xA(s){pl(new ha("platform-logger",e=>new LS(e),"PRIVATE")),pl(new ha("heartbeat",e=>new TA(e),"PRIVATE")),Ar(nm,t_,s),Ar(nm,t_,"esm2020"),Ar("fire-js","")}xA("");var RA="firebase",CA="12.6.0";Ar(RA,CA,"app");function Gv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const IA=Gv,Fv=new $o("auth","Firebase",Gv());const Wc=new Cm("@firebase/auth");function NA(s,...e){Wc.logLevel<=ze.WARN&&Wc.warn(`Auth (${wl}): ${s}`,...e)}function Pc(s,...e){Wc.logLevel<=ze.ERROR&&Wc.error(`Auth (${wl}): ${s}`,...e)}function Is(s,...e){throw Dm(s,...e)}function Hi(s,...e){return Dm(s,...e)}function Qv(s,e,i){const a={...IA(),[e]:i};return new $o("auth","Firebase",a).create(e,{appName:s.name})}function Rs(s){return Qv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dm(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Fv.create(s,...e)}function Se(s,e,...i){if(!s)throw Dm(e,...i)}function ws(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Pc(e),new Error(e)}function Ns(s,e){s||ws(e)}function rm(){return typeof self<"u"&&self.location?.href||""}function DA(){return a_()==="http:"||a_()==="https:"}function a_(){return typeof self<"u"&&self.location?.protocol||null}function OA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DA()||aS()||"connection"in navigator)?navigator.onLine:!0}function MA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Zo{constructor(e,i){this.shortDelay=e,this.longDelay=i,Ns(i>e,"Short delay should be less than long delay!"),this.isMobile=iS()||lS()}get(){return OA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Om(s,e){Ns(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Kv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ws("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ws("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ws("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const VA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const kA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jA=new Zo(3e4,6e4);function Jo(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function xl(s,e,i,a,o={}){return Yv(s,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const p=Wo({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:y,...c};return rS()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&Al(s.emulatorConfig.host)&&(_.credentials="include"),Kv.fetch()(await Xv(s,s.config.apiHost,i,p),_)})}async function Yv(s,e,i){s._canInitEmulator=!1;const a={...VA,...e};try{const o=new UA(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Dc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Dc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Dc(s,"user-disabled",d);const E=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Qv(s,E,_);Is(s,E)}}catch(o){if(o instanceof Vs)throw o;Is(s,"network-request-failed",{message:String(o)})}}async function Mm(s,e,i,a,o={}){const c=await xl(s,e,i,a,o);return"mfaPendingCredential"in c&&Is(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Xv(s,e,i,a){const o=`${e}${i}?${a}`,c=s,d=c.config.emulator?Om(s.config,o):`${s.config.apiScheme}://${o}`;return kA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class UA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Hi(this.auth,"network-request-failed")),jA.get())})}}function Dc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Hi(s,e,a);return o.customData._tokenResponse=i,o}async function LA(s,e){return xl(s,"POST","/v1/accounts:delete",e)}async function Zc(s,e){return xl(s,"POST","/v1/accounts:lookup",e)}function Uo(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function PA(s,e=!1){const i=Sn(s),a=await i.getIdToken(e),o=Vm(a);Se(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Uo(Fd(o.auth_time)),issuedAtTime:Uo(Fd(o.iat)),expirationTime:Uo(Fd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Fd(s){return Number(s)*1e3}function Vm(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Pc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Ov(i);return o?JSON.parse(o):(Pc("Failed to decode base64 JWT payload"),null)}catch(o){return Pc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function l_(s){const e=Vm(s);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function qo(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Vs&&zA(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function zA({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class BA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class am{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uo(this.lastLoginAt),this.creationTime=Uo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Jc(s){const e=s.auth,i=await s.getIdToken(),a=await qo(s,Zc(e,{idToken:i}));Se(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?$v(o.providerUserInfo):[],d=qA(s.providerData,c),p=s.isAnonymous,y=!(s.email&&o.passwordHash)&&!d?.length,_=p?y:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new am(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(s,E)}async function HA(s){const e=Sn(s);await Jc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qA(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function $v(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function GA(s,e){const i=await Yv(s,{},async()=>{const a=Wo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await Xv(s,o,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return s.emulatorConfig&&Al(s.emulatorConfig.host)&&(y.credentials="include"),Kv.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function FA(s,e){return xl(s,"POST","/v2/accounts:revokeToken",Jo(s,e))}class hl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):l_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const i=l_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await GA(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new hl;return a&&(Se(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(Se(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Se(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hl,this.toJSON())}_performRefresh(){return ws("not implemented")}}function gr(s,e){Se(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class _i{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new BA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new am(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await qo(this,this.stsTokenManager.getToken(this.auth,e));return Se(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return PA(this,e)}reload(){return HA(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new _i({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Jc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(si(this.auth.app))return Promise.reject(Rs(this.auth));const e=await this.getIdToken();return await qo(this,LA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:A,emailVerified:M,isAnonymous:F,providerData:J,stsTokenManager:ne}=i;Se(A&&ne,e,"internal-error");const Z=hl.fromJSON(this.name,ne);Se(typeof A=="string",e,"internal-error"),gr(a,e.name),gr(o,e.name),Se(typeof M=="boolean",e,"internal-error"),Se(typeof F=="boolean",e,"internal-error"),gr(c,e.name),gr(d,e.name),gr(p,e.name),gr(y,e.name),gr(_,e.name),gr(E,e.name);const ye=new _i({uid:A,auth:e,email:o,emailVerified:M,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:Z,createdAt:_,lastLoginAt:E});return J&&Array.isArray(J)&&(ye.providerData=J.map(Ce=>({...Ce}))),y&&(ye._redirectEventId=y),ye}static async _fromIdTokenResponse(e,i,a=!1){const o=new hl;o.updateFromServerResponse(i);const c=new _i({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Jc(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];Se(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?$v(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new hl;p.updateFromIdToken(a);const y=new _i({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new am(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const o_=new Map;function xs(s){Ns(s instanceof Function,"Expected a class definition");let e=o_.get(s);return e?(Ns(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,o_.set(s,e),e)}class Wv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Wv.type="NONE";const u_=Wv;function zc(s,e,i){return`firebase:${s}:${e}:${i}`}class fl{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=zc(this.userKey,o.apiKey,c),this.fullPersistenceKey=zc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Zc(this.auth,{idToken:e}).catch(()=>{});return i?_i._fromGetAccountInfoResponse(this.auth,i,e):null}return _i._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new fl(xs(u_),e,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||xs(u_);const d=zc(a,e.config.apiKey,e.name);let p=null;for(const _ of i)try{const E=await _._get(d);if(E){let A;if(typeof E=="string"){const M=await Zc(e,{idToken:E}).catch(()=>{});if(!M)break;A=await _i._fromGetAccountInfoResponse(e,M,E)}else A=_i._fromJSON(e,E);_!==c&&(p=A),c=_;break}}catch{}const y=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new fl(c,e,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new fl(c,e,a))}}function c_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Zv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iE(e))return"Blackberry";if(sE(e))return"Webos";if(Jv(e))return"Safari";if((e.includes("chrome/")||eE(e))&&!e.includes("edge/"))return"Chrome";if(nE(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function Zv(s=En()){return/firefox\//i.test(s)}function Jv(s=En()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eE(s=En()){return/crios\//i.test(s)}function tE(s=En()){return/iemobile/i.test(s)}function nE(s=En()){return/android/i.test(s)}function iE(s=En()){return/blackberry/i.test(s)}function sE(s=En()){return/webos/i.test(s)}function km(s=En()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function QA(s=En()){return km(s)&&!!window.navigator?.standalone}function KA(){return oS()&&document.documentMode===10}function rE(s=En()){return km(s)||nE(s)||sE(s)||iE(s)||/windows phone/i.test(s)||tE(s)}function aE(s,e=[]){let i;switch(s){case"Browser":i=c_(En());break;case"Worker":i=`${c_(En())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${wl}/${a}`}class YA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,p)=>{try{const y=e(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function XA(s,e={}){return xl(s,"GET","/v2/passwordPolicy",Jo(s,e))}const $A=6;class WA{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??$A,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class ZA{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new h_(this),this.idTokenSubscription=new h_(this),this.beforeStateQueue=new YA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=xs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await fl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Zc(this,{idToken:e}),a=await _i._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(si(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Jc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(si(this.app))return Promise.reject(Rs(this));const i=e?Sn(e):null;return i&&Se(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return si(this.app)?Promise.reject(Rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return si(this.app)?Promise.reject(Rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XA(this),i=new WA(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $o("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await FA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&xs(e)||this._popupRedirectResolver;Se(i,this,"argument-error"),this.redirectPersistenceManager=await fl.create(this,[xs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,a,o);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&NA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function eu(s){return Sn(s)}class h_{constructor(e){this.auth=e,this.observer=null,this.addObserver=pS(i=>this.observer=i)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let jm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JA(s){jm=s}function ew(s){return jm.loadJS(s)}function tw(){return jm.gapiScript}function nw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function iw(s,e){const i=Nm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Rr(c,e??{}))return o;Is(o,"already-initialized")}return i.initialize({options:e})}function sw(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(xs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function rw(s,e,i){const a=eu(s);Se(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=lE(e),{host:d,port:p}=aw(e),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},E=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Se(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Se(Rr(_,a.config.emulator)&&Rr(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,Al(d)?(jv(`${c}//${d}${y}`),Uv("Auth",!0)):lw()}function lE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function aw(s){const e=lE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:f_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:f_(d)}}}function f_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function lw(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class oE{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ws("not implemented")}_getIdTokenResponse(e){return ws("not implemented")}_linkToIdToken(e,i){return ws("not implemented")}_getReauthenticationResolver(e){return ws("not implemented")}}async function dl(s,e){return Mm(s,"POST","/v1/accounts:signInWithIdp",Jo(s,e))}const ow="http://localhost";class fa extends oE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Is("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new fa(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return dl(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,dl(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,dl(e,i)}buildRequest(){const e={requestUri:ow,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Wo(i)}return e}}class uE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class tu extends uE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class yr extends tu{constructor(){super("facebook.com")}static credential(e){return fa._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yr.credential(e.oauthAccessToken)}catch{return null}}}yr.FACEBOOK_SIGN_IN_METHOD="facebook.com";yr.PROVIDER_ID="facebook.com";class _r extends tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return fa._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return _r.credential(i,a)}catch{return null}}}_r.GOOGLE_SIGN_IN_METHOD="google.com";_r.PROVIDER_ID="google.com";class vr extends tu{constructor(){super("github.com")}static credential(e){return fa._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vr.credential(e.oauthAccessToken)}catch{return null}}}vr.GITHUB_SIGN_IN_METHOD="github.com";vr.PROVIDER_ID="github.com";class Er extends tu{constructor(){super("twitter.com")}static credential(e,i){return fa._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Er.credentialFromTaggedObject(e)}static credentialFromError(e){return Er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return Er.credential(i,a)}catch{return null}}}Er.TWITTER_SIGN_IN_METHOD="twitter.com";Er.PROVIDER_ID="twitter.com";async function uw(s,e){return Mm(s,"POST","/v1/accounts:signUp",Jo(s,e))}class Ds{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await _i._fromIdTokenResponse(e,a,o),d=d_(a);return new Ds({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=d_(a);return new Ds({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function d_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function m_(s){if(si(s.app))return Promise.reject(Rs(s));const e=eu(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Ds({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await uw(e,{returnSecureToken:!0}),a=await Ds._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class eh extends Vs{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,eh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new eh(e,i,a,o)}}function cE(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?eh._fromErrorAndOperation(s,c,e,a):c})}async function cw(s,e,i=!1){const a=await qo(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return Ds._forOperation(s,"link",a)}async function hw(s,e,i=!1){const{auth:a}=s;if(si(a.app))return Promise.reject(Rs(a));const o="reauthenticate";try{const c=await qo(s,cE(a,o,e,s),i);Se(c.idToken,a,"internal-error");const d=Vm(c.idToken);Se(d,a,"internal-error");const{sub:p}=d;return Se(s.uid===p,a,"user-mismatch"),Ds._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Is(a,"user-mismatch"),c}}async function fw(s,e,i=!1){if(si(s.app))return Promise.reject(Rs(s));const a="signIn",o=await cE(s,a,e),c=await Ds._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}async function dw(s,e){return Mm(s,"POST","/v1/accounts:signInWithCustomToken",Jo(s,e))}async function mw(s,e){if(si(s.app))return Promise.reject(Rs(s));const i=eu(s),a=await dw(i,{token:e,returnSecureToken:!0}),o=await Ds._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function gw(s,e,i,a){return Sn(s).onIdTokenChanged(e,i,a)}function pw(s,e,i){return Sn(s).beforeAuthStateChanged(e,i)}function yw(s,e,i,a){return Sn(s).onAuthStateChanged(e,i,a)}const th="__sak";class hE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(th,"1"),this.storage.removeItem(th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const _w=1e3,vw=10;class fE extends hE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);KA()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,vw):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},_w)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}fE.type="LOCAL";const Ew=fE;class dE extends hE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}dE.type="SESSION";const mE=dE;function bw(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class vh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new vh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await bw(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vh.receivers=[];function Um(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class Tw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=Um("",20);o.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(A){const M=A;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(E),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function qi(){return window}function Sw(s){qi().location.href=s}function gE(){return typeof qi().WorkerGlobalScope<"u"&&typeof qi().importScripts=="function"}async function Aw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ww(){return navigator?.serviceWorker?.controller||null}function xw(){return gE()?self:null}const pE="firebaseLocalStorageDb",Rw=1,nh="firebaseLocalStorage",yE="fbase_key";class nu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Eh(s,e){return s.transaction([nh],e?"readwrite":"readonly").objectStore(nh)}function Cw(){const s=indexedDB.deleteDatabase(pE);return new nu(s).toPromise()}function lm(){const s=indexedDB.open(pE,Rw);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(nh,{keyPath:yE})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(nh)?e(a):(a.close(),await Cw(),e(await lm()))})})}async function g_(s,e,i){const a=Eh(s,!0).put({[yE]:e,value:i});return new nu(a).toPromise()}async function Iw(s,e){const i=Eh(s,!1).get(e),a=await new nu(i).toPromise();return a===void 0?null:a.value}function p_(s,e){const i=Eh(s,!0).delete(e);return new nu(i).toPromise()}const Nw=800,Dw=3;class _E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>Dw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vh._getInstance(xw()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Aw(),!this.activeServiceWorker)return;this.sender=new Tw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ww()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lm();return await g_(e,th,"1"),await p_(e,th),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>g_(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>Iw(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>p_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Eh(o,!1).getAll();return new nu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Nw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_E.type="LOCAL";const Ow=_E;new Zo(3e4,6e4);function Mw(s,e){return e?xs(e):(Se(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Lm extends oE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return dl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return dl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return dl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function Vw(s){return fw(s.auth,new Lm(s),s.bypassAuthState)}function kw(s){const{auth:e,user:i}=s;return Se(i,e,"internal-error"),hw(i,new Lm(s),s.bypassAuthState)}async function jw(s){const{auth:e,user:i}=s;return Se(i,e,"internal-error"),cw(i,new Lm(s),s.bypassAuthState)}class vE{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Vw;case"linkViaPopup":case"linkViaRedirect":return jw;case"reauthViaPopup":case"reauthViaRedirect":return kw;default:Is(this.auth,"internal-error")}}resolve(e){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Uw=new Zo(2e3,1e4);class cl extends vE{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,cl.currentPopupAction&&cl.currentPopupAction.cancel(),cl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Ns(this.filter.length===1,"Popup operations only handle one event");const e=Um();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Uw.get())};e()}}cl.currentPopupAction=null;const Lw="pendingRedirect",Bc=new Map;class Pw extends vE{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Bc.get(this.auth._key());if(!e){try{const a=await zw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Bc.set(this.auth._key(),e)}return this.bypassAuthState||Bc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zw(s,e){const i=qw(e),a=Hw(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function Bw(s,e){Bc.set(s._key(),e)}function Hw(s){return xs(s._redirectPersistence)}function qw(s){return zc(Lw,s.config.apiKey,s.name)}async function Gw(s,e,i=!1){if(si(s.app))return Promise.reject(Rs(s));const a=eu(s),o=Mw(a,e),d=await new Pw(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const Fw=600*1e3;class Qw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Kw(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!EE(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Hi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Fw&&this.cachedEventUids.clear(),this.cachedEventUids.has(y_(e))}saveEventToCache(e){this.cachedEventUids.add(y_(e)),this.lastProcessedEventTime=Date.now()}}function y_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function EE({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function Kw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return EE(s);default:return!1}}async function Yw(s,e={}){return xl(s,"GET","/v1/projects",e)}const Xw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$w=/^https?/;async function Ww(s){if(s.config.emulator)return;const{authorizedDomains:e}=await Yw(s);for(const i of e)try{if(Zw(i))return}catch{}Is(s,"unauthorized-domain")}function Zw(s){const e=rm(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!$w.test(i))return!1;if(Xw.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const Jw=new Zo(3e4,6e4);function __(){const s=qi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function ex(s){return new Promise((e,i)=>{function a(){__(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{__(),i(Hi(s,"network-request-failed"))},timeout:Jw.get()})}if(qi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(qi().gapi?.load)a();else{const o=nw("iframefcb");return qi()[o]=()=>{gapi.load?a():i(Hi(s,"network-request-failed"))},ew(`${tw()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Hc=null,e})}let Hc=null;function tx(s){return Hc=Hc||ex(s),Hc}const nx=new Zo(5e3,15e3),ix="__/auth/iframe",sx="emulator/auth/iframe",rx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ax=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lx(s){const e=s.config;Se(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Om(e,sx):`https://${s.config.authDomain}/${ix}`,a={apiKey:e.apiKey,appName:s.name,v:wl},o=ax.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Wo(a).slice(1)}`}async function ox(s){const e=await tx(s),i=qi().gapi;return Se(i,s,"internal-error"),e.open({where:document.body,url:lx(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rx,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Hi(s,"network-request-failed"),p=qi().setTimeout(()=>{c(d)},nx.get());function y(){qi().clearTimeout(p),o(a)}a.ping(y).then(y,()=>{c(d)})}))}const ux={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cx=500,hx=600,fx="_blank",dx="http://localhost";class v_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mx(s,e,i,a=cx,o=hx){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...ux,width:a.toString(),height:o.toString(),top:c,left:d},_=En().toLowerCase();i&&(p=eE(_)?fx:i),Zv(_)&&(e=e||dx,y.scrollbars="yes");const E=Object.entries(y).reduce((M,[F,J])=>`${M}${F}=${J},`,"");if(QA(_)&&p!=="_self")return gx(e||"",p),new v_(null);const A=window.open(e||"",p,E);Se(A,s,"popup-blocked");try{A.focus()}catch{}return new v_(A)}function gx(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const px="__/auth/handler",yx="emulator/auth/handler",_x=encodeURIComponent("fac");async function E_(s,e,i,a,o,c){Se(s.config.authDomain,s,"auth-domain-config-required"),Se(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:wl,eventId:o};if(e instanceof uE){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",gS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))d[E]=A}if(e instanceof tu){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(d.scopes=E.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const y=await s._getAppCheckToken(),_=y?`#${_x}=${encodeURIComponent(y)}`:"";return`${vx(s)}?${Wo(p).slice(1)}${_}`}function vx({config:s}){return s.emulator?Om(s,yx):`https://${s.authDomain}/${px}`}const Qd="webStorageSupport";class Ex{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mE,this._completeRedirectFn=Gw,this._overrideRedirectResult=Bw}async _openPopup(e,i,a,o){Ns(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await E_(e,i,a,rm(),o);return mx(e,c,Um())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await E_(e,i,a,rm(),o);return Sw(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Ns(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await ox(e),a=new Qw(e);return i.register("authEvent",o=>(Se(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Qd,{type:Qd},o=>{const c=o?.[0]?.[Qd];c!==void 0&&i(!!c),Is(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Ww(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return rE()||Jv()||km()}}const bx=Ex;var b_="@firebase/auth",T_="1.11.1";class Tx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Sx(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ax(s){pl(new ha("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;Se(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aE(s)},_=new ZA(a,o,c,y);return sw(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),pl(new ha("auth-internal",e=>{const i=eu(e.getProvider("auth").getImmediate());return(a=>new Tx(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ar(b_,T_,Sx(s)),Ar(b_,T_,"esm2020")}const wx=300,xx=kv("authIdTokenMaxAge")||wx;let S_=null;const Rx=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>xx)return;const o=i?.token;S_!==o&&(S_=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Cx(s=Bv()){const e=Nm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=iw(s,{popupRedirectResolver:bx,persistence:[Ow,Ew,mE]}),a=kv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Rx(c.toString());pw(i,d,()=>d(i.currentUser)),gw(i,p=>d(p))}}const o=Mv("auth");return o&&rw(i,`http://${o}`),i}function Ix(){return document.getElementsByTagName("head")?.[0]??document}JA({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=Hi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",Ix().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ax("Browser");var A_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var wr,bE;(function(){var s;function e(I,w){function R(){}R.prototype=w.prototype,I.F=w.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(V,O,j){for(var x=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)x[Xe-2]=arguments[Xe];return w.prototype[O].apply(V,x)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,w,R){R||(R=0);const V=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)V[O]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(O=0;O<16;++O)V[O]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=I.g[0],R=I.g[1],O=I.g[2];let j=I.g[3],x;x=w+(j^R&(O^j))+V[0]+3614090360&4294967295,w=R+(x<<7&4294967295|x>>>25),x=j+(O^w&(R^O))+V[1]+3905402710&4294967295,j=w+(x<<12&4294967295|x>>>20),x=O+(R^j&(w^R))+V[2]+606105819&4294967295,O=j+(x<<17&4294967295|x>>>15),x=R+(w^O&(j^w))+V[3]+3250441966&4294967295,R=O+(x<<22&4294967295|x>>>10),x=w+(j^R&(O^j))+V[4]+4118548399&4294967295,w=R+(x<<7&4294967295|x>>>25),x=j+(O^w&(R^O))+V[5]+1200080426&4294967295,j=w+(x<<12&4294967295|x>>>20),x=O+(R^j&(w^R))+V[6]+2821735955&4294967295,O=j+(x<<17&4294967295|x>>>15),x=R+(w^O&(j^w))+V[7]+4249261313&4294967295,R=O+(x<<22&4294967295|x>>>10),x=w+(j^R&(O^j))+V[8]+1770035416&4294967295,w=R+(x<<7&4294967295|x>>>25),x=j+(O^w&(R^O))+V[9]+2336552879&4294967295,j=w+(x<<12&4294967295|x>>>20),x=O+(R^j&(w^R))+V[10]+4294925233&4294967295,O=j+(x<<17&4294967295|x>>>15),x=R+(w^O&(j^w))+V[11]+2304563134&4294967295,R=O+(x<<22&4294967295|x>>>10),x=w+(j^R&(O^j))+V[12]+1804603682&4294967295,w=R+(x<<7&4294967295|x>>>25),x=j+(O^w&(R^O))+V[13]+4254626195&4294967295,j=w+(x<<12&4294967295|x>>>20),x=O+(R^j&(w^R))+V[14]+2792965006&4294967295,O=j+(x<<17&4294967295|x>>>15),x=R+(w^O&(j^w))+V[15]+1236535329&4294967295,R=O+(x<<22&4294967295|x>>>10),x=w+(O^j&(R^O))+V[1]+4129170786&4294967295,w=R+(x<<5&4294967295|x>>>27),x=j+(R^O&(w^R))+V[6]+3225465664&4294967295,j=w+(x<<9&4294967295|x>>>23),x=O+(w^R&(j^w))+V[11]+643717713&4294967295,O=j+(x<<14&4294967295|x>>>18),x=R+(j^w&(O^j))+V[0]+3921069994&4294967295,R=O+(x<<20&4294967295|x>>>12),x=w+(O^j&(R^O))+V[5]+3593408605&4294967295,w=R+(x<<5&4294967295|x>>>27),x=j+(R^O&(w^R))+V[10]+38016083&4294967295,j=w+(x<<9&4294967295|x>>>23),x=O+(w^R&(j^w))+V[15]+3634488961&4294967295,O=j+(x<<14&4294967295|x>>>18),x=R+(j^w&(O^j))+V[4]+3889429448&4294967295,R=O+(x<<20&4294967295|x>>>12),x=w+(O^j&(R^O))+V[9]+568446438&4294967295,w=R+(x<<5&4294967295|x>>>27),x=j+(R^O&(w^R))+V[14]+3275163606&4294967295,j=w+(x<<9&4294967295|x>>>23),x=O+(w^R&(j^w))+V[3]+4107603335&4294967295,O=j+(x<<14&4294967295|x>>>18),x=R+(j^w&(O^j))+V[8]+1163531501&4294967295,R=O+(x<<20&4294967295|x>>>12),x=w+(O^j&(R^O))+V[13]+2850285829&4294967295,w=R+(x<<5&4294967295|x>>>27),x=j+(R^O&(w^R))+V[2]+4243563512&4294967295,j=w+(x<<9&4294967295|x>>>23),x=O+(w^R&(j^w))+V[7]+1735328473&4294967295,O=j+(x<<14&4294967295|x>>>18),x=R+(j^w&(O^j))+V[12]+2368359562&4294967295,R=O+(x<<20&4294967295|x>>>12),x=w+(R^O^j)+V[5]+4294588738&4294967295,w=R+(x<<4&4294967295|x>>>28),x=j+(w^R^O)+V[8]+2272392833&4294967295,j=w+(x<<11&4294967295|x>>>21),x=O+(j^w^R)+V[11]+1839030562&4294967295,O=j+(x<<16&4294967295|x>>>16),x=R+(O^j^w)+V[14]+4259657740&4294967295,R=O+(x<<23&4294967295|x>>>9),x=w+(R^O^j)+V[1]+2763975236&4294967295,w=R+(x<<4&4294967295|x>>>28),x=j+(w^R^O)+V[4]+1272893353&4294967295,j=w+(x<<11&4294967295|x>>>21),x=O+(j^w^R)+V[7]+4139469664&4294967295,O=j+(x<<16&4294967295|x>>>16),x=R+(O^j^w)+V[10]+3200236656&4294967295,R=O+(x<<23&4294967295|x>>>9),x=w+(R^O^j)+V[13]+681279174&4294967295,w=R+(x<<4&4294967295|x>>>28),x=j+(w^R^O)+V[0]+3936430074&4294967295,j=w+(x<<11&4294967295|x>>>21),x=O+(j^w^R)+V[3]+3572445317&4294967295,O=j+(x<<16&4294967295|x>>>16),x=R+(O^j^w)+V[6]+76029189&4294967295,R=O+(x<<23&4294967295|x>>>9),x=w+(R^O^j)+V[9]+3654602809&4294967295,w=R+(x<<4&4294967295|x>>>28),x=j+(w^R^O)+V[12]+3873151461&4294967295,j=w+(x<<11&4294967295|x>>>21),x=O+(j^w^R)+V[15]+530742520&4294967295,O=j+(x<<16&4294967295|x>>>16),x=R+(O^j^w)+V[2]+3299628645&4294967295,R=O+(x<<23&4294967295|x>>>9),x=w+(O^(R|~j))+V[0]+4096336452&4294967295,w=R+(x<<6&4294967295|x>>>26),x=j+(R^(w|~O))+V[7]+1126891415&4294967295,j=w+(x<<10&4294967295|x>>>22),x=O+(w^(j|~R))+V[14]+2878612391&4294967295,O=j+(x<<15&4294967295|x>>>17),x=R+(j^(O|~w))+V[5]+4237533241&4294967295,R=O+(x<<21&4294967295|x>>>11),x=w+(O^(R|~j))+V[12]+1700485571&4294967295,w=R+(x<<6&4294967295|x>>>26),x=j+(R^(w|~O))+V[3]+2399980690&4294967295,j=w+(x<<10&4294967295|x>>>22),x=O+(w^(j|~R))+V[10]+4293915773&4294967295,O=j+(x<<15&4294967295|x>>>17),x=R+(j^(O|~w))+V[1]+2240044497&4294967295,R=O+(x<<21&4294967295|x>>>11),x=w+(O^(R|~j))+V[8]+1873313359&4294967295,w=R+(x<<6&4294967295|x>>>26),x=j+(R^(w|~O))+V[15]+4264355552&4294967295,j=w+(x<<10&4294967295|x>>>22),x=O+(w^(j|~R))+V[6]+2734768916&4294967295,O=j+(x<<15&4294967295|x>>>17),x=R+(j^(O|~w))+V[13]+1309151649&4294967295,R=O+(x<<21&4294967295|x>>>11),x=w+(O^(R|~j))+V[4]+4149444226&4294967295,w=R+(x<<6&4294967295|x>>>26),x=j+(R^(w|~O))+V[11]+3174756917&4294967295,j=w+(x<<10&4294967295|x>>>22),x=O+(w^(j|~R))+V[2]+718787259&4294967295,O=j+(x<<15&4294967295|x>>>17),x=R+(j^(O|~w))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(O+(x<<21&4294967295|x>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+j&4294967295}a.prototype.v=function(I,w){w===void 0&&(w=I.length);const R=w-this.blockSize,V=this.C;let O=this.h,j=0;for(;j<w;){if(O==0)for(;j<=R;)o(this,I,j),j+=this.blockSize;if(typeof I=="string"){for(;j<w;)if(V[O++]=I.charCodeAt(j++),O==this.blockSize){o(this,V),O=0;break}}else for(;j<w;)if(V[O++]=I[j++],O==this.blockSize){o(this,V),O=0;break}}this.h=O,this.o+=w},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;w=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=w&255,w/=256;for(this.v(I),I=Array(16),w=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)I[w++]=this.g[R]>>>V&255;return I};function c(I,w){var R=p;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=w(I)}function d(I,w){this.h=w;const R=[];let V=!0;for(let O=I.length-1;O>=0;O--){const j=I[O]|0;V&&j==w||(R[O]=j,V=!1)}this.g=R}var p={};function y(I){return-128<=I&&I<128?c(I,function(w){return new d([w|0],w<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return A;if(I<0)return Z(_(-I));const w=[];let R=1;for(let V=0;I>=R;V++)w[V]=I/R|0,R*=4294967296;return new d(w,0)}function E(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return Z(E(I.substring(1),w));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=_(Math.pow(w,8));let V=A;for(let j=0;j<I.length;j+=8){var O=Math.min(8,I.length-j);const x=parseInt(I.substring(j,j+O),w);O<8?(O=_(Math.pow(w,O)),V=V.j(O).add(_(x))):(V=V.j(R),V=V.add(_(x)))}return V}var A=y(0),M=y(1),F=y(16777216);s=d.prototype,s.m=function(){if(ne(this))return-Z(this).m();let I=0,w=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);I+=(V>=0?V:4294967296+V)*w,w*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(J(this))return"0";if(ne(this))return"-"+Z(this).toString(I);const w=_(Math.pow(I,6));var R=this;let V="";for(;;){const O=tt(R,w).g;R=ye(R,O.j(w));let j=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=O,J(R))return j+V;for(;j.length<6;)j="0"+j;V=j+V}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function J(I){if(I.h!=0)return!1;for(let w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function ne(I){return I.h==-1}s.l=function(I){return I=ye(this,I),ne(I)?-1:J(I)?0:1};function Z(I){const w=I.g.length,R=[];for(let V=0;V<w;V++)R[V]=~I.g[V];return new d(R,~I.h).add(M)}s.abs=function(){return ne(this)?Z(this):this},s.add=function(I){const w=Math.max(this.g.length,I.g.length),R=[];let V=0;for(let O=0;O<=w;O++){let j=V+(this.i(O)&65535)+(I.i(O)&65535),x=(j>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);V=x>>>16,j&=65535,x&=65535,R[O]=x<<16|j}return new d(R,R[R.length-1]&-2147483648?-1:0)};function ye(I,w){return I.add(Z(w))}s.j=function(I){if(J(this)||J(I))return A;if(ne(this))return ne(I)?Z(this).j(Z(I)):Z(Z(this).j(I));if(ne(I))return Z(this.j(Z(I)));if(this.l(F)<0&&I.l(F)<0)return _(this.m()*I.m());const w=this.g.length+I.g.length,R=[];for(var V=0;V<2*w;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<I.g.length;O++){const j=this.i(V)>>>16,x=this.i(V)&65535,Xe=I.i(O)>>>16,bt=I.i(O)&65535;R[2*V+2*O]+=x*bt,Ce(R,2*V+2*O),R[2*V+2*O+1]+=j*bt,Ce(R,2*V+2*O+1),R[2*V+2*O+1]+=x*Xe,Ce(R,2*V+2*O+1),R[2*V+2*O+2]+=j*Xe,Ce(R,2*V+2*O+2)}for(I=0;I<w;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=w;I<2*w;I++)R[I]=0;return new d(R,0)};function Ce(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function Te(I,w){this.g=I,this.h=w}function tt(I,w){if(J(w))throw Error("division by zero");if(J(I))return new Te(A,A);if(ne(I))return w=tt(Z(I),w),new Te(Z(w.g),Z(w.h));if(ne(w))return w=tt(I,Z(w)),new Te(Z(w.g),w.h);if(I.g.length>30){if(ne(I)||ne(w))throw Error("slowDivide_ only works with positive integers.");for(var R=M,V=w;V.l(I)<=0;)R=dt(R),V=dt(V);var O=fe(R,1),j=fe(V,1);for(V=fe(V,2),R=fe(R,2);!J(V);){var x=j.add(V);x.l(I)<=0&&(O=O.add(R),j=x),V=fe(V,1),R=fe(R,1)}return w=ye(I,O.j(w)),new Te(O,w)}for(O=A;I.l(w)>=0;){for(R=Math.max(1,Math.floor(I.m()/w.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),j=_(R),x=j.j(w);ne(x)||x.l(I)>0;)R-=V,j=_(R),x=j.j(w);J(j)&&(j=M),O=O.add(j),I=ye(I,x)}return new Te(O,I)}s.B=function(I){return tt(this,I).h},s.and=function(I){const w=Math.max(this.g.length,I.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)&I.i(V);return new d(R,this.h&I.h)},s.or=function(I){const w=Math.max(this.g.length,I.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)|I.i(V);return new d(R,this.h|I.h)},s.xor=function(I){const w=Math.max(this.g.length,I.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)^I.i(V);return new d(R,this.h^I.h)};function dt(I){const w=I.g.length+1,R=[];for(let V=0;V<w;V++)R[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(R,I.h)}function fe(I,w){const R=w>>5;w%=32;const V=I.g.length-R,O=[];for(let j=0;j<V;j++)O[j]=w>0?I.i(j+R)>>>w|I.i(j+R+1)<<32-w:I.i(j+R);return new d(O,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,bE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=E,wr=d}).apply(typeof A_<"u"?A_:typeof self<"u"?self:typeof window<"u"?window:{});var Oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var TE,Oo,SE,qc,om,AE,wE,xE;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oc=="object"&&Oc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var v=a;u=u.split(".");for(var S=0;S<u.length-1;S++){var U=u[S];if(!(U in v))break e;v=v[U]}u=u[u.length-1],S=v[u],m=m(S),m!=S&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&v.push([S,m[S]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function E(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(S,U,B){for(var te=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)te[Ie-2]=arguments[Ie];return m.prototype[U].apply(S,te)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let S=0;S<m;S++)v[S]=u[S];return v}return[]}function J(u,m){for(let S=1;S<arguments.length;S++){const U=arguments[S];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const B=U.length||0;u.length=v+B;for(let te=0;te<B;te++)u[v+te]=U[te]}else u.push(U)}}class ne{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function ye(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ce{constructor(){this.h=this.g=null}add(m,v){const S=Te.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var Te=new ne(()=>new tt,u=>u.reset());class tt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let dt,fe=!1,I=new Ce,w=()=>{const u=Promise.resolve(void 0);dt=()=>{u.then(R)}};function R(){for(var u;u=ye();){try{u.h.call(u.g)}catch(v){Z(v)}var m=Te;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}fe=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function Xe(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(Xe,O),Xe.prototype.init=function(u,m){const v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Xe.Z.h.call(this)},Xe.prototype.h=function(){Xe.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var bt="closure_listenable_"+(Math.random()*1e6|0),q=0;function ee(u,m,v,S,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=U,this.key=++q,this.da=this.fa=!1}function me(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function qe(u,m,v){for(const S in u)m.call(v,u[S],S,u)}function Ve(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function D(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(u,m){let v,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(v in S)u[v]=S[v];for(let B=0;B<K.length;B++)v=K[B],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function ae(u){this.src=u,this.g={},this.h=0}ae.prototype.add=function(u,m,v,S,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const te=Ae(u,m,S,U);return te>-1?(m=u[te],v||(m.fa=!1)):(m=new ee(m,this.src,B,!!S,U),m.fa=v,u.push(m)),m};function Ee(u,m){const v=m.type;if(v in u.g){var S=u.g[v],U=Array.prototype.indexOf.call(S,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(S,U,1),B&&(me(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ae(u,m,v,S){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==S)return U}return-1}var Oe="closure_lm_"+(Math.random()*1e6|0),Nt={};function at(u,m,v,S,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)at(u,m[B],v,S,U);return null}return v=es(v),u&&u[bt]?u.J(m,v,p(S)?!!S.capture:!1,U):$i(u,m,v,!1,S,U)}function $i(u,m,v,S,U,B){if(!m)throw Error("Invalid event type");const te=p(U)?!!U.capture:!!U;let Ie=Zi(u);if(Ie||(u[Oe]=Ie=new ae(u)),v=Ie.add(m,v,S,te,B),v.proxy)return v;if(S=Wi(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)j||(U=te),U===void 0&&(U=!1),u.addEventListener(m.toString(),S,U);else if(u.attachEvent)u.attachEvent(kn(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Wi(){function u(v){return m.call(u.src,u.listener,v)}const m=Us;return u}function ks(u,m,v,S,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)ks(u,m[B],v,S,U);else S=p(S)?!!S.capture:!!S,v=es(v),u&&u[bt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Ae(m,v,S,U),v>-1&&(me(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Zi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ae(m,v,S,U)),(v=u>-1?m[u]:null)&&js(v))}function js(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[bt])Ee(m.i,u);else{var v=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(v,S,u.capture):m.detachEvent?m.detachEvent(kn(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=Zi(m))?(Ee(v,u),v.h==0&&(v.src=null,m[Oe]=null)):me(u)}}}function kn(u){return u in Nt?Nt[u]:Nt[u]="on"+u}function Us(u,m){if(u.da)u=!0;else{m=new Xe(m,this);const v=u.listener,S=u.ha||u.src;u.fa&&js(u),u=v.call(S,m)}return u}function Zi(u){return u=u[Oe],u instanceof ae?u:null}var Ji="__closure_events_fn_"+(Math.random()*1e9>>>0);function es(u){return typeof u=="function"?u:(u[Ji]||(u[Ji]=function(m){return u.handleEvent(m)}),u[Ji])}function wt(){V.call(this),this.i=new ae(this),this.M=this,this.G=null}A(wt,V),wt.prototype[bt]=!0,wt.prototype.removeEventListener=function(u,m,v,S){ks(this,u,m,v,S)};function Dt(u,m){var v,S=u.G;if(S)for(v=[];S;S=S.G)v.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var U=m;m=new O(S,u),ie(m,U)}U=!0;let B,te;if(v)for(te=v.length-1;te>=0;te--)B=m.g=v[te],U=bi(B,S,!0,m)&&U;if(B=m.g=u,U=bi(B,S,!0,m)&&U,U=bi(B,S,!1,m)&&U,v)for(te=0;te<v.length;te++)B=m.g=v[te],U=bi(B,S,!1,m)&&U}wt.prototype.N=function(){if(wt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let S=0;S<v.length;S++)me(v[S]);delete u.g[m],u.h--}}this.G=null},wt.prototype.J=function(u,m,v,S){return this.i.add(String(u),m,!1,v,S)},wt.prototype.K=function(u,m,v,S){return this.i.add(String(u),m,!0,v,S)};function bi(u,m,v,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const te=m[B];if(te&&!te.da&&te.capture==v){const Ie=te.listener,Mt=te.ha||te.src;te.fa&&Ee(u.i,te),U=Ie.call(Mt,S)!==!1&&U}}return U&&!S.defaultPrevented}function Dl(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function _a(u){u.g=Dl(()=>{u.g=null,u.i&&(u.i=!1,_a(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class rn extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:_a(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ts(u){V.call(this),this.h=u,this.g={}}A(ts,V);var jr=[];function Ur(u){qe(u.g,function(m,v){this.g.hasOwnProperty(v)&&js(m)},u),u.g={}}ts.prototype.N=function(){ts.Z.N.call(this),Ur(this)},ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ti=d.JSON.stringify,W=d.JSON.parse,se=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ce(){}function pe(){}var ke={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ge(){O.call(this,"d")}A(Ge,O);function xt(){O.call(this,"c")}A(xt,O);var Fe={},Ut=null;function Tt(){return Ut=Ut||new wt}Fe.Ia="serverreachability";function An(u){O.call(this,Fe.Ia,u)}A(An,O);function oe(u){const m=Tt();Dt(m,new An(m))}Fe.STAT_EVENT="statevent";function Me(u,m){O.call(this,Fe.STAT_EVENT,u),this.stat=m}A(Me,O);function re(u){const m=Tt();Dt(m,new Me(m,u))}Fe.Ja="timingevent";function mt(u,m){O.call(this,Fe.Ja,u),this.size=m}A(mt,O);function ht(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function gt(){this.g=!0}gt.prototype.ua=function(){this.g=!1};function ns(u,m,v,S,U,B){u.info(function(){if(u.g)if(B){var te="",Ie=B.split("&");for(let Ze=0;Ze<Ie.length;Ze++){var Mt=Ie[Ze].split("=");if(Mt.length>1){const vt=Mt[0];Mt=Mt[1];const Xn=vt.split("_");te=Xn.length>=2&&Xn[1]=="type"?te+(vt+"="+Mt+"&"):te+(vt+"=redacted&")}}}else te=null;else te=B;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+m+`
`+v+`
`+te})}function Si(u,m,v,S,U,B,te){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+m+`
`+v+`
`+B+" "+te})}function Ot(u,m,v,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+nt(u,v)+(S?" "+S:"")})}function is(u,m){u.info(function(){return"TIMEOUT: "+m})}gt.prototype.info=function(){};function nt(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var U=S[0];if(U!="noop"&&U!="stop"&&U!="close")for(let te=1;te<S.length;te++)S[te]=""}}}}return Ti(B)}catch{return m}}var ai={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ss={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},rs;function li(){}A(li,ce),li.prototype.g=function(){return new XMLHttpRequest},rs=new li;function as(u){return encodeURIComponent(String(u))}function uu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function oi(u,m,v,S){this.j=u,this.i=m,this.l=v,this.S=S||1,this.V=new ts(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ui}function ui(){this.i=null,this.g="",this.h=!1}var Lt={},en={};function Ai(u,m,v){u.M=1,u.A=Lr(zt(m)),u.u=v,u.R=!0,va(u,null)}function va(u,m){u.F=Date.now(),wi(u),u.B=zt(u.A);var v=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),Sa(v.i,"t",S),u.C=0,v=u.j.L,u.h=new ui,u.g=Au(u.j,v?m:null,!u.u),u.P>0&&(u.O=new rn(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,S=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(jr[0]=U.toString()),U=jr);for(let B=0;B<U.length;B++){const te=at(v,U[B],S||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.J?D(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),oe(),ns(u.i,u.v,u.B,u.l,u.S,u.u)}oi.prototype.ba=function(u){u=u.target;const m=this.O;m&&fi(u)==3?m.j():this.Y(u)},oi.prototype.Y=function(u){try{if(u==this.g)e:{const Ie=fi(this.g),Mt=this.g.ya(),Ze=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||an(this.g)))){this.K||Ie!=4||Mt==7||(Mt==8||Ze<=0?oe(3):oe(2)),xi(this);var m=this.g.ca();this.X=m;var v=Ph(this);if(this.o=m==200,Si(this.i,this.v,this.B,this.l,this.S,Ie,m),this.o){if(this.U&&!this.L){t:{if(this.g){var S,U=this.g;if((S=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(S)){var B=S;break t}}B=null}if(u=B)Ot(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ri(this,u);else{this.o=!1,this.m=3,re(12),jn(this),Qn(this);break e}}if(this.R){u=!0;let vt;for(;!this.K&&this.C<v.length;)if(vt=hu(this,v),vt==en){Ie==4&&(this.m=4,re(14),u=!1),Ot(this.i,this.l,null,"[Incomplete Response]");break}else if(vt==Lt){this.m=4,re(15),Ot(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Ot(this.i,this.l,vt,null),Ri(this,vt);if(cu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||v.length!=0||this.h.h||(this.m=1,re(16),u=!1),this.o=this.o&&u,!u)Ot(this.i,this.l,v,"[Invalid Chunked Response]"),jn(this),Qn(this);else if(v.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Ql(te),te.P=!0,re(11))}}else Ot(this.i,this.l,v,null),Ri(this,v);Ie==4&&jn(this),this.o&&!this.K&&(Ie==4?Eu(this.j,this):(this.o=!1,wi(this)))}else os(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,re(12)):(this.m=0,re(13)),jn(this),Qn(this)}}}catch{}finally{}};function Ph(u){if(!cu(u))return u.g.la();const m=an(u.g);if(m==="")return"";let v="";const S=m.length,U=fi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return jn(u),Qn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<S;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(U&&B==S-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function cu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function hu(u,m){var v=u.C,S=m.indexOf(`
`,v);return S==-1?en:(v=Number(m.substring(v,S)),isNaN(v)?Lt:(S+=1,S+v>m.length?en:(m=m.slice(S,S+v),u.C=S+v,m)))}oi.prototype.cancel=function(){this.K=!0,jn(this)};function wi(u){u.T=Date.now()+u.H,Ea(u,u.H)}function Ea(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ht(_(u.aa,u),m)}function xi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}oi.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(is(this.i,this.B),this.M!=2&&(oe(),re(17)),jn(this),this.m=2,Qn(this)):Ea(this,this.T-u)};function Qn(u){u.j.I==0||u.K||Eu(u.j,u)}function jn(u){xi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Ur(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ri(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ii(v.h,u))){if(!u.L&&Ii(v.h,u)&&v.I==3){try{var S=v.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ca(v),Fs(v);else break e;Fr(v),re(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ht(_(v.Va,v),6e3));Ci(v.h)<=1&&v.ta&&(v.ta=void 0)}else ki(v,11)}else if((u.L||v.g==u)&&Ca(v),!x(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Ze=U[m];const vt=Ze[0];if(!(vt<=v.K))if(v.K=vt,Ze=Ze[1],v.I==2)if(Ze[0]=="c"){v.M=Ze[1],v.ba=Ze[2];const Xn=Ze[3];Xn!=null&&(v.ka=Xn,v.j.info("VER="+v.ka));const ji=Ze[4];ji!=null&&(v.za=ji,v.j.info("SVER="+v.za));const di=Ze[5];di!=null&&typeof di=="number"&&di>0&&(S=1.5*di,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const mi=u.g;if(mi){const Qr=mi.g?mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qr){var B=S.h;B.g||Qr.indexOf("spdy")==-1&&Qr.indexOf("quic")==-1&&Qr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Vl(B,B.h),B.h=null))}if(S.G){const Ia=mi.g?mi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ia&&(S.wa=Ia,it(S.J,S.G,Ia))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var te=u;if(S.na=Su(S,S.L?S.ba:null,S.W),te.L){kl(S.h,te);var Ie=te,Mt=S.O;Mt&&(Ie.H=Mt),Ie.D&&(xi(Ie),wi(Ie)),S.g=te}else _u(S);v.i.length>0&&Vi(v)}else Ze[0]!="stop"&&Ze[0]!="close"||ki(v,7);else v.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?ki(v,7):Gl(v):Ze[0]!="noop"&&v.l&&v.l.qa(Ze),v.A=0)}}oe(4)}catch{}}var Pt=class{constructor(u,m){this.g=u,this.map=m}};function Ol(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ml(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ci(u){return u.h?1:u.g?u.g.size:0}function Ii(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Vl(u,m){u.g?u.g.add(m):u.h=m}function kl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ol.prototype.cancel=function(){if(this.i=jl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function jl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var fu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ba(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const S=u[v].indexOf("=");let U,B=null;S>=0?(U=u[v].substring(0,S),B=u[v].substring(S+1)):U=u[v],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Un(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Un?(this.l=u.l,tn(this,u.j),this.o=u.o,this.g=u.g,Ls(this,u.u),this.h=u.h,Ul(this,pu(u.i)),this.m=u.m):u&&(m=String(u).match(fu))?(this.l=!1,tn(this,m[1]||"",!0),this.o=Ni(m[2]||""),this.g=Ni(m[3]||"",!0),Ls(this,m[4]),this.h=Ni(m[5]||"",!0),Ul(this,m[6]||"",!0),this.m=Ni(m[7]||"")):(this.l=!1,this.i=new zs(null,this.l))}Un.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Pr(m,Ta,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Pr(m,Ta,!0),"@"),u.push(as(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Pr(v,v.charAt(0)=="/"?Ll:du,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Pr(v,mu)),u.join("")},Un.prototype.resolve=function(u){const m=zt(this);let v=!!u.j;v?tn(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var S=u.h;if(v)Ls(m,u.u);else if(v=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var U=m.h.lastIndexOf("/");U!=-1&&(S=m.h.slice(0,U+1)+S)}if(U=S,U==".."||U==".")S="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){S=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let te=0;te<U.length;){const Ie=U[te++];Ie=="."?S&&te==U.length&&B.push(""):Ie==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),S&&te==U.length&&B.push("")):(B.push(Ie),S=!0)}S=B.join("/")}else S=U}return v?m.h=S:v=u.i.toString()!=="",v?Ul(m,pu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function zt(u){return new Un(u)}function tn(u,m,v){u.j=v?Ni(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ls(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ul(u,m,v){m instanceof zs?(u.i=m,Aa(u.i,u.l)):(v||(m=Pr(m,Ps)),u.i=new zs(m,u.l))}function it(u,m,v){u.i.set(m,v)}function Lr(u){return it(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ni(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Pr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,wn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function wn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ta=/[#\/\?@]/g,du=/[#\?:]/g,Ll=/[#\?]/g,Ps=/[#\?@]/g,mu=/#/g;function zs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function xn(u){u.g||(u.g=new Map,u.h=0,u.i&&ba(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=zs.prototype,s.add=function(u,m){xn(this),this.i=null,u=Bs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function gu(u,m){xn(u),m=Bs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Pl(u,m){return xn(u),m=Bs(u,m),u.g.has(m)}s.forEach=function(u,m){xn(this),this.g.forEach(function(v,S){v.forEach(function(U){u.call(m,U,S,this)},this)},this)};function zl(u,m){xn(u);let v=[];if(typeof m=="string")Pl(u,m)&&(v=v.concat(u.g.get(Bs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return xn(this),this.i=null,u=Bs(this,u),Pl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=zl(this,u),u.length>0?String(u[0]):m):m};function Sa(u,m,v){gu(u,m),v.length>0&&(u.i=null,u.g.set(Bs(u,m),F(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var v=m[S];const U=as(v);v=zl(this,v);for(let B=0;B<v.length;B++){let te=U;v[B]!==""&&(te+="="+as(v[B])),u.push(te)}}return this.i=u.join("&")};function pu(u){const m=new zs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Bs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Aa(u,m){m&&!u.j&&(xn(u),u.i=null,u.g.forEach(function(v,S){const U=S.toLowerCase();S!=U&&(gu(this,S),Sa(this,U,v))},u)),u.j=m}function ci(u,m){const v=new gt;if(d.Image){const S=new Image;S.onload=E(Kn,v,"TestLoadImage: loaded",!0,m,S),S.onerror=E(Kn,v,"TestLoadImage: error",!1,m,S),S.onabort=E(Kn,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=E(Kn,v,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function Bl(u,m){const v=new gt,S=new AbortController,U=setTimeout(()=>{S.abort(),Kn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(B=>{clearTimeout(U),B.ok?Kn(v,"TestPingServer: ok",!0,m):Kn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Kn(v,"TestPingServer: error",!1,m)})}function Kn(u,m,v,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(v)}catch{}}function Hs(){this.g=new se}function Di(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Di,ce),Di.prototype.g=function(){return new zr(this.i,this.h)};function zr(u,m){wt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(zr,wt),s=zr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,hi(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,qs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function wa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?qs(this):hi(this),this.readyState==3&&wa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,qs(this))},s.Na=function(u){this.g&&(this.response=u,qs(this))},s.ga=function(){this.g&&qs(this)};function qs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,hi(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function hi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(zr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Yn(u){let m="";return qe(u,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function Br(u,m,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Yn(v),typeof u=="string"?v!=null&&as(v):it(u,m,v))}function lt(u){wt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(lt,wt);var Oi=/^https?$/i,Hl=["POST","PUT"];s=lt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():rs.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Hr(this,B);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)v.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const B of S.keys())v.set(B,S.get(B));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Hl,m,void 0)>=0)||S||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,te]of v)this.g.setRequestHeader(B,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Hr(this,B)}};function Hr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,ql(u),ls(u)}function ql(u){u.A||(u.A=!0,Dt(u,"complete"),Dt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Dt(this,"complete"),Dt(this,"abort"),ls(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ls(this,!0)),lt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?qr(this):this.Xa())},s.Xa=function(){qr(this)};function qr(u){if(u.h&&typeof c<"u"){if(u.v&&fi(u)==4)setTimeout(u.Ca.bind(u),0);else if(Dt(u,"readystatechange"),fi(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var S;if(S=B===0){let te=String(u.D).match(fu)[1]||null;!te&&d.self&&d.self.location&&(te=d.self.location.protocol.slice(0,-1)),S=!Oi.test(te?te.toLowerCase():"")}v=S}if(v)Dt(u,"complete"),Dt(u,"success");else{u.o=6;try{var U=fi(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",ql(u)}}finally{ls(u)}}}}function ls(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Dt(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function fi(u){return u.g?u.g.readyState:0}s.ca=function(){try{return fi(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),W(m)}};function an(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function os(u){const m={};u=(u.g&&fi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(x(u[S]))continue;var v=uu(u[S]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[U]||[];m[U]=B,B.push(v)}Ve(m,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Gs(u){this.za=0,this.i=[],this.j=new gt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Mi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Mi("baseRetryDelayMs",5e3,u),this.Za=Mi("retryDelaySeedMs",1e4,u),this.Ta=Mi("forwardChannelMaxRetries",2,u),this.va=Mi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ol(u&&u.concurrentRequestLimit),this.Ba=new Hs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Gs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,S){re(0),this.W=u,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Su(this,null,this.W),Vi(this)};function Gl(u){if(xa(u),u.I==3){var m=u.V++,v=zt(u.J);if(it(v,"SID",u.M),it(v,"RID",m),it(v,"TYPE","terminate"),Gr(u,v),m=new oi(u,u.j,m),m.M=2,m.A=Lr(zt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Au(m.j,null),m.g.ea(m.A)),m.F=Date.now(),wi(m)}Tu(u)}function Fs(u){u.g&&(Ql(u),u.g.cancel(),u.g=null)}function xa(u){Fs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ca(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Vi(u){if(!Ml(u.h)&&!u.m){u.m=!0;var m=u.Ea;dt||w(),fe||(dt(),fe=!0),I.add(m,u),u.D=0}}function Ra(u,m){return Ci(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ht(_(u.Ea,u,m),bu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new oi(this,this.j,u);let B=this.o;if(this.U&&(B?(B=D(B),ie(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=yu(this,U,m),v=zt(this.J),it(v,"RID",u),it(v,"CVER",22),this.G&&it(v,"X-HTTP-Session-Id",this.G),Gr(this,v),B&&(this.R?m="headers="+as(Yn(B))+"&"+m:this.u&&Br(v,this.u,B)),Vl(this.h,U),this.Ra&&it(v,"TYPE","init"),this.S?(it(v,"$req",m),it(v,"SID","null"),U.U=!0,Ai(U,v,null)):Ai(U,v,m),this.I=2}}else this.I==3&&(u?Fl(this,u):this.i.length==0||Ml(this.h)||Fl(this))};function Fl(u,m){var v;m?v=m.l:v=u.V++;const S=zt(u.J);it(S,"SID",u.M),it(S,"RID",v),it(S,"AID",u.K),Gr(u,S),u.u&&u.o&&Br(S,u.u,u.o),v=new oi(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=yu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Vl(u.h,v),Ai(v,S,m)}function Gr(u,m){u.H&&qe(u.H,function(v,S){it(m,S,v)}),u.l&&qe({},function(v,S){it(m,S,v)})}function yu(u,m,v){v=Math.min(u.i.length,v);const S=u.l?_(u.l.Ka,u.l,u):null;e:{var U=u.i;let Ie=-1;for(;;){const Mt=["count="+v];Ie==-1?v>0?(Ie=U[0].g,Mt.push("ofs="+Ie)):Ie=0:Mt.push("ofs="+Ie);let Ze=!0;for(let vt=0;vt<v;vt++){var B=U[vt].g;const Xn=U[vt].map;if(B-=Ie,B<0)Ie=Math.max(0,U[vt].g-100),Ze=!1;else try{B="req"+B+"_"||"";try{var te=Xn instanceof Map?Xn:Object.entries(Xn);for(const[ji,di]of te){let mi=di;p(di)&&(mi=Ti(di)),Mt.push(B+ji+"="+encodeURIComponent(mi))}}catch(ji){throw Mt.push(B+"type="+encodeURIComponent("_badmap")),ji}}catch{S&&S(Xn)}}if(Ze){te=Mt.join("&");break e}}te=void 0}return u=u.i.splice(0,v),m.G=u,te}function _u(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;dt||w(),fe||(dt(),fe=!0),I.add(m,u),u.A=0}}function Fr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ht(_(u.Da,u),bu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,vu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ht(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,re(10),Fs(this),vu(this))};function Ql(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function vu(u){u.g=new oi(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=zt(u.na);it(m,"RID","rpc"),it(m,"SID",u.M),it(m,"AID",u.K),it(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&it(m,"TO",u.ia),it(m,"TYPE","xmlhttp"),Gr(u,m),u.u&&u.o&&Br(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Lr(zt(m)),v.u=null,v.R=!0,va(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Fs(this),Fr(this),re(19))};function Ca(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Eu(u,m){var v=null;if(u.g==m){Ca(u),Ql(u),u.g=null;var S=2}else if(Ii(u.h,m))v=m.G,kl(u.h,m),S=1;else return;if(u.I!=0){if(m.o)if(S==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;S=Tt(),Dt(S,new mt(S,v)),Vi(u)}else _u(u);else if(U=m.m,U==3||U==0&&m.X>0||!(S==1&&Ra(u,m)||S==2&&Fr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:ki(u,5);break;case 4:ki(u,10);break;case 3:ki(u,6);break;default:ki(u,2)}}}function bu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function ki(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),S=u.Ua;const U=!S;S=new Un(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||tn(S,"https"),Lr(S),U?ci(S.toString(),v):Bl(S.toString(),v)}else re(2);u.I=0,u.l&&u.l.pa(m),Tu(u),xa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),re(2)):(this.j.info("Failed to ping google.com"),re(1))};function Tu(u){if(u.I=0,u.ja=[],u.l){const m=jl(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function Su(u,m,v){var S=v instanceof Un?zt(v):new Un(v);if(S.g!="")m&&(S.g=m+"."+S.g),Ls(S,S.u);else{var U=d.location;S=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new Un(null);S&&tn(B,S),m&&(B.g=m),U&&Ls(B,U),v&&(B.h=v),S=B}return v=u.G,m=u.wa,v&&m&&it(S,v,m),it(S,"VER",u.ka),Gr(u,S),S}function Au(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new lt(new Di({ab:v})):new lt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function wu(){}s=wu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Qs(){}Qs.prototype.g=function(u,m){return new bn(u,m)};function bn(u,m){wt.call(this),this.g=new Gs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new us(this)}A(bn,wt),bn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){Gl(this.g)},bn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Ti(u),u=v);m.i.push(new Pt(m.Ya++,u)),m.I==3&&Vi(m)},bn.prototype.N=function(){this.g.l=null,delete this.j,Gl(this.g),delete this.g,bn.Z.N.call(this)};function xu(u){Ge.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(xu,Ge);function Ru(){xt.call(this),this.status=1}A(Ru,xt);function us(u){this.g=u}A(us,wu),us.prototype.ra=function(){Dt(this.g,"a")},us.prototype.qa=function(u){Dt(this.g,new xu(u))},us.prototype.pa=function(u){Dt(this.g,new Ru)},us.prototype.oa=function(){Dt(this.g,"b")},Qs.prototype.createWebChannel=Qs.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,xE=function(){return new Qs},wE=function(){return Tt()},AE=Fe,om={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ai.NO_ERROR=0,ai.TIMEOUT=8,ai.HTTP_ERROR=6,qc=ai,ss.COMPLETE="complete",SE=ss,pe.EventType=ke,ke.OPEN="a",ke.CLOSE="b",ke.ERROR="c",ke.MESSAGE="d",wt.prototype.listen=wt.prototype.J,Oo=pe,lt.prototype.listenOnce=lt.prototype.K,lt.prototype.getLastError=lt.prototype.Ha,lt.prototype.getLastErrorCode=lt.prototype.ya,lt.prototype.getStatus=lt.prototype.ca,lt.prototype.getResponseJson=lt.prototype.La,lt.prototype.getResponseText=lt.prototype.la,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Fa,TE=lt}).apply(typeof Oc<"u"?Oc:typeof self<"u"?self:typeof window<"u"?window:{});const w_="@firebase/firestore",x_="4.9.2";let _n=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");let Rl="12.3.0";const da=new Cm("@firebase/firestore");function al(){return da.logLevel}function le(s,...e){if(da.logLevel<=ze.DEBUG){const i=e.map(Pm);da.debug(`Firestore (${Rl}): ${s}`,...i)}}function Os(s,...e){if(da.logLevel<=ze.ERROR){const i=e.map(Pm);da.error(`Firestore (${Rl}): ${s}`,...i)}}function yl(s,...e){if(da.logLevel<=ze.WARN){const i=e.map(Pm);da.warn(`Firestore (${Rl}): ${s}`,...i)}}function Pm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function be(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,RE(s,a,i)}function RE(s,e,i){let a=`FIRESTORE (${Rl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Os(a),new Error(a)}function et(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||RE(e,o,a)}function Re(s,e){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Vs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class CE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Nx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(_n.UNAUTHENTICATED)))}shutdown(){}}class Dx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Ox{constructor(e){this.t=e,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){et(this.o===void 0,42304);let a=this.i;const o=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new xr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new xr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},p=y=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new xr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(et(typeof a.accessToken=="string",31837,{l:a}),new CE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string",2055,{h:e}),new _n(e)}}class Mx{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Vx{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new Mx(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(_n.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class R_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kx{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,si(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){et(this.o===void 0,3512);const a=c=>{c.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,le("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new R_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(et(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new R_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function jx(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class zm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=jx(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function Be(s,e){return s<e?-1:s>e?1:0}function um(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=e.charAt(a);if(o!==c)return Kd(o)===Kd(c)?Be(o,c):Kd(o)?1:-1}return Be(s.length,e.length)}const Ux=55296,Lx=57343;function Kd(s){const e=s.charCodeAt(0);return e>=Ux&&e<=Lx}function _l(s,e,i){return s.length===e.length&&s.every(((a,o)=>i(a,e[o])))}const C_="__name__";class Bi{constructor(e,i,a){i===void 0?i=0:i>e.length&&be(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&be(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Bi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Bi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=Bi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Be(e.length,i.length)}static compareSegments(e,i){const a=Bi.isNumericId(e),o=Bi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Bi.extractNumericId(e).compare(Bi.extractNumericId(i)):um(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wr.fromString(e.substring(4,e.length-2))}}class St extends Bi{construct(e,i,a){return new St(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new de($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new St(i)}static emptyPath(){return new St([])}}const Px=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends Bi{construct(e,i,a){return new dn(e,i,a)}static isValidIdentifier(e){return Px.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===C_}static keyField(){return new dn([C_])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new de($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new de($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new de($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(c(),o++)}if(c(),d)throw new de($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(i)}static emptyPath(){return new dn([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(St.fromString(e))}static fromName(e){return new _e(St.fromString(e).popFirst(5))}static empty(){return new _e(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&St.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return St.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new St(e.slice()))}}function zx(s,e,i){if(!i)throw new de($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Bx(s,e,i,a){if(e===!0&&a===!0)throw new de($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function I_(s){if(!_e.isDocumentKey(s))throw new de($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function IE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Bm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":be(12329,{type:typeof s})}function vi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new de($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Bm(s);throw new de($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Yt(s,e){const i={typeString:s};return e&&(i.value=e),i}function iu(s,e){if(!IE(s))throw new de($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new de($.INVALID_ARGUMENT,i);return!0}const N_=-62135596800,D_=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*D_);return new _t(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new de($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new de($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<N_)throw new de($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/D_}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(iu(e,_t._jsonSchema))return new _t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-N_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:Yt("string",_t._jsonSchemaVersion),seconds:Yt("number"),nanoseconds:Yt("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new _t(0,0))}static max(){return new we(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Go=-1;function Hx(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=we.fromTimestamp(a===1e9?new _t(i+1,0):new _t(i,a));return new Cr(o,_e.empty(),e)}function qx(s){return new Cr(s.readTime,s.key,Go)}class Cr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Cr(we.min(),_e.empty(),Go)}static max(){return new Cr(we.max(),_e.empty(),Go)}}function Gx(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=_e.comparator(s.documentKey,e.documentKey),i!==0?i:Be(s.largestBatchId,e.largestBatchId))}const Fx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Cl(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==Fx)throw s;le("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,a)=>{i(e)}))}static reject(e){return new X(((i,a)=>{a(e)}))}static waitFor(e){return new X(((i,a)=>{let o=0,c=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(y=>a(y)))})),d=!0,c===o&&i()}))}static or(e){let i=X.resolve(!1);for(const a of e)i=i.next((o=>o?X.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new X(((a,o)=>{const c=e.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(e[_]).next((E=>{d[_]=E,++p,p===c&&a(d)}),(E=>o(E)))}}))}static doWhile(e,i){return new X(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function Kx(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Il(s){return s.name==="IndexedDbTransactionError"}class bh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}bh.ce=-1;const Hm=-1;function Th(s){return s==null}function ih(s){return s===0&&1/s==-1/0}function Yx(s){return typeof s=="number"&&Number.isInteger(s)&&!ih(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const NE="";function Xx(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=O_(e)),e=$x(s.get(i),e);return O_(e)}function $x(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case NE:i+="";break;default:i+=c}}return i}function O_(s){return s+NE+""}function M_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Vr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function DE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class At{constructor(e,i){this.comparator=e,this.root=i||fn.EMPTY}insert(e,i){return new At(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mc(this.root,e,this.comparator,!0)}}class Mc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??fn.RED,this.left=o??fn.EMPTY,this.right=c??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new fn(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return fn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new fn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jt{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new V_(this.data.getIterator())}getIteratorFrom(e){return new V_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Jt(this.comparator);return i.data=e,i}}class V_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Fn{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new Fn([])}unionWith(e){let i=new Jt(dn.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Fn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return _l(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class OE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class mn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new OE("Invalid base64 string: "+c):c}})(e);return new mn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new mn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const Wx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ir(s){if(et(!!s,39018),typeof s=="string"){let e=0;const i=Wx.exec(s);if(et(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:jt(s.seconds),nanos:jt(s.nanos)}}function jt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Nr(s){return typeof s=="string"?mn.fromBase64String(s):mn.fromUint8Array(s)}const ME="server_timestamp",VE="__type__",kE="__previous_value__",jE="__local_write_time__";function qm(s){return(s?.mapValue?.fields||{})[VE]?.stringValue===ME}function Sh(s){const e=s.mapValue.fields[kE];return qm(e)?Sh(e):e}function Fo(s){const e=Ir(s.mapValue.fields[jE].timestampValue);return new _t(e.seconds,e.nanos)}class Zx{constructor(e,i,a,o,c,d,p,y,_,E){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=E}}const sh="(default)";class Qo{constructor(e,i){this.projectId=e,this.database=i||sh}static empty(){return new Qo("","")}get isDefaultDatabase(){return this.database===sh}isEqual(e){return e instanceof Qo&&e.projectId===this.projectId&&e.database===this.database}}const UE="__type__",Jx="__max__",Vc={mapValue:{}},LE="__vector__",rh="value";function Dr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?qm(s)?4:t2(s)?9007199254740991:e2(s)?10:11:be(28295,{value:s})}function Yi(s,e){if(s===e)return!0;const i=Dr(s);if(i!==Dr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Fo(s).isEqual(Fo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Ir(o.timestampValue),p=Ir(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return Nr(o.bytesValue).isEqual(Nr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return jt(o.geoPointValue.latitude)===jt(c.geoPointValue.latitude)&&jt(o.geoPointValue.longitude)===jt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return jt(o.integerValue)===jt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=jt(o.doubleValue),p=jt(c.doubleValue);return d===p?ih(d)===ih(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return _l(s.arrayValue.values||[],e.arrayValue.values||[],Yi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(M_(d)!==M_(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Yi(d[y],p[y])))return!1;return!0})(s,e);default:return be(52216,{left:s})}}function Ko(s,e){return(s.values||[]).find((i=>Yi(i,e)))!==void 0}function vl(s,e){if(s===e)return 0;const i=Dr(s),a=Dr(e);if(i!==a)return Be(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Be(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=jt(c.integerValue||c.doubleValue),y=jt(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(s,e);case 3:return k_(s.timestampValue,e.timestampValue);case 4:return k_(Fo(s),Fo(e));case 5:return um(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=Nr(c),y=Nr(d);return p.compareTo(y)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const E=Be(p[_],y[_]);if(E!==0)return E}return Be(p.length,y.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Be(jt(c.latitude),jt(d.latitude));return p!==0?p:Be(jt(c.longitude),jt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return j_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[rh]?.arrayValue,E=y[rh]?.arrayValue,A=Be(_?.values?.length||0,E?.values?.length||0);return A!==0?A:j_(_,E)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Vc.mapValue&&d===Vc.mapValue)return 0;if(c===Vc.mapValue)return 1;if(d===Vc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},E=Object.keys(_);y.sort(),E.sort();for(let A=0;A<y.length&&A<E.length;++A){const M=um(y[A],E[A]);if(M!==0)return M;const F=vl(p[y[A]],_[E[A]]);if(F!==0)return F}return Be(y.length,E.length)})(s.mapValue,e.mapValue);default:throw be(23264,{he:i})}}function k_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Be(s,e);const i=Ir(s),a=Ir(e),o=Be(i.seconds,a.seconds);return o!==0?o:Be(i.nanos,a.nanos)}function j_(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=vl(i[o],a[o]);if(c)return c}return Be(i.length,a.length)}function El(s){return cm(s)}function cm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=Ir(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Nr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return _e.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=cm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${cm(i.fields[d])}`;return o+"}"})(s.mapValue):be(61005,{value:s})}function Gc(s){switch(Dr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sh(s);return e?16+Gc(e):16;case 5:return 2*s.stringValue.length;case 6:return Nr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Gc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return Vr(a.fields,((c,d)=>{o+=c.length+Gc(d)})),o})(s.mapValue);default:throw be(13486,{value:s})}}function hm(s){return!!s&&"integerValue"in s}function Gm(s){return!!s&&"arrayValue"in s}function U_(s){return!!s&&"nullValue"in s}function L_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Fc(s){return!!s&&"mapValue"in s}function e2(s){return(s?.mapValue?.fields||{})[UE]?.stringValue===LE}function Lo(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Vr(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Lo(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Lo(s.arrayValue.values[i]);return e}return{...s}}function t2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Jx}class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Fc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lo(i)}setAll(e){let i=dn.emptyPath(),a={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,o),a={},o=[],i=p.popLast()}d?a[p.lastSegment()]=Lo(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());Fc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Yi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Fc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Vr(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new Vn(Lo(this.value))}}function PE(s){const e=[];return Vr(s.fields,((i,a)=>{const o=new dn([i]);if(Fc(a)){const c=PE(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Fn(e)}class vn{constructor(e,i,a,o,c,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new vn(e,0,we.min(),we.min(),we.min(),Vn.empty(),0)}static newFoundDocument(e,i,a,o){return new vn(e,1,i,we.min(),a,o,0)}static newNoDocument(e,i){return new vn(e,2,i,we.min(),we.min(),Vn.empty(),0)}static newUnknownDocument(e,i){return new vn(e,3,i,we.min(),we.min(),Vn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ah{constructor(e,i){this.position=e,this.inclusive=i}}function P_(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?a=_e.comparator(_e.fromName(d.referenceValue),i.key):a=vl(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function z_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Yi(s.position[i],e.position[i]))return!1;return!0}class lh{constructor(e,i="asc"){this.field=e,this.dir=i}}function n2(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class zE{}class Zt extends zE{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new s2(e,i,a):i==="array-contains"?new l2(e,a):i==="in"?new o2(e,a):i==="not-in"?new u2(e,a):i==="array-contains-any"?new c2(e,a):new Zt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new r2(e,a):new a2(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(vl(i,this.value)):i!==null&&Dr(this.value)===Dr(i)&&this.matchesComparison(vl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xi extends zE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Xi(e,i)}matches(e){return BE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function BE(s){return s.op==="and"}function HE(s){return i2(s)&&BE(s)}function i2(s){for(const e of s.filters)if(e instanceof Xi)return!1;return!0}function fm(s){if(s instanceof Zt)return s.field.canonicalString()+s.op.toString()+El(s.value);if(HE(s))return s.filters.map((e=>fm(e))).join(",");{const e=s.filters.map((i=>fm(i))).join(",");return`${s.op}(${e})`}}function qE(s,e){return s instanceof Zt?(function(a,o){return o instanceof Zt&&a.op===o.op&&a.field.isEqual(o.field)&&Yi(a.value,o.value)})(s,e):s instanceof Xi?(function(a,o){return o instanceof Xi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,p)=>c&&qE(d,o.filters[p])),!0):!1})(s,e):void be(19439)}function GE(s){return s instanceof Zt?(function(i){return`${i.field.canonicalString()} ${i.op} ${El(i.value)}`})(s):s instanceof Xi?(function(i){return i.op.toString()+" {"+i.getFilters().map(GE).join(" ,")+"}"})(s):"Filter"}class s2 extends Zt{constructor(e,i,a){super(e,i,a),this.key=_e.fromName(a.referenceValue)}matches(e){const i=_e.comparator(e.key,this.key);return this.matchesComparison(i)}}class r2 extends Zt{constructor(e,i){super(e,"in",i),this.keys=FE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class a2 extends Zt{constructor(e,i){super(e,"not-in",i),this.keys=FE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function FE(s,e){return(e.arrayValue?.values||[]).map((i=>_e.fromName(i.referenceValue)))}class l2 extends Zt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Gm(i)&&Ko(i.arrayValue,this.value)}}class o2 extends Zt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Ko(this.value.arrayValue,i)}}class u2 extends Zt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Ko(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ko(this.value.arrayValue,i)}}class c2 extends Zt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Gm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ko(this.value.arrayValue,a)))}}class h2{constructor(e,i=null,a=[],o=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function B_(s,e=null,i=[],a=[],o=null,c=null,d=null){return new h2(s,e,i,a,o,c,d)}function Fm(s){const e=Re(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>fm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Th(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>El(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>El(a))).join(",")),e.Te=i}return e.Te}function Qm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!n2(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!qE(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!z_(s.startAt,e.startAt)&&z_(s.endAt,e.endAt)}function dm(s){return _e.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Ah{constructor(e,i=null,a=[],o=[],c=null,d="F",p=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function f2(s,e,i,a,o,c,d,p){return new Ah(s,e,i,a,o,c,d,p)}function wh(s){return new Ah(s)}function H_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function d2(s){return s.collectionGroup!==null}function Po(s){const e=Re(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Jt(dn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new lh(c,a))})),i.has(dn.keyField().canonicalString())||e.Ie.push(new lh(dn.keyField(),a))}return e.Ie}function Gi(s){const e=Re(s);return e.Ee||(e.Ee=m2(e,Po(s))),e.Ee}function m2(s,e){if(s.limitType==="F")return B_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new lh(o.field,c)}));const i=s.endAt?new ah(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new ah(s.startAt.position,s.startAt.inclusive):null;return B_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function mm(s,e,i){return new Ah(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function xh(s,e){return Qm(Gi(s),Gi(e))&&s.limitType===e.limitType}function QE(s){return`${Fm(Gi(s))}|lt:${s.limitType}`}function ll(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>GE(o))).join(", ")}]`),Th(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>El(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>El(o))).join(",")),`Target(${a})`})(Gi(s))}; limitType=${s.limitType})`}function Rh(s,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):_e.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,o){for(const c of Po(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(d,p,y){const _=P_(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,Po(a),o)||a.endAt&&!(function(d,p,y){const _=P_(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,Po(a),o))})(s,e)}function g2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function KE(s){return(e,i)=>{let a=!1;for(const o of Po(s)){const c=p2(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function p2(s,e,i){const a=s.field.isKeyField()?_e.comparator(e.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?vl(y,_):be(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return be(19790,{direction:s.dir})}}class pa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Vr(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return DE(this.inner)}size(){return this.innerSize}}const y2=new At(_e.comparator);function Ms(){return y2}const YE=new At(_e.comparator);function Mo(...s){let e=YE;for(const i of s)e=e.insert(i.key,i);return e}function XE(s){let e=YE;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function ua(){return zo()}function $E(){return zo()}function zo(){return new pa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const _2=new At(_e.comparator),v2=new Jt(_e.comparator);function He(...s){let e=v2;for(const i of s)e=e.add(i);return e}const E2=new Jt(Be);function b2(){return E2}function Km(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ih(e)?"-0":e}}function WE(s){return{integerValue:""+s}}function T2(s,e){return Yx(e)?WE(e):Km(s,e)}class Ch{constructor(){this._=void 0}}function S2(s,e,i){return s instanceof oh?(function(o,c){const d={fields:{[VE]:{stringValue:ME},[jE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&qm(c)&&(c=Sh(c)),c&&(d.fields[kE]=c),{mapValue:d}})(i,e):s instanceof bl?JE(s,e):s instanceof Yo?eb(s,e):(function(o,c){const d=ZE(o,c),p=q_(d)+q_(o.Ae);return hm(d)&&hm(o.Ae)?WE(p):Km(o.serializer,p)})(s,e)}function A2(s,e,i){return s instanceof bl?JE(s,e):s instanceof Yo?eb(s,e):i}function ZE(s,e){return s instanceof uh?(function(a){return hm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class oh extends Ch{}class bl extends Ch{constructor(e){super(),this.elements=e}}function JE(s,e){const i=tb(e);for(const a of s.elements)i.some((o=>Yi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Yo extends Ch{constructor(e){super(),this.elements=e}}function eb(s,e){let i=tb(e);for(const a of s.elements)i=i.filter((o=>!Yi(o,a)));return{arrayValue:{values:i}}}class uh extends Ch{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function q_(s){return jt(s.integerValue||s.doubleValue)}function tb(s){return Gm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class w2{constructor(e,i){this.field=e,this.transform=i}}function x2(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof bl&&o instanceof bl||a instanceof Yo&&o instanceof Yo?_l(a.elements,o.elements,Yi):a instanceof uh&&o instanceof uh?Yi(a.Ae,o.Ae):a instanceof oh&&o instanceof oh})(s.transform,e.transform)}class R2{constructor(e,i){this.version=e,this.transformResults=i}}class Ei{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ei}static exists(e){return new Ei(void 0,e)}static updateTime(e){return new Ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Ih{}function nb(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Ym(s.key,Ei.none()):new su(s.key,s.data,Ei.none());{const i=s.data,a=Vn.empty();let o=new Jt(dn.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new kr(s.key,a,new Fn(o.toArray()),Ei.none())}}function C2(s,e,i){s instanceof su?(function(o,c,d){const p=o.value.clone(),y=F_(o.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof kr?(function(o,c,d){if(!Qc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=F_(o.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(ib(o)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Bo(s,e,i,a){return s instanceof su?(function(c,d,p,y){if(!Qc(c.precondition,d))return p;const _=c.value.clone(),E=Q_(c.fieldTransforms,y,d);return _.setAll(E),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,a):s instanceof kr?(function(c,d,p,y){if(!Qc(c.precondition,d))return p;const _=Q_(c.fieldTransforms,y,d),E=d.data;return E.setAll(ib(c)),E.setAll(_),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,e,i,a):(function(c,d,p){return Qc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function I2(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),c=ZE(a.transform,o||null);c!=null&&(i===null&&(i=Vn.empty()),i.set(a.field,c))}return i||null}function G_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&_l(a,o,((c,d)=>x2(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class su extends Ih{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class kr extends Ih{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function ib(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function F_(s,e,i){const a=new Map;et(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,p=e.data.field(c.field);a.set(c.field,A2(d,p,i[o]))}return a}function Q_(s,e,i){const a=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);a.set(o.field,S2(c,d,e))}return a}class Ym extends Ih{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class N2 extends Ih{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class D2{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&C2(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Bo(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Bo(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=$E();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const y=nb(d,p);y!==null&&a.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(we.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),He())}isEqual(e){return this.batchId===e.batchId&&_l(this.mutations,e.mutations,((i,a)=>G_(i,a)))&&_l(this.baseMutations,e.baseMutations,((i,a)=>G_(i,a)))}}class Xm{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){et(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return _2})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Xm(e,i,a,o)}}class O2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class M2{constructor(e,i){this.count=e,this.unchangedNames=i}}var Kt,Ye;function V2(s){switch(s){case $.OK:return be(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return be(15467,{code:s})}}function sb(s){if(s===void 0)return Os("GRPC error has no .code"),$.UNKNOWN;switch(s){case Kt.OK:return $.OK;case Kt.CANCELLED:return $.CANCELLED;case Kt.UNKNOWN:return $.UNKNOWN;case Kt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Kt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Kt.INTERNAL:return $.INTERNAL;case Kt.UNAVAILABLE:return $.UNAVAILABLE;case Kt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Kt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Kt.NOT_FOUND:return $.NOT_FOUND;case Kt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Kt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Kt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Kt.ABORTED:return $.ABORTED;case Kt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Kt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Kt.DATA_LOSS:return $.DATA_LOSS;default:return be(39323,{code:s})}}(Ye=Kt||(Kt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";function k2(){return new TextEncoder}const j2=new wr([4294967295,4294967295],0);function K_(s){const e=k2().encode(s),i=new bE;return i.update(e),new Uint8Array(i.digest())}function Y_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new wr([i,a],0),new wr([o,c],0)]}class $m{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Vo(`Invalid padding: ${i}`);if(a<0)throw new Vo(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Vo(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Vo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=wr.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(wr.fromNumber(a)));return o.compare(j2)===1&&(o=new wr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=K_(e),[a,o]=Y_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new $m(c,o,i);return a.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=K_(e),[a,o]=Y_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Vo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Nh{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,ru.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Nh(we.min(),o,new At(Be),Ms(),He())}}class ru{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new ru(a,i,He(),He(),He())}}class Kc{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class rb{constructor(e,i){this.targetId=e,this.Ce=i}}class ab{constructor(e,i,a=mn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class X_{constructor(){this.ve=0,this.Fe=$_(),this.Me=mn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),i=He(),a=He();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:be(38017,{changeType:c})}})),new ru(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=$_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,et(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class U2{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ms(),this.Je=kc(),this.He=kc(),this.Ye=new At(Be)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(dm(c))if(a===0){const d=new _e(c.path);this.et(i,d,vn.newNoDocument(d,we.min()))}else et(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(e),y=p?this.ct(p,e,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=Nr(a).toUint8Array()}catch(y){if(y instanceof OE)return yl("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new $m(d,o,c)}catch(y){return yl(y instanceof Vo?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&dm(p.target)){const y=new _e(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,vn.newNoDocument(y,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=He();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Nh(e,i,this.Ye,this.je,a);return this.je=Ms(),this.Je=kc(),this.He=kc(),this.Ye=new At(Be),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new X_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Jt(Be),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Jt(Be),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||le("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new X_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function kc(){return new At(_e.comparator)}function $_(){return new At(_e.comparator)}const L2={asc:"ASCENDING",desc:"DESCENDING"},P2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},z2={and:"AND",or:"OR"};class B2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function gm(s,e){return s.useProto3Json||Th(e)?e:{value:e}}function ch(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lb(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function H2(s,e){return ch(s,e.toTimestamp())}function Fi(s){return et(!!s,49232),we.fromTimestamp((function(i){const a=Ir(i);return new _t(a.seconds,a.nanos)})(s))}function Wm(s,e){return pm(s,e).canonicalString()}function pm(s,e){const i=(function(o){return new St(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function ob(s){const e=St.fromString(s);return et(db(e),10190,{key:e.toString()}),e}function ym(s,e){return Wm(s.databaseId,e.path)}function Yd(s,e){const i=ob(e);if(i.get(1)!==s.databaseId.projectId)throw new de($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new de($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new _e(cb(i))}function ub(s,e){return Wm(s.databaseId,e)}function q2(s){const e=ob(s);return e.length===4?St.emptyPath():cb(e)}function _m(s){return new St(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function cb(s){return et(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function W_(s,e,i){return{name:ym(s,e),fields:i.value.mapValue.fields}}function G2(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:be(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,E){return _.useProto3Json?(et(E===void 0||typeof E=="string",58123),mn.fromBase64String(E||"")):(et(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),mn.fromUint8Array(E||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(_){const E=_.code===void 0?$.UNKNOWN:sb(_.code);return new de(E,_.message||"")})(d);i=new ab(a,o,c,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Yd(s,a.document.name),c=Fi(a.document.updateTime),d=a.document.createTime?Fi(a.document.createTime):we.min(),p=new Vn({mapValue:{fields:a.document.fields}}),y=vn.newFoundDocument(o,c,d,p),_=a.targetIds||[],E=a.removedTargetIds||[];i=new Kc(_,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Yd(s,a.document),c=a.readTime?Fi(a.readTime):we.min(),d=vn.newNoDocument(o,c),p=a.removedTargetIds||[];i=new Kc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Yd(s,a.document),c=a.removedTargetIds||[];i=new Kc([],c,o,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new M2(o,c),p=a.targetId;i=new rb(p,d)}}return i}function F2(s,e){let i;if(e instanceof su)i={update:W_(s,e.key,e.value)};else if(e instanceof Ym)i={delete:ym(s,e.key)};else if(e instanceof kr)i={update:W_(s,e.key,e.data),updateMask:eR(e.fieldMask)};else{if(!(e instanceof N2))return be(16599,{Vt:e.type});i={verify:ym(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof oh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof bl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Yo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof uh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw be(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:H2(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:be(27497)})(s,e.precondition)),i}function Q2(s,e){return s&&s.length>0?(et(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?Fi(o.updateTime):Fi(c);return d.isEqual(we.min())&&(d=Fi(c)),new R2(d,o.transformResults||[])})(i,e)))):[]}function K2(s,e){return{documents:[ub(s,e.path)]}}function Y2(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=ub(s,o);const c=(function(_){if(_.length!==0)return fb(Xi.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((E=>(function(M){return{field:ol(M.field),direction:W2(M.dir)}})(E)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=gm(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function X2(s){let e=q2(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){et(a===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=(function(A){const M=hb(A);return M instanceof Xi&&HE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((M=>(function(J){return new lh(ul(J.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let M;return M=typeof A=="object"?A.value:A,Th(M)?null:M})(i.limit));let y=null;i.startAt&&(y=(function(A){const M=!!A.before,F=A.values||[];return new ah(F,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const M=!A.before,F=A.values||[];return new ah(F,M)})(i.endAt)),f2(e,o,d,c,p,"F",y,_)}function $2(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function hb(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ul(i.unaryFilter.field);return Zt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=ul(i.unaryFilter.field);return Zt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ul(i.unaryFilter.field);return Zt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ul(i.unaryFilter.field);return Zt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Zt.create(ul(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Xi.create(i.compositeFilter.filters.map((a=>hb(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(i.compositeFilter.op))})(s):be(30097,{filter:s})}function W2(s){return L2[s]}function Z2(s){return P2[s]}function J2(s){return z2[s]}function ol(s){return{fieldPath:s.canonicalString()}}function ul(s){return dn.fromServerFormat(s.fieldPath)}function fb(s){return s instanceof Zt?(function(i){if(i.op==="=="){if(L_(i.value))return{unaryFilter:{field:ol(i.field),op:"IS_NAN"}};if(U_(i.value))return{unaryFilter:{field:ol(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(L_(i.value))return{unaryFilter:{field:ol(i.field),op:"IS_NOT_NAN"}};if(U_(i.value))return{unaryFilter:{field:ol(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ol(i.field),op:Z2(i.op),value:i.value}}})(s):s instanceof Xi?(function(i){const a=i.getFilters().map((o=>fb(o)));return a.length===1?a[0]:{compositeFilter:{op:J2(i.op),filters:a}}})(s):be(54877,{filter:s})}function eR(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function db(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class br{constructor(e,i,a,o,c=we.min(),d=we.min(),p=mn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class tR{constructor(e){this.yt=e}}function nR(s){const e=X2({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?mm(e,e.limit,"L"):e}class iR{constructor(){this.Cn=new sR}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(Cr.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(Cr.min())}updateCollectionGroup(e,i,a){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class sR{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Jt(St.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Jt(St.comparator)).toArray()}}const Z_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mb=41943040;class Mn{static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(mb,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);class Tl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Tl(0)}static cr(){return new Tl(-1)}}const J_="LruGarbageCollector",rR=1048576;function ev([s,e],[i,a]){const o=Be(s,i);return o===0?Be(e,a):o}class aR{constructor(e){this.Ir=e,this.buffer=new Jt(ev),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();ev(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class lR{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(J_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Il(i)?le(J_,"Ignoring IndexedDB error during garbage collection: ",i):await Cl(i)}await this.Vr(3e5)}))}}class oR{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(bh.ce);const a=new aR(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Z_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Z_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,c,d,p,y,_;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(a=A,p=Date.now(),this.removeTargets(e,a,i)))).next((A=>(c=A,y=Date.now(),this.removeOrphanedDocuments(e,a)))).next((A=>(_=Date.now(),al()<=ze.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${A} documents in `+(_-y)+`ms
Total Duration: ${_-E}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A}))))}}function uR(s,e){return new oR(s,e)}class cR{constructor(){this.changes=new pa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class hR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class fR{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&Bo(a.mutation,o,Fn.empty(),_t.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,He()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=He()){const o=ua();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=Mo();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=ua();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,He())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,a,o){let c=Ms();const d=zo(),p=(function(){return zo()})();return i.forEach(((y,_)=>{const E=a.get(_.key);o.has(_.key)&&(E===void 0||E.mutation instanceof kr)?c=c.insert(_.key,_):E!==void 0?(d.set(_.key,E.mutation.getFieldMask()),Bo(E.mutation,_,E.mutation.getFieldMask(),_t.now())):d.set(_.key,Fn.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((_,E)=>d.set(_,E))),i.forEach(((_,E)=>p.set(_,new hR(E,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,i){const a=zo();let o=new At(((d,p)=>d-p)),c=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let E=a.get(y)||Fn.empty();E=p.applyToLocalView(_,E),a.set(y,E);const A=(o.get(p.batchId)||He()).add(y);o=o.insert(p.batchId,A)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,E=y.value,A=$E();E.forEach((M=>{if(!c.has(M)){const F=nb(i.get(M),a.get(M));F!==null&&A.set(M,F),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,A))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return _e.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):d2(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):X.resolve(ua());let p=Go,y=c;return d.next((_=>X.forEach(_,((E,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(E)?X.resolve():this.remoteDocumentCache.getEntry(e,E).next((M=>{y=y.insert(E,M)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,y,_,He()))).next((E=>({batchId:p,changes:XE(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new _e(i)).next((a=>{let o=Mo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=Mo();return this.indexManager.getCollectionParents(e,c).next((p=>X.forEach(p,(y=>{const _=(function(A,M){return new Ah(M,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((E=>{E.forEach(((A,M)=>{d=d.insert(A,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((y,_)=>{const E=_.getKey();d.get(E)===null&&(d=d.insert(E,vn.newInvalidDocument(E)))}));let p=Mo();return d.forEach(((y,_)=>{const E=c.get(y);E!==void 0&&Bo(E.mutation,_,Fn.empty(),_t.now()),Rh(i,_)&&(p=p.insert(y,_))})),p}))}}class dR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Fi(o.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:nR(o.bundledQuery),readTime:Fi(o.readTime)}})(i)),X.resolve()}}class mR{constructor(){this.overlays=new At(_e.comparator),this.qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ua();return X.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.St(e,i,c)})),X.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(e,i,a){const o=ua(),c=i.length+1,d=new _e(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&o.set(y.getKey(),y)}return X.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new At(((_,E)=>_-E));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let E=c.get(_.largestBatchId);E===null&&(E=ua(),c=c.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const p=ua(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,E)=>p.set(_,E))),!(p.size()>=o)););return X.resolve(p)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new O2(i,a));let c=this.qr.get(i);c===void 0&&(c=He(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class gR{constructor(){this.sessionToken=mn.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}class Zm{constructor(){this.Qr=new Jt(sn.$r),this.Ur=new Jt(sn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new sn(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new sn(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new _e(new St([])),a=new sn(i,e),o=new sn(i,e+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new _e(new St([])),a=new sn(i,e),o=new sn(i,e+1);let c=He();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new sn(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class sn{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return _e.comparator(e.key,i.key)||Be(e.Yr,i.Yr)}static Kr(e,i){return Be(e.Yr,i.Yr)||_e.comparator(e.key,i.key)}}class pR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Jt(sn.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new D2(c,i,a,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new sn(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Hm:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new sn(i,0),o=new sn(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Jt(Be);return i.forEach((o=>{const c=new sn(o,0),d=new sn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;_e.isDocumentKey(c)||(c=c.child(""));const d=new sn(new _e(c),0);let p=new Jt(Be);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(p=p.add(y.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){et(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(o=>{const c=new sn(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new sn(i,0),o=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class yR{constructor(e){this.ri=e,this.docs=(function(){return new At(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():vn.newInvalidDocument(i))}getEntries(e,i){let a=Ms();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():vn.newInvalidDocument(o))})),X.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=Ms();const d=i.path,p=new _e(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:E}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Gx(qx(E),a)<=0||(o.has(E.key)||Rh(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(e,i,a,o){be(9500)}ii(e,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new _R(this)}getSize(e){return X.resolve(this.size)}}class _R extends cR{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class vR{constructor(e){this.persistence=e,this.si=new pa((i=>Fm(i)),Qm),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new Zm,this.targetCount=0,this.ai=Tl.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Tl(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Pr(i),X.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),X.waitFor(c).next((()=>o))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(e,i){return X.resolve(this._i.containsKey(i))}}class gb{constructor(e,i){this.ui={},this.overlays={},this.ci=new bh(0),this.li=!1,this.li=!0,this.hi=new gR,this.referenceDelegate=e(this),this.Pi=new vR(this),this.indexManager=new iR,this.remoteDocumentCache=(function(o){return new yR(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new tR(i),this.Ii=new dR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new mR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new pR(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){le("MemoryPersistence","Starting transaction:",e);const o=new ER(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class ER extends Qx{constructor(e){super(),this.currentSequenceNumber=e}}class Jm{constructor(e){this.persistence=e,this.Ri=new Zm,this.Vi=null}static mi(e){return new Jm(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const o=_e.fromPath(a);return this.gi(e,o).next((c=>{c||i.removeEntry(o,we.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class hh{constructor(e,i){this.persistence=e,this.pi=new pa((a=>Xx(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=uR(this,i)}static mi(e,i){return new hh(e,i)}Ei(){}di(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return X.forEach(this.pi,((a,o)=>this.br(e,a,o).next((c=>c?X.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((p=>{p||(a++,c.removeEntry(d,we.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Gc(e.data.value)),i}br(e,i,a){return X.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return X.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class eg{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=He(),o=He();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new eg(e,i.fromCache,a,o)}}class bR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class TR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return uS()?8:Kx(En())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new bR;return this.Ss(e,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>c.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(al()<=ze.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",ll(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(al()<=ze.DEBUG&&le("QueryEngine","Query:",ll(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(al()<=ze.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",ll(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gi(i))):X.resolve())}ys(e,i){if(H_(i))return X.resolve(null);let a=Gi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=mm(i,null,"F"),a=Gi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=He(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(e,mm(i,null,"F")):this.vs(e,_,i,y)}))))})))))}ws(e,i,a,o){return H_(i)||o.isEqual(we.min())?X.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?X.resolve(null):(al()<=ze.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ll(i)),this.vs(e,d,i,Hx(o,Go)).next((p=>p)))}))}Ds(e,i){let a=new Jt(KE(e));return i.forEach(((o,c)=>{Rh(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,a){return al()<=ze.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",ll(i)),this.ps.getDocumentsMatchingQuery(e,i,Cr.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const tg="LocalStore",SR=3e8;class AR{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new At(Be),this.xs=new pa((c=>Fm(c)),Qm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function wR(s,e,i,a){return new AR(s,e,i,a)}async function pb(s,e){const i=Re(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=He();for(const _ of o){d.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}for(const _ of c){p.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function xR(s,e){const i=Re(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,E){const A=_.batch,M=A.keys();let F=X.resolve();return M.forEach((J=>{F=F.next((()=>E.getEntry(y,J))).next((ne=>{const Z=_.docVersions.get(J);et(Z!==null,48541),ne.version.compareTo(Z)<0&&(A.applyToRemoteDocument(ne,_),ne.isValidDocument()&&(ne.setReadTime(_.commitVersion),E.addEntry(ne)))}))})),F.next((()=>p.mutationQueue.removeMutationBatch(y,A)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=He();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function yb(s){const e=Re(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function RR(s,e){const i=Re(s),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach(((E,A)=>{const M=o.get(A);if(!M)return;p.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,A))));let F=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?F=F.withResumeToken(mn.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(E.resumeToken,a)),o=o.insert(A,F),(function(ne,Z,ye){return ne.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-ne.snapshotVersion.toMicroseconds()>=SR?!0:ye.addedDocuments.size+ye.modifiedDocuments.size+ye.removedDocuments.size>0})(M,F,E)&&p.push(i.Pi.updateTargetData(c,F))}));let y=Ms(),_=He();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),p.push(CR(c,d,e.documentUpdates).next((E=>{y=E.ks,_=E.qs}))),!a.isEqual(we.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(E)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=o,c)))}function CR(s,e,i){let a=He(),o=He();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=Ms();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),y.isNoDocument()&&y.version.isEqual(we.min())?(e.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(p,y)):le(tg,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:o}}))}function IR(s,e){const i=Re(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Hm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function NR(s,e){const i=Re(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((c=>c?(o=c,X.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new br(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function vm(s,e,i){const a=Re(s),o=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Il(d))throw d;le(tg,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function tv(s,e,i){const a=Re(s);let o=we.min(),c=He();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,E){const A=Re(y),M=A.xs.get(E);return M!==void 0?X.resolve(A.Ms.get(M)):A.Pi.getTargetData(_,E)})(a,d,Gi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:we.min(),i?c:He()))).next((p=>(DR(a,g2(e),p),{documents:p,Qs:c})))))}function DR(s,e,i){let a=s.Os.get(e)||we.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(e,a)}class nv{constructor(){this.activeTargetIds=b2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OR{constructor(){this.Mo=new nv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new nv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class MR{Oo(e){}shutdown(){}}const iv="ConnectivityMonitor";class sv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(iv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(iv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let jc=null;function Em(){return jc===null?jc=(function(){return 268435456+Math.round(2147483648*Math.random())})():jc++,"0x"+jc.toString(16)}const Xd="RestConnection",VR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===sh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,c){const d=Em(),p=this.zo(e,i.toUriEncodedString());le(Xd,`Sending RPC '${e}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:_}=new URL(p),E=Al(_);return this.Jo(e,p,y,a,E).then((A=>(le(Xd,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw yl(Xd,`RPC '${e}' ${d} failed with error: `,A,"url: ",p,"request:",a),A}))}Ho(e,i,a,o,c,d){return this.Go(e,i,a,o,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Rl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const a=VR[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class jR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const pn="WebChannelConnection";class UR extends kR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,c){const d=Em();return new Promise(((p,y)=>{const _=new TE;_.setWithCredentials(!0),_.listenOnce(SE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case qc.NO_ERROR:const A=_.getResponseJson();le(pn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),p(A);break;case qc.TIMEOUT:le(pn,`RPC '${e}' ${d} timed out`),y(new de($.DEADLINE_EXCEEDED,"Request time out"));break;case qc.HTTP_ERROR:const M=_.getStatus();if(le(pn,`RPC '${e}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const J=F?.error;if(J&&J.status&&J.message){const ne=(function(ye){const Ce=ye.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(Ce)>=0?Ce:$.UNKNOWN})(J.status);y(new de(ne,J.message))}else y(new de($.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new de($.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{le(pn,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(o);le(pn,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",E,a,15)}))}T_(e,i,a){const o=Em(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=xE(),p=wE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const E=c.join("");le(pn,`Creating RPC '${e}' stream ${o}: ${E}`,y);const A=d.createWebChannel(E,y);this.I_(A);let M=!1,F=!1;const J=new jR({Yo:Z=>{F?le(pn,`Not sending because RPC '${e}' stream ${o} is closed:`,Z):(M||(le(pn,`Opening RPC '${e}' stream ${o} transport.`),A.open(),M=!0),le(pn,`RPC '${e}' stream ${o} sending:`,Z),A.send(Z))},Zo:()=>A.close()}),ne=(Z,ye,Ce)=>{Z.listen(ye,(Te=>{try{Ce(Te)}catch(tt){setTimeout((()=>{throw tt}),0)}}))};return ne(A,Oo.EventType.OPEN,(()=>{F||(le(pn,`RPC '${e}' stream ${o} transport opened.`),J.o_())})),ne(A,Oo.EventType.CLOSE,(()=>{F||(F=!0,le(pn,`RPC '${e}' stream ${o} transport closed`),J.a_(),this.E_(A))})),ne(A,Oo.EventType.ERROR,(Z=>{F||(F=!0,yl(pn,`RPC '${e}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),J.a_(new de($.UNAVAILABLE,"The operation could not be completed")))})),ne(A,Oo.EventType.MESSAGE,(Z=>{if(!F){const ye=Z.data[0];et(!!ye,16349);const Ce=ye,Te=Ce?.error||Ce[0]?.error;if(Te){le(pn,`RPC '${e}' stream ${o} received error:`,Te);const tt=Te.status;let dt=(function(w){const R=Kt[w];if(R!==void 0)return sb(R)})(tt),fe=Te.message;dt===void 0&&(dt=$.INTERNAL,fe="Unknown error status: "+tt+" with message "+Te.message),F=!0,J.a_(new de(dt,fe)),A.close()}else le(pn,`RPC '${e}' stream ${o} received:`,ye),J.u_(ye)}})),ne(p,AE.STAT_EVENT,(Z=>{Z.stat===om.PROXY?le(pn,`RPC '${e}' stream ${o} detected buffering proxy`):Z.stat===om.NOPROXY&&le(pn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function $d(){return typeof document<"u"?document:null}function Dh(s){return new B2(s,!0)}class _b{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const rv="PersistentStream";class vb{constructor(e,i,a,o,c,d,p,y){this.Mi=e,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _b(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(Os(i.toString()),Os("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new de($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(rv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(le(rv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class LR extends vb{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=G2(this.serializer,e),a=(function(c){if(!("targetChange"in c))return we.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?we.min():d.readTime?Fi(d.readTime):we.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=_m(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=dm(y)?{documents:K2(c,y)}:{query:Y2(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=lb(c,d.resumeToken);const _=gm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(we.min())>0){p.readTime=ch(c,d.snapshotVersion.toTimestamp());const _=gm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const a=$2(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=_m(this.serializer),i.removeTarget=e,this.q_(i)}}class PR extends vb{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=Q2(e.writeResults,e.commitTime),a=Fi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=_m(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>F2(this.serializer,a)))};this.q_(i)}}class zR{}class BR extends zR{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new de($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,pm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de($.UNKNOWN,c.toString())}))}Ho(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,pm(i,a),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new de($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class HR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Os(i),this.aa=!1):le("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ma="RemoteStore";class qR{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ya(this)&&(le(ma,"Restarting streams for network reachability change."),await(async function(y){const _=Re(y);_.Ea.add(4),await au(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Oh(_)})(this))}))})),this.Ra=new HR(a,o)}}async function Oh(s){if(ya(s))for(const e of s.da)await e(!0)}async function au(s){for(const e of s.da)await e(!1)}function Eb(s,e){const i=Re(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),rg(i)?sg(i):Nl(i).O_()&&ig(i,e))}function ng(s,e){const i=Re(s),a=Nl(i);i.Ia.delete(e),a.O_()&&bb(i,e),i.Ia.size===0&&(a.O_()?a.L_():ya(i)&&i.Ra.set("Unknown"))}function ig(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Nl(s).Y_(e)}function bb(s,e){s.Va.Ue(e),Nl(s).Z_(e)}function sg(s){s.Va=new U2({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Nl(s).start(),s.Ra.ua()}function rg(s){return ya(s)&&!Nl(s).x_()&&s.Ia.size>0}function ya(s){return Re(s).Ea.size===0}function Tb(s){s.Va=void 0}async function GR(s){s.Ra.set("Online")}async function FR(s){s.Ia.forEach(((e,i)=>{ig(s,e)}))}async function QR(s,e){Tb(s),rg(s)?(s.Ra.ha(e),sg(s)):s.Ra.set("Unknown")}async function KR(s,e,i){if(s.Ra.set("Online"),e instanceof ab&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(s,e)}catch(a){le(ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await fh(s,a)}else if(e instanceof Kc?s.Va.Ze(e):e instanceof rb?s.Va.st(e):s.Va.tt(e),!i.isEqual(we.min()))try{const a=await yb(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const E=c.Ia.get(_);E&&c.Ia.set(_,E.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const E=c.Ia.get(y);if(!E)return;c.Ia.set(y,E.withResumeToken(mn.EMPTY_BYTE_STRING,E.snapshotVersion)),bb(c,y);const A=new br(E.target,y,_,E.sequenceNumber);ig(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){le(ma,"Failed to raise snapshot:",a),await fh(s,a)}}async function fh(s,e,i){if(!Il(e))throw e;s.Ea.add(1),await au(s),s.Ra.set("Offline"),i||(i=()=>yb(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{le(ma,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Oh(s)}))}function Sb(s,e){return e().catch((i=>fh(s,i,e)))}async function Mh(s){const e=Re(s),i=Or(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Hm;for(;YR(e);)try{const o=await IR(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,XR(e,o)}catch(o){await fh(e,o)}Ab(e)&&wb(e)}function YR(s){return ya(s)&&s.Ta.length<10}function XR(s,e){s.Ta.push(e);const i=Or(s);i.O_()&&i.X_&&i.ea(e.mutations)}function Ab(s){return ya(s)&&!Or(s).x_()&&s.Ta.length>0}function wb(s){Or(s).start()}async function $R(s){Or(s).ra()}async function WR(s){const e=Or(s);for(const i of s.Ta)e.ea(i.mutations)}async function ZR(s,e,i){const a=s.Ta.shift(),o=Xm.from(a,e,i);await Sb(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Mh(s)}async function JR(s,e){e&&Or(s).X_&&await(async function(a,o){if((function(d){return V2(d)&&d!==$.ABORTED})(o.code)){const c=a.Ta.shift();Or(a).B_(),await Sb(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Mh(a)}})(s,e),Ab(s)&&wb(s)}async function av(s,e){const i=Re(s);i.asyncQueue.verifyOperationInProgress(),le(ma,"RemoteStore received new credentials");const a=ya(i);i.Ea.add(3),await au(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Oh(i)}async function eC(s,e){const i=Re(s);e?(i.Ea.delete(2),await Oh(i)):e||(i.Ea.add(2),await au(i),i.Ra.set("Unknown"))}function Nl(s){return s.ma||(s.ma=(function(i,a,o){const c=Re(i);return c.sa(),new LR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:GR.bind(null,s),t_:FR.bind(null,s),r_:QR.bind(null,s),H_:KR.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),rg(s)?sg(s):s.Ra.set("Unknown")):(await s.ma.stop(),Tb(s))}))),s.ma}function Or(s){return s.fa||(s.fa=(function(i,a,o){const c=Re(i);return c.sa(),new PR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:$R.bind(null,s),r_:JR.bind(null,s),ta:WR.bind(null,s),na:ZR.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Mh(s)):(await s.fa.stop(),s.Ta.length>0&&(le(ma,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class ag{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,p=new ag(e,i,d,o,c);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lg(s,e){if(Os("AsyncQueue",`${e}: ${s}`),Il(s))return new de($.UNAVAILABLE,`${e}: ${s}`);throw s}class ml{static emptySet(e){return new ml(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||_e.comparator(i.key,a.key):(i,a)=>_e.comparator(i.key,a.key),this.keyedMap=Mo(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ml)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new ml;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class lv{constructor(){this.ga=new At(_e.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class Sl{constructor(e,i,a,o,c,d,p,y,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Sl(e,i,ml.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class tC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class nC{constructor(){this.queries=ov(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Re(i),c=o.queries;o.queries=ov(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new de($.ABORTED,"Firestore shutting down"))}}function ov(){return new pa((s=>QE(s)),xh)}async function xb(s,e){const i=Re(s);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(a=2):(c=new tC,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=lg(d,`Initialization of query '${ll(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&og(i)}async function Rb(s,e){const i=Re(s),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function iC(s,e){const i=Re(s);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(o)&&(a=!0);d.wa=o}}a&&og(i)}function sC(s,e,i){const a=Re(s),o=a.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(e)}function og(s){s.Ca.forEach((e=>{e.next()}))}var bm,uv;(uv=bm||(bm={})).Ma="default",uv.Cache="cache";class Cb{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Sl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==bm.Cache}}class Ib{constructor(e){this.key=e}}class Nb{constructor(e){this.key=e}}class rC{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=He(),this.mutatedKeys=He(),this.eu=KE(e),this.tu=new ml(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new lv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,A)=>{const M=o.get(E),F=Rh(this.query,A)?A:null,J=!!M&&this.mutatedKeys.has(M.key),ne=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let Z=!1;M&&F?M.data.isEqual(F.data)?J!==ne&&(a.track({type:3,doc:F}),Z=!0):this.su(M,F)||(a.track({type:2,doc:F}),Z=!0,(y&&this.eu(F,y)>0||_&&this.eu(F,_)<0)&&(p=!0)):!M&&F?(a.track({type:0,doc:F}),Z=!0):M&&!F&&(a.track({type:1,doc:M}),Z=!0,(y||_)&&(p=!0)),Z&&(F?(d=d.add(F),c=ne?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,A)=>(function(F,J){const ne=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:Z})}};return ne(F)-ne(J)})(E.type,A.type)||this.eu(E.doc,A.doc))),this.ou(a),o=o??!1;const p=i&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new Sl(this.query,e.tu,c,d,e.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=He(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new Nb(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new Ib(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=He();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Sl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ug="SyncEngine";class aC{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class lC{constructor(e){this.key=e,this.hu=!1}}class oC{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new pa((p=>QE(p)),xh),this.Iu=new Map,this.Eu=new Set,this.du=new At(_e.comparator),this.Au=new Map,this.Ru=new Zm,this.Vu={},this.mu=new Map,this.fu=Tl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uC(s,e,i=!0){const a=jb(s);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await Db(a,e,i,!0),o}async function cC(s,e){const i=jb(s);await Db(i,e,!0,!1)}async function Db(s,e,i,a){const o=await NR(s.localStore,Gi(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await hC(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&Eb(s.remoteStore,o),p}async function hC(s,e,i,a,o){s.pu=(A,M,F)=>(async function(ne,Z,ye,Ce){let Te=Z.view.ru(ye);Te.Cs&&(Te=await tv(ne.localStore,Z.query,!1).then((({documents:I})=>Z.view.ru(I,Te))));const tt=Ce&&Ce.targetChanges.get(Z.targetId),dt=Ce&&Ce.targetMismatches.get(Z.targetId)!=null,fe=Z.view.applyChanges(Te,ne.isPrimaryClient,tt,dt);return hv(ne,Z.targetId,fe.au),fe.snapshot})(s,A,M,F);const c=await tv(s.localStore,e,!0),d=new rC(e,c.Qs),p=d.ru(c.documents),y=ru.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),_=d.applyChanges(p,s.isPrimaryClient,y);hv(s,i,_.au);const E=new aC(e,i,d);return s.Tu.set(e,E),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function fC(s,e,i){const a=Re(s),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!xh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await vm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&ng(a.remoteStore,o.targetId),Tm(a,o.targetId)})).catch(Cl)):(Tm(a,o.targetId),await vm(a.localStore,o.targetId,!0))}async function dC(s,e){const i=Re(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),ng(i.remoteStore,a.targetId))}async function mC(s,e,i){const a=bC(s);try{const o=await(function(d,p){const y=Re(d),_=_t.now(),E=p.reduce(((F,J)=>F.add(J.key)),He());let A,M;return y.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let J=Ms(),ne=He();return y.Ns.getEntries(F,E).next((Z=>{J=Z,J.forEach(((ye,Ce)=>{Ce.isValidDocument()||(ne=ne.add(ye))}))})).next((()=>y.localDocuments.getOverlayedDocuments(F,J))).next((Z=>{A=Z;const ye=[];for(const Ce of p){const Te=I2(Ce,A.get(Ce.key).overlayedDocument);Te!=null&&ye.push(new kr(Ce.key,Te,PE(Te.value.mapValue),Ei.exists(!0)))}return y.mutationQueue.addMutationBatch(F,_,ye,p)})).next((Z=>{M=Z;const ye=Z.applyToLocalDocumentSet(A,ne);return y.documentOverlayCache.saveOverlays(F,Z.batchId,ye)}))})).then((()=>({batchId:M.batchId,changes:XE(A)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new At(Be)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,o.batchId,i),await lu(a,o.changes),await Mh(a.remoteStore)}catch(o){const c=lg(o,"Failed to persist write");i.reject(c)}}async function Ob(s,e){const i=Re(s);try{const a=await RR(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(et(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?et(d.hu,14607):o.removedDocuments.size>0&&(et(d.hu,42227),d.hu=!1))})),await lu(i,a,e)}catch(a){await Cl(a)}}function cv(s,e,i){const a=Re(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const y=Re(d);y.onlineState=p;let _=!1;y.queries.forEach(((E,A)=>{for(const M of A.Sa)M.va(p)&&(_=!0)})),_&&og(y)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function gC(s,e,i){const a=Re(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new At(_e.comparator);d=d.insert(c,vn.newNoDocument(c,we.min()));const p=He().add(c),y=new Nh(we.min(),new Map,new At(Be),d,p);await Ob(a,y),a.du=a.du.remove(c),a.Au.delete(e),cg(a)}else await vm(a.localStore,e,!1).then((()=>Tm(a,e,i))).catch(Cl)}async function pC(s,e){const i=Re(s),a=e.batch.batchId;try{const o=await xR(i.localStore,e);Vb(i,a,null),Mb(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await lu(i,o)}catch(o){await Cl(o)}}async function yC(s,e,i){const a=Re(s);try{const o=await(function(d,p){const y=Re(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let E;return y.mutationQueue.lookupMutationBatch(_,p).next((A=>(et(A!==null,37113),E=A.keys(),y.mutationQueue.removeMutationBatch(_,A)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,E,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E))).next((()=>y.localDocuments.getDocuments(_,E)))}))})(a.localStore,e);Vb(a,e,i),Mb(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await lu(a,o)}catch(o){await Cl(o)}}function Mb(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function Vb(s,e,i){const a=Re(s);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function Tm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((a=>{s.Ru.containsKey(a)||kb(s,a)}))}function kb(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(ng(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),cg(s))}function hv(s,e,i){for(const a of i)a instanceof Ib?(s.Ru.addReference(a.key,e),_C(s,a)):a instanceof Nb?(le(ug,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||kb(s,a.key)):be(19791,{wu:a})}function _C(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(le(ug,"New document in limbo: "+i),s.Eu.add(a),cg(s))}function cg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new _e(St.fromString(e)),a=s.fu.next();s.Au.set(a,new lC(i)),s.du=s.du.insert(i,a),Eb(s.remoteStore,new br(Gi(wh(i.path)),a,"TargetPurposeLimboResolution",bh.ce))}}async function lu(s,e,i){const a=Re(s),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const E=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(_){o.push(_);const E=eg.As(y.targetId,_);c.push(E)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(y,_){const E=Re(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>X.forEach(_,(M=>X.forEach(M.Es,(F=>E.persistence.referenceDelegate.addReference(A,M.targetId,F))).next((()=>X.forEach(M.ds,(F=>E.persistence.referenceDelegate.removeReference(A,M.targetId,F)))))))))}catch(A){if(!Il(A))throw A;le(tg,"Failed to update sequence numbers: "+A)}for(const A of _){const M=A.targetId;if(!A.fromCache){const F=E.Ms.get(M),J=F.snapshotVersion,ne=F.withLastLimboFreeSnapshotVersion(J);E.Ms=E.Ms.insert(M,ne)}}})(a.localStore,c))}async function vC(s,e){const i=Re(s);if(!i.currentUser.isEqual(e)){le(ug,"User change. New user:",e.toKey());const a=await pb(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new de($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await lu(i,a.Ls)}}function EC(s,e){const i=Re(s),a=i.Au.get(e);if(a&&a.hu)return He().add(a.key);{let o=He();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function jb(s){const e=Re(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ob.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gC.bind(null,e),e.Pu.H_=iC.bind(null,e.eventManager),e.Pu.yu=sC.bind(null,e.eventManager),e}function bC(s){const e=Re(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yC.bind(null,e),e}class dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return wR(this.persistence,new TR,e.initialUser,this.serializer)}Cu(e){return new gb(Jm.mi,this.serializer)}Du(e){return new OR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dh.provider={build:()=>new dh};class TC extends dh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){et(this.persistence.referenceDelegate instanceof hh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new lR(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new gb((a=>hh.mi(a,i)),this.serializer)}}class Sm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>cv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=vC.bind(null,this.syncEngine),await eC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new nC})()}createDatastore(e){const i=Dh(e.databaseInfo.databaseId),a=(function(c){return new UR(c)})(e.databaseInfo);return(function(c,d,p,y){return new BR(c,d,p,y)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,p){return new qR(a,o,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>cv(this.syncEngine,i,0)),(function(){return sv.v()?new sv:new MR})())}createSyncEngine(e,i){return(function(o,c,d,p,y,_,E){const A=new oC(o,c,d,p,y,_);return E&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Re(i);le(ma,"RemoteStore shutting down."),a.Ea.add(5),await au(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Sm.provider={build:()=>new Sm};class Ub{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Os("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Mr="FirestoreClient";class SC{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=_n.UNAUTHENTICATED,this.clientId=zm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{le(Mr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(le(Mr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=lg(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Wd(s,e){s.asyncQueue.verifyOperationInProgress(),le(Mr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await pb(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function fv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await AC(s);le(Mr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>av(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>av(e.remoteStore,o))),s._onlineComponents=e}async function AC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){le(Mr,"Using user provided OfflineComponentProvider");try{await Wd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;yl("Error using user provided cache. Falling back to memory cache: "+i),await Wd(s,new dh)}}else le(Mr,"Using default OfflineComponentProvider"),await Wd(s,new TC(void 0));return s._offlineComponents}async function Lb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(le(Mr,"Using user provided OnlineComponentProvider"),await fv(s,s._uninitializedComponentsProvider._online)):(le(Mr,"Using default OnlineComponentProvider"),await fv(s,new Sm))),s._onlineComponents}function wC(s){return Lb(s).then((e=>e.syncEngine))}async function Am(s){const e=await Lb(s),i=e.eventManager;return i.onListen=uC.bind(null,e.syncEngine),i.onUnlisten=fC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=cC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=dC.bind(null,e.syncEngine),i}function xC(s,e,i={}){const a=new xr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const E=new Ub({next:M=>{E.Nu(),d.enqueueAndForget((()=>Rb(c,A)));const F=M.docs.has(p);!F&&M.fromCache?_.reject(new de($.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&y&&y.source==="server"?_.reject(new de($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),A=new Cb(wh(p.path),E,{includeMetadataChanges:!0,qa:!0});return xb(c,A)})(await Am(s),s.asyncQueue,e,i,a))),a.promise}function Pb(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const dv=new Map;const zb="firestore.googleapis.com",mv=!0;class gv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zb,this.ssl=mv}else this.host=e.host,this.ssl=e.ssl??mv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rR)throw new de($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Bx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Pb(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new de($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new de($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new de($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hg{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Nx;switch(a.type){case"firstParty":return new Vx(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new de($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=dv.get(i);a&&(le("ComponentProvider","Removing Datastore"),dv.delete(i),a.terminate())})(this),Promise.resolve()}}function RC(s,e,i,a={}){s=vi(s,hg);const o=Al(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;o&&(jv(`https://${p}`),Uv("Firestore",!0)),c.host!==zb&&c.host!==p&&yl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:o,emulatorOptions:a};if(!Rr(y,d)&&(s._setSettings(y),a.mockUserToken)){let _,E;if(typeof a.mockUserToken=="string")_=a.mockUserToken,E=_n.MOCK_USER;else{_=eS(a.mockUserToken,s._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new de($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new _n(A)}s._authCredentials=new Dx(new CE(_,E))}}class Vh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Vh(this.firestore,e,this._query)}}class Xt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xt(this.firestore,e,this._key)}toJSON(){return{type:Xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(iu(i,Xt._jsonSchema))return new Xt(e,a||null,new _e(St.fromString(i.referencePath)))}}Xt._jsonSchemaVersion="firestore/documentReference/1.0",Xt._jsonSchema={type:Yt("string",Xt._jsonSchemaVersion),referencePath:Yt("string")};class Xo extends Vh{constructor(e,i,a){super(e,i,wh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xt(this.firestore,null,new _e(e))}withConverter(e){return new Xo(this.firestore,e,this._path)}}function Ft(s,e,...i){if(s=Sn(s),arguments.length===1&&(e=zm.newId()),zx("doc","path",e),s instanceof hg){const a=St.fromString(e,...i);return I_(a),new Xt(s,null,new _e(a))}{if(!(s instanceof Xt||s instanceof Xo))throw new de($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(St.fromString(e,...i));return I_(a),new Xt(s.firestore,s instanceof Xo?s.converter:null,new _e(a))}}const pv="AsyncQueue";class yv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _b(this,"async_queue_retry"),this._c=()=>{const a=$d();a&&le(pv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=$d();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=$d();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new xr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Il(e))throw e;le(pv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Os("INTERNAL UNHANDLED ERROR: ",_v(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=ag.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&be(47125,{Pc:_v(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function _v(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function vv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class ga extends hg{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new yv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yv(e),this._firestoreClient=void 0,await e}}}function CC(s,e){const i=typeof s=="object"?s:Bv(),a=typeof s=="string"?s:sh,o=Nm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=Z1("firestore");c&&RC(o,...c)}return o}function fg(s){if(s._terminated)throw new de($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||IC(s),s._firestoreClient}function IC(s){const e=s._freezeSettings(),i=(function(o,c,d,p){return new Zx(o,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Pb(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new SC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class ri{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ri(mn.fromBase64String(e))}catch(i){throw new de($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ri(mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ri._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(iu(e,ri._jsonSchema))return ri.fromBase64String(e.bytes)}}ri._jsonSchemaVersion="firestore/bytes/1.0",ri._jsonSchema={type:Yt("string",ri._jsonSchemaVersion),bytes:Yt("string")};class kh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new de($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class jh{constructor(e){this._methodName=e}}class Qi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new de($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new de($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qi._jsonSchemaVersion}}static fromJSON(e){if(iu(e,Qi._jsonSchema))return new Qi(e.latitude,e.longitude)}}Qi._jsonSchemaVersion="firestore/geoPoint/1.0",Qi._jsonSchema={type:Yt("string",Qi._jsonSchemaVersion),latitude:Yt("number"),longitude:Yt("number")};class Ki{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(iu(e,Ki._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ki(e.vectorValues);throw new de($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ki._jsonSchemaVersion="firestore/vectorValue/1.0",Ki._jsonSchema={type:Yt("string",Ki._jsonSchemaVersion),vectorValues:Yt("object")};const NC=/^__.*__$/;class DC{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new kr(e,this.data,this.fieldMask,i,this.fieldTransforms):new su(e,this.data,i,this.fieldTransforms)}}class Bb{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new kr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Hb(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:s})}}class Uh{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Uh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return mh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Hb(this.Ac)&&NC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class OC{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Dh(e)}Cc(e,i,a,o=!1){return new Uh({Ac:e,methodName:i,Dc:a,path:dn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qb(s){const e=s._freezeSettings(),i=Dh(s._databaseId);return new OC(s._databaseId,!!e.ignoreUndefinedProperties,i)}function MC(s,e,i,a,o,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,o);mg("Data must be an object, but it was:",d,a);const p=Gb(a,d);let y,_;if(c.merge)y=new Fn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const A of c.mergeFields){const M=wm(e,A,i);if(!d.contains(M))throw new de($.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);Qb(E,M)||E.push(M)}y=new Fn(E),_=d.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,_=d.fieldTransforms;return new DC(new Vn(p),y,_)}class Lh extends jh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lh}}function VC(s,e,i){return new Uh({Ac:3,Dc:e.settings.Dc,methodName:s._methodName,fc:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class dg extends jh{constructor(e,i){super(e),this.vc=i}_toFieldTransform(e){const i=VC(this,e,!0),a=this.vc.map((c=>ou(c,i))),o=new bl(a);return new w2(e.path,o)}isEqual(e){return e instanceof dg&&Rr(this.vc,e.vc)}}function kC(s,e,i,a){const o=s.Cc(1,e,i);mg("Data must be an object, but it was:",o,a);const c=[],d=Vn.empty();Vr(a,((y,_)=>{const E=gg(e,y,i);_=Sn(_);const A=o.yc(E);if(_ instanceof Lh)c.push(E);else{const M=ou(_,A);M!=null&&(c.push(E),d.set(E,M))}}));const p=new Fn(c);return new Bb(d,p,o.fieldTransforms)}function jC(s,e,i,a,o,c){const d=s.Cc(1,e,i),p=[wm(e,a,i)],y=[o];if(c.length%2!=0)throw new de($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)p.push(wm(e,c[M])),y.push(c[M+1]);const _=[],E=Vn.empty();for(let M=p.length-1;M>=0;--M)if(!Qb(_,p[M])){const F=p[M];let J=y[M];J=Sn(J);const ne=d.yc(F);if(J instanceof Lh)_.push(F);else{const Z=ou(J,ne);Z!=null&&(_.push(F),E.set(F,Z))}}const A=new Fn(_);return new Bb(E,A,d.fieldTransforms)}function ou(s,e){if(Fb(s=Sn(s)))return mg("Unsupported field value:",e,s),Gb(s,e);if(s instanceof jh)return(function(a,o){if(!Hb(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const p of a){let y=ou(p,o.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,o){if((a=Sn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return T2(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=_t.fromDate(a);return{timestampValue:ch(o.serializer,c)}}if(a instanceof _t){const c=new _t(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ch(o.serializer,c)}}if(a instanceof Qi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ri)return{bytesValue:lb(o.serializer,a._byteString)};if(a instanceof Xt){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Wm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Ki)return(function(d,p){return{mapValue:{fields:{[UE]:{stringValue:LE},[rh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Km(p.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Bm(a)}`)})(s,e)}function Gb(s,e){const i={};return DE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vr(s,((a,o)=>{const c=ou(o,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function Fb(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof _t||s instanceof Qi||s instanceof ri||s instanceof Xt||s instanceof jh||s instanceof Ki)}function mg(s,e,i){if(!Fb(i)||!IE(i)){const a=Bm(i);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function wm(s,e,i){if((e=Sn(e))instanceof kh)return e._internalPath;if(typeof e=="string")return gg(s,e);throw mh("Field path arguments must be of type string or ",s,!1,void 0,i)}const UC=new RegExp("[~\\*/\\[\\]]");function gg(s,e,i){if(e.search(UC)>=0)throw mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new kh(...e.split("."))._internalPath}catch{throw mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function mh(s,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${o}`),y+=")"),new de($.INVALID_ARGUMENT,p+s+y)}function Qb(s,e){return s.some((i=>i.isEqual(e)))}class Kb{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Yb("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class LC extends Kb{data(){return super.data()}}function Yb(s,e){return typeof e=="string"?gg(s,e):e instanceof kh?e._internalPath:e._delegate._internalPath}function PC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new de($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zC{convertValue(e,i="none"){switch(Dr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Nr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Vr(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[rh].arrayValue?.values?.map((a=>jt(a.doubleValue)));return new Ki(i)}convertGeoPoint(e){return new Qi(jt(e.latitude),jt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Sh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Fo(e));default:return null}}convertTimestamp(e){const i=Ir(e);return new _t(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=St.fromString(e);et(db(a),9688,{name:e});const o=new Qo(a.get(1),a.get(3)),c=new _e(a.popFirst(5));return o.isEqual(i)||Os(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function BC(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class ko{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ca extends Kb{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Yb("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ca._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",ca._jsonSchema={type:Yt("string",ca._jsonSchemaVersion),bundleSource:Yt("string","DocumentSnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class Yc extends ca{data(e={}){return super.data(e)}}class gl{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new ko(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Yc(this._firestore,this._userDataWriter,a.key,a,new ko(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new de($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const y=new Yc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new ko(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Yc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new ko(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,E=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),E=d.indexOf(p.doc.key)),{type:HC(p.type),doc:y,oldIndex:_,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=gl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=zm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function HC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:s})}}function qC(s){s=vi(s,Xt);const e=vi(s.firestore,ga);return xC(fg(e),s._key).then((i=>$b(e,s,i)))}gl._jsonSchemaVersion="firestore/querySnapshot/1.0",gl._jsonSchema={type:Yt("string",gl._jsonSchemaVersion),bundleSource:Yt("string","QuerySnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class Xb extends zC{constructor(e){super(),this.firestore=e}convertBytes(e){return new ri(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Xt(this.firestore,null,i)}}function GC(s,e,i){s=vi(s,Xt);const a=vi(s.firestore,ga),o=BC(s.converter,e);return pg(a,[MC(qb(a),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,Ei.none())])}function hn(s,e,i,...a){s=vi(s,Xt);const o=vi(s.firestore,ga),c=qb(o);let d;return d=typeof(e=Sn(e))=="string"||e instanceof kh?jC(c,"updateDoc",s._key,e,i,a):kC(c,"updateDoc",s._key,e),pg(o,[d.toMutation(s._key,Ei.exists(!0))])}function Ev(s){return pg(vi(s.firestore,ga),[new Ym(s._key,Ei.none())])}function bv(s,...e){s=Sn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||vv(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(vv(e[a])){const y=e[a];e[a]=y.next?.bind(y),e[a+1]=y.error?.bind(y),e[a+2]=y.complete?.bind(y)}let c,d,p;if(s instanceof Xt)d=vi(s.firestore,ga),p=wh(s._key.path),c={next:y=>{e[a]&&e[a]($b(d,s,y))},error:e[a+1],complete:e[a+2]};else{const y=vi(s,Vh);d=vi(y.firestore,ga),p=y._query;const _=new Xb(d);c={next:E=>{e[a]&&e[a](new gl(d,_,y,E))},error:e[a+1],complete:e[a+2]},PC(s._query)}return(function(_,E,A,M){const F=new Ub(M),J=new Cb(E,F,A);return _.asyncQueue.enqueueAndForget((async()=>xb(await Am(_),J))),()=>{F.Nu(),_.asyncQueue.enqueueAndForget((async()=>Rb(await Am(_),J)))}})(fg(d),p,o,c)}function pg(s,e){return(function(a,o){const c=new xr;return a.asyncQueue.enqueueAndForget((async()=>mC(await wC(a),o,c))),c.promise})(fg(s),e)}function $b(s,e,i){const a=i.docs.get(e._key),o=new Xb(s);return new ca(s,o,e._key,a,new ko(i.hasPendingWrites,i.fromCache),e.converter)}function On(...s){return new dg("arrayUnion",s)}(function(e,i=!0){(function(o){Rl=o})(wl),pl(new ha("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new ga(new Ox(a.getProvider("auth-internal")),new kx(d,a.getProvider("app-check-internal")),(function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new de($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qo(_.options.projectId,E)})(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Ar(w_,x_,e),Ar(w_,x_,"esm2020")})();const FC=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),QC=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),Tv=s=>{const e=QC(s);return e.charAt(0).toUpperCase()+e.slice(1)},Wb=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),KC=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var YC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const XC=Ke.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...p},y)=>Ke.createElement("svg",{ref:y,...YC,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:Wb("lucide",o),...!c&&!KC(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,E])=>Ke.createElement(_,E)),...Array.isArray(c)?c:[c]]));const It=(s,e)=>{const i=Ke.forwardRef(({className:a,...o},c)=>Ke.createElement(XC,{ref:c,iconNode:e,className:Wb(`lucide-${FC(Tv(s))}`,`lucide-${s}`,a),...o}));return i.displayName=Tv(s),i};const $C=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}]],pr=It("badge",$C);const WC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Sv=It("book-open",WC);const ZC=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Zb=It("briefcase",ZC);const JC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],eI=It("chevron-down",JC);const tI=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Av=It("chevron-up",tI);const nI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],iI=It("circle-check-big",nI);const sI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],rI=It("crosshair",sI);const aI=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],wv=It("eye-off",aI);const lI=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yg=It("eye",lI);const oI=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],uI=It("gavel",oI);const cI=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],hI=It("hammer",cI);const fI=[["path",{d:"M14 18a2 2 0 0 0-4 0",key:"1v8fkw"}],["path",{d:"m19 11-2.11-6.657a2 2 0 0 0-2.752-1.148l-1.276.61A2 2 0 0 1 12 4H8.5a2 2 0 0 0-1.925 1.456L5 11",key:"1fkr7p"}],["path",{d:"M2 11h20",key:"3eubbj"}],["circle",{cx:"17",cy:"18",r:"3",key:"82mm0e"}],["circle",{cx:"7",cy:"18",r:"3",key:"lvkj7j"}]],gh=It("hat-glasses",fI);const dI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Jb=It("history",dI);const mI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],xv=It("log-out",mI);const gI=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ph=It("search",gI);const pI=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yI=It("settings",pI);const _I=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],yh=It("skull",_I);const vI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],xm=It("target",vI);const EI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],bI=It("trash-2",EI);const TI=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],SI=It("triangle-alert",TI);const AI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],eT=It("user",AI);const wI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_g=It("x",wI),xI={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:c87b26c0536b13eb6aa637"},tT=zv(xI),Uc=Cx(tT),Qt=CC(tT),Wt=typeof __app_id<"u"?__app_id:"investigation-game",RI="2",CI=["Kitchen Knife","Dagger","Crossed Swords","Fire Axe","Pickaxe","Hook","Scissors","Champagne Bottle","Katana","Blade","Saw","Hammer","Cricket Bat","Field Hockey Stick","Wrench","Crowbar","Brick","Moai Statue","Candlestick","Frying Pan","Stone","Pistol","Silenced Gun","Boxing Glove","Shotgun","Bow and Arrow","Rope","Wire","Necktie","Teddy Bear","Plastic Bag","Chain","Scarf","Arsenic","Cyanide Pill","Venomous Snake","Syringe","Sleeping Pills","Chainsaw","Explosives","Dynamite","Electrocution","Drowning","Push from Heights","Vehicle","Trophy","Screwdriver","Clamp","Fist","Electric Plug","Fire","Oil Drum","Lighter"],II=["Hand","Shoe","Blood Stain","DNA Sample","T-Shirt","Shirt Button","Sewing Thread","Wedding Ring","Wristwatch","Gem Stone","Glasses","Purse","Name Badge","Credit Card","Receipt","Ticket","Memo","Notebook","Framed Picture","World Map","Floppy Disk","Smartphone","Laptop","Key","Coin","Cigarette","Flashlight","Funeral Urn","Ice Cube","Fork and Knife","Wilted Flower","Leaf","Droplet","Oil Drum","Artist Palette","Fountain Pen","Candy","Wine Glass","Hot Beverage","Kiss Mark","Lotion Bottle","Salt Shaker","Collision","Hammer","Glove","Ninja Mask","Joker Card","Game Die","Mirror"],NI={"Kitchen Knife":"",Dagger:"","Crossed Swords":"","Fire Axe":"",Pickaxe:"",Hook:"",Scissors:"","Champagne Bottle":"",Katana:"",Blade:"",Saw:"",Hammer:"","Cricket Bat":"","Field Hockey Stick":"",Wrench:"",Crowbar:"",Brick:"","Moai Statue":"",Candlestick:"","Frying Pan":"",Stone:"",Pistol:"","Silenced Gun":"","Boxing Glove":"",Shotgun:"","Bow and Arrow":"",Rope:"",Wire:"",Necktie:"","Teddy Bear":"","Plastic Bag":"",Chain:"",Scarf:"",Arsenic:"","Cyanide Pill":"","Venomous Snake":"",Syringe:"","Sleeping Pills":"",Chainsaw:"",Explosives:"",Dynamite:"",Electrocution:"",Drowning:"","Push from Heights":"",Vehicle:"",Trophy:"",Screwdriver:"",Clamp:"",Fist:"","Electric Plug":"",Fire:"","Oil Drum":"",Lighter:"",Hand:"",Shoe:"","Blood Stain":"","DNA Sample":"","T-Shirt":"","Shirt Button":"","Sewing Thread":"","Wedding Ring":"",Wristwatch:"","Gem Stone":"",Glasses:"",Purse:"","Name Badge":"","Credit Card":"",Receipt:"",Ticket:"",Memo:"",Notebook:"","Framed Picture":"","World Map":"","Floppy Disk":"",Smartphone:"",Laptop:"",Key:"",Coin:"",Cigarette:"",Flashlight:"","Funeral Urn":"","Ice Cube":"","Fork and Knife":"","Wilted Flower":"",Leaf:"",Droplet:"","Artist Palette":"","Fountain Pen":"",Candy:"","Wine Glass":"","Hot Beverage":"","Kiss Mark":"","Lotion Bottle":"","Salt Shaker":"",Collision:"",Glove:"","Ninja Mask":"","Joker Card":"","Game Die":"",Mirror:""},Lc={FIXED:{title:"Cause of Death",type:"purple",options:["Suffocation","Severe Injury","Loss of Blood","Chemical / Sickness","Accident","Projectile / Blast"]},MAIN:[{title:"Location of Crime",type:"green",options:["Living Room","Bedroom","Kitchen / Dining","Bathroom","Balcony","Garden"]},{title:"Location of Crime",type:"green",options:["Office","Hotel","Restaurant","Pub/Bar","School","Hospital"]},{title:"Location of Crime",type:"green",options:["Vacation home","Park","Supermarket","Forest","University","Bookstore"]},{title:"Location of Crime",type:"green",options:["Playground","Classroom","Dormitory","Cafeteria","Lift","Toilet"]}],SUBORDINATE:[{title:"Duration of Crime",options:["Instantaneous","Few Seconds","Few Minutes","Under an Hour","Several Hours","Days"]},{title:"Trace at Scene",options:["Footprints","Fingerprints","Blood/Fluids","Smell/Scent","Sound/Recording","Writing/Marks"]},{title:"Weapon Type",options:["Sharp","Blunt","Toxin/Chemical","Projectile","Everyday Object","Machinery/Tool"]},{title:"Weapon Property",options:["Heavy","Lightweight","Long","Short/Small","Noisy","Silent"]},{title:"Weapon Origin",options:["Household","Industrial/Work","Medical/Chemical","Outdoor/Nature","Military/Tactical","Sports/Recreation"]},{title:"Evidence Material",options:["Fabric/Cloth","Metal","Paper/Wood","Plastic","Biological","Stone/Glass"]},{title:"Evidence Condition",options:["Broken/Damaged","New/Shiny","Old/Worn","Wet/Dirty","Burnt/Singed","Incomplete"]},{title:"Social Relation",options:["Relatives","Friends","Colleagues","Lovers","Strangers","Enemies"]},{title:"Sudden Incident",options:["Loud Shout","Heavy Thud","Bright Flash","Dead Silence","Scream","Breaking Glass"]},{title:"Motive",options:["Hatred/Revenge","Greed/Money","Love/Passion","Jealousy","Fear/Defense","Madness"]},{title:"Killer's Trait",options:["Arrogant","Cautious","Violent","Calm/Cold","Nervous","Calculating"]},{title:"Impression",options:["Natural","Artistic","Cruel","Clumsy","Professional","Bizarre"]},{title:"Noticed By Others",options:["Sound","Smell","Silhouette","Someone Running","Object Thrown","Nothing"]},{title:"Evidence Size",options:["Tiny","Small","Medium","Large","Heavy","Microscopic"]},{title:"Evidence Color",options:["Red/Purple","Blue/Green","Yellow/Orange","Black/Grey","White/Clear","Metallic"]},{title:"State of Scene",options:["Chaos / Destruction","Signs of Struggle","Perfectly Tidy","Items Missing","Staged / Artificially Arranged","Covered (Ash/Water/Dust)"]},{title:"Injury/Wounds",options:["Head / Neck","Chest / Torso","Hands / Arms","Legs / Feet","Internal Organs","No Visible Wounds"]},{title:"Assassin Hint",options:["Man","Woman","Tall","Short","Strong","Weak"]},{title:"Shape of Evidence",options:["Round/Spherical","Square/Rectangular","Long/Thin","Flat/Sheet","Irregular/Amorphous","Sharp/Pointed"]},{title:"Weapon Operation",options:["Muscle Power","Mechanism/Trigger","Chemical/Reaction","Electrical","Passive/Trap","Animal/Living"]},{title:"Evidence Domain",options:["Work/Office","Home/Domestic","Travel/Outdoor","Leisure/Hobby","Medical/Hygiene","Vice/Illegal"]},{title:"Concealability (Weapon)",options:["Pocket Size","Bag/Backpack Size","Two-Handed/Large","Not Concealable","Invisible/Internal","Disguised as Object"]},{title:"Relation to Victim (Evidence)",options:["Owned by Victim","Stolen from Victim","Gifted to Victim","Belonged to Killer","Found at Scene","Unknown Origin"]},{title:"Texture of Evidence",options:["Hard/Rigid","Soft/Flexible","Metallic/Cold","Wooden/Rough","Paper-like","Sticky/Liquid"]},{title:"Residue Left by Weapon",options:["Blood","Powder/Dust","Water/Fluid","Ash/Burn Mark","Fragments/Shards","None/Clean"]},{title:"Visibility of Injury",options:["None Visible","Small Puncture","Large Wound","Bruising/Swelling","Burns/Rash","Dismemberment/Breakage"]}]},rl=s=>{let e=s.length,i;const a=[...s];for(;e!==0;)i=Math.floor(Math.random()*e),e--,[a[e],a[i]]=[a[i],a[e]];return a},yn=s=>{const e=NI[s]||"";return b.jsx("span",{className:"text-2xl leading-none filter drop-shadow-sm grayscale-[0.2] mb-1 block",children:e})},Zd=()=>b.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[b.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-gray-800 via-gray-900 to-black opacity-80"}),b.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:'url("https://www.transparenttextures.com/patterns/black-scales.png")'}})]}),Rv=()=>b.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 py-2 w-full bg-slate-950/80 backdrop-blur-sm border-t border-slate-900/50 z-50",children:[b.jsx(gh,{size:12,className:"text-green-500"}),b.jsx("span",{className:"text-[10px] font-black tracking-widest text-green-500 uppercase",children:"INVESTIGATION"})]}),DI=()=>b.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 py-2 w-full bg-slate-950/80 backdrop-blur-sm border-t border-slate-900/50 z-50",children:[b.jsx(gh,{size:22,className:"text-green-500"}),b.jsx("span",{className:"text-[20px] font-black tracking-widest text-green-500 uppercase",children:"INVESTIGATION"})]}),Jd=({onClose:s})=>b.jsx("div",{className:"fixed inset-0 z-[170] bg-slate-950/95 flex justify-center overflow-y-auto p-4 animate-in slide-in-from-bottom-10 fade-in duration-300",children:b.jsxs("div",{className:"w-full max-w-4xl relative",children:[b.jsx("button",{onClick:s,className:"fixed top-4 right-4 md:absolute md:-right-12 md:top-0 bg-slate-800 p-2 rounded-full text-white hover:bg-slate-700 shadow-lg z-50",children:b.jsx(_g,{size:24})}),b.jsxs("div",{className:"space-y-8 pb-20 mt-12 md:mt-0",children:[b.jsxs("div",{className:"text-center space-y-2",children:[b.jsx("h2",{className:"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-green-600",children:"PENAL CODES"}),b.jsx("p",{className:"text-slate-400",children:"Deduction, Deception, and Discovery"})]}),b.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl p-6 shadow-xl",children:[b.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[b.jsx(xm,{className:"text-red-500"})," The Objective"]}),b.jsxs("p",{className:"text-slate-300 leading-relaxed",children:["A murder has been committed. The"," ",b.jsx("span",{className:"text-blue-400 font-bold",children:"Detective"})," knows the solution but can only communicate through vague clues. The"," ",b.jsx("span",{className:"text-green-400 font-bold",children:"Investigators"})," must interpret these clues to find the true"," ",b.jsx("strong",{className:"text-white",children:"Murder Weapon"})," and"," ",b.jsx("strong",{className:"text-white",children:"Evidence"})," before time runs out. Meanwhile, the"," ",b.jsx("span",{className:"text-red-400 font-bold",children:"Murderer"})," hides among them, trying to mislead the investigation."]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsxs("div",{className:"bg-slate-800/50 border border-blue-500/30 rounded-xl p-5",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx("div",{className:"bg-blue-600 p-1.5 rounded text-white",children:b.jsx(ph,{size:16})}),b.jsx("span",{className:"font-bold text-blue-400",children:"Detective"})]}),b.jsx("p",{className:"text-sm text-slate-300",children:"Host & Guide. Knows the solution. Cannot speak about the case. Selects tile cards to give hints."})]}),b.jsxs("div",{className:"bg-slate-800/50 border border-red-500/30 rounded-xl p-5",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx("div",{className:"bg-red-600 p-1.5 rounded text-white",children:b.jsx(yh,{size:16})}),b.jsx("span",{className:"font-bold text-red-400",children:"Murderer"})]}),b.jsx("p",{className:"text-sm text-slate-300",children:"The Culprit. Chooses the Means & Clue at the start. Hides identity and tries to sabotage the team."})]}),b.jsxs("div",{className:"bg-slate-800/50 border border-emerald-500/30 rounded-xl p-5",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx("div",{className:"bg-emerald-600 p-1.5 rounded text-white",children:b.jsx(pr,{size:16})}),b.jsx("span",{className:"font-bold text-emerald-400",children:"Investigator"})]}),b.jsx("p",{className:"text-sm text-slate-300",children:"The Team. Discusses clues and submits accusations to solve the crime."})]}),b.jsxs("div",{className:"bg-slate-800/50 border border-orange-500/30 rounded-xl p-5",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx("div",{className:"bg-orange-600 p-1.5 rounded text-white",children:b.jsx(Zb,{size:16})}),b.jsx("span",{className:"font-bold text-orange-400",children:"Accomplice"})]}),b.jsx("p",{className:"text-sm text-slate-300",children:"(Optional) Knows who the Murderer is. Helps them win without getting caught."})]}),b.jsxs("div",{className:"bg-slate-800/50 border border-indigo-500/30 rounded-xl p-5 md:col-span-2",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx("div",{className:"bg-indigo-600 p-1.5 rounded text-white",children:b.jsx(yg,{size:16})}),b.jsx("span",{className:"font-bold text-indigo-400",children:"Witness"})]}),b.jsx("p",{className:"text-sm text-slate-300",children:"(Optional) Knows the Murderer but not the solution. Must help Investigators without revealing themselves. If the Murderer finds the Witness at the end, the Murderer wins!"})]})]}),b.jsx("div",{className:"text-center pt-8",children:b.jsx("button",{onClick:s,className:"bg-white text-slate-900 px-8 py-3 rounded-full font-bold hover:scale-105 transition-transform",children:"Got it, Let's Play!"})})]})]})}),OI=({logs:s,onClose:e})=>b.jsx("div",{className:"fixed top-16 right-4 w-64 max-h-60 bg-gray-900/95 border border-gray-700 rounded-xl z-[155] overflow-y-auto p-2 shadow-2xl",children:b.jsxs("div",{className:"bg-slate-900 w-full md:max-w-md h-full md:h-[70vh] rounded-none md:rounded-xl flex flex-col border-none md:border border-slate-700 shadow-2xl",children:[b.jsxs("div",{className:"p-4 border-b border-slate-700 flex justify-between items-center bg-slate-800",children:[b.jsxs("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[b.jsx(Jb,{size:18,className:"text-cyan-400"})," System Logs"]}),b.jsx("button",{onClick:e,className:"p-2 bg-slate-700 rounded-full hover:bg-slate-600",children:b.jsx(_g,{className:"text-slate-400"})})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[...s].reverse().map((i,a)=>b.jsxs("div",{className:`text-xs md:text-sm p-3 rounded border-l-2 ${i.type==="danger"?"bg-red-900/20 border-red-500 text-red-200":i.type==="success"?"bg-green-900/20 border-green-500 text-green-200":"bg-slate-700/50 border-slate-500 text-slate-300"}`,children:[b.jsxs("span",{className:"opacity-50 mr-2 font-mono",children:["[",new Date(parseInt(i.id)||Date.now()).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),"]"]}),i.text]},a))})]})}),Cv=({onConfirm:s,onCancel:e,isHost:i,onReturnToLobby:a})=>b.jsx("div",{className:"fixed inset-0 bg-black/90 z-[200] flex items-center justify-center p-4 animate-in fade-in",children:b.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6 max-w-sm w-full text-center shadow-2xl",children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Leave Game?"}),b.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:i?"As Host, leaving will end the game for everyone.":"Are you sure you want to leave the room?"}),b.jsxs("div",{className:"flex flex-col gap-3",children:[b.jsx("button",{onClick:e,className:"bg-slate-700 hover:bg-slate-600 text-white py-3 rounded font-bold transition-colors",children:"Stay"}),i&&a&&b.jsx("button",{onClick:a,className:"bg-blue-600 hover:bg-blue-500 text-white py-3 rounded font-bold transition-colors",children:"Return to Lobby"}),b.jsx("button",{onClick:s,className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold transition-colors",children:i?"Delete Room":"Leave Room"})]})]})}),Iv=({role:s})=>{if(!s)return null;let e="bg-gray-600",i=eT;s==="DETECTIVE"&&(e="bg-blue-600",i=ph),s==="MURDERER"&&(e="bg-red-600",i=yh),s==="INVESTIGATOR"&&(e="bg-emerald-600",i=pr),s==="ACCOMPLICE"&&(e="bg-orange-600",i=Zb),s==="WITNESS"&&(e="bg-indigo-600",i=yg);const a=s.charAt(0)+s.slice(1).toLowerCase();return b.jsxs("div",{className:`${e} text-white px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1 shadow-sm`,children:[j1.createElement(i,{size:12})," ",b.jsx("span",{className:"whitespace-nowrap",children:a})]})};function MI(){const[s,e]=Ke.useState(null),[i,a]=Ke.useState("menu"),[o,c]=Ke.useState(""),[d,p]=Ke.useState(""),[y,_]=Ke.useState(null),[E,A]=Ke.useState(null),[M,F]=Ke.useState(!1),[J,ne]=Ke.useState(""),[Z,ye]=Ke.useState(!1),[Ce,Te]=Ke.useState(null),[tt,dt]=Ke.useState(null),[fe,I]=Ke.useState(null),[w,R]=Ke.useState(!1),[V,O]=Ke.useState(!1),[j,x]=Ke.useState(!1),[Xe,bt]=Ke.useState(!1),[q,ee]=Ke.useState(!1),[me,qe]=Ke.useState(!0),[Ve,D]=Ke.useState(null),[K,ie]=Ke.useState(!0),[ae,Ee]=Ke.useState(!0),[Ae,Oe]=Ke.useState(!1);Ke.useEffect(()=>{const W=localStorage.getItem("investigation_roomId");W&&(_(W),p(W))},[]),Ke.useEffect(()=>((async()=>{if(typeof __initial_auth_token<"u"&&__initial_auth_token)try{await mw(Uc,__initial_auth_token)}catch{await m_(Uc)}else await m_(Uc)})(),yw(Uc,se=>e(se))),[]),Ke.useEffect(()=>{E?.phase==="WITNESS_HUNT"?(ie(!0),Ee(!0)):ie(!1)},[E?.phase]),Ke.useEffect(()=>{E?.accompliceSuggestion&&Ee(!0)},[E?.accompliceSuggestion]),Ke.useEffect(()=>{if(!y||!s)return;const W=Ft(Qt,"artifacts",Wt,"public","data","rooms",y),se=bv(W,ce=>{if(ce.exists()){const pe=ce.data();if(!pe.players.find(Ge=>Ge.id===s.uid)){localStorage.removeItem("investigation_roomId"),_(null),a("menu"),A(null),ne("You were removed from the room.");return}A({id:ce.id,...pe}),pe.status==="playing"||pe.status==="finished"?a("game"):a("lobby"),pe.status==="lobby"&&(R(!1),I(null),bt(!1)),pe.status==="playing"&&pe.phase==="INVESTIGATION"&&pe.players.filter(xt=>xt.role!=="DETECTIVE"&&xt.badge===!0).length===0&&!pe.activeAccusation&&pe.hostId===s.uid&&Nt()}else localStorage.removeItem("investigation_roomId"),_(null),a("menu"),ne("Room closed by host.")});return()=>se()},[y,s]),Ke.useEffect(()=>{const W=bv(Ft(Qt,"game_hub_settings","config"),se=>{se.exists()&&se.data()[RI]?.maintenance?ye(!0):ye(!1)});return()=>W()},[]);const Nt=async W=>{let se=[{text:"All badges used. Murderer Escapes!",type:"danger"}];await hn(Ft(Qt,"artifacts",Wt,"public","data","rooms",y),{phase:"GAME_OVER_BAD",logs:On(...se)})},at=(W,se)=>{D({title:W,message:se,type:"alert"})},$i=(W,se,ce)=>{D({title:W,message:se,type:"confirm",onConfirm:ce})},Wi=()=>D(null),ks=async()=>{if(!s||!o.trim())return ne("Enter nickname.");F(!0);const W=Math.random().toString(36).substring(2,7).toUpperCase();localStorage.setItem("investigation_roomId",W);const se={roomId:W,hostId:s.uid,players:[{id:s.uid,name:o,role:null,means:[],clues:[],badge:!0,ready:!0}],status:"lobby",settings:{useAccomplice:!1,useWitness:!1},logs:[],accusations:[],nextRoundRequests:[],replayRequests:[],readyPlayers:[],activeAccusation:null};try{await GC(Ft(Qt,"artifacts",Wt,"public","data","rooms",W),se),_(W),p(W)}catch{ne("Failed to create room.")}F(!1)},js=async()=>{if(!s||!d||!o.trim())return ne("Enter details.");F(!0);try{const W=Ft(Qt,"artifacts",Wt,"public","data","rooms",d.toUpperCase()),se=await qC(W);if(!se.exists())throw new Error("Room not found.");const ce=se.data();if(ce.players.length>=10)throw new Error("Room full.");if(ce.status!=="lobby")throw new Error("Game started.");ce.players.find(ke=>ke.id===s.uid)||await hn(W,{players:On({id:s.uid,name:o,role:null,means:[],clues:[],badge:!0,ready:!0})}),localStorage.setItem("investigation_roomId",d.toUpperCase()),_(d.toUpperCase())}catch(W){ne(W.message)}F(!1)},kn=async W=>{if(!E||E.hostId!==s.uid)return;const se=E.settings?.[W]||!1;await hn(Ft(Qt,"artifacts",Wt,"public","data","rooms",y),{[`settings.${W}`]:!se})},Us=async()=>{if(!y||!s||!E)return;localStorage.removeItem("investigation_roomId");const W=Ft(Qt,"artifacts",Wt,"public","data","rooms",y);try{if(E.hostId===s.uid)await Ev(W);else{const se=E.players.filter(ce=>ce.id!==s.uid);se.length===0?await Ev(W):await hn(W,{players:se})}}catch(se){console.error("Error leaving room:",se)}_(null),a("menu"),A(null),ee(!1)},Zi=async W=>{if(!E||E.hostId!==s.uid)return;const se=E.players.filter(ce=>ce.id!==W);await hn(Ft(Qt,"artifacts",Wt,"public","data","rooms",y),{players:se})},Ji=async()=>{if(!E||E.hostId!==s.uid)return;const W=E.players.map(se=>({...se,role:null,means:[],clues:[],badge:!0,ready:!0}));await hn(Ft(Qt,"artifacts",Wt,"public","data","rooms",y),{status:"lobby",phase:null,solution:null,activeTiles:null,logs:[],players:W,round:1,accusations:[],successfulSolvers:[],accompliceSuggestion:null,murdererGuess:null,nextRoundRequests:[],replayRequests:[],readyPlayers:[],activeAccusation:null})},es=async()=>{if(E.players.length<4)return ne("Need 4+ players.");const W=E.players.length;let se=["DETECTIVE","MURDERER"];for(W>=6&&E.settings?.useAccomplice&&se.push("ACCOMPLICE"),W>=5&&E.settings?.useWitness&&se.push("WITNESS");se.length<W;)se.push("INVESTIGATOR");se=rl(se);const ce=rl([...CI]),pe=rl([...II]),ke=E.players.map((Ut,Tt)=>{if(se[Tt]==="DETECTIVE")return{...Ut,role:se[Tt],means:[],clues:[],badge:!1};const An=[],oe=[];for(let Me=0;Me<4;Me++)An.push(ce.pop());for(let Me=0;Me<4;Me++)oe.push(pe.pop());return{...Ut,role:se[Tt],means:An,clues:oe,badge:!0}}),Ge=rl([...Lc.MAIN])[0],xt=rl([...Lc.SUBORDINATE]).slice(0,4),Fe=[{...Lc.FIXED,id:"cause",selected:null},{...Ge,id:"main",selected:null},...xt.map((Ut,Tt)=>({...Ut,id:`scene_${Tt}`,selected:null}))];await hn(Ft(Qt,"artifacts",Wt,"public","data","rooms",y),{status:"playing",phase:"PRE_GAME_MURDER",players:ke,activeTiles:Fe,solution:null,round:1,logs:On({text:"Game Started. Planning Phase...",type:"neutral"}),accusations:[],nextRoundRequests:[],readyPlayers:[],replayRequests:[],activeAccusation:null})},wt=async()=>{if(E.readyPlayers?.includes(s.uid))return;const W=[...E.readyPlayers||[],s.uid],se=E.players.length===W.length;let ce={readyPlayers:W};se&&(ce.phase="MURDERER_SELECT",ce.logs=On({text:"Everyone Ready. Murderer is choosing...",type:"danger"})),await hn(Ft(Qt,"artifacts",Wt,"public","data","rooms",y),ce)},Dt=async(W,se)=>{await hn(Ft(Qt,"artifacts",Wt,"public","data","rooms",y),{solution:{means:W,clue:se,murdererId:s.uid},phase:"DETECTIVE_TURN",logs:On({text:"Crime Committed. Detective is analyzing evidence...",type:"danger"})})},bi=async(W,se)=>{const ce=[...E.activeTiles];ce[W].selected=se,await hn(Ft(Qt,"artifacts",Wt,"public","data","rooms",y),{activeTiles:ce})},Dl=async()=>{if(!E.activeTiles.every(se=>se.selected!==null))return at("Incomplete","Select an option for every tile!");await hn(Ft(Qt,"artifacts",Wt,"public","data","rooms",y),{phase:"INVESTIGATION",logs:On({text:`Round ${E.round} Clues Revealed! Investigators, submit your files when ready.`,type:"info"}),nextRoundRequests:[]})},_a=async()=>{E.nextRoundRequests?.includes(s.uid)||await hn(Ft(Qt,"artifacts",Wt,"public","data","rooms",y),{nextRoundRequests:On(s.uid)})},rn=async W=>{if(W<2)return at("Invalid Action","You cannot replace the Cause of Death or Main Location tile.");if(E.round>=3)return;const se=E.activeTiles.map(Ge=>Ge.title),ce=Lc.SUBORDINATE.filter(Ge=>!se.includes(Ge.title)),pe=rl(ce)[0],ke=[...E.activeTiles];ke[W]={...pe,id:`scene_r${E.round+1}_${W}`,selected:null},await hn(Ft(Qt,"artifacts",Wt,"public","data","rooms",y),{phase:"DETECTIVE_TURN",round:E.round+1,activeTiles:ke,logs:On({text:`Round ${E.round+1} Begins. Detective is updating a clue...`,type:"neutral"})}),bt(!1)},ts=async()=>{if(!fe)return;const{targetId:W,means:se,clue:ce}=fe,pe=E.players.findIndex(Tt=>Tt.id===s.uid),ke=[...E.players];ke[pe].badge=!1;const Ge=E.solution,xt=W===Ge.murdererId&&se===Ge.means&&ce===Ge.clue,Fe={solverId:s.uid,solverName:ke[pe].name,targetId:W,means:se,clue:ce,isCorrect:xt,continueVotes:[]},Ut=E.nextRoundRequests||[];Ut.includes(s.uid)||Ut.push(s.uid),await hn(Ft(Qt,"artifacts",Wt,"public","data","rooms",y),{players:ke,accusations:On(Fe),activeAccusation:Fe,nextRoundRequests:Ut,logs:On({text:`${ke[pe].name} submitted a case file.`,type:"neutral"})}),R(!1),I(null)},jr=async()=>{if(!E.activeAccusation)return;const W=E.activeAccusation.continueVotes||[];if(W.includes(s.uid))return;const se=[...W,s.uid],ce=E.players.length===se.length;let pe={"activeAccusation.continueVotes":se};ce&&(pe.activeAccusation=null,E.activeAccusation.isCorrect?E.settings?.useWitness?(pe.phase="WITNESS_HUNT",pe.successfulSolvers=[E.activeAccusation.solverId],pe.logs=On({text:"CORRECT! But Murderer can steal win by finding Witness.",type:"warning"})):(pe.phase="GAME_OVER_GOOD",pe.successfulSolvers=[E.activeAccusation.solverId],pe.logs=On({text:"CORRECT! Investigators Win!",type:"success"})):pe.logs=On({text:`${E.activeAccusation.solverName} was WRONG. Game Continues.`,type:"danger"})),await hn(Ft(Qt,"artifacts",Wt,"public","data","rooms",y),pe)},Ur=async W=>{await hn(Ft(Qt,"artifacts",Wt,"public","data","rooms",y),{accompliceSuggestion:W})},Ti=async W=>{const se=E.players.find(ke=>ke.id===W);let ce="GAME_OVER_GOOD",pe=[];se.role==="WITNESS"?(ce="GAME_OVER_BAD",pe.push({text:`Murderer identified the Witness (${se.name})! Murderer Wins!`,type:"danger"})):(ce="GAME_OVER_GOOD",pe.push({text:"Murderer guessed wrong! Investigators Win!",type:"success"})),await hn(Ft(Qt,"artifacts",Wt,"public","data","rooms",y),{phase:ce,logs:On(...pe)})};if(Z)return b.jsx("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:b.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[b.jsx(hI,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),b.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),b.jsx("p",{className:"text-gray-400",children:"Crime scene sealed. Forensics team is sweeping the area."})]})});if(!s)return b.jsx("div",{className:"h-screen bg-slate-900 text-white flex items-center justify-center",children:"Loading..."});if(i==="menu")return b.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[b.jsx(Zd,{}),Ae&&b.jsx(Jd,{onClose:()=>Oe(!1)}),b.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[b.jsx(gh,{size:64,className:"text-green-500 mx-auto mb-4 animate-bounce drop-shadow-[0_0_15px_rgba(34,197,94,0.5)]"}),b.jsx("h1",{className:"text-3xl sm:text-5xl md:text-6xl font-black text-transparent bg-clip-text bg-gradient-to-b from-green-300 to-green-600 font-serif tracking-widest drop-shadow-md break-words max-w-full",children:"INVESTIGATION"}),b.jsx("p",{className:"text-gray-400 tracking-[0.3em] uppercase mt-2",children:"Murder Mystery"})]}),b.jsxs("div",{className:"bg-gray-900/80 backdrop-blur border border-gray-700 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10 animate-in slide-in-from-bottom-10 duration-700 delay-100",children:[J&&b.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-sm border border-red-800",children:J}),b.jsx("input",{className:"w-full bg-black/50 border border-gray-600 p-3 rounded mb-4 text-white placeholder-gray-500 focus:border-green-500 outline-none transition-colors",placeholder:"Your Codename",value:o,onChange:W=>c(W.target.value)}),b.jsxs("button",{onClick:ks,disabled:M,className:"w-full bg-gradient-to-r from-green-700 to-green-600 hover:from-green-600 hover:to-green-500 p-4 rounded font-bold mb-4 flex items-center justify-center gap-2 border border-green-500/30 shadow-[0_0_15px_rgba(34,197,94,0.2)] transition-all",children:[b.jsx(pr,{size:20})," Create Case File"]}),b.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[b.jsx("input",{className:"w-full sm:flex-1 bg-black/50 border border-gray-600 p-3 rounded text-white placeholder-gray-500 uppercase font-mono tracking-wider focus:border-green-500 outline-none",placeholder:"ROOM CODE",value:d,onChange:W=>p(W.target.value.toUpperCase())}),b.jsx("button",{onClick:js,disabled:M,className:"w-full sm:w-auto bg-gray-800 hover:bg-gray-700 border border-gray-600 px-6 py-3 rounded font-bold transition-colors",children:"Join"})]}),b.jsxs("button",{onClick:()=>Oe(!0),className:"w-full text-sm text-gray-400 hover:text-white flex items-center justify-center gap-2 py-2",children:[b.jsx(Sv,{size:16})," Penal Codes"]})]}),b.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Inspired by Deception: Murder in Hongkong. A tribute game.",b.jsx("br",{}),"Developed by ",b.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",b.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-emerald-500 underline hover:text-emerald-600",children:"GAMEHUB"})," ","for more games."]})]});if(i==="lobby"&&E){const W=E.hostId===s.uid,se=E.players.length;return b.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-6 relative pb-16",children:[b.jsx(Zd,{}),b.jsx(DI,{}),Ae&&b.jsx(Jd,{onClose:()=>Oe(!1)}),q&&b.jsx(Cv,{onCancel:()=>ee(!1),onConfirm:Us,isHost:W}),b.jsxs("div",{className:"z-10 w-full max-w-lg bg-gray-800/90 p-8 rounded-2xl border border-gray-700 shadow-2xl mb-4",children:[b.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-gray-700 pb-4",children:[b.jsxs("h2",{className:"text-2xl font-serif text-green-500",children:["Case File: ",E.roomId]}),b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[b.jsx(eT,{size:16})," ",se,"/10"]}),b.jsx("button",{onClick:()=>ee(!0),className:"p-2 bg-red-900/50 hover:bg-red-900 rounded text-red-300",title:"Leave Room",children:b.jsx(xv,{size:16})})]})]}),b.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-xl border border-gray-700 flex justify-between items-center mb-6",children:[b.jsxs("div",{className:"flex items-center gap-2 text-gray-300 font-bold",children:[b.jsx(yI,{size:18})," Settings"]}),b.jsxs("div",{className:"flex gap-4",children:[se>=6&&b.jsxs("label",{className:`flex items-center gap-2 cursor-pointer ${!W&&"opacity-50 pointer-events-none"}`,children:[b.jsx("input",{type:"checkbox",checked:E.settings?.useAccomplice||!1,onChange:()=>kn("useAccomplice"),className:"w-4 h-4 accent-green-500 rounded"}),b.jsx("span",{className:"text-sm",children:"Accomp."})]}),se>=5&&b.jsxs("label",{className:`flex items-center gap-2 cursor-pointer ${!W&&"opacity-50 pointer-events-none"}`,children:[b.jsx("input",{type:"checkbox",checked:E.settings?.useWitness||!1,onChange:()=>kn("useWitness"),className:"w-4 h-4 accent-green-500 rounded"}),b.jsx("span",{className:"text-sm",children:"Witness"})]}),se<5&&b.jsx("span",{className:"text-xs text-gray-500",children:"Need 5+ players for extra roles"})]})]}),b.jsxs("div",{className:"space-y-3 mb-8",children:[E.players.map(ce=>b.jsxs("div",{className:"flex items-center justify-between bg-gray-900 p-4 rounded border border-gray-700",children:[b.jsx("div",{className:"flex items-center gap-3",children:b.jsxs("span",{className:`font-bold ${ce.id===s.uid?"text-green-500":"text-gray-300"}`,children:[ce.name," ",ce.id===E.hostId&&""]})}),b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("span",{className:"text-green-600 flex items-center gap-1 text-sm",children:[b.jsx(iI,{size:14})," Ready"]}),W&&ce.id!==s.uid&&b.jsx("button",{onClick:()=>Zi(ce.id),className:"text-red-900 hover:text-red-500 transition-colors",children:b.jsx(bI,{size:16})})]})]},ce.id)),E.players.length<4&&b.jsx("div",{className:"text-center text-gray-500 animate-pulse italic",children:"Waiting for more investigators..."})]}),W?b.jsx("button",{onClick:es,disabled:E.players.length<4,className:`w-full py-4 rounded-xl font-bold text-lg shadow-lg transition-all ${E.players.length<4?"bg-gray-700 cursor-not-allowed text-gray-500":"bg-green-700 hover:bg-green-600 text-white shadow-green-900/30"}`,children:"Start Investigation"}):b.jsx("div",{className:"text-center text-green-500/80 font-serif mb-2",children:"Waiting for Host to start..."})]}),b.jsx("div",{className:"fixed bottom-0 left-0 w-full",children:b.jsx(Rv,{})})]})}if(i==="game"&&E){const W=E.players.find(oe=>oe.id===s.uid);if(!W)return b.jsx("div",{onClick:()=>window.location.reload(),className:"p-10 text-white cursor-pointer",children:"You were removed. Click to reload."});let se={};if(se[W.id]=W.role,W.role==="DETECTIVE"&&E.players.forEach(oe=>se[oe.id]=oe.role),W.role==="MURDERER"){const oe=E.players.find(Me=>Me.role==="ACCOMPLICE");oe&&(se[oe.id]="ACCOMPLICE")}if(W.role==="ACCOMPLICE"){const oe=E.players.find(Me=>Me.role==="MURDERER");oe&&(se[oe.id]="MURDERER")}W.role==="WITNESS"&&E.players.forEach(oe=>{oe.role==="MURDERER"&&(se[oe.id]="MURDERER")});const ce=W.role==="DETECTIVE",pe=W.role==="MURDERER",ke=W.role==="ACCOMPLICE",Ge=E.accusations?.find(oe=>oe.solverId===s.uid),xt=(oe,Me,re)=>{const mt=E.phase==="INVESTIGATION";ce||!W.badge||!mt||I(ht=>{if(ht?.targetId!==oe)return{targetId:oe,[Me]:re,[Me==="means"?"clue":"means"]:null};const gt={...ht};return gt[Me]===re?gt[Me]=null:gt[Me]=re,gt})};let Fe="INVESTIGATION",Ut=gh,Tt="text-green-500",An=null;if(E.phase==="PRE_GAME_MURDER"?(Fe="PRE-GAME",Ut=yg,Tt="text-blue-400"):E.phase==="MURDERER_SELECT"?pe||ke?(Fe="MURDER PHASE",Ut=yh,Tt="text-red-500"):ce?(Fe="DETECTIVE",Ut=ph,Tt="text-blue-500"):(Fe="NIGHT PHASE",Ut=wv,Tt="text-slate-500"):E.phase.includes("GAME_OVER")&&(Fe="CASE CLOSED",Ut=pr,Tt="text-yellow-500"),E.phase==="PRE_GAME_MURDER"){const oe=E.readyPlayers?.includes(s.uid);An=b.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden",children:[b.jsxs("div",{className:"bg-slate-800/50 p-2 flex justify-between items-center border-b border-slate-700",children:[b.jsx("span",{className:"text-xs text-slate-400 font-bold uppercase",children:"Review Roles & Cards"}),b.jsx("button",{onClick:wt,disabled:oe,className:`px-4 py-1.5 rounded-full font-bold text-sm transition-all ${oe?"bg-green-600 text-white cursor-default":"bg-blue-600 hover:bg-blue-500 text-white shadow-lg animate-pulse"}`,children:oe?"Waiting...":"Ready"})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 max-w-7xl mx-auto pb-20",children:E.players.map(Me=>{const re=Me.id===s.uid,mt=se[Me.id]||Me.role==="DETECTIVE";return b.jsxs("div",{className:`relative bg-slate-900 border rounded-xl overflow-hidden shadow-lg ${re?"border-blue-500/50":"border-slate-800"}`,children:[b.jsx("div",{className:"p-2 bg-slate-800/80 flex justify-between items-center border-b border-slate-700",children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:`font-bold text-sm ${re?"text-blue-400":"text-slate-200"}`,children:Me.name}),mt&&b.jsx(Iv,{role:Me.role})]})}),b.jsxs("div",{className:"p-2 grid grid-cols-2 gap-2",children:[b.jsxs("div",{className:"space-y-1",children:[b.jsx("div",{className:"text-[10px] uppercase font-bold text-red-900 mb-1",children:"Murder Weapon"}),Me.means.map(ht=>b.jsxs("div",{className:"p-1.5 rounded bg-slate-800 border border-red-900/30 flex flex-col items-center justify-center text-center gap-1 min-h-[50px] shadow-sm",children:[yn(ht),b.jsx("span",{className:"text-[9px] font-bold text-red-200 leading-tight line-clamp-2",children:ht})]},ht))]}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("div",{className:"text-[10px] uppercase font-bold text-blue-900 mb-1",children:"Evidence on Site"}),Me.clues.map(ht=>b.jsxs("div",{className:"p-1.5 rounded bg-slate-800 border border-blue-900/30 flex flex-col items-center justify-center text-center gap-1 min-h-[50px] shadow-sm",children:[yn(ht),b.jsx("span",{className:"text-[9px] font-bold text-blue-200 leading-tight line-clamp-2",children:ht})]},ht))]})]})]},Me.id)})})})]})}else if(E.phase==="MURDERER_SELECT")pe||ke?An=b.jsxs("div",{className:"flex-1 flex flex-col items-center pt-8 px-4 overflow-y-auto",children:[b.jsx("h1",{className:"text-3xl font-black text-red-500 mb-2",children:"COMMIT THE CRIME"}),b.jsx("p",{className:"text-red-200 mb-6 max-w-md text-center",children:pe?"Select 1 Murder Weapon and 1 Evidence.":"Helping Murderer select..."}),pe&&b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 w-full max-w-4xl pb-32",children:[b.jsxs("div",{className:"bg-red-900/30 p-4 rounded-xl border border-red-800",children:[b.jsxs("h3",{className:"text-red-400 font-bold mb-2 flex items-center gap-2 text-sm",children:[b.jsx(uI,{size:16})," WEAPON"]}),b.jsx("div",{className:"grid grid-cols-2 gap-2",children:W.means.map(oe=>b.jsxs("button",{onClick:()=>I({...fe,means:oe}),className:`p-2 rounded-lg border flex flex-col items-center justify-center gap-1 min-h-[80px] ${fe?.means===oe?"bg-red-600 border-white text-white":"bg-red-900/50 border-red-700 text-red-200"}`,children:[yn(oe),b.jsx("span",{className:"text-xs font-bold leading-tight",children:oe})]},oe))})]}),b.jsxs("div",{className:"bg-blue-900/30 p-4 rounded-xl border border-blue-800",children:[b.jsxs("h3",{className:"text-blue-400 font-bold mb-2 flex items-center gap-2 text-sm",children:[b.jsx(ph,{size:16})," EVIDENCE"]}),b.jsx("div",{className:"grid grid-cols-2 gap-2",children:W.clues.map(oe=>b.jsxs("button",{onClick:()=>I({...fe,clue:oe}),className:`p-2 rounded-lg border flex flex-col items-center justify-center gap-1 min-h-[80px] ${fe?.clue===oe?"bg-blue-600 border-white text-white":"bg-blue-900/50 border-blue-700 text-blue-200"}`,children:[yn(oe),b.jsx("span",{className:"text-xs font-bold leading-tight",children:oe})]},oe))})]})]}),pe&&b.jsx("div",{className:"fixed bottom-12 left-0 w-full p-4 flex justify-center z-40 pointer-events-none",children:b.jsx("button",{disabled:!fe?.means||!fe?.clue,onClick:()=>Dt(fe.means,fe.clue),className:"w-full max-w-md bg-white text-red-900 px-8 py-3 rounded-full font-black text-lg hover:scale-105 disabled:opacity-50 pointer-events-auto shadow-2xl",children:"CONFIRM KILL"})})]}):ce?An=b.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-8",children:[b.jsx("h2",{className:"text-3xl font-bold text-blue-400 mb-4",children:"Awaiting The Crime..."}),b.jsxs("div",{className:"animate-pulse bg-slate-800 p-6 rounded-xl max-w-lg",children:[b.jsx("p",{className:"text-slate-300",children:"The Murderer is choosing the Weapon and Evidence."}),b.jsx("p",{className:"text-slate-500 text-sm mt-4",children:"Study the cards while you wait."})]})]}):An=b.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-8",children:[b.jsx(wv,{size:64,className:"text-slate-700 mb-6 mx-auto"}),b.jsx("h2",{className:"text-4xl font-black text-slate-500 mb-4",children:"EYES CLOSED"}),b.jsx("p",{className:"text-slate-600",children:"The Murder is taking place..."})]});else{const oe=ce&&E.phase==="DETECTIVE_TURN",Me=E.players.filter(re=>re.role!=="DETECTIVE").every(re=>{const mt=E.nextRoundRequests?.includes(re.id),ht=E.accusations?.some(gt=>gt.solverId===re.id);return mt||ht});An=b.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden",children:[b.jsx("div",{className:"bg-slate-800/80 p-2 flex justify-center md:hidden border-b border-slate-700 shrink-0",children:b.jsxs("button",{onClick:()=>qe(!me),className:"text-xs font-bold text-slate-400 flex items-center gap-1",children:[me?"Hide Clues":"Show Clues"," ",me?b.jsx(Av,{size:12}):b.jsx(eI,{size:12})]})}),me&&b.jsx("div",{className:"bg-slate-900/50 p-2 overflow-x-auto border-b border-slate-800 shrink-0",children:b.jsx("div",{className:"flex gap-2 min-w-max mx-auto px-2",children:E.activeTiles.map((re,mt)=>b.jsxs("div",{onClick:()=>{Xe&&ce&&mt>=2&&rn(mt)},className:`w-40 bg-slate-800 rounded-lg border-2 flex flex-col relative shadow-lg transition-all ${Xe&&mt>=2&&ce?"border-red-500 cursor-pointer hover:bg-red-900/20 scale-105":ce&&oe&&"hover:border-blue-500/50"} ${re.selected===null?"border-slate-700":"border-slate-600"} ${Xe&&mt<2&&"opacity-50"}`,children:[Xe&&mt>=2&&ce&&b.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 z-10 text-red-500 font-bold",children:b.jsx(_g,{size:32})}),b.jsx("div",{className:`p-1.5 text-center font-bold text-[10px] uppercase tracking-wider text-white truncate ${re.type==="purple"?"bg-purple-900":re.type==="green"?"bg-emerald-900":"bg-slate-700"}`,children:b.jsx("div",{className:"marquee-text",children:re.title})}),b.jsx("div",{className:"p-1.5 space-y-0.5",children:re.options.map((ht,gt)=>{const ns=re.selected===gt;return b.jsxs("div",{onClick:Si=>{Si.stopPropagation(),ce&&oe&&bi(mt,gt)},className:`text-[10px] px-1.5 py-1 rounded cursor-pointer flex justify-between items-center transition-colors ${ns?"bg-red-600 text-white font-bold shadow-md ring-1 ring-red-400":ce&&oe?"hover:bg-slate-700 text-slate-300":"text-slate-500 opacity-50"}`,children:[b.jsx("span",{className:"truncate",children:ht}),ns&&b.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full ml-1 shrink-0"})]},gt)})})]},re.id))})}),b.jsxs("div",{className:"bg-slate-900 relative z-30 shadow-xl p-2 flex justify-between items-center border-b border-slate-800 shrink-0",children:[b.jsxs("div",{className:"text-center",children:[b.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold block",children:"Round"}),b.jsxs("span",{className:"text-sm font-bold text-white",children:[E.round,"/3"]})]}),b.jsxs("div",{className:"flex gap-2",children:[ce&&oe&&b.jsx("button",{onClick:Dl,className:"bg-green-600 hover:bg-green-500 text-white px-3 py-1.5 rounded text-xs font-bold shadow-lg animate-pulse",children:"Confirm"}),E.phase==="INVESTIGATION"&&ce&&E.round<3&&b.jsxs("button",{disabled:!Me,onClick:()=>bt(!Xe),className:`${Xe?"bg-red-500 animate-pulse":Me?"bg-blue-600":"bg-slate-700 opacity-50 cursor-not-allowed"} hover:brightness-110 text-white px-3 py-1.5 rounded text-xs font-bold shadow-lg transition-colors flex items-center gap-1`,children:[Xe?"Select Tile":"Next Rnd",!Me&&b.jsxs("span",{className:"text-[10px] bg-black/30 px-1 rounded",children:[E.nextRoundRequests?.length||0,"/",E.players.length-1]})]}),E.phase==="INVESTIGATION"&&!ce&&!Ge&&!E.nextRoundRequests?.includes(s.uid)&&E.round<3&&b.jsx("button",{onClick:_a,className:"bg-blue-600 hover:bg-blue-500 text-white px-3 py-1.5 rounded text-xs font-bold shadow-lg",children:"Request Clue Change"}),E.phase==="INVESTIGATION"&&!ce&&E.nextRoundRequests?.includes(s.uid)&&b.jsx("div",{className:"text-[10px] text-green-400 font-bold bg-green-900/30 px-2 py-1 rounded border border-green-800",children:"Ready"})]})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-transparent relative z-10",children:b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 max-w-7xl mx-auto pb-32",children:E.players.map(re=>{const mt=re.id===s.uid,ht=se[re.id]||re.role==="DETECTIVE"||E.phase.includes("GAME_OVER"),gt=fe?.targetId===re.id,ns=E.accompliceSuggestion===re.id,Si=Ge?.targetId===re.id,Ot=E.accusations?.find(nt=>nt.solverId===re.id),is=E.phase==="WITNESS_HUNT"&&!K&&(ke||pe)&&re.role!=="DETECTIVE"&&re.role!=="MURDERER"&&re.role!=="ACCOMPLICE";return b.jsxs("div",{onClick:()=>{E.phase==="INVESTIGATION"&&!ce&&W.badge&&I({targetId:re.id,means:null,clue:null})},className:`relative bg-slate-900 border rounded-xl overflow-hidden shadow-lg transition-all ${mt?"border-blue-500/30 ring-1 ring-blue-900/50":"border-slate-800"} ${E.phase==="WITNESS_HUNT"&&ns&&pe?"ring-4 ring-yellow-500 scale-105":""} ${Si?"border-yellow-500/50 ring-1 ring-yellow-500/30":""}`,children:[b.jsxs("div",{className:"p-2 bg-slate-800/80 flex justify-between items-center border-b border-slate-700",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:`font-bold text-sm ${mt?"text-blue-400":"text-slate-200"}`,children:re.name}),ht&&b.jsx(Iv,{role:re.role})]}),re.badge&&re.role!=="DETECTIVE"&&b.jsx(pr,{size:14,className:"text-yellow-500",fill:"currentColor"}),!re.badge&&re.role!=="DETECTIVE"&&b.jsx("div",{className:"text-[10px] text-slate-600 font-bold uppercase",children:"Submitted"})]}),b.jsxs("div",{className:"p-2 grid grid-cols-2 gap-2",children:[b.jsxs("div",{className:"space-y-1",children:[b.jsx("div",{className:"text-[10px] uppercase font-bold text-red-900 mb-1",children:"Weapon"}),re.means.map(nt=>{const ai=gt&&fe.means===nt,ss=Si&&Ge.means===nt,rs=(ce||ke||pe)&&E.solution?.means===nt&&E.solution?.murdererId===re.id;return b.jsxs("div",{onClick:li=>{li.stopPropagation(),re.id!==s.uid&&xt(re.id,"means",nt)},className:`p-1.5 rounded-md border flex flex-col items-center justify-center text-center cursor-pointer transition-all active:scale-95 touch-manipulation min-h-[60px] shadow-sm ${ai?"bg-red-600 text-white font-bold shadow-md scale-105 border border-white":ss?"bg-red-900/40 text-red-200 border border-yellow-500/50 shadow-inner":rs?"bg-purple-900/80 text-white border-2 border-purple-400 animate-pulse":"bg-slate-800 text-red-200 border border-red-900/30 hover:bg-red-900/20 hover:border-red-500"} ${re.id===s.uid&&"opacity-50 cursor-not-allowed"}`,children:[yn(nt),b.jsx("span",{className:"text-[10px] font-bold leading-tight line-clamp-2 w-full",children:nt})]},nt)})]}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("div",{className:"text-[10px] uppercase font-bold text-blue-900 mb-1",children:"Evidence"}),re.clues.map(nt=>{const ai=gt&&fe.clue===nt,ss=Si&&Ge.clue===nt,rs=(ce||ke||pe)&&E.solution?.clue===nt&&E.solution?.murdererId===re.id;return b.jsxs("div",{onClick:li=>{li.stopPropagation(),re.id!==s.uid&&xt(re.id,"clue",nt)},className:`p-1.5 rounded-md border flex flex-col items-center justify-center text-center cursor-pointer transition-all active:scale-95 touch-manipulation min-h-[60px] shadow-sm ${ai?"bg-blue-600 text-white font-bold shadow-md scale-105 border border-white":ss?"bg-blue-900/40 text-blue-200 border border-yellow-500/50 shadow-inner":rs?"bg-purple-900/80 text-white border-2 border-purple-400 animate-pulse":"bg-slate-800 text-blue-200 border border-blue-900/30 hover:bg-blue-900/20 hover:border-blue-500"} ${re.id===s.uid&&"opacity-50 cursor-not-allowed"}`,children:[yn(nt),b.jsx("span",{className:"text-[10px] font-bold leading-tight line-clamp-2 w-full",children:nt})]},nt)})]})]}),E.phase==="WITNESS_HUNT"&&ns&&(ke||pe)&&b.jsx("div",{className:"absolute inset-0 bg-yellow-500/30 pointer-events-none flex items-center justify-center z-20",children:b.jsx("div",{className:`bg-yellow-500 text-black px-3 py-1.5 rounded-lg font-black text-xs shadow-xl border-2 border-black transform -rotate-6 ${pe?"animate-pulse scale-110":""}`,children:ke?"YOU SUGGESTED":"ACCOMPLICE'S PICK"})}),Ot&&b.jsxs("div",{className:`mx-2 mb-2 border-2 rounded-lg p-2 text-center relative overflow-hidden ${(E.phase==="WITNESS_HUNT"||E.phase.includes("GAME_OVER_GOOD"))&&Ot.isCorrect?"border-green-500 bg-green-950/40":"border-red-500 bg-red-950/40"}`,children:[b.jsx("div",{className:`absolute top-0 left-0 w-full h-1 ${(E.phase==="WITNESS_HUNT"||E.phase.includes("GAME_OVER_GOOD"))&&Ot.isCorrect?"bg-green-500":"bg-red-500"}`}),b.jsx("div",{className:`text-[10px] font-black uppercase tracking-widest mb-1 ${(E.phase==="WITNESS_HUNT"||E.phase.includes("GAME_OVER_GOOD"))&&Ot.isCorrect?"text-green-400":"text-red-400"}`,children:(E.phase==="WITNESS_HUNT"||E.phase.includes("GAME_OVER_GOOD"))&&Ot.isCorrect?"SUCCESSFUL":"FAILED"}),b.jsxs("div",{className:"text-xs text-slate-200 mb-1",children:["Suspected:"," ",b.jsx("span",{className:"font-bold text-white text-sm",children:E.players.find(nt=>nt.id===Ot.targetId)?.name})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[b.jsxs("div",{className:"border rounded px-1 py-0.5 text-[10px] truncate flex items-center justify-center gap-1 bg-black/40 border-slate-600",children:[yn(Ot.means),Ot.means]}),b.jsxs("div",{className:"border rounded px-1 py-0.5 text-[10px] truncate flex items-center justify-center gap-1 bg-black/40 border-slate-600",children:[yn(Ot.clue),Ot.clue]})]})]}),is&&b.jsxs("div",{className:"p-2 pt-0 mt-auto sticky bottom-0 bg-slate-900/95 backdrop-blur-sm border-t border-slate-700 -mx-px -mb-px rounded-b-xl z-30",children:[ke&&b.jsxs("button",{onClick:nt=>{nt.stopPropagation(),Ur(re.id)},className:"w-full bg-yellow-500 hover:bg-yellow-400 text-black font-bold py-2 px-4 rounded-lg text-xs flex items-center justify-center gap-2 shadow-lg",children:[b.jsx(xm,{size:14})," Suggest"]}),pe&&b.jsxs("button",{onClick:nt=>{if(nt.stopPropagation(),E.settings?.useAccomplice&&!E.accompliceSuggestion){at("Wait!","Wait for Accomplice!");return}$i("Eliminate Witness?",`End game by guessing ${re.name}?`,()=>Ti(re.id))},className:"w-full bg-red-600 hover:bg-red-500 text-white font-bold py-2 px-4 rounded-lg text-xs flex items-center justify-center gap-2 shadow-lg animate-pulse",children:[b.jsx(rI,{size:14})," ELIMINATE"]})]}),gt&&(fe.means||fe.clue)&&E.phase==="INVESTIGATION"&&b.jsx("div",{className:"p-2 pt-0 mt-auto sticky bottom-0 bg-slate-900/95 backdrop-blur-sm border-t border-slate-700 -mx-px -mb-px rounded-b-xl z-10",children:b.jsxs("button",{onClick:nt=>{nt.stopPropagation(),R(!0)},className:"w-full bg-yellow-500 hover:bg-yellow-400 text-black font-bold py-2 px-4 rounded-lg text-xs flex items-center justify-center gap-2 shadow-lg animate-in slide-in-from-bottom-2 fade-in transition-transform active:scale-95",children:[b.jsx(pr,{size:14})," Review"]})})]},re.id)})})})]})}return b.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100 font-sans flex flex-col relative overflow-hidden pb-12",children:[b.jsx(Zd,{}),Ae&&b.jsx(Jd,{onClose:()=>Oe(!1)}),q&&b.jsx(Cv,{onConfirm:Us,onCancel:()=>ee(!1),isHost:E.hostId===s.uid,onReturnToLobby:()=>{Ji(),ee(!1)}}),j&&b.jsx(OI,{logs:E.logs,onClose:()=>x(!1)}),w&&fe&&b.jsx("div",{className:"fixed inset-0 top-14 bg-black/90 z-[150] flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl w-full max-w-lg p-6 shadow-2xl max-h-[90vh] overflow-y-auto",children:[b.jsxs("h3",{className:"text-2xl font-black text-yellow-500 mb-4 flex items-center gap-2",children:[b.jsx(pr,{})," SUBMIT CASE FILE"]}),b.jsxs("div",{className:"space-y-4 mb-8",children:[b.jsxs("div",{className:"bg-slate-800 p-4 rounded-lg",children:[b.jsx("div",{className:"text-xs text-slate-500 uppercase",children:"Suspect"}),b.jsx("div",{className:"text-xl font-bold text-white",children:E.players.find(oe=>oe.id===fe.targetId)?.name})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-slate-500 uppercase mb-1",children:"Murder Weapon"}),fe.means?b.jsxs("div",{className:"p-3 bg-red-900/50 border border-red-600 rounded text-red-100 font-bold text-center text-sm flex items-center justify-center gap-2",children:[yn(fe.means),fe.means]}):b.jsx("div",{className:"p-3 bg-slate-800 border border-slate-700 border-dashed rounded text-slate-500 text-center text-xs",children:"Select Weapon"})]}),b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-slate-500 uppercase mb-1",children:"Evidence"}),fe.clue?b.jsxs("div",{className:"p-3 bg-blue-900/50 border border-blue-600 rounded text-blue-100 font-bold text-center text-sm flex items-center justify-center gap-2",children:[yn(fe.clue),fe.clue]}):b.jsx("div",{className:"p-3 bg-slate-800 border border-slate-700 border-dashed rounded text-slate-500 text-center text-xs",children:"Select Evidence"})]})]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsx("button",{onClick:()=>R(!1),className:"py-3 rounded-lg font-bold text-slate-400 hover:bg-slate-800",children:"Cancel"}),b.jsx("button",{disabled:!fe.means||!fe.clue,onClick:ts,className:"bg-yellow-600 hover:bg-yellow-500 text-black py-3 rounded-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed",children:"CONFIRM"})]})]})}),Ve&&b.jsx("div",{className:"fixed inset-0 top-14 bg-black/90 z-[150] flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6 max-w-sm w-full text-center shadow-2xl",children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:Ve.title}),b.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:Ve.message}),b.jsxs("div",{className:`grid ${Ve.type==="confirm"?"grid-cols-2":"grid-cols-1"} gap-3`,children:[Ve.type==="confirm"&&b.jsx("button",{onClick:Wi,className:"bg-slate-700 hover:bg-slate-600 text-white py-3 rounded font-bold",children:"Cancel"}),b.jsx("button",{onClick:()=>{Ve.onConfirm&&Ve.onConfirm(),Wi()},className:"bg-blue-600 hover:bg-blue-500 text-white py-3 rounded font-bold",children:"OK"})]})]})}),E.activeAccusation&&b.jsx("div",{className:"fixed inset-0 top-14 bg-black/95 z-[150] flex items-center justify-center p-4",children:b.jsxs("div",{className:`max-w-lg w-full p-6 rounded-2xl border-4 shadow-2xl text-center ${E.activeAccusation.isCorrect?"bg-green-900/90 border-green-500":"bg-red-900/90 border-red-500"}`,children:[b.jsx("h2",{className:"text-3xl font-black text-white mb-2 uppercase tracking-widest",children:E.activeAccusation.isCorrect?"CASE SOLVED!":"WRONG ACCUSATION"}),b.jsxs("div",{className:"bg-black/30 p-4 rounded-xl mb-6 text-left",children:[b.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-2 items-center mb-1",children:[b.jsx("span",{className:"text-sm text-gray-400 font-bold",children:"Accuser:"}),b.jsx("span",{className:"text-white font-bold",children:E.activeAccusation.solverName})]}),b.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-2 items-center mb-4",children:[b.jsx("span",{className:"text-sm text-gray-400 font-bold",children:"Suspect:"}),b.jsx("span",{className:"text-xl text-white font-black",children:E.players.find(oe=>oe.id===E.activeAccusation.targetId)?.name})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{className:"bg-red-900/30 border border-red-500/30 p-2 rounded text-center",children:[b.jsx("div",{className:"text-[10px] text-red-300 uppercase font-bold mb-1",children:"Weapon"}),b.jsxs("div",{className:"text-white font-bold text-sm flex items-center justify-center gap-1",children:[yn(E.activeAccusation.means),E.activeAccusation.means]})]}),b.jsxs("div",{className:"bg-blue-900/30 border border-blue-500/30 p-2 rounded text-center",children:[b.jsx("div",{className:"text-[10px] text-blue-300 uppercase font-bold mb-1",children:"Evidence"}),b.jsxs("div",{className:"text-white font-bold text-sm flex items-center justify-center gap-1",children:[yn(E.activeAccusation.clue),E.activeAccusation.clue]})]})]})]}),b.jsxs("div",{className:"flex flex-col items-center gap-3",children:[b.jsxs("div",{className:"text-xs uppercase font-bold text-white/50",children:["Waiting for players:"," ",E.activeAccusation.continueVotes?.length||0,"/",E.players.length]}),b.jsxs("button",{onClick:jr,disabled:E.activeAccusation.continueVotes?.includes(s.uid),className:`px-8 py-3 rounded-full font-bold text-lg transition-all flex items-center gap-2 ${E.activeAccusation.continueVotes?.includes(s.uid)?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-white text-black hover:scale-105 shadow-xl"}`,children:[E.activeAccusation.continueVotes?.includes(s.uid)?"WAITING...":"CONTINUE"," ",b.jsx(Av,{className:"rotate-90"})]})]})]})}),E.phase==="WITNESS_HUNT"&&K&&b.jsx("div",{className:"fixed inset-0 top-14 z-[150] flex flex-col items-center justify-center p-4 bg-black/80",children:pe||ke?b.jsxs("div",{className:"bg-red-950 border-2 border-red-500 p-6 rounded-xl shadow-2xl text-center max-w-lg animate-in fade-in zoom-in duration-300",children:[b.jsx("h2",{className:"text-2xl md:text-3xl font-black text-red-500 mb-2",children:"YOU HAVE BEEN CAUGHT!"}),b.jsx("p",{className:"text-red-100 text-base md:text-lg mb-4",children:ke?"Help the Murderer find the Witness.":"Identify the Witness to steal the win."}),pe&&E.settings?.useAccomplice&&(E.accompliceSuggestion?b.jsxs("div",{className:"bg-green-900/40 p-3 rounded border border-green-500 mb-4 animate-bounce",children:[b.jsxs("div",{className:"font-bold text-green-400 text-sm mb-1 uppercase",children:[b.jsx(xm,{size:14,className:"inline mr-1"})," Target Confirmed"]}),"Accomplice suggests:"," ",b.jsx("span",{className:"text-white font-black text-lg block mt-1",children:E.players.find(oe=>oe.id===E.accompliceSuggestion)?.name})]}):b.jsxs("div",{className:"bg-black/40 p-3 rounded border border-red-500/50 mb-4 animate-pulse",children:[b.jsxs("div",{className:"font-bold text-yellow-400 text-sm mb-1 uppercase",children:[b.jsx(SI,{size:14,className:"inline mr-1"})," Hold Fire"]}),"Waiting for Accomplice suggestion..."]})),b.jsx("button",{onClick:()=>ie(!1),className:"mt-4 bg-white text-red-900 px-8 py-3 rounded-full font-black uppercase text-sm hover:scale-105 transition-transform shadow-xl",children:"Select Witness"})]}):b.jsxs("div",{className:"bg-slate-900/95 border-2 border-yellow-500 p-6 rounded-xl shadow-2xl text-center max-w-lg animate-in fade-in zoom-in duration-300",children:[b.jsx("h2",{className:"text-3xl font-black text-yellow-500 mb-2",children:"CRIME SOLVED!"}),b.jsx("p",{className:"text-slate-200 text-lg mb-4",children:"The Investigators found the solution. However..."}),b.jsx("div",{className:"text-xl font-bold text-red-400 mb-4 animate-pulse",children:"THE MURDERER IS HUNTING FOR THE WITNESS"}),b.jsx("p",{className:"text-slate-400 text-sm",children:"If the Murderer identifies the Witness correctly, the Bad Guys steal the win."})]})}),E.phase==="GAME_OVER_GOOD"&&b.jsxs("div",{className:"fixed inset-0 top-14 bg-blue-900/95 z-[150] flex flex-col items-center justify-center p-6 text-center overflow-y-auto",children:[b.jsx(pr,{size:96,className:"text-yellow-400 mb-6 shadow-xl shrink-0"}),b.jsx("h1",{className:"text-4xl md:text-6xl font-black text-white mb-4",children:"INVESTIGATORS WIN"}),b.jsxs("p",{className:"text-blue-200 text-lg md:text-xl max-w-lg mb-8",children:["Solved by:"," ",b.jsx("span",{className:"text-yellow-400 font-bold",children:(E.successfulSolvers||[]).map(oe=>E.players.find(Me=>Me.id===oe)?.name).join(", ")})]}),b.jsxs("div",{className:"bg-white/10 p-6 rounded-xl border border-white/20 mb-8 w-full max-w-md backdrop-blur-md",children:[b.jsx("div",{className:"text-sm uppercase tracking-widest text-blue-300 mb-6 font-bold",children:"The Solution"}),b.jsxs("div",{className:"flex justify-center gap-4 mb-6",children:[b.jsxs("div",{className:"bg-slate-900/80 border-2 border-red-500/50 p-4 rounded-xl flex flex-col items-center justify-center w-32 h-36 shadow-2xl",children:[b.jsx("div",{className:"scale-150 mb-2",children:yn(E.solution.means)}),b.jsx("div",{className:"text-sm font-bold text-white leading-tight",children:E.solution.means})]}),b.jsx("div",{className:"flex items-center text-white/50",children:b.jsx("span",{className:"text-2xl font-black",children:"+"})}),b.jsxs("div",{className:"bg-slate-900/80 border-2 border-blue-500/50 p-4 rounded-xl flex flex-col items-center justify-center w-32 h-36 shadow-2xl",children:[b.jsx("div",{className:"scale-150 mb-2",children:yn(E.solution.clue)}),b.jsx("div",{className:"text-sm font-bold text-white leading-tight",children:E.solution.clue})]})]}),b.jsxs("div",{className:"text-lg text-blue-200 bg-black/20 p-2 rounded-lg inline-block px-6",children:["Culprit:"," ",b.jsx("span",{className:"text-white font-black",children:E.players.find(oe=>oe.id===E.solution.murdererId)?.name})]})]}),E.hostId===s.uid&&b.jsxs("div",{className:"flex gap-4",children:[b.jsx("button",{onClick:es,className:"bg-green-600 hover:bg-green-500 text-white px-8 py-3 rounded-full font-bold shadow-lg",children:"New Game"}),b.jsx("button",{onClick:Ji,className:"bg-slate-700 hover:bg-slate-600 text-white px-8 py-3 rounded-full font-bold shadow-lg",children:"Lobby"})]})]}),E.phase==="GAME_OVER_BAD"&&b.jsxs("div",{className:"fixed inset-0 top-14 bg-red-950/95 z-[150] flex flex-col items-center justify-center p-6 text-center overflow-y-auto",children:[b.jsx(yh,{size:96,className:"text-red-500 mb-6 shadow-xl shrink-0"}),b.jsx("h1",{className:"text-4xl md:text-6xl font-black text-white mb-4",children:"MURDERER WINS"}),b.jsx("p",{className:"text-red-200 text-lg md:text-xl max-w-lg mb-8",children:"The investigation failed or the witness was silenced."}),b.jsxs("div",{className:"bg-white/10 p-6 rounded-xl border border-white/20 mb-8 w-full max-w-md backdrop-blur-md",children:[b.jsx("div",{className:"text-sm uppercase tracking-widest text-red-300 mb-6 font-bold",children:"The Solution"}),b.jsxs("div",{className:"flex justify-center gap-4 mb-6",children:[b.jsxs("div",{className:"bg-slate-900/80 border-2 border-red-500/50 p-4 rounded-xl flex flex-col items-center justify-center w-32 h-36 shadow-2xl",children:[b.jsx("div",{className:"scale-150 mb-2",children:yn(E.solution.means)}),b.jsx("div",{className:"text-sm font-bold text-white leading-tight",children:E.solution.means})]}),b.jsx("div",{className:"flex items-center text-white/50",children:b.jsx("span",{className:"text-2xl font-black",children:"+"})}),b.jsxs("div",{className:"bg-slate-900/80 border-2 border-blue-500/50 p-4 rounded-xl flex flex-col items-center justify-center w-32 h-36 shadow-2xl",children:[b.jsx("div",{className:"scale-150 mb-2",children:yn(E.solution.clue)}),b.jsx("div",{className:"text-sm font-bold text-white leading-tight",children:E.solution.clue})]})]}),b.jsxs("div",{className:"text-lg text-red-200 bg-black/20 p-2 rounded-lg inline-block px-6",children:["Culprit:"," ",b.jsx("span",{className:"text-white font-black",children:E.players.find(oe=>oe.id===E.solution.murdererId)?.name})]})]}),E.hostId===s.uid&&b.jsxs("div",{className:"flex gap-4",children:[b.jsx("button",{onClick:es,className:"bg-green-600 hover:bg-green-500 text-white px-8 py-3 rounded-full font-bold shadow-lg",children:"New Game"}),b.jsx("button",{onClick:Ji,className:"bg-slate-700 hover:bg-slate-600 text-white px-8 py-3 rounded-full font-bold shadow-lg",children:"Lobby"})]})]}),b.jsxs("div",{className:"h-14 bg-slate-900/90 border-b border-slate-800 flex items-center justify-between px-4 z-[160] sticky top-0 backdrop-blur-md shrink-0 shadow-md",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Ut,{size:20,className:Tt}),b.jsx("span",{className:`font-black uppercase tracking-tight text-lg hidden md:block ${Tt}`,children:Fe}),b.jsx("span",{className:`font-black uppercase tracking-tight text-sm md:hidden ${Tt}`,children:Fe==="INVESTIGATION"?"INV.":Fe})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:()=>x(!j),className:`p-2 rounded-full ${j?"bg-green-900 text-green-400":"text-gray-400 hover:bg-gray-800"}`,children:b.jsx(Jb,{size:18})}),b.jsx("button",{onClick:()=>Oe(!0),className:"p-2 text-slate-400 hover:bg-slate-800 rounded-full",children:b.jsx(Sv,{size:18})}),b.jsx("button",{onClick:()=>ee(!0),className:"p-2 text-red-400 hover:bg-red-900/20 rounded-full",children:b.jsx(xv,{size:18})})]})]}),An,b.jsx("div",{className:"fixed bottom-0 left-0 w-full z-50",children:b.jsx(Rv,{})})]})}return null}q1.createRoot(document.getElementById("root")).render(b.jsx(Ke.StrictMode,{children:b.jsx(MI,{})}));
