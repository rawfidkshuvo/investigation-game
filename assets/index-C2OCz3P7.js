(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function _1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Id={exports:{}},wo={};var N_;function v1(){if(N_)return wo;N_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return wo.Fragment=e,wo.jsx=i,wo.jsxs=i,wo}var D_;function E1(){return D_||(D_=1,Id.exports=v1()),Id.exports}var S=E1(),Nd={exports:{}},Ae={};var O_;function T1(){if(O_)return Ae;O_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.iterator;function F(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ie=Object.assign,J={};function _e(O,Y,re){this.props=O,this.context=Y,this.refs=J,this.updater=re||W}_e.prototype.isReactComponent={},_e.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},_e.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Re(){}Re.prototype=_e.prototype;function Ee(O,Y,re){this.props=O,this.context=Y,this.refs=J,this.updater=re||W}var ge=Ee.prototype=new Re;ge.constructor=Ee,ie(ge,_e.prototype),ge.isPureReactComponent=!0;var Ke=Array.isArray;function ze(){}var I={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function x(O,Y,re){var le=re.ref;return{$$typeof:r,type:O,key:Y,ref:le!==void 0?le:null,props:re}}function V(O,Y){return x(O.type,Y,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function k(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(re){return Y[re]})}var R=/\/+/g;function ot(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):Y.toString(36)}function mt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ze,ze):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,Y,re,le,Te){var Ce=typeof O;(Ce==="undefined"||Ce==="boolean")&&(O=null);var Ve=!1;if(O===null)Ve=!0;else switch(Ce){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(O.$$typeof){case r:case e:Ve=!0;break;case E:return Ve=O._init,H(Ve(O._payload),Y,re,le,Te)}}if(Ve)return Te=Te(O),Ve=le===""?"."+ot(O,0):le,Ke(Te)?(re="",Ve!=null&&(re=Ve.replace(R,"$&/")+"/"),H(Te,Y,re,"",function(Wi){return Wi})):Te!=null&&(N(Te)&&(Te=V(Te,re+(Te.key==null||O&&O.key===Te.key?"":(""+Te.key).replace(R,"$&/")+"/")+Ve)),Y.push(Te)),1;Ve=0;var Ct=le===""?".":le+":";if(Ke(O))for(var ht=0;ht<O.length;ht++)le=O[ht],Ce=Ct+ot(le,ht),Ve+=H(le,Y,re,Ce,Te);else if(ht=F(O),typeof ht=="function")for(O=ht.call(O),ht=0;!(le=O.next()).done;)le=le.value,Ce=Ct+ot(le,ht++),Ve+=H(le,Y,re,Ce,Te);else if(Ce==="object"){if(typeof O.then=="function")return H(mt(O),Y,re,le,Te);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function se(O,Y,re){if(O==null)return O;var le=[],Te=0;return H(O,le,"","",function(Ce){return Y.call(re,Ce,Te++)}),le}function de(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(re){(O._status===0||O._status===-1)&&(O._status=1,O._result=re)},function(re){(O._status===0||O._status===-1)&&(O._status=2,O._result=re)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Be=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Xe={map:se,forEach:function(O,Y,re){se(O,function(){Y.apply(this,arguments)},re)},count:function(O){var Y=0;return se(O,function(){Y++}),Y},toArray:function(O){return se(O,function(Y){return Y})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ae.Activity=A,Ae.Children=Xe,Ae.Component=_e,Ae.Fragment=i,Ae.Profiler=o,Ae.PureComponent=Ee,Ae.StrictMode=a,Ae.Suspense=y,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},Ae.cache=function(O){return function(){return O.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(O,Y,re){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var le=ie({},O.props),Te=O.key;if(Y!=null)for(Ce in Y.key!==void 0&&(Te=""+Y.key),Y)!w.call(Y,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&Y.ref===void 0||(le[Ce]=Y[Ce]);var Ce=arguments.length-2;if(Ce===1)le.children=re;else if(1<Ce){for(var Ve=Array(Ce),Ct=0;Ct<Ce;Ct++)Ve[Ct]=arguments[Ct+2];le.children=Ve}return x(O.type,Te,le)},Ae.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Ae.createElement=function(O,Y,re){var le,Te={},Ce=null;if(Y!=null)for(le in Y.key!==void 0&&(Ce=""+Y.key),Y)w.call(Y,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(Te[le]=Y[le]);var Ve=arguments.length-2;if(Ve===1)Te.children=re;else if(1<Ve){for(var Ct=Array(Ve),ht=0;ht<Ve;ht++)Ct[ht]=arguments[ht+2];Te.children=Ct}if(O&&O.defaultProps)for(le in Ve=O.defaultProps,Ve)Te[le]===void 0&&(Te[le]=Ve[le]);return x(O,Ce,Te)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(O){return{$$typeof:p,render:O}},Ae.isValidElement=N,Ae.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:de}},Ae.memo=function(O,Y){return{$$typeof:_,type:O,compare:Y===void 0?null:Y}},Ae.startTransition=function(O){var Y=I.T,re={};I.T=re;try{var le=O(),Te=I.S;Te!==null&&Te(re,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(ze,Be)}catch(Ce){Be(Ce)}finally{Y!==null&&re.types!==null&&(Y.types=re.types),I.T=Y}},Ae.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ae.use=function(O){return I.H.use(O)},Ae.useActionState=function(O,Y,re){return I.H.useActionState(O,Y,re)},Ae.useCallback=function(O,Y){return I.H.useCallback(O,Y)},Ae.useContext=function(O){return I.H.useContext(O)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(O,Y){return I.H.useDeferredValue(O,Y)},Ae.useEffect=function(O,Y){return I.H.useEffect(O,Y)},Ae.useEffectEvent=function(O){return I.H.useEffectEvent(O)},Ae.useId=function(){return I.H.useId()},Ae.useImperativeHandle=function(O,Y,re){return I.H.useImperativeHandle(O,Y,re)},Ae.useInsertionEffect=function(O,Y){return I.H.useInsertionEffect(O,Y)},Ae.useLayoutEffect=function(O,Y){return I.H.useLayoutEffect(O,Y)},Ae.useMemo=function(O,Y){return I.H.useMemo(O,Y)},Ae.useOptimistic=function(O,Y){return I.H.useOptimistic(O,Y)},Ae.useReducer=function(O,Y,re){return I.H.useReducer(O,Y,re)},Ae.useRef=function(O){return I.H.useRef(O)},Ae.useState=function(O){return I.H.useState(O)},Ae.useSyncExternalStore=function(O,Y,re){return I.H.useSyncExternalStore(O,Y,re)},Ae.useTransition=function(){return I.H.useTransition()},Ae.version="19.2.0",Ae}var M_;function bm(){return M_||(M_=1,Nd.exports=T1()),Nd.exports}var dt=bm();const b1=_1(dt);var Dd={exports:{}},Ro={},Od={exports:{}},Md={};var V_;function S1(){return V_||(V_=1,(function(r){function e(H,se){var de=H.length;H.push(se);e:for(;0<de;){var Be=de-1>>>1,Xe=H[Be];if(0<o(Xe,se))H[Be]=se,H[de]=Xe,de=Be;else break e}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var se=H[0],de=H.pop();if(de!==se){H[0]=de;e:for(var Be=0,Xe=H.length,O=Xe>>>1;Be<O;){var Y=2*(Be+1)-1,re=H[Y],le=Y+1,Te=H[le];if(0>o(re,de))le<Xe&&0>o(Te,re)?(H[Be]=Te,H[le]=de,Be=le):(H[Be]=re,H[Y]=de,Be=Y);else if(le<Xe&&0>o(Te,de))H[Be]=Te,H[le]=de,Be=le;else break e}}return se}function o(H,se){var de=H.sortIndex-se.sortIndex;return de!==0?de:H.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],_=[],E=1,A=null,M=3,F=!1,W=!1,ie=!1,J=!1,_e=typeof setTimeout=="function"?setTimeout:null,Re=typeof clearTimeout=="function"?clearTimeout:null,Ee=typeof setImmediate<"u"?setImmediate:null;function ge(H){for(var se=i(_);se!==null;){if(se.callback===null)a(_);else if(se.startTime<=H)a(_),se.sortIndex=se.expirationTime,e(y,se);else break;se=i(_)}}function Ke(H){if(ie=!1,ge(H),!W)if(i(y)!==null)W=!0,ze||(ze=!0,k());else{var se=i(_);se!==null&&mt(Ke,se.startTime-H)}}var ze=!1,I=-1,w=5,x=-1;function V(){return J?!0:!(r.unstable_now()-x<w)}function N(){if(J=!1,ze){var H=r.unstable_now();x=H;var se=!0;try{e:{W=!1,ie&&(ie=!1,Re(I),I=-1),F=!0;var de=M;try{t:{for(ge(H),A=i(y);A!==null&&!(A.expirationTime>H&&V());){var Be=A.callback;if(typeof Be=="function"){A.callback=null,M=A.priorityLevel;var Xe=Be(A.expirationTime<=H);if(H=r.unstable_now(),typeof Xe=="function"){A.callback=Xe,ge(H),se=!0;break t}A===i(y)&&a(y),ge(H)}else a(y);A=i(y)}if(A!==null)se=!0;else{var O=i(_);O!==null&&mt(Ke,O.startTime-H),se=!1}}break e}finally{A=null,M=de,F=!1}se=void 0}}finally{se?k():ze=!1}}}var k;if(typeof Ee=="function")k=function(){Ee(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ot=R.port2;R.port1.onmessage=N,k=function(){ot.postMessage(null)}}else k=function(){_e(N,0)};function mt(H,se){I=_e(function(){H(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(H){switch(M){case 1:case 2:case 3:var se=3;break;default:se=M}var de=M;M=se;try{return H()}finally{M=de}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(H,se){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var de=M;M=H;try{return se()}finally{M=de}},r.unstable_scheduleCallback=function(H,se,de){var Be=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Be+de:Be):de=Be,H){case 1:var Xe=-1;break;case 2:Xe=250;break;case 5:Xe=1073741823;break;case 4:Xe=1e4;break;default:Xe=5e3}return Xe=de+Xe,H={id:E++,callback:se,priorityLevel:H,startTime:de,expirationTime:Xe,sortIndex:-1},de>Be?(H.sortIndex=de,e(_,H),i(y)===null&&H===i(_)&&(ie?(Re(I),I=-1):ie=!0,mt(Ke,de-Be))):(H.sortIndex=Xe,e(y,H),W||F||(W=!0,ze||(ze=!0,k()))),H},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(H){var se=M;return function(){var de=M;M=se;try{return H.apply(this,arguments)}finally{M=de}}}})(Md)),Md}var k_;function A1(){return k_||(k_=1,Od.exports=S1()),Od.exports}var Vd={exports:{}},fn={};var U_;function w1(){if(U_)return fn;U_=1;var r=bm();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,_,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:y,containerInfo:_,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,fn.createPortal=function(y,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(y,_,null,E)},fn.flushSync=function(y){var _=d.T,E=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=E,a.d.f()}},fn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},fn.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},fn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var E=_.as,A=p(E,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,F=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:M,fetchPriority:F}):E==="script"&&a.d.X(y,{crossOrigin:A,integrity:M,fetchPriority:F,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},fn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},fn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,A=p(E,_.crossOrigin);a.d.L(y,E,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},fn.preloadModule=function(y,_){if(typeof y=="string")if(_){var E=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},fn.requestFormReset=function(y){a.d.r(y)},fn.unstable_batchedUpdates=function(y,_){return y(_)},fn.useFormState=function(y,_,E){return d.H.useFormState(y,_,E)},fn.useFormStatus=function(){return d.H.useHostTransitionStatus()},fn.version="19.2.0",fn}var L_;function R1(){if(L_)return Vd.exports;L_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Vd.exports=w1(),Vd.exports}var P_;function C1(){if(P_)return Ro;P_=1;var r=A1(),e=bm(),i=R1();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),t;if(f===l)return y(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var g=!1,T=h.child;T;){if(T===s){g=!0,s=h,l=f;break}if(T===l){g=!0,l=h,s=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===s){g=!0,s=f,l=h;break}if(T===l){g=!0,l=f,s=h;break}T=T.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,M=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),ie=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),_e=Symbol.for("react.profiler"),Re=Symbol.for("react.consumer"),Ee=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),Ke=Symbol.for("react.suspense"),ze=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function ot(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ie:return"Fragment";case _e:return"Profiler";case J:return"StrictMode";case Ke:return"Suspense";case ze:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case Ee:return t.displayName||"Context";case Re:return(t._context.displayName||"Context")+".Consumer";case ge:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:ot(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return ot(t(n))}catch{}}return null}var mt=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Be=[],Xe=-1;function O(t){return{current:t}}function Y(t){0>Xe||(t.current=Be[Xe],Be[Xe]=null,Xe--)}function re(t,n){Xe++,Be[Xe]=t.current,t.current=n}var le=O(null),Te=O(null),Ce=O(null),Ve=O(null);function Ct(t,n){switch(re(Ce,n),re(Te,t),re(le,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Jy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Jy(n),t=e_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(le),re(le,t)}function ht(){Y(le),Y(Te),Y(Ce)}function Wi(t){t.memoizedState!==null&&re(Ve,t);var n=le.current,s=e_(n,t.type);n!==s&&(re(Te,t),re(le,s))}function xs(t){Te.current===t&&(Y(le),Y(Te)),Ve.current===t&&(Y(Ve),To._currentValue=de)}var Is,Ns;function Fn(t){if(Is===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Is=n&&n[1]||"",Ns=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Is+t+Ns}var xr=!1;function ai(t,n){if(!t||xr)return"";xr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var z=q}Reflect.construct(t,[],K)}else{try{K.call()}catch(q){z=q}t.call(K.prototype)}}else{try{throw Error()}catch(q){z=q}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var C=g.split(`
`),j=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===j.length)for(l=C.length-1,h=j.length-1;1<=l&&0<=h&&C[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==j[h]){var G=`
`+C[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=h);break}}}finally{xr=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Fn(s):""}function ee(t,n){switch(t.tag){case 26:case 27:case 5:return Fn(t.type);case 16:return Fn("Lazy");case 13:return t.child!==n&&n!==null?Fn("Suspense Fallback"):Fn("Suspense");case 19:return Fn("SuspenseList");case 0:case 15:return ai(t.type,!1);case 11:return ai(t.type.render,!1);case 1:return ai(t.type,!0);case 31:return Fn("Activity");default:return""}}function ae(t){try{var n="",s=null;do n+=ee(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var te=Object.prototype.hasOwnProperty,ue=r.unstable_scheduleCallback,Ge=r.unstable_cancelCallback,$t=r.unstable_shouldYield,Mn=r.unstable_requestPaint,gt=r.unstable_now,xt=r.unstable_getCurrentPriorityLevel,ft=r.unstable_ImmediatePriority,yn=r.unstable_UserBlockingPriority,hn=r.unstable_NormalPriority,Vn=r.unstable_LowPriority,Ir=r.unstable_IdlePriority,Z=r.log,De=r.unstable_setDisableYieldValue,vt=null,Fe=null;function Je(t){if(typeof Z=="function"&&De(t),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(vt,t)}catch{}}var ut=Math.clz32?Math.clz32:Ei,_n=Math.log,it=Math.LN2;function Ei(t){return t>>>=0,t===0?32:31-(_n(t)/it|0)|0}var bn=256,li=262144,Et=4194304;function Ti(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function bi(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=Ti(l):(g&=T,g!==0?h=Ti(g):s||(s=T&~t,s!==0&&(h=Ti(s))))):(T=l&~f,T!==0?h=Ti(T):g!==0?h=Ti(g):s||(s=l&~t,s!==0&&(h=Ti(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function oi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Oh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ru(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function Si(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Nr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Mh(t,n,s,l,h,f){var g=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,j=t.hiddenUpdates;for(s=g&~s;0<s;){var G=31-ut(s),K=1<<G;T[G]=0,C[G]=-1;var z=j[G];if(z!==null)for(j[G]=null,G=0;G<z.length;G++){var q=z[G];q!==null&&(q.lane&=-536870913)}s&=~K}l!==0&&Dr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Dr(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ut(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function wl(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-ut(s),h=1<<l;h&n|t[l]&n&&(t[l]|=n),s&=~h}}function Rl(t,n){var s=n&-n;return s=(s&42)!==0?1:Or(s),(s&(t.suspendedLanes|n))!==0?0:s}function Or(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ji(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function au(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:S_(t.type))}function ui(t,n){var s=se.p;try{return se.p=t,n()}finally{se.p=s}}var ci=Math.random().toString(36).slice(2),Mt="__reactFiber$"+ci,Zt="__reactProps$"+ci,Ai="__reactContainer$"+ci,fa="__reactEvents$"+ci,Vh="__reactListeners$"+ci,lu="__reactHandles$"+ci,ou="__reactResources$"+ci,wi="__reactMarker$"+ci;function da(t){delete t[Mt],delete t[Zt],delete t[fa],delete t[Vh],delete t[lu]}function Ri(t){var n=t[Mt];if(n)return n;for(var s=t.parentNode;s;){if(n=s[Ai]||s[Mt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=l_(t);t!==null;){if(s=t[Mt])return s;t=l_(t)}return n}t=s,s=t.parentNode}return null}function Qn(t){if(t=t[Mt]||t[Ai]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function kn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ci(t){var n=t[ou];return n||(n=t[ou]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Vt(t){t[wi]=!0}var Cl=new Set,xl={};function xi(t,n){Ii(t,n),Ii(t+"Capture",n)}function Ii(t,n){for(xl[t]=n,t=0;t<n.length;t++)Cl.add(n[t])}var Il=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nl={},Dl={};function uu(t){return te.call(Dl,t)?!0:te.call(Nl,t)?!1:Il.test(t)?Dl[t]=!0:(Nl[t]=!0,!1)}function ma(t,n,s){if(uu(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Un(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function kt(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function Wt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ds(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ol(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function et(t){if(!t._valueTracker){var n=Ds(t)?"checked":"value";t._valueTracker=Ol(t,n,""+t[n])}}function Mr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=Ds(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function Ni(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Vr=/[\n"\\]/g;function Sn(t){return t.replace(Vr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ga(t,n,s,l,h,f,g,T){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Wt(n)):t.value!==""+Wt(n)&&(t.value=""+Wt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Ml(t,g,Wt(n)):s!=null?Ml(t,g,Wt(s)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Wt(T):t.removeAttribute("name")}function cu(t,n,s,l,h,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){et(t);return}s=s!=null?""+Wt(s):"",n=n!=null?""+Wt(n):s,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),et(t)}function Ml(t,n,s){n==="number"&&Ni(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Os(t,n,s,l){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Wt(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function hu(t,n,s){if(n!=null&&(n=""+Wt(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Wt(s):""}function Ms(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(mt(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Wt(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),et(t)}function An(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var fu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vl(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||fu.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function kl(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&Vl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Vl(t,f,n[f])}function pa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ya(t){return Vs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function hi(){}var Ul=null;function Yn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ks=null,Di=null;function kr(t){var n=Qn(t);if(n&&(t=n.stateNode)){var s=t[Zt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ga(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Sn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var h=l[Zt]||null;if(!h)throw Error(a(90));ga(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&Mr(l)}break e;case"textarea":hu(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&Os(t,!!s.multiple,n,!1)}}}var _a=!1;function Us(t,n,s){if(_a)return t(n,s);_a=!0;try{var l=t(n);return l}finally{if(_a=!1,(ks!==null||Di!==null)&&(ac(),ks&&(n=ks,t=Di,Di=ks=null,kr(n),t)))for(n=0;n<t.length;n++)kr(t[n])}}function fi(t,n){var s=t.stateNode;if(s===null)return null;var l=s[Zt]||null;if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ur=!1;if(Kn)try{var st={};Object.defineProperty(st,"passive",{get:function(){Ur=!0}}),window.addEventListener("test",st,st),window.removeEventListener("test",st,st)}catch{Ur=!1}var Oi=null,Ll=null,Lr=null;function Pl(){if(Lr)return Lr;var t,n=Ll,s=n.length,l,h="value"in Oi?Oi.value:Oi.textContent,f=h.length;for(t=0;t<s&&n[t]===h[t];t++);var g=s-t;for(l=1;l<=g&&n[s-l]===h[f-l];l++);return Lr=h.slice(t,1<l?1-l:void 0)}function Pr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function es(){return!0}function di(){return!1}function tn(t){function n(s,l,h,f,g){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?es:di,this.isPropagationStopped=di,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=es)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=es)},persist:function(){},isPersistent:es}),n}var ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mi=tn(ts),Ls=A({},ts,{view:0,detail:0}),jl=tn(Ls),Ps,va,Vi,Ea=A({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:js,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vi&&(Vi&&t.type==="mousemove"?(Ps=t.screenX-Vi.screenX,va=t.screenY-Vi.screenY):va=Ps=0,Vi=t),Ps)},movementY:function(t){return"movementY"in t?t.movementY:va}}),zl=tn(Ea),jr=A({},Ea,{dataTransfer:0}),mu=tn(jr),gu=A({},Ls,{relatedTarget:0}),zr=tn(gu),Bl=A({},ts,{animationName:0,elapsedTime:0,pseudoElement:0}),pu=tn(Bl),Ta=A({},ts,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yu=tn(Ta),_u=A({},ts,{data:0}),ki=tn(_u),vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Tu[t])?!!n[t]:!1}function js(){return bu}var vn=A({},Ls,{key:function(t){if(t.key){var n=vu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Pr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Eu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:js,charCode:function(t){return t.type==="keypress"?Pr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Su=tn(vn),Au=A({},Ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ns=tn(Au),u=A({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:js}),m=tn(u),v=A({},ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=tn(v),L=A({},Ea,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=tn(L),ne=A({},ts,{newState:0,oldState:0}),xe=tn(ne),It=[9,13,27,32],$e=Kn&&"CompositionEvent"in window,Tt=null;Kn&&"documentMode"in document&&(Tt=document.documentMode);var Xn=Kn&&"TextEvent"in window&&!Tt,Ui=Kn&&(!$e||Tt&&8<Tt&&11>=Tt),mi=" ",gi=!1;function Br(t,n){switch(t){case"keyup":return It.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ba(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sa=!1;function qT(t,n){switch(t){case"compositionend":return ba(n);case"keypress":return n.which!==32?null:(gi=!0,mi);case"textInput":return t=n.data,t===mi&&gi?null:t;default:return null}}function HT(t,n){if(Sa)return t==="compositionend"||!$e&&Br(t,n)?(t=Pl(),Lr=Ll=Oi=null,Sa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ui&&n.locale!=="ko"?null:n.data;default:return null}}var GT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!GT[t.type]:n==="textarea"}function hg(t,n,s,l){ks?Di?Di.push(l):Di=[l]:ks=l,n=dc(n,"onChange"),0<n.length&&(s=new Mi("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var ql=null,Hl=null;function FT(t){Yy(t,0)}function wu(t){var n=kn(t);if(Mr(n))return t}function fg(t,n){if(t==="change")return n}var dg=!1;if(Kn){var kh;if(Kn){var Uh="oninput"in document;if(!Uh){var mg=document.createElement("div");mg.setAttribute("oninput","return;"),Uh=typeof mg.oninput=="function"}kh=Uh}else kh=!1;dg=kh&&(!document.documentMode||9<document.documentMode)}function gg(){ql&&(ql.detachEvent("onpropertychange",pg),Hl=ql=null)}function pg(t){if(t.propertyName==="value"&&wu(Hl)){var n=[];hg(n,Hl,t,Yn(t)),Us(FT,n)}}function QT(t,n,s){t==="focusin"?(gg(),ql=n,Hl=s,ql.attachEvent("onpropertychange",pg)):t==="focusout"&&gg()}function YT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wu(Hl)}function KT(t,n){if(t==="click")return wu(n)}function XT(t,n){if(t==="input"||t==="change")return wu(n)}function $T(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Ln=typeof Object.is=="function"?Object.is:$T;function Gl(t,n){if(Ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!te.call(n,h)||!Ln(t[h],n[h]))return!1}return!0}function yg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _g(t,n){var s=yg(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=yg(s)}}function vg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?vg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Eg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ni(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=Ni(t.document)}return n}function Lh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var ZT=Kn&&"documentMode"in document&&11>=document.documentMode,Aa=null,Ph=null,Fl=null,jh=!1;function Tg(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;jh||Aa==null||Aa!==Ni(l)||(l=Aa,"selectionStart"in l&&Lh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Fl&&Gl(Fl,l)||(Fl=l,l=dc(Ph,"onSelect"),0<l.length&&(n=new Mi("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=Aa)))}function qr(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var wa={animationend:qr("Animation","AnimationEnd"),animationiteration:qr("Animation","AnimationIteration"),animationstart:qr("Animation","AnimationStart"),transitionrun:qr("Transition","TransitionRun"),transitionstart:qr("Transition","TransitionStart"),transitioncancel:qr("Transition","TransitionCancel"),transitionend:qr("Transition","TransitionEnd")},zh={},bg={};Kn&&(bg=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function Hr(t){if(zh[t])return zh[t];if(!wa[t])return t;var n=wa[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in bg)return zh[t]=n[s];return t}var Sg=Hr("animationend"),Ag=Hr("animationiteration"),wg=Hr("animationstart"),WT=Hr("transitionrun"),JT=Hr("transitionstart"),eb=Hr("transitioncancel"),Rg=Hr("transitionend"),Cg=new Map,Bh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bh.push("scrollEnd");function pi(t,n){Cg.set(t,n),xi(n,[t])}var Ru=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},$n=[],Ra=0,qh=0;function Cu(){for(var t=Ra,n=qh=Ra=0;n<t;){var s=$n[n];$n[n++]=null;var l=$n[n];$n[n++]=null;var h=$n[n];$n[n++]=null;var f=$n[n];if($n[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&xg(s,h,f)}}function xu(t,n,s,l){$n[Ra++]=t,$n[Ra++]=n,$n[Ra++]=s,$n[Ra++]=l,qh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Hh(t,n,s,l){return xu(t,n,s,l),Iu(t)}function Gr(t,n){return xu(t,null,null,n),Iu(t)}function xg(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-ut(s),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function Iu(t){if(50<mo)throw mo=0,Jf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ca={};function tb(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(t,n,s,l){return new tb(t,n,s,l)}function Gh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function is(t,n){var s=t.alternate;return s===null?(s=Pn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Ig(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Nu(t,n,s,l,h,f){var g=0;if(l=t,typeof t=="function")Gh(t)&&(g=1);else if(typeof t=="string")g=a1(t,s,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=Pn(31,s,n,h),t.elementType=x,t.lanes=f,t;case ie:return Fr(s.children,h,f,n);case J:g=8,h|=24;break;case _e:return t=Pn(12,s,n,h|2),t.elementType=_e,t.lanes=f,t;case Ke:return t=Pn(13,s,n,h),t.elementType=Ke,t.lanes=f,t;case ze:return t=Pn(19,s,n,h),t.elementType=ze,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ee:g=10;break e;case Re:g=9;break e;case ge:g=11;break e;case I:g=14;break e;case w:g=16,l=null;break e}g=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Pn(g,s,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Fr(t,n,s,l){return t=Pn(7,t,l,n),t.lanes=s,t}function Fh(t,n,s){return t=Pn(6,t,null,n),t.lanes=s,t}function Ng(t){var n=Pn(18,null,null,0);return n.stateNode=t,n}function Qh(t,n,s){return n=Pn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Dg=new WeakMap;function Zn(t,n){if(typeof t=="object"&&t!==null){var s=Dg.get(t);return s!==void 0?s:(n={value:t,source:n,stack:ae(n)},Dg.set(t,n),n)}return{value:t,source:n,stack:ae(n)}}var xa=[],Ia=0,Du=null,Ql=0,Wn=[],Jn=0,zs=null,Li=1,Pi="";function ss(t,n){xa[Ia++]=Ql,xa[Ia++]=Du,Du=t,Ql=n}function Og(t,n,s){Wn[Jn++]=Li,Wn[Jn++]=Pi,Wn[Jn++]=zs,zs=t;var l=Li;t=Pi;var h=32-ut(l)-1;l&=~(1<<h),s+=1;var f=32-ut(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,Li=1<<32-ut(n)+h|s<<h|l,Pi=f+t}else Li=1<<f|s<<h|l,Pi=t}function Yh(t){t.return!==null&&(ss(t,1),Og(t,1,0))}function Kh(t){for(;t===Du;)Du=xa[--Ia],xa[Ia]=null,Ql=xa[--Ia],xa[Ia]=null;for(;t===zs;)zs=Wn[--Jn],Wn[Jn]=null,Pi=Wn[--Jn],Wn[Jn]=null,Li=Wn[--Jn],Wn[Jn]=null}function Mg(t,n){Wn[Jn++]=Li,Wn[Jn++]=Pi,Wn[Jn++]=zs,Li=n.id,Pi=n.overflow,zs=t}var nn=null,pt=null,qe=!1,Bs=null,ei=!1,Xh=Error(a(519));function qs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yl(Zn(n,t)),Xh}function Vg(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[Mt]=t,n[Zt]=l,s){case"dialog":Me("cancel",n),Me("close",n);break;case"iframe":case"object":case"embed":Me("load",n);break;case"video":case"audio":for(s=0;s<po.length;s++)Me(po[s],n);break;case"source":Me("error",n);break;case"img":case"image":case"link":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"input":Me("invalid",n),cu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Me("invalid",n);break;case"textarea":Me("invalid",n),Ms(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||Zy(n.textContent,s)?(l.popover!=null&&(Me("beforetoggle",n),Me("toggle",n)),l.onScroll!=null&&Me("scroll",n),l.onScrollEnd!=null&&Me("scrollend",n),l.onClick!=null&&(n.onclick=hi),n=!0):n=!1,n||qs(t,!0)}function kg(t){for(nn=t.return;nn;)switch(nn.tag){case 5:case 31:case 13:ei=!1;return;case 27:case 3:ei=!0;return;default:nn=nn.return}}function Na(t){if(t!==nn)return!1;if(!qe)return kg(t),qe=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||md(t.type,t.memoizedProps)),s=!s),s&&pt&&qs(t),kg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));pt=a_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));pt=a_(t)}else n===27?(n=pt,nr(t.type)?(t=vd,vd=null,pt=t):pt=n):pt=nn?ni(t.stateNode.nextSibling):null;return!0}function Qr(){pt=nn=null,qe=!1}function $h(){var t=Bs;return t!==null&&(xn===null?xn=t:xn.push.apply(xn,t),Bs=null),t}function Yl(t){Bs===null?Bs=[t]:Bs.push(t)}var Zh=O(null),Yr=null,rs=null;function Hs(t,n,s){re(Zh,n._currentValue),n._currentValue=s}function as(t){t._currentValue=Zh.current,Y(Zh)}function Wh(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function Jh(t,n,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var C=0;C<n.length;C++)if(T.context===n[C]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),Wh(f.return,s,t),l||(g=null);break e}f=T.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Wh(g,s,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Da(t,n,s,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var T=h.type;Ln(h.pendingProps.value,g.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ve.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(To):t=[To])}h=h.return}t!==null&&Jh(n,t,s,l),n.flags|=262144}function Ou(t){for(t=t.firstContext;t!==null;){if(!Ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Kr(t){Yr=t,rs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function sn(t){return Ug(Yr,t)}function Mu(t,n){return Yr===null&&Kr(t),Ug(t,n)}function Ug(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},rs===null){if(t===null)throw Error(a(308));rs=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else rs=rs.next=n;return s}var nb=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},ib=r.unstable_scheduleCallback,sb=r.unstable_NormalPriority,Ut={$$typeof:Ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ef(){return{controller:new nb,data:new Map,refCount:0}}function Kl(t){t.refCount--,t.refCount===0&&ib(sb,function(){t.controller.abort()})}var Xl=null,tf=0,Oa=0,Ma=null;function rb(t,n){if(Xl===null){var s=Xl=[];tf=0,Oa=rd(),Ma={status:"pending",value:void 0,then:function(l){s.push(l)}}}return tf++,n.then(Lg,Lg),n}function Lg(){if(--tf===0&&Xl!==null){Ma!==null&&(Ma.status="fulfilled");var t=Xl;Xl=null,Oa=0,Ma=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function ab(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Pg=H.S;H.S=function(t,n){Ty=gt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&rb(t,n),Pg!==null&&Pg(t,n)};var Xr=O(null);function nf(){var t=Xr.current;return t!==null?t:ct.pooledCache}function Vu(t,n){n===null?re(Xr,Xr.current):re(Xr,n.pool)}function jg(){var t=nf();return t===null?null:{parent:Ut._currentValue,pool:t}}var Va=Error(a(460)),sf=Error(a(474)),ku=Error(a(542)),Uu={then:function(){}};function zg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Bg(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(hi,hi),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Hg(t),t;default:if(typeof n.status=="string")n.then(hi,hi);else{if(t=ct,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Hg(t),t}throw Zr=n,Va}}function $r(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Zr=s,Va):s}}var Zr=null;function qg(){if(Zr===null)throw Error(a(459));var t=Zr;return Zr=null,t}function Hg(t){if(t===Va||t===ku)throw Error(a(483))}var ka=null,$l=0;function Lu(t){var n=$l;return $l+=1,ka===null&&(ka=[]),Bg(ka,t,n)}function Zl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Pu(t,n){throw n.$$typeof===M?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Gg(t){function n(U,D){if(t){var P=U.deletions;P===null?(U.deletions=[D],U.flags|=16):P.push(D)}}function s(U,D){if(!t)return null;for(;D!==null;)n(U,D),D=D.sibling;return null}function l(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function h(U,D){return U=is(U,D),U.index=0,U.sibling=null,U}function f(U,D,P){return U.index=P,t?(P=U.alternate,P!==null?(P=P.index,P<D?(U.flags|=67108866,D):P):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function g(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,D,P,Q){return D===null||D.tag!==6?(D=Fh(P,U.mode,Q),D.return=U,D):(D=h(D,P),D.return=U,D)}function C(U,D,P,Q){var me=P.type;return me===ie?G(U,D,P.props.children,Q,P.key):D!==null&&(D.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===w&&$r(me)===D.type)?(D=h(D,P.props),Zl(D,P),D.return=U,D):(D=Nu(P.type,P.key,P.props,null,U.mode,Q),Zl(D,P),D.return=U,D)}function j(U,D,P,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Qh(P,U.mode,Q),D.return=U,D):(D=h(D,P.children||[]),D.return=U,D)}function G(U,D,P,Q,me){return D===null||D.tag!==7?(D=Fr(P,U.mode,Q,me),D.return=U,D):(D=h(D,P),D.return=U,D)}function K(U,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Fh(""+D,U.mode,P),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case F:return P=Nu(D.type,D.key,D.props,null,U.mode,P),Zl(P,D),P.return=U,P;case W:return D=Qh(D,U.mode,P),D.return=U,D;case w:return D=$r(D),K(U,D,P)}if(mt(D)||k(D))return D=Fr(D,U.mode,P,null),D.return=U,D;if(typeof D.then=="function")return K(U,Lu(D),P);if(D.$$typeof===Ee)return K(U,Mu(U,D),P);Pu(U,D)}return null}function z(U,D,P,Q){var me=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return me!==null?null:T(U,D,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case F:return P.key===me?C(U,D,P,Q):null;case W:return P.key===me?j(U,D,P,Q):null;case w:return P=$r(P),z(U,D,P,Q)}if(mt(P)||k(P))return me!==null?null:G(U,D,P,Q,null);if(typeof P.then=="function")return z(U,D,Lu(P),Q);if(P.$$typeof===Ee)return z(U,D,Mu(U,P),Q);Pu(U,P)}return null}function q(U,D,P,Q,me){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(P)||null,T(D,U,""+Q,me);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:return U=U.get(Q.key===null?P:Q.key)||null,C(D,U,Q,me);case W:return U=U.get(Q.key===null?P:Q.key)||null,j(D,U,Q,me);case w:return Q=$r(Q),q(U,D,P,Q,me)}if(mt(Q)||k(Q))return U=U.get(P)||null,G(D,U,Q,me,null);if(typeof Q.then=="function")return q(U,D,P,Lu(Q),me);if(Q.$$typeof===Ee)return q(U,D,P,Mu(D,Q),me);Pu(D,Q)}return null}function ce(U,D,P,Q){for(var me=null,Qe=null,he=D,Ne=D=0,Ue=null;he!==null&&Ne<P.length;Ne++){he.index>Ne?(Ue=he,he=null):Ue=he.sibling;var Ye=z(U,he,P[Ne],Q);if(Ye===null){he===null&&(he=Ue);break}t&&he&&Ye.alternate===null&&n(U,he),D=f(Ye,D,Ne),Qe===null?me=Ye:Qe.sibling=Ye,Qe=Ye,he=Ue}if(Ne===P.length)return s(U,he),qe&&ss(U,Ne),me;if(he===null){for(;Ne<P.length;Ne++)he=K(U,P[Ne],Q),he!==null&&(D=f(he,D,Ne),Qe===null?me=he:Qe.sibling=he,Qe=he);return qe&&ss(U,Ne),me}for(he=l(he);Ne<P.length;Ne++)Ue=q(he,U,Ne,P[Ne],Q),Ue!==null&&(t&&Ue.alternate!==null&&he.delete(Ue.key===null?Ne:Ue.key),D=f(Ue,D,Ne),Qe===null?me=Ue:Qe.sibling=Ue,Qe=Ue);return t&&he.forEach(function(lr){return n(U,lr)}),qe&&ss(U,Ne),me}function ye(U,D,P,Q){if(P==null)throw Error(a(151));for(var me=null,Qe=null,he=D,Ne=D=0,Ue=null,Ye=P.next();he!==null&&!Ye.done;Ne++,Ye=P.next()){he.index>Ne?(Ue=he,he=null):Ue=he.sibling;var lr=z(U,he,Ye.value,Q);if(lr===null){he===null&&(he=Ue);break}t&&he&&lr.alternate===null&&n(U,he),D=f(lr,D,Ne),Qe===null?me=lr:Qe.sibling=lr,Qe=lr,he=Ue}if(Ye.done)return s(U,he),qe&&ss(U,Ne),me;if(he===null){for(;!Ye.done;Ne++,Ye=P.next())Ye=K(U,Ye.value,Q),Ye!==null&&(D=f(Ye,D,Ne),Qe===null?me=Ye:Qe.sibling=Ye,Qe=Ye);return qe&&ss(U,Ne),me}for(he=l(he);!Ye.done;Ne++,Ye=P.next())Ye=q(he,U,Ne,Ye.value,Q),Ye!==null&&(t&&Ye.alternate!==null&&he.delete(Ye.key===null?Ne:Ye.key),D=f(Ye,D,Ne),Qe===null?me=Ye:Qe.sibling=Ye,Qe=Ye);return t&&he.forEach(function(y1){return n(U,y1)}),qe&&ss(U,Ne),me}function lt(U,D,P,Q){if(typeof P=="object"&&P!==null&&P.type===ie&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case F:e:{for(var me=P.key;D!==null;){if(D.key===me){if(me=P.type,me===ie){if(D.tag===7){s(U,D.sibling),Q=h(D,P.props.children),Q.return=U,U=Q;break e}}else if(D.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===w&&$r(me)===D.type){s(U,D.sibling),Q=h(D,P.props),Zl(Q,P),Q.return=U,U=Q;break e}s(U,D);break}else n(U,D);D=D.sibling}P.type===ie?(Q=Fr(P.props.children,U.mode,Q,P.key),Q.return=U,U=Q):(Q=Nu(P.type,P.key,P.props,null,U.mode,Q),Zl(Q,P),Q.return=U,U=Q)}return g(U);case W:e:{for(me=P.key;D!==null;){if(D.key===me)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){s(U,D.sibling),Q=h(D,P.children||[]),Q.return=U,U=Q;break e}else{s(U,D);break}else n(U,D);D=D.sibling}Q=Qh(P,U.mode,Q),Q.return=U,U=Q}return g(U);case w:return P=$r(P),lt(U,D,P,Q)}if(mt(P))return ce(U,D,P,Q);if(k(P)){if(me=k(P),typeof me!="function")throw Error(a(150));return P=me.call(P),ye(U,D,P,Q)}if(typeof P.then=="function")return lt(U,D,Lu(P),Q);if(P.$$typeof===Ee)return lt(U,D,Mu(U,P),Q);Pu(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(s(U,D.sibling),Q=h(D,P),Q.return=U,U=Q):(s(U,D),Q=Fh(P,U.mode,Q),Q.return=U,U=Q),g(U)):s(U,D)}return function(U,D,P,Q){try{$l=0;var me=lt(U,D,P,Q);return ka=null,me}catch(he){if(he===Va||he===ku)throw he;var Qe=Pn(29,he,null,U.mode);return Qe.lanes=Q,Qe.return=U,Qe}finally{}}}var Wr=Gg(!0),Fg=Gg(!1),Gs=!1;function rf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function af(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Fs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Qs(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ze&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Iu(t),xg(t,null,s),n}return xu(t,l,n,s),Iu(t)}function Wl(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,wl(t,s)}}function lf(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var of=!1;function Jl(){if(of){var t=Ma;if(t!==null)throw t}}function eo(t,n,s,l){of=!1;var h=t.updateQueue;Gs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,j=C.next;C.next=null,g===null?f=j:g.next=j,g=C;var G=t.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==g&&(T===null?G.firstBaseUpdate=j:T.next=j,G.lastBaseUpdate=C))}if(f!==null){var K=h.baseState;g=0,G=j=C=null,T=f;do{var z=T.lane&-536870913,q=z!==T.lane;if(q?(ke&z)===z:(l&z)===z){z!==0&&z===Oa&&(of=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ce=t,ye=T;z=n;var lt=s;switch(ye.tag){case 1:if(ce=ye.payload,typeof ce=="function"){K=ce.call(lt,K,z);break e}K=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=ye.payload,z=typeof ce=="function"?ce.call(lt,K,z):ce,z==null)break e;K=A({},K,z);break e;case 2:Gs=!0}}z=T.callback,z!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(j=G=q,C=K):G=G.next=q,g|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(C=K),h.baseState=C,h.firstBaseUpdate=j,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Zs|=g,t.lanes=g,t.memoizedState=K}}function Qg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Yg(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Qg(s[t],n)}var Ua=O(null),ju=O(0);function Kg(t,n){t=gs,re(ju,t),re(Ua,n),gs=t|n.baseLanes}function uf(){re(ju,gs),re(Ua,Ua.current)}function cf(){gs=ju.current,Y(Ua),Y(ju)}var jn=O(null),ti=null;function Ys(t){var n=t.alternate;re(Nt,Nt.current&1),re(jn,t),ti===null&&(n===null||Ua.current!==null||n.memoizedState!==null)&&(ti=t)}function hf(t){re(Nt,Nt.current),re(jn,t),ti===null&&(ti=t)}function Xg(t){t.tag===22?(re(Nt,Nt.current),re(jn,t),ti===null&&(ti=t)):Ks()}function Ks(){re(Nt,Nt.current),re(jn,jn.current)}function zn(t){Y(jn),ti===t&&(ti=null),Y(Nt)}var Nt=O(0);function zu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||yd(s)||_d(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ls=0,Ie=null,rt=null,Lt=null,Bu=!1,La=!1,Jr=!1,qu=0,to=0,Pa=null,lb=0;function wt(){throw Error(a(321))}function ff(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!Ln(t[s],n[s]))return!1;return!0}function df(t,n,s,l,h,f){return ls=f,Ie=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?Op:xf,Jr=!1,f=s(l,h),Jr=!1,La&&(f=Zg(n,s,l,h)),$g(t),f}function $g(t){H.H=so;var n=rt!==null&&rt.next!==null;if(ls=0,Lt=rt=Ie=null,Bu=!1,to=0,Pa=null,n)throw Error(a(300));t===null||Pt||(t=t.dependencies,t!==null&&Ou(t)&&(Pt=!0))}function Zg(t,n,s,l){Ie=t;var h=0;do{if(La&&(Pa=null),to=0,La=!1,25<=h)throw Error(a(301));if(h+=1,Lt=rt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Mp,f=n(s,l)}while(La);return f}function ob(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?no(n):n,t=t.useState()[0],(rt!==null?rt.memoizedState:null)!==t&&(Ie.flags|=1024),n}function mf(){var t=qu!==0;return qu=0,t}function gf(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function pf(t){if(Bu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Bu=!1}ls=0,Lt=rt=Ie=null,La=!1,to=qu=0,Pa=null}function En(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?Ie.memoizedState=Lt=t:Lt=Lt.next=t,Lt}function Dt(){if(rt===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=rt.next;var n=Lt===null?Ie.memoizedState:Lt.next;if(n!==null)Lt=n,rt=t;else{if(t===null)throw Ie.alternate===null?Error(a(467)):Error(a(310));rt=t,t={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},Lt===null?Ie.memoizedState=Lt=t:Lt=Lt.next=t}return Lt}function Hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function no(t){var n=to;return to+=1,Pa===null&&(Pa=[]),t=Bg(Pa,t,n),n=Ie,(Lt===null?n.memoizedState:Lt.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Op:xf),t}function Gu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return no(t);if(t.$$typeof===Ee)return sn(t)}throw Error(a(438,String(t)))}function yf(t){var n=null,s=Ie.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Hu(),Ie.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=V;return n.index++,s}function os(t,n){return typeof n=="function"?n(t):n}function Fu(t){var n=Dt();return _f(n,rt,t)}function _f(t,n,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=g=null,C=null,j=n,G=!1;do{var K=j.lane&-536870913;if(K!==j.lane?(ke&K)===K:(ls&K)===K){var z=j.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),K===Oa&&(G=!0);else if((ls&z)===z){j=j.next,z===Oa&&(G=!0);continue}else K={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(T=C=K,g=f):C=C.next=K,Ie.lanes|=z,Zs|=z;K=j.action,Jr&&s(f,K),f=j.hasEagerState?j.eagerState:s(f,K)}else z={lane:K,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(T=C=z,g=f):C=C.next=z,Ie.lanes|=K,Zs|=K;j=j.next}while(j!==null&&j!==n);if(C===null?g=f:C.next=T,!Ln(f,t.memoizedState)&&(Pt=!0,G&&(s=Ma,s!==null)))throw s;t.memoizedState=f,t.baseState=g,t.baseQueue=C,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function vf(t){var n=Dt(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);Ln(f,n.memoizedState)||(Pt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Wg(t,n,s){var l=Ie,h=Dt(),f=qe;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!Ln((rt||h).memoizedState,s);if(g&&(h.memoizedState=s,Pt=!0),h=h.queue,bf(tp.bind(null,l,h,t),[t]),h.getSnapshot!==n||g||Lt!==null&&Lt.memoizedState.tag&1){if(l.flags|=2048,ja(9,{destroy:void 0},ep.bind(null,l,h,s,n),null),ct===null)throw Error(a(349));f||(ls&127)!==0||Jg(l,n,s)}return s}function Jg(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Ie.updateQueue,n===null?(n=Hu(),Ie.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function ep(t,n,s,l){n.value=s,n.getSnapshot=l,np(n)&&ip(t)}function tp(t,n,s){return s(function(){np(n)&&ip(t)})}function np(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!Ln(t,s)}catch{return!0}}function ip(t){var n=Gr(t,2);n!==null&&In(n,t,2)}function Ef(t){var n=En();if(typeof t=="function"){var s=t;if(t=s(),Jr){Je(!0);try{s()}finally{Je(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:t},n}function sp(t,n,s,l){return t.baseState=s,_f(t,rt,typeof l=="function"?l:os)}function ub(t,n,s,l,h){if(Ku(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,rp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function rp(t,n){var s=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var T=s(h,l),C=H.S;C!==null&&C(g,T),ap(t,n,T)}catch(j){Tf(t,n,j)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=s(h,l),ap(t,n,f)}catch(j){Tf(t,n,j)}}function ap(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){lp(t,n,l)},function(l){return Tf(t,n,l)}):lp(t,n,s)}function lp(t,n,s){n.status="fulfilled",n.value=s,op(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,rp(t,s)))}function Tf(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,op(n),n=n.next;while(n!==l)}t.action=null}function op(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function up(t,n){return n}function cp(t,n){if(qe){var s=ct.formState;if(s!==null){e:{var l=Ie;if(qe){if(pt){t:{for(var h=pt,f=ei;h.nodeType!==8;){if(!f){h=null;break t}if(h=ni(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){pt=ni(h.nextSibling),l=h.data==="F!";break e}}qs(l)}l=!1}l&&(n=s[0])}}return s=En(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:up,lastRenderedState:n},s.queue=l,s=Ip.bind(null,Ie,l),l.dispatch=s,l=Ef(!1),f=Cf.bind(null,Ie,!1,l.queue),l=En(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,s=ub.bind(null,Ie,h,f,s),h.dispatch=s,l.memoizedState=t,[n,s,!1]}function hp(t){var n=Dt();return fp(n,rt,t)}function fp(t,n,s){if(n=_f(t,n,up)[0],t=Fu(os)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=no(n)}catch(g){throw g===Va?ku:g}else l=n;n=Dt();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Ie.flags|=2048,ja(9,{destroy:void 0},cb.bind(null,h,s),null)),[l,f,t]}function cb(t,n){t.action=n}function dp(t){var n=Dt(),s=rt;if(s!==null)return fp(n,s,t);Dt(),n=n.memoizedState,s=Dt();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function ja(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=Ie.updateQueue,n===null&&(n=Hu(),Ie.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function mp(){return Dt().memoizedState}function Qu(t,n,s,l){var h=En();Ie.flags|=t,h.memoizedState=ja(1|n,{destroy:void 0},s,l===void 0?null:l)}function Yu(t,n,s,l){var h=Dt();l=l===void 0?null:l;var f=h.memoizedState.inst;rt!==null&&l!==null&&ff(l,rt.memoizedState.deps)?h.memoizedState=ja(n,f,s,l):(Ie.flags|=t,h.memoizedState=ja(1|n,f,s,l))}function gp(t,n){Qu(8390656,8,t,n)}function bf(t,n){Yu(2048,8,t,n)}function hb(t){Ie.flags|=4;var n=Ie.updateQueue;if(n===null)n=Hu(),Ie.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function pp(t){var n=Dt().memoizedState;return hb({ref:n,nextImpl:t}),function(){if((Ze&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function yp(t,n){return Yu(4,2,t,n)}function _p(t,n){return Yu(4,4,t,n)}function vp(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Ep(t,n,s){s=s!=null?s.concat([t]):null,Yu(4,4,vp.bind(null,n,t),s)}function Sf(){}function Tp(t,n){var s=Dt();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&ff(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function bp(t,n){var s=Dt();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&ff(n,l[1]))return l[0];if(l=t(),Jr){Je(!0);try{t()}finally{Je(!1)}}return s.memoizedState=[l,n],l}function Af(t,n,s){return s===void 0||(ls&1073741824)!==0&&(ke&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Sy(),Ie.lanes|=t,Zs|=t,s)}function Sp(t,n,s,l){return Ln(s,n)?s:Ua.current!==null?(t=Af(t,s,l),Ln(t,n)||(Pt=!0),t):(ls&42)===0||(ls&1073741824)!==0&&(ke&261930)===0?(Pt=!0,t.memoizedState=s):(t=Sy(),Ie.lanes|=t,Zs|=t,n)}function Ap(t,n,s,l,h){var f=se.p;se.p=f!==0&&8>f?f:8;var g=H.T,T={};H.T=T,Cf(t,!1,n,s);try{var C=h(),j=H.S;if(j!==null&&j(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=ab(C,l);io(t,n,G,Hn(t))}else io(t,n,l,Hn(t))}catch(K){io(t,n,{then:function(){},status:"rejected",reason:K},Hn())}finally{se.p=f,g!==null&&T.types!==null&&(g.types=T.types),H.T=g}}function fb(){}function wf(t,n,s,l){if(t.tag!==5)throw Error(a(476));var h=wp(t).queue;Ap(t,h,n,de,s===null?fb:function(){return Rp(t),s(l)})}function wp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:de},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Rp(t){var n=wp(t);n.next===null&&(n=t.alternate.memoizedState),io(t,n.next.queue,{},Hn())}function Rf(){return sn(To)}function Cp(){return Dt().memoizedState}function xp(){return Dt().memoizedState}function db(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=Hn();t=Fs(s);var l=Qs(n,t,s);l!==null&&(In(l,n,s),Wl(l,n,s)),n={cache:ef()},t.payload=n;return}n=n.return}}function mb(t,n,s){var l=Hn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ku(t)?Np(n,s):(s=Hh(t,n,s,l),s!==null&&(In(s,t,l),Dp(s,n,l)))}function Ip(t,n,s){var l=Hn();io(t,n,s,l)}function io(t,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ku(t))Np(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,s);if(h.hasEagerState=!0,h.eagerState=T,Ln(T,g))return xu(t,n,h,0),ct===null&&Cu(),!1}catch{}finally{}if(s=Hh(t,n,h,l),s!==null)return In(s,t,l),Dp(s,n,l),!0}return!1}function Cf(t,n,s,l){if(l={lane:2,revertLane:rd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ku(t)){if(n)throw Error(a(479))}else n=Hh(t,s,l,2),n!==null&&In(n,t,2)}function Ku(t){var n=t.alternate;return t===Ie||n!==null&&n===Ie}function Np(t,n){La=Bu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Dp(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,wl(t,s)}}var so={readContext:sn,use:Gu,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt};so.useEffectEvent=wt;var Op={readContext:sn,use:Gu,useCallback:function(t,n){return En().memoizedState=[t,n===void 0?null:n],t},useContext:sn,useEffect:gp,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Qu(4194308,4,vp.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Qu(4194308,4,t,n)},useInsertionEffect:function(t,n){Qu(4,2,t,n)},useMemo:function(t,n){var s=En();n=n===void 0?null:n;var l=t();if(Jr){Je(!0);try{t()}finally{Je(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=En();if(s!==void 0){var h=s(n);if(Jr){Je(!0);try{s(n)}finally{Je(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=mb.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var n=En();return t={current:t},n.memoizedState=t},useState:function(t){t=Ef(t);var n=t.queue,s=Ip.bind(null,Ie,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Sf,useDeferredValue:function(t,n){var s=En();return Af(s,t,n)},useTransition:function(){var t=Ef(!1);return t=Ap.bind(null,Ie,t.queue,!0,!1),En().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=Ie,h=En();if(qe){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ct===null)throw Error(a(349));(ke&127)!==0||Jg(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,gp(tp.bind(null,l,f,t),[t]),l.flags|=2048,ja(9,{destroy:void 0},ep.bind(null,l,f,s,n),null),s},useId:function(){var t=En(),n=ct.identifierPrefix;if(qe){var s=Pi,l=Li;s=(l&~(1<<32-ut(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=qu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=lb++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Rf,useFormState:cp,useActionState:cp,useOptimistic:function(t){var n=En();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Cf.bind(null,Ie,!0,s),s.dispatch=n,[t,n]},useMemoCache:yf,useCacheRefresh:function(){return En().memoizedState=db.bind(null,Ie)},useEffectEvent:function(t){var n=En(),s={impl:t};return n.memoizedState=s,function(){if((Ze&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},xf={readContext:sn,use:Gu,useCallback:Tp,useContext:sn,useEffect:bf,useImperativeHandle:Ep,useInsertionEffect:yp,useLayoutEffect:_p,useMemo:bp,useReducer:Fu,useRef:mp,useState:function(){return Fu(os)},useDebugValue:Sf,useDeferredValue:function(t,n){var s=Dt();return Sp(s,rt.memoizedState,t,n)},useTransition:function(){var t=Fu(os)[0],n=Dt().memoizedState;return[typeof t=="boolean"?t:no(t),n]},useSyncExternalStore:Wg,useId:Cp,useHostTransitionStatus:Rf,useFormState:hp,useActionState:hp,useOptimistic:function(t,n){var s=Dt();return sp(s,rt,t,n)},useMemoCache:yf,useCacheRefresh:xp};xf.useEffectEvent=pp;var Mp={readContext:sn,use:Gu,useCallback:Tp,useContext:sn,useEffect:bf,useImperativeHandle:Ep,useInsertionEffect:yp,useLayoutEffect:_p,useMemo:bp,useReducer:vf,useRef:mp,useState:function(){return vf(os)},useDebugValue:Sf,useDeferredValue:function(t,n){var s=Dt();return rt===null?Af(s,t,n):Sp(s,rt.memoizedState,t,n)},useTransition:function(){var t=vf(os)[0],n=Dt().memoizedState;return[typeof t=="boolean"?t:no(t),n]},useSyncExternalStore:Wg,useId:Cp,useHostTransitionStatus:Rf,useFormState:dp,useActionState:dp,useOptimistic:function(t,n){var s=Dt();return rt!==null?sp(s,rt,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:yf,useCacheRefresh:xp};Mp.useEffectEvent=pp;function If(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:A({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Nf={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=Hn(),h=Fs(l);h.payload=n,s!=null&&(h.callback=s),n=Qs(t,h,l),n!==null&&(In(n,t,l),Wl(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=Hn(),h=Fs(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Qs(t,h,l),n!==null&&(In(n,t,l),Wl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Hn(),l=Fs(s);l.tag=2,n!=null&&(l.callback=n),n=Qs(t,l,s),n!==null&&(In(n,t,s),Wl(n,t,s))}};function Vp(t,n,s,l,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Gl(s,l)||!Gl(h,f):!0}function kp(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Nf.enqueueReplaceState(n,n.state,null)}function ea(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=A({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function Up(t){Ru(t)}function Lp(t){console.error(t)}function Pp(t){Ru(t)}function Xu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function jp(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Df(t,n,s){return s=Fs(s),s.tag=3,s.payload={element:null},s.callback=function(){Xu(t,n)},s}function zp(t){return t=Fs(t),t.tag=3,t}function Bp(t,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){jp(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){jp(n,s,l),typeof h!="function"&&(Ws===null?Ws=new Set([this]):Ws.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function gb(t,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&Da(n,s,h,!0),s=jn.current,s!==null){switch(s.tag){case 31:case 13:return ti===null?lc():s.alternate===null&&Rt===0&&(Rt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Uu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),nd(t,l,h)),!1;case 22:return s.flags|=65536,l===Uu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),nd(t,l,h)),!1}throw Error(a(435,s.tag))}return nd(t,l,h),lc(),!1}if(qe)return n=jn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Xh&&(t=Error(a(422),{cause:l}),Yl(Zn(t,s)))):(l!==Xh&&(n=Error(a(423),{cause:l}),Yl(Zn(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Zn(l,s),h=Df(t.stateNode,l,h),lf(t,h),Rt!==4&&(Rt=2)),!1;var f=Error(a(520),{cause:l});if(f=Zn(f,s),fo===null?fo=[f]:fo.push(f),Rt!==4&&(Rt=2),n===null)return!0;l=Zn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Df(s.stateNode,l,t),lf(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ws===null||!Ws.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=zp(h),Bp(h,t,s,l),lf(s,h),!1}s=s.return}while(s!==null);return!1}var Of=Error(a(461)),Pt=!1;function rn(t,n,s,l){n.child=t===null?Fg(n,null,s,l):Wr(n,t.child,s,l)}function qp(t,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var T in l)T!=="ref"&&(g[T]=l[T])}else g=l;return Kr(n),l=df(t,n,s,g,f,h),T=mf(),t!==null&&!Pt?(gf(t,n,h),us(t,n,h)):(qe&&T&&Yh(n),n.flags|=1,rn(t,n,l,h),n.child)}function Hp(t,n,s,l,h){if(t===null){var f=s.type;return typeof f=="function"&&!Gh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Gp(t,n,f,l,h)):(t=Nu(s.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!zf(t,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Gl,s(g,l)&&t.ref===n.ref)return us(t,n,h)}return n.flags|=1,t=is(f,l),t.ref=n.ref,t.return=n,n.child=t}function Gp(t,n,s,l,h){if(t!==null){var f=t.memoizedProps;if(Gl(f,l)&&t.ref===n.ref)if(Pt=!1,n.pendingProps=l=f,zf(t,h))(t.flags&131072)!==0&&(Pt=!0);else return n.lanes=t.lanes,us(t,n,h)}return Mf(t,n,s,l,h)}function Fp(t,n,s,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Qp(t,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Vu(n,f!==null?f.cachePool:null),f!==null?Kg(n,f):uf(),Xg(n);else return l=n.lanes=536870912,Qp(t,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Vu(n,f.cachePool),Kg(n,f),Ks(),n.memoizedState=null):(t!==null&&Vu(n,null),uf(),Ks());return rn(t,n,h,s),n.child}function ro(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Qp(t,n,s,l,h){var f=nf();return f=f===null?null:{parent:Ut._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&Vu(n,null),uf(),Xg(n),t!==null&&Da(t,n,l,!0),n.childLanes=h,null}function $u(t,n){return n=Wu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Yp(t,n,s){return Wr(n,t.child,null,s),t=$u(n,n.pendingProps),t.flags|=2,zn(n),n.memoizedState=null,t}function pb(t,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(qe){if(l.mode==="hidden")return t=$u(n,l),n.lanes=536870912,ro(null,t);if(hf(n),(t=pt)?(t=r_(t,ei),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:zs!==null?{id:Li,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},s=Ng(t),s.return=n,n.child=s,nn=n,pt=null)):t=null,t===null)throw qs(n);return n.lanes=536870912,null}return $u(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(hf(n),h)if(n.flags&256)n.flags&=-257,n=Yp(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Pt||Da(t,n,s,!1),h=(s&t.childLanes)!==0,Pt||h){if(l=ct,l!==null&&(g=Rl(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Gr(t,g),In(l,t,g),Of;lc(),n=Yp(t,n,s)}else t=f.treeContext,pt=ni(g.nextSibling),nn=n,qe=!0,Bs=null,ei=!1,t!==null&&Mg(n,t),n=$u(n,l),n.flags|=4096;return n}return t=is(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Zu(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Mf(t,n,s,l,h){return Kr(n),s=df(t,n,s,l,void 0,h),l=mf(),t!==null&&!Pt?(gf(t,n,h),us(t,n,h)):(qe&&l&&Yh(n),n.flags|=1,rn(t,n,s,h),n.child)}function Kp(t,n,s,l,h,f){return Kr(n),n.updateQueue=null,s=Zg(n,l,s,h),$g(t),l=mf(),t!==null&&!Pt?(gf(t,n,f),us(t,n,f)):(qe&&l&&Yh(n),n.flags|=1,rn(t,n,s,f),n.child)}function Xp(t,n,s,l,h){if(Kr(n),n.stateNode===null){var f=Ca,g=s.contextType;typeof g=="object"&&g!==null&&(f=sn(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Nf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},rf(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?sn(g):Ca,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(If(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Nf.enqueueReplaceState(f,f.state,null),eo(n,l,f,h),Jl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,C=ea(s,T);f.props=C;var j=f.context,G=s.contextType;g=Ca,typeof G=="object"&&G!==null&&(g=sn(G));var K=s.getDerivedStateFromProps;G=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||j!==g)&&kp(n,f,l,g),Gs=!1;var z=n.memoizedState;f.state=z,eo(n,l,f,h),Jl(),j=n.memoizedState,T||z!==j||Gs?(typeof K=="function"&&(If(n,s,K,l),j=n.memoizedState),(C=Gs||Vp(n,s,C,l,z,j,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=j),f.props=l,f.state=j,f.context=g,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,af(t,n),g=n.memoizedProps,G=ea(s,g),f.props=G,K=n.pendingProps,z=f.context,j=s.contextType,C=Ca,typeof j=="object"&&j!==null&&(C=sn(j)),T=s.getDerivedStateFromProps,(j=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==K||z!==C)&&kp(n,f,l,C),Gs=!1,z=n.memoizedState,f.state=z,eo(n,l,f,h),Jl();var q=n.memoizedState;g!==K||z!==q||Gs||t!==null&&t.dependencies!==null&&Ou(t.dependencies)?(typeof T=="function"&&(If(n,s,T,l),q=n.memoizedState),(G=Gs||Vp(n,s,G,l,z,q,C)||t!==null&&t.dependencies!==null&&Ou(t.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=C,l=G):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Zu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Wr(n,t.child,null,h),n.child=Wr(n,null,s,h)):rn(t,n,s,h),n.memoizedState=f.state,t=n.child):t=us(t,n,h),t}function $p(t,n,s,l){return Qr(),n.flags|=256,rn(t,n,s,l),n.child}var Vf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kf(t){return{baseLanes:t,cachePool:jg()}}function Uf(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=qn),t}function Zp(t,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Nt.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(qe){if(h?Ys(n):Ks(),(t=pt)?(t=r_(t,ei),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:zs!==null?{id:Li,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},s=Ng(t),s.return=n,n.child=s,nn=n,pt=null)):t=null,t===null)throw qs(n);return _d(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Ks(),h=n.mode,T=Wu({mode:"hidden",children:T},h),l=Fr(l,h,s,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=kf(s),l.childLanes=Uf(t,g,s),n.memoizedState=Vf,ro(null,l)):(Ys(n),Lf(n,T))}var C=t.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(f)n.flags&256?(Ys(n),n.flags&=-257,n=Pf(t,n,s)):n.memoizedState!==null?(Ks(),n.child=t.child,n.flags|=128,n=null):(Ks(),T=l.fallback,h=n.mode,l=Wu({mode:"visible",children:l.children},h),T=Fr(T,h,s,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,Wr(n,t.child,null,s),l=n.child,l.memoizedState=kf(s),l.childLanes=Uf(t,g,s),n.memoizedState=Vf,n=ro(null,l));else if(Ys(n),_d(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var j=g.dgst;g=j,l=Error(a(419)),l.stack="",l.digest=g,Yl({value:l,source:null,stack:null}),n=Pf(t,n,s)}else if(Pt||Da(t,n,s,!1),g=(s&t.childLanes)!==0,Pt||g){if(g=ct,g!==null&&(l=Rl(g,s),l!==0&&l!==C.retryLane))throw C.retryLane=l,Gr(t,l),In(g,t,l),Of;yd(T)||lc(),n=Pf(t,n,s)}else yd(T)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,pt=ni(T.nextSibling),nn=n,qe=!0,Bs=null,ei=!1,t!==null&&Mg(n,t),n=Lf(n,l.children),n.flags|=4096);return n}return h?(Ks(),T=l.fallback,h=n.mode,C=t.child,j=C.sibling,l=is(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,j!==null?T=is(j,T):(T=Fr(T,h,s,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,ro(null,l),l=n.child,T=t.child.memoizedState,T===null?T=kf(s):(h=T.cachePool,h!==null?(C=Ut._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=jg(),T={baseLanes:T.baseLanes|s,cachePool:h}),l.memoizedState=T,l.childLanes=Uf(t,g,s),n.memoizedState=Vf,ro(t.child,l)):(Ys(n),s=t.child,t=s.sibling,s=is(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=s,n.memoizedState=null,s)}function Lf(t,n){return n=Wu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Wu(t,n){return t=Pn(22,t,null,n),t.lanes=0,t}function Pf(t,n,s){return Wr(n,t.child,null,s),t=Lf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Wp(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Wh(t.return,n,s)}function jf(t,n,s,l,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function Jp(t,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=Nt.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,re(Nt,g),rn(t,n,l,s),l=qe?Ql:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wp(t,s,n);else if(t.tag===19)Wp(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&zu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),jf(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&zu(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}jf(n,!0,s,null,f,l);break;case"together":jf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function us(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Zs|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(Da(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=is(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=is(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function zf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ou(t)))}function yb(t,n,s){switch(n.tag){case 3:Ct(n,n.stateNode.containerInfo),Hs(n,Ut,t.memoizedState.cache),Qr();break;case 27:case 5:Wi(n);break;case 4:Ct(n,n.stateNode.containerInfo);break;case 10:Hs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,hf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ys(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Zp(t,n,s):(Ys(n),t=us(t,n,s),t!==null?t.sibling:null);Ys(n);break;case 19:var h=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(Da(t,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return Jp(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(Nt,Nt.current),l)break;return null;case 22:return n.lanes=0,Fp(t,n,s,n.pendingProps);case 24:Hs(n,Ut,t.memoizedState.cache)}return us(t,n,s)}function ey(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Pt=!0;else{if(!zf(t,s)&&(n.flags&128)===0)return Pt=!1,yb(t,n,s);Pt=(t.flags&131072)!==0}else Pt=!1,qe&&(n.flags&1048576)!==0&&Og(n,Ql,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=$r(n.elementType),n.type=t,typeof t=="function")Gh(t)?(l=ea(t,l),n.tag=1,n=Xp(null,n,t,l,s)):(n.tag=0,n=Mf(null,n,t,l,s));else{if(t!=null){var h=t.$$typeof;if(h===ge){n.tag=11,n=qp(null,n,t,l,s);break e}else if(h===I){n.tag=14,n=Hp(null,n,t,l,s);break e}}throw n=ot(t)||t,Error(a(306,n,""))}}return n;case 0:return Mf(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=ea(l,n.pendingProps),Xp(t,n,l,h,s);case 3:e:{if(Ct(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,af(t,n),eo(n,l,null,s);var g=n.memoizedState;if(l=g.cache,Hs(n,Ut,l),l!==f.cache&&Jh(n,[Ut],s,!0),Jl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=$p(t,n,l,s);break e}else if(l!==h){h=Zn(Error(a(424)),n),Yl(h),n=$p(t,n,l,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(pt=ni(t.firstChild),nn=n,qe=!0,Bs=null,ei=!0,s=Fg(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Qr(),l===h){n=us(t,n,s);break e}rn(t,n,l,s)}n=n.child}return n;case 26:return Zu(t,n),t===null?(s=h_(n.type,null,n.pendingProps,null))?n.memoizedState=s:qe||(s=n.type,t=n.pendingProps,l=mc(Ce.current).createElement(s),l[Mt]=n,l[Zt]=t,an(l,s,t),Vt(l),n.stateNode=l):n.memoizedState=h_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Wi(n),t===null&&qe&&(l=n.stateNode=o_(n.type,n.pendingProps,Ce.current),nn=n,ei=!0,h=pt,nr(n.type)?(vd=h,pt=ni(l.firstChild)):pt=h),rn(t,n,n.pendingProps.children,s),Zu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&qe&&((h=l=pt)&&(l=Yb(l,n.type,n.pendingProps,ei),l!==null?(n.stateNode=l,nn=n,pt=ni(l.firstChild),ei=!1,h=!0):h=!1),h||qs(n)),Wi(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,md(h,f)?l=null:g!==null&&md(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=df(t,n,ob,null,null,s),To._currentValue=h),Zu(t,n),rn(t,n,l,s),n.child;case 6:return t===null&&qe&&((t=s=pt)&&(s=Kb(s,n.pendingProps,ei),s!==null?(n.stateNode=s,nn=n,pt=null,t=!0):t=!1),t||qs(n)),null;case 13:return Zp(t,n,s);case 4:return Ct(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Wr(n,null,l,s):rn(t,n,l,s),n.child;case 11:return qp(t,n,n.type,n.pendingProps,s);case 7:return rn(t,n,n.pendingProps,s),n.child;case 8:return rn(t,n,n.pendingProps.children,s),n.child;case 12:return rn(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Hs(n,n.type,l.value),rn(t,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Kr(n),h=sn(h),l=l(h),n.flags|=1,rn(t,n,l,s),n.child;case 14:return Hp(t,n,n.type,n.pendingProps,s);case 15:return Gp(t,n,n.type,n.pendingProps,s);case 19:return Jp(t,n,s);case 31:return pb(t,n,s);case 22:return Fp(t,n,s,n.pendingProps);case 24:return Kr(n),l=sn(Ut),t===null?(h=nf(),h===null&&(h=ct,f=ef(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},rf(n),Hs(n,Ut,h)):((t.lanes&s)!==0&&(af(t,n),eo(n,null,null,s),Jl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Hs(n,Ut,l)):(l=f.cache,Hs(n,Ut,l),l!==h.cache&&Jh(n,[Ut],s,!0))),rn(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function cs(t){t.flags|=4}function Bf(t,n,s,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Cy())t.flags|=8192;else throw Zr=Uu,sf}else t.flags&=-16777217}function ty(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!p_(n))if(Cy())t.flags|=8192;else throw Zr=Uu,sf}function Ju(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ru():536870912,t.lanes|=n,Ha|=n)}function ao(t,n){if(!qe)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function yt(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function _b(t,n,s){var l=n.pendingProps;switch(Kh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(n),null;case 1:return yt(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),as(Ut),ht(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Na(n)?cs(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,$h())),yt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(cs(n),f!==null?(yt(n),ty(n,f)):(yt(n),Bf(n,h,null,l,s))):f?f!==t.memoizedState?(cs(n),yt(n),ty(n,f)):(yt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&cs(n),yt(n),Bf(n,h,t,l,s)),null;case 27:if(xs(n),s=Ce.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&cs(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return yt(n),null}t=le.current,Na(n)?Vg(n):(t=o_(h,l,s),n.stateNode=t,cs(n))}return yt(n),null;case 5:if(xs(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&cs(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return yt(n),null}if(f=le.current,Na(n))Vg(n);else{var g=mc(Ce.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[Mt]=n,f[Zt]=l;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(an(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&cs(n)}}return yt(n),Bf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&cs(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Ce.current,Na(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,h=nn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Mt]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Zy(t.nodeValue,s)),t||qs(n,!0)}else t=mc(t).createTextNode(l),t[Mt]=n,n.stateNode=t}return yt(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=Na(n),s!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Mt]=n}else Qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;yt(n),t=!1}else s=$h(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(zn(n),n):(zn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return yt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Na(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Mt]=n}else Qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;yt(n),h=!1}else h=$h(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(zn(n),n):(zn(n),null)}return zn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),Ju(n,n.updateQueue),yt(n),null);case 4:return ht(),t===null&&ud(n.stateNode.containerInfo),yt(n),null;case 10:return as(n.type),yt(n),null;case 19:if(Y(Nt),l=n.memoizedState,l===null)return yt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)ao(l,!1);else{if(Rt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=zu(t),f!==null){for(n.flags|=128,ao(l,!1),t=f.updateQueue,n.updateQueue=t,Ju(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Ig(s,t),s=s.sibling;return re(Nt,Nt.current&1|2),qe&&ss(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&gt()>sc&&(n.flags|=128,h=!0,ao(l,!1),n.lanes=4194304)}else{if(!h)if(t=zu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Ju(n,t),ao(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!qe)return yt(n),null}else 2*gt()-l.renderingStartTime>sc&&s!==536870912&&(n.flags|=128,h=!0,ao(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=gt(),t.sibling=null,s=Nt.current,re(Nt,h?s&1|2:s&1),qe&&ss(n,l.treeForkCount),t):(yt(n),null);case 22:case 23:return zn(n),cf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(yt(n),n.subtreeFlags&6&&(n.flags|=8192)):yt(n),s=n.updateQueue,s!==null&&Ju(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&Y(Xr),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),as(Ut),yt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function vb(t,n){switch(Kh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return as(Ut),ht(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return xs(n),null;case 31:if(n.memoizedState!==null){if(zn(n),n.alternate===null)throw Error(a(340));Qr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(zn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Qr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(Nt),null;case 4:return ht(),null;case 10:return as(n.type),null;case 22:case 23:return zn(n),cf(),t!==null&&Y(Xr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return as(Ut),null;case 25:return null;default:return null}}function ny(t,n){switch(Kh(n),n.tag){case 3:as(Ut),ht();break;case 26:case 27:case 5:xs(n);break;case 4:ht();break;case 31:n.memoizedState!==null&&zn(n);break;case 13:zn(n);break;case 19:Y(Nt);break;case 10:as(n.type);break;case 22:case 23:zn(n),cf(),t!==null&&Y(Xr);break;case 24:as(Ut)}}function lo(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==h)}}catch(T){nt(n,n.return,T)}}function Xs(t,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var g=l.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,h=n;var C=s,j=T;try{j()}catch(G){nt(h,C,G)}}}l=l.next}while(l!==f)}}catch(G){nt(n,n.return,G)}}function iy(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Yg(n,s)}catch(l){nt(t,t.return,l)}}}function sy(t,n,s){s.props=ea(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){nt(t,n,l)}}function oo(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){nt(t,n,h)}}function ji(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){nt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){nt(t,n,h)}else s.current=null}function ry(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){nt(t,t.return,h)}}function qf(t,n,s){try{var l=t.stateNode;Bb(l,t.type,s,n),l[Zt]=n}catch(h){nt(t,t.return,h)}}function ay(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&nr(t.type)||t.tag===4}function Hf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ay(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&nr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gf(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=hi));else if(l!==4&&(l===27&&nr(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Gf(t,n,s),t=t.sibling;t!==null;)Gf(t,n,s),t=t.sibling}function ec(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&nr(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(ec(t,n,s),t=t.sibling;t!==null;)ec(t,n,s),t=t.sibling}function ly(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);an(n,l,s),n[Mt]=t,n[Zt]=s}catch(f){nt(t,t.return,f)}}var hs=!1,jt=!1,Ff=!1,oy=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function Eb(t,n){if(t=t.containerInfo,fd=Tc,t=Eg(t),Lh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var g=0,T=-1,C=-1,j=0,G=0,K=t,z=null;t:for(;;){for(var q;K!==s||h!==0&&K.nodeType!==3||(T=g+h),K!==f||l!==0&&K.nodeType!==3||(C=g+l),K.nodeType===3&&(g+=K.nodeValue.length),(q=K.firstChild)!==null;)z=K,K=q;for(;;){if(K===t)break t;if(z===s&&++j===h&&(T=g),z===f&&++G===l&&(C=g),(q=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=q}s=T===-1||C===-1?null:{start:T,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(dd={focusedElem:t,selectionRange:s},Tc=!1,Jt=n;Jt!==null;)if(n=Jt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Jt=t;else for(;Jt!==null;){switch(n=Jt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var ce=ea(s.type,h);t=l.getSnapshotBeforeUpdate(ce,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){nt(s,s.return,ye)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)pd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":pd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Jt=t;break}Jt=n.return}}function uy(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:ds(t,s),l&4&&lo(5,s);break;case 1:if(ds(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(g){nt(s,s.return,g)}else{var h=ea(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){nt(s,s.return,g)}}l&64&&iy(s),l&512&&oo(s,s.return);break;case 3:if(ds(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Yg(t,n)}catch(g){nt(s,s.return,g)}}break;case 27:n===null&&l&4&&ly(s);case 26:case 5:ds(t,s),n===null&&l&4&&ry(s),l&512&&oo(s,s.return);break;case 12:ds(t,s);break;case 31:ds(t,s),l&4&&fy(t,s);break;case 13:ds(t,s),l&4&&dy(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=Ib.bind(null,s),Xb(t,s))));break;case 22:if(l=s.memoizedState!==null||hs,!l){n=n!==null&&n.memoizedState!==null||jt,h=hs;var f=jt;hs=l,(jt=n)&&!f?ms(t,s,(s.subtreeFlags&8772)!==0):ds(t,s),hs=h,jt=f}break;case 30:break;default:ds(t,s)}}function cy(t){var n=t.alternate;n!==null&&(t.alternate=null,cy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&da(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var bt=null,wn=!1;function fs(t,n,s){for(s=s.child;s!==null;)hy(t,n,s),s=s.sibling}function hy(t,n,s){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(vt,s)}catch{}switch(s.tag){case 26:jt||ji(s,n),fs(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:jt||ji(s,n);var l=bt,h=wn;nr(s.type)&&(bt=s.stateNode,wn=!1),fs(t,n,s),_o(s.stateNode),bt=l,wn=h;break;case 5:jt||ji(s,n);case 6:if(l=bt,h=wn,bt=null,fs(t,n,s),bt=l,wn=h,bt!==null)if(wn)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(s.stateNode)}catch(f){nt(s,n,f)}else try{bt.removeChild(s.stateNode)}catch(f){nt(s,n,f)}break;case 18:bt!==null&&(wn?(t=bt,i_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Za(t)):i_(bt,s.stateNode));break;case 4:l=bt,h=wn,bt=s.stateNode.containerInfo,wn=!0,fs(t,n,s),bt=l,wn=h;break;case 0:case 11:case 14:case 15:Xs(2,s,n),jt||Xs(4,s,n),fs(t,n,s);break;case 1:jt||(ji(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&sy(s,n,l)),fs(t,n,s);break;case 21:fs(t,n,s);break;case 22:jt=(l=jt)||s.memoizedState!==null,fs(t,n,s),jt=l;break;default:fs(t,n,s)}}function fy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Za(t)}catch(s){nt(n,n.return,s)}}}function dy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Za(t)}catch(s){nt(n,n.return,s)}}function Tb(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new oy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new oy),n;default:throw Error(a(435,t.tag))}}function tc(t,n){var s=Tb(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=Nb.bind(null,t,l);l.then(h,h)}})}function Rn(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=t,g=n,T=g;e:for(;T!==null;){switch(T.tag){case 27:if(nr(T.type)){bt=T.stateNode,wn=!1;break e}break;case 5:bt=T.stateNode,wn=!1;break e;case 3:case 4:bt=T.stateNode.containerInfo,wn=!0;break e}T=T.return}if(bt===null)throw Error(a(160));hy(f,g,h),bt=null,wn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)my(n,t),n=n.sibling}var yi=null;function my(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Rn(n,t),Cn(t),l&4&&(Xs(3,t,t.return),lo(3,t),Xs(5,t,t.return));break;case 1:Rn(n,t),Cn(t),l&512&&(jt||s===null||ji(s,s.return)),l&64&&hs&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=yi;if(Rn(n,t),Cn(t),l&512&&(jt||s===null||ji(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[wi]||f[Mt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),an(f,l,s),f[Mt]=t,Vt(f),l=f;break e;case"link":var g=m_("link","href",h).get(l+(s.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(T,1);break t}}f=h.createElement(l),an(f,l,s),h.head.appendChild(f);break;case"meta":if(g=m_("meta","content",h).get(l+(s.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(T,1);break t}}f=h.createElement(l),an(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Mt]=t,Vt(f),l=f}t.stateNode=l}else g_(h,t.type,t.stateNode);else t.stateNode=d_(h,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?g_(h,t.type,t.stateNode):d_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&qf(t,t.memoizedProps,s.memoizedProps)}break;case 27:Rn(n,t),Cn(t),l&512&&(jt||s===null||ji(s,s.return)),s!==null&&l&4&&qf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Rn(n,t),Cn(t),l&512&&(jt||s===null||ji(s,s.return)),t.flags&32){h=t.stateNode;try{An(h,"")}catch(ce){nt(t,t.return,ce)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,qf(t,h,s!==null?s.memoizedProps:h)),l&1024&&(Ff=!0);break;case 6:if(Rn(n,t),Cn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(ce){nt(t,t.return,ce)}}break;case 3:if(yc=null,h=yi,yi=gc(n.containerInfo),Rn(n,t),yi=h,Cn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Za(n.containerInfo)}catch(ce){nt(t,t.return,ce)}Ff&&(Ff=!1,gy(t));break;case 4:l=yi,yi=gc(t.stateNode.containerInfo),Rn(n,t),Cn(t),yi=l;break;case 12:Rn(n,t),Cn(t);break;case 31:Rn(n,t),Cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,tc(t,l)));break;case 13:Rn(n,t),Cn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ic=gt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,tc(t,l)));break;case 22:h=t.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,j=hs,G=jt;if(hs=j||h,jt=G||C,Rn(n,t),jt=G,hs=j,Cn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||hs||jt||ta(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=C.stateNode;var K=C.memoizedProps.style,z=K!=null&&K.hasOwnProperty("display")?K.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ce){nt(C,C.return,ce)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ce){nt(C,C.return,ce)}}}else if(n.tag===18){if(s===null){C=n;try{var q=C.stateNode;h?s_(q,!0):s_(C.stateNode,!1)}catch(ce){nt(C,C.return,ce)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,tc(t,s))));break;case 19:Rn(n,t),Cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,tc(t,l)));break;case 30:break;case 21:break;default:Rn(n,t),Cn(t)}}function Cn(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(ay(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Hf(t);ec(t,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(An(g,""),s.flags&=-33);var T=Hf(t);ec(t,T,g);break;case 3:case 4:var C=s.stateNode.containerInfo,j=Hf(t);Gf(t,j,C);break;default:throw Error(a(161))}}catch(G){nt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function gy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;gy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ds(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)uy(t,n.alternate,n),n=n.sibling}function ta(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Xs(4,n,n.return),ta(n);break;case 1:ji(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&sy(n,n.return,s),ta(n);break;case 27:_o(n.stateNode);case 26:case 5:ji(n,n.return),ta(n);break;case 22:n.memoizedState===null&&ta(n);break;case 30:ta(n);break;default:ta(n)}t=t.sibling}}function ms(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ms(h,f,s),lo(4,f);break;case 1:if(ms(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){nt(l,l.return,j)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Qg(C[h],T)}catch(j){nt(l,l.return,j)}}s&&g&64&&iy(f),oo(f,f.return);break;case 27:ly(f);case 26:case 5:ms(h,f,s),s&&l===null&&g&4&&ry(f),oo(f,f.return);break;case 12:ms(h,f,s);break;case 31:ms(h,f,s),s&&g&4&&fy(h,f);break;case 13:ms(h,f,s),s&&g&4&&dy(h,f);break;case 22:f.memoizedState===null&&ms(h,f,s),oo(f,f.return);break;case 30:break;default:ms(h,f,s)}n=n.sibling}}function Qf(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Kl(s))}function Yf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Kl(t))}function _i(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)py(t,n,s,l),n=n.sibling}function py(t,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:_i(t,n,s,l),h&2048&&lo(9,n);break;case 1:_i(t,n,s,l);break;case 3:_i(t,n,s,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Kl(t)));break;case 12:if(h&2048){_i(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){nt(n,n.return,C)}}else _i(t,n,s,l);break;case 31:_i(t,n,s,l);break;case 13:_i(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?_i(t,n,s,l):uo(t,n):f._visibility&2?_i(t,n,s,l):(f._visibility|=2,za(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Qf(g,n);break;case 24:_i(t,n,s,l),h&2048&&Yf(n.alternate,n);break;default:_i(t,n,s,l)}}function za(t,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,T=s,C=l,j=g.flags;switch(g.tag){case 0:case 11:case 15:za(f,g,T,C,h),lo(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?za(f,g,T,C,h):uo(f,g):(G._visibility|=2,za(f,g,T,C,h)),h&&j&2048&&Qf(g.alternate,g);break;case 24:za(f,g,T,C,h),h&&j&2048&&Yf(g.alternate,g);break;default:za(f,g,T,C,h)}n=n.sibling}}function uo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,h=l.flags;switch(l.tag){case 22:uo(s,l),h&2048&&Qf(l.alternate,l);break;case 24:uo(s,l),h&2048&&Yf(l.alternate,l);break;default:uo(s,l)}n=n.sibling}}var co=8192;function Ba(t,n,s){if(t.subtreeFlags&co)for(t=t.child;t!==null;)yy(t,n,s),t=t.sibling}function yy(t,n,s){switch(t.tag){case 26:Ba(t,n,s),t.flags&co&&t.memoizedState!==null&&l1(s,yi,t.memoizedState,t.memoizedProps);break;case 5:Ba(t,n,s);break;case 3:case 4:var l=yi;yi=gc(t.stateNode.containerInfo),Ba(t,n,s),yi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=co,co=16777216,Ba(t,n,s),co=l):Ba(t,n,s));break;default:Ba(t,n,s)}}function _y(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ho(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Jt=l,Ey(l,t)}_y(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)vy(t),t=t.sibling}function vy(t){switch(t.tag){case 0:case 11:case 15:ho(t),t.flags&2048&&Xs(9,t,t.return);break;case 3:ho(t);break;case 12:ho(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,nc(t)):ho(t);break;default:ho(t)}}function nc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Jt=l,Ey(l,t)}_y(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Xs(8,n,n.return),nc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,nc(n));break;default:nc(n)}t=t.sibling}}function Ey(t,n){for(;Jt!==null;){var s=Jt;switch(s.tag){case 0:case 11:case 15:Xs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Kl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Jt=l;else e:for(s=t;Jt!==null;){l=Jt;var h=l.sibling,f=l.return;if(cy(l),l===s){Jt=null;break e}if(h!==null){h.return=f,Jt=h;break e}Jt=f}}}var bb={getCacheForType:function(t){var n=sn(Ut),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return sn(Ut).controller.signal}},Sb=typeof WeakMap=="function"?WeakMap:Map,Ze=0,ct=null,Oe=null,ke=0,tt=0,Bn=null,$s=!1,qa=!1,Kf=!1,gs=0,Rt=0,Zs=0,na=0,Xf=0,qn=0,Ha=0,fo=null,xn=null,$f=!1,ic=0,Ty=0,sc=1/0,rc=null,Ws=null,Gt=0,Js=null,Ga=null,ps=0,Zf=0,Wf=null,by=null,mo=0,Jf=null;function Hn(){return(Ze&2)!==0&&ke!==0?ke&-ke:H.T!==null?rd():au()}function Sy(){if(qn===0)if((ke&536870912)===0||qe){var t=li;li<<=1,(li&3932160)===0&&(li=262144),qn=t}else qn=536870912;return t=jn.current,t!==null&&(t.flags|=32),qn}function In(t,n,s){(t===ct&&(tt===2||tt===9)||t.cancelPendingCommit!==null)&&(Fa(t,0),er(t,ke,qn,!1)),Nr(t,s),((Ze&2)===0||t!==ct)&&(t===ct&&((Ze&2)===0&&(na|=s),Rt===4&&er(t,ke,qn,!1)),zi(t))}function Ay(t,n,s){if((Ze&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||oi(t,n),h=l?Rb(t,n):td(t,n,!0),f=l;do{if(h===0){qa&&!l&&er(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!Ab(s)){h=td(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var T=t;h=fo;var C=T.current.memoizedState.isDehydrated;if(C&&(Fa(T,g).flags|=256),g=td(T,g,!1),g!==2){if(Kf&&!C){T.errorRecoveryDisabledLanes|=f,na|=f,h=4;break e}f=xn,xn=h,f!==null&&(xn===null?xn=f:xn.push.apply(xn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Fa(t,0),er(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:er(l,n,qn,!$s);break e;case 2:xn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ic+300-gt(),10<h)){if(er(l,n,qn,!$s),bi(l,0,!0)!==0)break e;ps=n,l.timeoutHandle=t_(wy.bind(null,l,s,xn,rc,$f,n,qn,na,Ha,$s,f,"Throttled",-0,0),h);break e}wy(l,s,xn,rc,$f,n,qn,na,Ha,$s,f,null,-0,0)}}break}while(!0);zi(t)}function wy(t,n,s,l,h,f,g,T,C,j,G,K,z,q){if(t.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hi},yy(n,f,K);var ce=(f&62914560)===f?ic-gt():(f&4194048)===f?Ty-gt():0;if(ce=o1(K,ce),ce!==null){ps=f,t.cancelPendingCommit=ce(My.bind(null,t,n,f,s,l,h,g,T,C,G,K,null,z,q)),er(t,f,g,!j);return}}My(t,n,f,s,l,h,g,T,C)}function Ab(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!Ln(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function er(t,n,s,l){n&=~Xf,n&=~na,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-ut(h),g=1<<f;l[f]=-1,h&=~g}s!==0&&Dr(t,s,n)}function ac(){return(Ze&6)===0?(go(0),!1):!0}function ed(){if(Oe!==null){if(tt===0)var t=Oe.return;else t=Oe,rs=Yr=null,pf(t),ka=null,$l=0,t=Oe;for(;t!==null;)ny(t.alternate,t),t=t.return;Oe=null}}function Fa(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Gb(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),ps=0,ed(),ct=t,Oe=s=is(t.current,null),ke=n,tt=0,Bn=null,$s=!1,qa=oi(t,n),Kf=!1,Ha=qn=Xf=na=Zs=Rt=0,xn=fo=null,$f=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-ut(l),f=1<<h;n|=t[h],l&=~f}return gs=n,Cu(),s}function Ry(t,n){Ie=null,H.H=so,n===Va||n===ku?(n=qg(),tt=3):n===sf?(n=qg(),tt=4):tt=n===Of?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Bn=n,Oe===null&&(Rt=1,Xu(t,Zn(n,t.current)))}function Cy(){var t=jn.current;return t===null?!0:(ke&4194048)===ke?ti===null:(ke&62914560)===ke||(ke&536870912)!==0?t===ti:!1}function xy(){var t=H.H;return H.H=so,t===null?so:t}function Iy(){var t=H.A;return H.A=bb,t}function lc(){Rt=4,$s||(ke&4194048)!==ke&&jn.current!==null||(qa=!0),(Zs&134217727)===0&&(na&134217727)===0||ct===null||er(ct,ke,qn,!1)}function td(t,n,s){var l=Ze;Ze|=2;var h=xy(),f=Iy();(ct!==t||ke!==n)&&(rc=null,Fa(t,n)),n=!1;var g=Rt;e:do try{if(tt!==0&&Oe!==null){var T=Oe,C=Bn;switch(tt){case 8:ed(),g=6;break e;case 3:case 2:case 9:case 6:jn.current===null&&(n=!0);var j=tt;if(tt=0,Bn=null,Qa(t,T,C,j),s&&qa){g=0;break e}break;default:j=tt,tt=0,Bn=null,Qa(t,T,C,j)}}wb(),g=Rt;break}catch(G){Ry(t,G)}while(!0);return n&&t.shellSuspendCounter++,rs=Yr=null,Ze=l,H.H=h,H.A=f,Oe===null&&(ct=null,ke=0,Cu()),g}function wb(){for(;Oe!==null;)Ny(Oe)}function Rb(t,n){var s=Ze;Ze|=2;var l=xy(),h=Iy();ct!==t||ke!==n?(rc=null,sc=gt()+500,Fa(t,n)):qa=oi(t,n);e:do try{if(tt!==0&&Oe!==null){n=Oe;var f=Bn;t:switch(tt){case 1:tt=0,Bn=null,Qa(t,n,f,1);break;case 2:case 9:if(zg(f)){tt=0,Bn=null,Dy(n);break}n=function(){tt!==2&&tt!==9||ct!==t||(tt=7),zi(t)},f.then(n,n);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:zg(f)?(tt=0,Bn=null,Dy(n)):(tt=0,Bn=null,Qa(t,n,f,7));break;case 5:var g=null;switch(Oe.tag){case 26:g=Oe.memoizedState;case 5:case 27:var T=Oe;if(g?p_(g):T.stateNode.complete){tt=0,Bn=null;var C=T.sibling;if(C!==null)Oe=C;else{var j=T.return;j!==null?(Oe=j,oc(j)):Oe=null}break t}}tt=0,Bn=null,Qa(t,n,f,5);break;case 6:tt=0,Bn=null,Qa(t,n,f,6);break;case 8:ed(),Rt=6;break e;default:throw Error(a(462))}}Cb();break}catch(G){Ry(t,G)}while(!0);return rs=Yr=null,H.H=l,H.A=h,Ze=s,Oe!==null?0:(ct=null,ke=0,Cu(),Rt)}function Cb(){for(;Oe!==null&&!$t();)Ny(Oe)}function Ny(t){var n=ey(t.alternate,t,gs);t.memoizedProps=t.pendingProps,n===null?oc(t):Oe=n}function Dy(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Kp(s,n,n.pendingProps,n.type,void 0,ke);break;case 11:n=Kp(s,n,n.pendingProps,n.type.render,n.ref,ke);break;case 5:pf(n);default:ny(s,n),n=Oe=Ig(n,gs),n=ey(s,n,gs)}t.memoizedProps=t.pendingProps,n===null?oc(t):Oe=n}function Qa(t,n,s,l){rs=Yr=null,pf(n),ka=null,$l=0;var h=n.return;try{if(gb(t,h,n,s,ke)){Rt=1,Xu(t,Zn(s,t.current)),Oe=null;return}}catch(f){if(h!==null)throw Oe=h,f;Rt=1,Xu(t,Zn(s,t.current)),Oe=null;return}n.flags&32768?(qe||l===1?t=!0:qa||(ke&536870912)!==0?t=!1:($s=t=!0,(l===2||l===9||l===3||l===6)&&(l=jn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Oy(n,t)):oc(n)}function oc(t){var n=t;do{if((n.flags&32768)!==0){Oy(n,$s);return}t=n.return;var s=_b(n.alternate,n,gs);if(s!==null){Oe=s;return}if(n=n.sibling,n!==null){Oe=n;return}Oe=n=t}while(n!==null);Rt===0&&(Rt=5)}function Oy(t,n){do{var s=vb(t.alternate,t);if(s!==null){s.flags&=32767,Oe=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=s}while(t!==null);Rt=6,Oe=null}function My(t,n,s,l,h,f,g,T,C){t.cancelPendingCommit=null;do uc();while(Gt!==0);if((Ze&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=qh,Mh(t,s,f,g,T,C),t===ct&&(Oe=ct=null,ke=0),Ga=n,Js=t,ps=s,Zf=f,Wf=h,by=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Db(hn,function(){return Py(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,h=se.p,se.p=2,g=Ze,Ze|=4;try{Eb(t,n,s)}finally{Ze=g,se.p=h,H.T=l}}Gt=1,Vy(),ky(),Uy()}}function Vy(){if(Gt===1){Gt=0;var t=Js,n=Ga,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var l=se.p;se.p=2;var h=Ze;Ze|=4;try{my(n,t);var f=dd,g=Eg(t.containerInfo),T=f.focusedElem,C=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&vg(T.ownerDocument.documentElement,T)){if(C!==null&&Lh(T)){var j=C.start,G=C.end;if(G===void 0&&(G=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(G,T.value.length);else{var K=T.ownerDocument||document,z=K&&K.defaultView||window;if(z.getSelection){var q=z.getSelection(),ce=T.textContent.length,ye=Math.min(C.start,ce),lt=C.end===void 0?ye:Math.min(C.end,ce);!q.extend&&ye>lt&&(g=lt,lt=ye,ye=g);var U=_g(T,ye),D=_g(T,lt);if(U&&D&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var P=K.createRange();P.setStart(U.node,U.offset),q.removeAllRanges(),ye>lt?(q.addRange(P),q.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),q.addRange(P))}}}}for(K=[],q=T;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<K.length;T++){var Q=K[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Tc=!!fd,dd=fd=null}finally{Ze=h,se.p=l,H.T=s}}t.current=n,Gt=2}}function ky(){if(Gt===2){Gt=0;var t=Js,n=Ga,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var l=se.p;se.p=2;var h=Ze;Ze|=4;try{uy(t,n.alternate,n)}finally{Ze=h,se.p=l,H.T=s}}Gt=3}}function Uy(){if(Gt===4||Gt===3){Gt=0,Mn();var t=Js,n=Ga,s=ps,l=by;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Gt=5:(Gt=0,Ga=Js=null,Ly(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ws=null),Ji(s),n=n.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(vt,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,h=se.p,se.p=2,H.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var T=l[g];f(T.value,{componentStack:T.stack})}}finally{H.T=n,se.p=h}}(ps&3)!==0&&uc(),zi(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===Jf?mo++:(mo=0,Jf=t):mo=0,go(0)}}function Ly(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Kl(n)))}function uc(){return Vy(),ky(),Uy(),Py()}function Py(){if(Gt!==5)return!1;var t=Js,n=Zf;Zf=0;var s=Ji(ps),l=H.T,h=se.p;try{se.p=32>s?32:s,H.T=null,s=Wf,Wf=null;var f=Js,g=ps;if(Gt=0,Ga=Js=null,ps=0,(Ze&6)!==0)throw Error(a(331));var T=Ze;if(Ze|=4,vy(f.current),py(f,f.current,g,s),Ze=T,go(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(vt,f)}catch{}return!0}finally{se.p=h,H.T=l,Ly(t,n)}}function jy(t,n,s){n=Zn(s,n),n=Df(t.stateNode,n,2),t=Qs(t,n,2),t!==null&&(Nr(t,2),zi(t))}function nt(t,n,s){if(t.tag===3)jy(t,t,s);else for(;n!==null;){if(n.tag===3){jy(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ws===null||!Ws.has(l))){t=Zn(s,t),s=zp(2),l=Qs(n,s,2),l!==null&&(Bp(s,l,n,t),Nr(l,2),zi(l));break}}n=n.return}}function nd(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new Sb;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(Kf=!0,h.add(s),t=xb.bind(null,t,n,s),n.then(t,t))}function xb(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,ct===t&&(ke&s)===s&&(Rt===4||Rt===3&&(ke&62914560)===ke&&300>gt()-ic?(Ze&2)===0&&Fa(t,0):Xf|=s,Ha===ke&&(Ha=0)),zi(t)}function zy(t,n){n===0&&(n=ru()),t=Gr(t,n),t!==null&&(Nr(t,n),zi(t))}function Ib(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),zy(t,s)}function Nb(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),zy(t,s)}function Db(t,n){return ue(t,n)}var cc=null,Ya=null,id=!1,hc=!1,sd=!1,tr=0;function zi(t){t!==Ya&&t.next===null&&(Ya===null?cc=Ya=t:Ya=Ya.next=t),hc=!0,id||(id=!0,Mb())}function go(t,n){if(!sd&&hc){sd=!0;do for(var s=!1,l=cc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-ut(42|t)+1)-1,f&=h&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Gy(l,f))}else f=ke,f=bi(l,l===ct?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||oi(l,f)||(s=!0,Gy(l,f));l=l.next}while(s);sd=!1}}function Ob(){By()}function By(){hc=id=!1;var t=0;tr!==0&&Hb()&&(t=tr);for(var n=gt(),s=null,l=cc;l!==null;){var h=l.next,f=qy(l,n);f===0?(l.next=null,s===null?cc=h:s.next=h,h===null&&(Ya=s)):(s=l,(t!==0||(f&3)!==0)&&(hc=!0)),l=h}Gt!==0&&Gt!==5||go(t),tr!==0&&(tr=0)}function qy(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-ut(f),T=1<<g,C=h[g];C===-1?((T&s)===0||(T&l)!==0)&&(h[g]=Oh(T,n)):C<=n&&(t.expiredLanes|=T),f&=~T}if(n=ct,s=ke,s=bi(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(tt===2||tt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ge(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||oi(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&Ge(l),Ji(s)){case 2:case 8:s=yn;break;case 32:s=hn;break;case 268435456:s=Ir;break;default:s=hn}return l=Hy.bind(null,t),s=ue(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&Ge(l),t.callbackPriority=2,t.callbackNode=null,2}function Hy(t,n){if(Gt!==0&&Gt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(uc()&&t.callbackNode!==s)return null;var l=ke;return l=bi(t,t===ct?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Ay(t,l,n),qy(t,gt()),t.callbackNode!=null&&t.callbackNode===s?Hy.bind(null,t):null)}function Gy(t,n){if(uc())return null;Ay(t,n,!0)}function Mb(){Fb(function(){(Ze&6)!==0?ue(ft,Ob):By()})}function rd(){if(tr===0){var t=Oa;t===0&&(t=bn,bn<<=1,(bn&261888)===0&&(bn=256)),tr=t}return tr}function Fy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ya(""+t)}function Qy(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function Vb(t,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=Fy((h[Zt]||null).action),g=l.submitter;g&&(n=(n=g[Zt]||null)?Fy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new Mi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(tr!==0){var C=g?Qy(h,g):new FormData(h);wf(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(T.preventDefault(),C=g?Qy(h,g):new FormData(h),wf(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var ad=0;ad<Bh.length;ad++){var ld=Bh[ad],kb=ld.toLowerCase(),Ub=ld[0].toUpperCase()+ld.slice(1);pi(kb,"on"+Ub)}pi(Sg,"onAnimationEnd"),pi(Ag,"onAnimationIteration"),pi(wg,"onAnimationStart"),pi("dblclick","onDoubleClick"),pi("focusin","onFocus"),pi("focusout","onBlur"),pi(WT,"onTransitionRun"),pi(JT,"onTransitionStart"),pi(eb,"onTransitionCancel"),pi(Rg,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(po));function Yy(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var T=l[g],C=T.instance,j=T.currentTarget;if(T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=j;try{f(h)}catch(G){Ru(G)}h.currentTarget=null,f=C}else for(g=0;g<l.length;g++){if(T=l[g],C=T.instance,j=T.currentTarget,T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=j;try{f(h)}catch(G){Ru(G)}h.currentTarget=null,f=C}}}}function Me(t,n){var s=n[fa];s===void 0&&(s=n[fa]=new Set);var l=t+"__bubble";s.has(l)||(Ky(n,t,2,!1),s.add(l))}function od(t,n,s){var l=0;n&&(l|=4),Ky(s,t,l,n)}var fc="_reactListening"+Math.random().toString(36).slice(2);function ud(t){if(!t[fc]){t[fc]=!0,Cl.forEach(function(s){s!=="selectionchange"&&(Lb.has(s)||od(s,!1,t),od(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[fc]||(n[fc]=!0,od("selectionchange",!1,n))}}function Ky(t,n,s,l){switch(S_(n)){case 2:var h=h1;break;case 8:h=f1;break;default:h=Ad}s=h.bind(null,n,s,t),h=void 0,!Ur||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function cd(t,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var T=l.stateNode.containerInfo;if(T===h)break;if(g===4)for(g=l.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;T!==null;){if(g=Ri(T),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){l=f=g;continue e}T=T.parentNode}}l=l.return}Us(function(){var j=f,G=Yn(s),K=[];e:{var z=Cg.get(t);if(z!==void 0){var q=Mi,ce=t;switch(t){case"keypress":if(Pr(s)===0)break e;case"keydown":case"keyup":q=Su;break;case"focusin":ce="focus",q=zr;break;case"focusout":ce="blur",q=zr;break;case"beforeblur":case"afterblur":q=zr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=zl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Sg:case Ag:case wg:q=pu;break;case Rg:q=b;break;case"scroll":case"scrollend":q=jl;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=ns;break;case"toggle":case"beforetoggle":q=xe}var ye=(n&4)!==0,lt=!ye&&(t==="scroll"||t==="scrollend"),U=ye?z!==null?z+"Capture":null:z;ye=[];for(var D=j,P;D!==null;){var Q=D;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||U===null||(Q=fi(D,U),Q!=null&&ye.push(yo(D,Q,P))),lt)break;D=D.return}0<ye.length&&(z=new q(z,ce,null,s,G),K.push({event:z,listeners:ye}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",z&&s!==Ul&&(ce=s.relatedTarget||s.fromElement)&&(Ri(ce)||ce[Ai]))break e;if((q||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,q?(ce=s.relatedTarget||s.toElement,q=j,ce=ce?Ri(ce):null,ce!==null&&(lt=c(ce),ye=ce.tag,ce!==lt||ye!==5&&ye!==27&&ye!==6)&&(ce=null)):(q=null,ce=j),q!==ce)){if(ye=zl,Q="onMouseLeave",U="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(ye=ns,Q="onPointerLeave",U="onPointerEnter",D="pointer"),lt=q==null?z:kn(q),P=ce==null?z:kn(ce),z=new ye(Q,D+"leave",q,s,G),z.target=lt,z.relatedTarget=P,Q=null,Ri(G)===j&&(ye=new ye(U,D+"enter",ce,s,G),ye.target=P,ye.relatedTarget=lt,Q=ye),lt=Q,q&&ce)t:{for(ye=Pb,U=q,D=ce,P=0,Q=U;Q;Q=ye(Q))P++;Q=0;for(var me=D;me;me=ye(me))Q++;for(;0<P-Q;)U=ye(U),P--;for(;0<Q-P;)D=ye(D),Q--;for(;P--;){if(U===D||D!==null&&U===D.alternate){ye=U;break t}U=ye(U),D=ye(D)}ye=null}else ye=null;q!==null&&Xy(K,z,q,ye,!1),ce!==null&&lt!==null&&Xy(K,lt,ce,ye,!0)}}e:{if(z=j?kn(j):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var Qe=fg;else if(cg(z))if(dg)Qe=XT;else{Qe=YT;var he=QT}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&pa(j.elementType)&&(Qe=fg):Qe=KT;if(Qe&&(Qe=Qe(t,j))){hg(K,Qe,s,G);break e}he&&he(t,z,j),t==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&Ml(z,"number",z.value)}switch(he=j?kn(j):window,t){case"focusin":(cg(he)||he.contentEditable==="true")&&(Aa=he,Ph=j,Fl=null);break;case"focusout":Fl=Ph=Aa=null;break;case"mousedown":jh=!0;break;case"contextmenu":case"mouseup":case"dragend":jh=!1,Tg(K,s,G);break;case"selectionchange":if(ZT)break;case"keydown":case"keyup":Tg(K,s,G)}var Ne;if($e)e:{switch(t){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Sa?Br(t,s)&&(Ue="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ue="onCompositionStart");Ue&&(Ui&&s.locale!=="ko"&&(Sa||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Sa&&(Ne=Pl()):(Oi=G,Ll="value"in Oi?Oi.value:Oi.textContent,Sa=!0)),he=dc(j,Ue),0<he.length&&(Ue=new ki(Ue,t,null,s,G),K.push({event:Ue,listeners:he}),Ne?Ue.data=Ne:(Ne=ba(s),Ne!==null&&(Ue.data=Ne)))),(Ne=Xn?qT(t,s):HT(t,s))&&(Ue=dc(j,"onBeforeInput"),0<Ue.length&&(he=new ki("onBeforeInput","beforeinput",null,s,G),K.push({event:he,listeners:Ue}),he.data=Ne)),Vb(K,t,j,s,G)}Yy(K,n)})}function yo(t,n,s){return{instance:t,listener:n,currentTarget:s}}function dc(t,n){for(var s=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=fi(t,s),h!=null&&l.unshift(yo(t,h,f)),h=fi(t,n),h!=null&&l.push(yo(t,h,f))),t.tag===3)return l;t=t.return}return[]}function Pb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Xy(t,n,s,l,h){for(var f=n._reactName,g=[];s!==null&&s!==l;){var T=s,C=T.alternate,j=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||j===null||(C=j,h?(j=fi(s,f),j!=null&&g.unshift(yo(s,j,C))):h||(j=fi(s,f),j!=null&&g.push(yo(s,j,C)))),s=s.return}g.length!==0&&t.push({event:n,listeners:g})}var jb=/\r\n?/g,zb=/\u0000|\uFFFD/g;function $y(t){return(typeof t=="string"?t:""+t).replace(jb,`
`).replace(zb,"")}function Zy(t,n){return n=$y(n),$y(t)===n}function at(t,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||An(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&An(t,""+l);break;case"className":Un(t,"class",l);break;case"tabIndex":Un(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Un(t,s,l);break;case"style":kl(t,l,f);break;case"data":if(n!=="object"){Un(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=ya(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&at(t,n,"name",h.name,h,null),at(t,n,"formEncType",h.formEncType,h,null),at(t,n,"formMethod",h.formMethod,h,null),at(t,n,"formTarget",h.formTarget,h,null)):(at(t,n,"encType",h.encType,h,null),at(t,n,"method",h.method,h,null),at(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=ya(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=hi);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=ya(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),ma(t,"popover",l);break;case"xlinkActuate":kt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":kt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":kt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":kt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":kt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":kt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":kt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":kt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":kt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ma(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=du.get(s)||s,ma(t,s,l))}}function hd(t,n,s,l,h,f){switch(s){case"style":kl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?An(t,l):(typeof l=="number"||typeof l=="bigint")&&An(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=hi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xl.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=t[Zt]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):ma(t,s,l)}}}function an(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:at(t,n,f,g,s,null)}}h&&at(t,n,"srcSet",s.srcSet,s,null),l&&at(t,n,"src",s.src,s,null);return;case"input":Me("invalid",t);var T=f=g=h=null,C=null,j=null;for(l in s)if(s.hasOwnProperty(l)){var G=s[l];if(G!=null)switch(l){case"name":h=G;break;case"type":g=G;break;case"checked":C=G;break;case"defaultChecked":j=G;break;case"value":f=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:at(t,n,l,G,s,null)}}cu(t,f,T,C,j,g,h,!1);return;case"select":Me("invalid",t),l=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":l=T;default:at(t,n,h,T,s,null)}n=f,s=g,t.multiple=!!l,n!=null?Os(t,!!l,n,!1):s!=null&&Os(t,!!l,s,!0);return;case"textarea":Me("invalid",t),f=h=l=null;for(g in s)if(s.hasOwnProperty(g)&&(T=s[g],T!=null))switch(g){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:at(t,n,g,T,s,null)}Ms(t,l,h,f);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(l=s[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:at(t,n,C,l,s,null)}return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<po.length;l++)Me(po[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(l=s[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:at(t,n,j,l,s,null)}return;default:if(pa(n)){for(G in s)s.hasOwnProperty(G)&&(l=s[G],l!==void 0&&hd(t,n,G,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&at(t,n,T,l,s,null))}function Bb(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,T=null,C=null,j=null,G=null;for(q in s){var K=s[q];if(s.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=K;default:l.hasOwnProperty(q)||at(t,n,q,null,l,K)}}for(var z in l){var q=l[z];if(K=s[z],l.hasOwnProperty(z)&&(q!=null||K!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":j=q;break;case"defaultChecked":G=q;break;case"value":g=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==K&&at(t,n,z,q,l,K)}}ga(t,g,T,C,j,G,f,h);return;case"select":q=g=T=z=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":q=C;default:l.hasOwnProperty(f)||at(t,n,f,null,l,C)}for(h in l)if(f=l[h],C=s[h],l.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":z=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==C&&at(t,n,h,f,l,C)}n=T,s=g,l=q,z!=null?Os(t,!!s,z,!1):!!l!=!!s&&(n!=null?Os(t,!!s,n,!0):Os(t,!!s,s?[]:"",!1));return;case"textarea":q=z=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:at(t,n,T,null,l,h)}for(g in l)if(h=l[g],f=s[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&at(t,n,g,h,l,f)}hu(t,z,q);return;case"option":for(var ce in s)if(z=s[ce],s.hasOwnProperty(ce)&&z!=null&&!l.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:at(t,n,ce,null,l,z)}for(C in l)if(z=l[C],q=s[C],l.hasOwnProperty(C)&&z!==q&&(z!=null||q!=null))switch(C){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:at(t,n,C,z,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in s)z=s[ye],s.hasOwnProperty(ye)&&z!=null&&!l.hasOwnProperty(ye)&&at(t,n,ye,null,l,z);for(j in l)if(z=l[j],q=s[j],l.hasOwnProperty(j)&&z!==q&&(z!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:at(t,n,j,z,l,q)}return;default:if(pa(n)){for(var lt in s)z=s[lt],s.hasOwnProperty(lt)&&z!==void 0&&!l.hasOwnProperty(lt)&&hd(t,n,lt,void 0,l,z);for(G in l)z=l[G],q=s[G],!l.hasOwnProperty(G)||z===q||z===void 0&&q===void 0||hd(t,n,G,z,l,q);return}}for(var U in s)z=s[U],s.hasOwnProperty(U)&&z!=null&&!l.hasOwnProperty(U)&&at(t,n,U,null,l,z);for(K in l)z=l[K],q=s[K],!l.hasOwnProperty(K)||z===q||z==null&&q==null||at(t,n,K,z,l,q)}function Wy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,g=h.initiatorType,T=h.duration;if(f&&T&&Wy(g)){for(g=0,T=h.responseEnd,l+=1;l<s.length;l++){var C=s[l],j=C.startTime;if(j>T)break;var G=C.transferSize,K=C.initiatorType;G&&Wy(K)&&(C=C.responseEnd,g+=G*(C<T?1:(T-j)/(C-j)))}if(--l,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var fd=null,dd=null;function mc(t){return t.nodeType===9?t:t.ownerDocument}function Jy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function e_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function md(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var gd=null;function Hb(){var t=window.event;return t&&t.type==="popstate"?t===gd?!1:(gd=t,!0):(gd=null,!1)}var t_=typeof setTimeout=="function"?setTimeout:void 0,Gb=typeof clearTimeout=="function"?clearTimeout:void 0,n_=typeof Promise=="function"?Promise:void 0,Fb=typeof queueMicrotask=="function"?queueMicrotask:typeof n_<"u"?function(t){return n_.resolve(null).then(t).catch(Qb)}:t_;function Qb(t){setTimeout(function(){throw t})}function nr(t){return t==="head"}function i_(t,n){var s=n,l=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(h),Za(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")_o(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,_o(s);for(var f=s.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[wi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&_o(t.ownerDocument.body);s=h}while(s);Za(n)}function s_(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function pd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":pd(s),da(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function Yb(t,n,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[wi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ni(t.nextSibling),t===null)break}return null}function Kb(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=ni(t.nextSibling),t===null))return null;return t}function r_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ni(t.nextSibling),t===null))return null;return t}function yd(t){return t.data==="$?"||t.data==="$~"}function _d(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Xb(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ni(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var vd=null;function a_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return ni(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function l_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function o_(t,n,s){switch(n=mc(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function _o(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);da(t)}var ii=new Map,u_=new Set;function gc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ys=se.d;se.d={f:$b,r:Zb,D:Wb,C:Jb,L:e1,m:t1,X:i1,S:n1,M:s1};function $b(){var t=ys.f(),n=ac();return t||n}function Zb(t){var n=Qn(t);n!==null&&n.tag===5&&n.type==="form"?Rp(n):ys.r(t)}var Ka=typeof document>"u"?null:document;function c_(t,n,s){var l=Ka;if(l&&typeof n=="string"&&n){var h=Sn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),u_.has(h)||(u_.add(h),t={rel:t,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),an(n,"link",t),Vt(n),l.head.appendChild(n)))}}function Wb(t){ys.D(t),c_("dns-prefetch",t,null)}function Jb(t,n){ys.C(t,n),c_("preconnect",t,n)}function e1(t,n,s){ys.L(t,n,s);var l=Ka;if(l&&t&&n){var h='link[rel="preload"][as="'+Sn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Sn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Sn(s.imageSizes)+'"]')):h+='[href="'+Sn(t)+'"]';var f=h;switch(n){case"style":f=Xa(t);break;case"script":f=$a(t)}ii.has(f)||(t=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),ii.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(vo(f))||n==="script"&&l.querySelector(Eo(f))||(n=l.createElement("link"),an(n,"link",t),Vt(n),l.head.appendChild(n)))}}function t1(t,n){ys.m(t,n);var s=Ka;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Sn(l)+'"][href="'+Sn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=$a(t)}if(!ii.has(f)&&(t=A({rel:"modulepreload",href:t},n),ii.set(f,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Eo(f)))return}l=s.createElement("link"),an(l,"link",t),Vt(l),s.head.appendChild(l)}}}function n1(t,n,s){ys.S(t,n,s);var l=Ka;if(l&&t){var h=Ci(l).hoistableStyles,f=Xa(t);n=n||"default";var g=h.get(f);if(!g){var T={loading:0,preload:null};if(g=l.querySelector(vo(f)))T.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},s),(s=ii.get(f))&&Ed(t,s);var C=g=l.createElement("link");Vt(C),an(C,"link",t),C._p=new Promise(function(j,G){C.onload=j,C.onerror=G}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,pc(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:T},h.set(f,g)}}}function i1(t,n){ys.X(t,n);var s=Ka;if(s&&t){var l=Ci(s).hoistableScripts,h=$a(t),f=l.get(h);f||(f=s.querySelector(Eo(h)),f||(t=A({src:t,async:!0},n),(n=ii.get(h))&&Td(t,n),f=s.createElement("script"),Vt(f),an(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function s1(t,n){ys.M(t,n);var s=Ka;if(s&&t){var l=Ci(s).hoistableScripts,h=$a(t),f=l.get(h);f||(f=s.querySelector(Eo(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=ii.get(h))&&Td(t,n),f=s.createElement("script"),Vt(f),an(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function h_(t,n,s,l){var h=(h=Ce.current)?gc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Xa(s.href),s=Ci(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Xa(s.href);var f=Ci(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(vo(t)))&&!f._p&&(g.instance=f,g.state.loading=5),ii.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ii.set(t,s),f||r1(h,t,s,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=$a(s),s=Ci(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Xa(t){return'href="'+Sn(t)+'"'}function vo(t){return'link[rel="stylesheet"]['+t+"]"}function f_(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function r1(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),an(n,"link",s),Vt(n),t.head.appendChild(n))}function $a(t){return'[src="'+Sn(t)+'"]'}function Eo(t){return"script[async]"+t}function d_(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Sn(s.href)+'"]');if(l)return n.instance=l,Vt(l),l;var h=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Vt(l),an(l,"style",h),pc(l,s.precedence,t),n.instance=l;case"stylesheet":h=Xa(s.href);var f=t.querySelector(vo(h));if(f)return n.state.loading|=4,n.instance=f,Vt(f),f;l=f_(s),(h=ii.get(h))&&Ed(l,h),f=(t.ownerDocument||t).createElement("link"),Vt(f);var g=f;return g._p=new Promise(function(T,C){g.onload=T,g.onerror=C}),an(f,"link",l),n.state.loading|=4,pc(f,s.precedence,t),n.instance=f;case"script":return f=$a(s.src),(h=t.querySelector(Eo(f)))?(n.instance=h,Vt(h),h):(l=s,(h=ii.get(f))&&(l=A({},s),Td(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Vt(h),an(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,pc(l,s.precedence,t));return n.instance}function pc(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var T=l[g];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Ed(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Td(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var yc=null;function m_(t,n,s){if(yc===null){var l=new Map,h=yc=new Map;h.set(s,l)}else h=yc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[wi]||f[Mt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var T=l.get(g);T?T.push(f):l.set(g,[f])}}return l}function g_(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function a1(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function p_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function l1(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Xa(l.href),f=n.querySelector(vo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=_c.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,Vt(f);return}f=n.ownerDocument||n,l=f_(l),(h=ii.get(h))&&Ed(l,h),f=f.createElement("link"),Vt(f);var g=f;g._p=new Promise(function(T,C){g.onload=T,g.onerror=C}),an(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=_c.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var bd=0;function o1(t,n){return t.stylesheets&&t.count===0&&Ec(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&Ec(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&bd===0&&(bd=62500*qb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ec(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>bd?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function _c(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var vc=null;function Ec(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,vc=new Map,n.forEach(u1,t),vc=null,_c.call(t))}function u1(t,n){if(!(n.state.loading&4)){var s=vc.get(t);if(s)var l=s.get(null);else{s=new Map,vc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,h),s.set(g,h),this.count++,l=_c.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var To={$$typeof:Ee,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function c1(t,n,s,l,h,f,g,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Si(0),this.hiddenUpdates=Si(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function y_(t,n,s,l,h,f,g,T,C,j,G,K){return t=new c1(t,n,s,g,C,j,G,K,T),n=1,f===!0&&(n|=24),f=Pn(3,null,null,n),t.current=f,f.stateNode=t,n=ef(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},rf(f),t}function __(t){return t?(t=Ca,t):Ca}function v_(t,n,s,l,h,f){h=__(h),l.context===null?l.context=h:l.pendingContext=h,l=Fs(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Qs(t,l,n),s!==null&&(In(s,t,n),Wl(s,t,n))}function E_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Sd(t,n){E_(t,n),(t=t.alternate)&&E_(t,n)}function T_(t){if(t.tag===13||t.tag===31){var n=Gr(t,67108864);n!==null&&In(n,t,67108864),Sd(t,67108864)}}function b_(t){if(t.tag===13||t.tag===31){var n=Hn();n=Or(n);var s=Gr(t,n);s!==null&&In(s,t,n),Sd(t,n)}}var Tc=!0;function h1(t,n,s,l){var h=H.T;H.T=null;var f=se.p;try{se.p=2,Ad(t,n,s,l)}finally{se.p=f,H.T=h}}function f1(t,n,s,l){var h=H.T;H.T=null;var f=se.p;try{se.p=8,Ad(t,n,s,l)}finally{se.p=f,H.T=h}}function Ad(t,n,s,l){if(Tc){var h=wd(l);if(h===null)cd(t,n,l,bc,s),A_(t,l);else if(m1(h,t,n,s,l))l.stopPropagation();else if(A_(t,l),n&4&&-1<d1.indexOf(t)){for(;h!==null;){var f=Qn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Ti(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var C=1<<31-ut(g);T.entanglements[1]|=C,g&=~C}zi(f),(Ze&6)===0&&(sc=gt()+500,go(0))}}break;case 31:case 13:T=Gr(f,2),T!==null&&In(T,f,2),ac(),Sd(f,2)}if(f=wd(l),f===null&&cd(t,n,l,bc,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else cd(t,n,l,null,s)}}function wd(t){return t=Yn(t),Rd(t)}var bc=null;function Rd(t){if(bc=null,t=Ri(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=p(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return bc=t,null}function S_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xt()){case ft:return 2;case yn:return 8;case hn:case Vn:return 32;case Ir:return 268435456;default:return 32}default:return 32}}var Cd=!1,ir=null,sr=null,rr=null,bo=new Map,So=new Map,ar=[],d1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function A_(t,n){switch(t){case"focusin":case"focusout":ir=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":bo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":So.delete(n.pointerId)}}function Ao(t,n,s,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Qn(n),n!==null&&T_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function m1(t,n,s,l,h){switch(n){case"focusin":return ir=Ao(ir,t,n,s,l,h),!0;case"dragenter":return sr=Ao(sr,t,n,s,l,h),!0;case"mouseover":return rr=Ao(rr,t,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return bo.set(f,Ao(bo.get(f)||null,t,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,So.set(f,Ao(So.get(f)||null,t,n,s,l,h)),!0}return!1}function w_(t){var n=Ri(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,ui(t.priority,function(){b_(s)});return}}else if(n===31){if(n=p(s),n!==null){t.blockedOn=n,ui(t.priority,function(){b_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=wd(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Ul=l,s.target.dispatchEvent(l),Ul=null}else return n=Qn(s),n!==null&&T_(n),t.blockedOn=s,!1;n.shift()}return!0}function R_(t,n,s){Sc(t)&&s.delete(n)}function g1(){Cd=!1,ir!==null&&Sc(ir)&&(ir=null),sr!==null&&Sc(sr)&&(sr=null),rr!==null&&Sc(rr)&&(rr=null),bo.forEach(R_),So.forEach(R_)}function Ac(t,n){t.blockedOn===n&&(t.blockedOn=null,Cd||(Cd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,g1)))}var wc=null;function C_(t){wc!==t&&(wc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){wc===t&&(wc=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Rd(l||s)===null)continue;break}var f=Qn(s);f!==null&&(t.splice(n,3),n-=3,wf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Za(t){function n(C){return Ac(C,t)}ir!==null&&Ac(ir,t),sr!==null&&Ac(sr,t),rr!==null&&Ac(rr,t),bo.forEach(n),So.forEach(n);for(var s=0;s<ar.length;s++){var l=ar[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ar.length&&(s=ar[0],s.blockedOn===null);)w_(s),s.blockedOn===null&&ar.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],g=h[Zt]||null;if(typeof f=="function")g||C_(s);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Zt]||null)T=g.formAction;else if(Rd(h)!==null)continue}else T=g.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),C_(s)}}}function x_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function xd(t){this._internalRoot=t}Rc.prototype.render=xd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=Hn();v_(s,l,t,n,null,null)},Rc.prototype.unmount=xd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;v_(t.current,2,null,t,null,null),ac(),n[Ai]=null}};function Rc(t){this._internalRoot=t}Rc.prototype.unstable_scheduleHydration=function(t){if(t){var n=au();t={blockedOn:null,target:t,priority:n};for(var s=0;s<ar.length&&n!==0&&n<ar[s].priority;s++);ar.splice(s,0,t),s===0&&w_(t)}};var I_=e.version;if(I_!=="19.2.0")throw Error(a(527,I_,"19.2.0"));se.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var p1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{vt=Cc.inject(p1),Fe=Cc}catch{}}return Ro.createRoot=function(t,n){if(!o(t))throw Error(a(299));var s=!1,l="",h=Up,f=Lp,g=Pp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=y_(t,1,!1,null,null,s,l,null,h,f,g,x_),t[Ai]=n.current,ud(t),new xd(n)},Ro.hydrateRoot=function(t,n,s){if(!o(t))throw Error(a(299));var l=!1,h="",f=Up,g=Lp,T=Pp,C=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=y_(t,1,!0,n,s??null,l,h,C,f,g,T,x_),n.context=__(null),s=n.current,l=Hn(),l=Or(l),h=Fs(l),h.callback=null,Qs(s,h,l),s=l,n.current.lanes=s,Nr(n,s),zi(n),t[Ai]=n.current,ud(t),new Rc(n)},Ro.version="19.2.0",Ro}var j_;function x1(){if(j_)return Dd.exports;j_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Dd.exports=C1(),Dd.exports}var I1=x1();const N1=()=>{};var z_={};const yv=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},D1=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],p=r[i++],y=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},_v={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,p=d?r[o+1]:0,y=o+2<r.length,_=y?r[o+2]:0,E=c>>2,A=(c&3)<<4|p>>4;let M=(p&15)<<2|_>>6,F=_&63;y||(F=64,d||(M=64)),a.push(i[E],i[A],i[M],i[F])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(yv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):D1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],p=o<r.length?i[r.charAt(o)]:0;++o;const _=o<r.length?i[r.charAt(o)]:64;++o;const A=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||p==null||_==null||A==null)throw new O1;const M=c<<2|p>>4;if(a.push(M),_!==64){const F=p<<4&240|_>>2;if(a.push(F),A!==64){const W=_<<6&192|A;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class O1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const M1=function(r){const e=yv(r);return _v.encodeByteArray(e,!0)},Fc=function(r){return M1(r).replace(/\./g,"")},vv=function(r){try{return _v.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function V1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const k1=()=>V1().__FIREBASE_DEFAULTS__,U1=()=>{if(typeof process>"u"||typeof z_>"u")return;const r=z_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},L1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&vv(r[1]);return e&&JSON.parse(e)},hh=()=>{try{return N1()||k1()||U1()||L1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Ev=r=>hh()?.emulatorHosts?.[r],P1=r=>{const e=Ev(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Tv=()=>hh()?.config,bv=r=>hh()?.[`_${r}`];class j1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function _l(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Sv(r){return(await fetch(r,{credentials:"include"})).ok}function z1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Fc(JSON.stringify(i)),Fc(JSON.stringify(d)),""].join(".")}const Oo={};function B1(){const r={prod:[],emulator:[]};for(const e of Object.keys(Oo))Oo[e]?r.emulator.push(e):r.prod.push(e);return r}function q1(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let B_=!1;function Av(r,e){if(typeof window>"u"||typeof document>"u"||!_l(window.location.host)||Oo[r]===e||Oo[r]||B_)return;Oo[r]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=B1().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function y(M,F){M.setAttribute("width","24"),M.setAttribute("id",F),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{B_=!0,d()},M}function E(M,F){M.setAttribute("id",F),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function A(){const M=q1(a),F=i("text"),W=document.getElementById(F)||document.createElement("span"),ie=i("learnmore"),J=document.getElementById(ie)||document.createElement("a"),_e=i("preprendIcon"),Re=document.getElementById(_e)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const Ee=M.element;p(Ee),E(J,ie);const ge=_();y(Re,_e),Ee.append(Re,W,J,ge),document.body.appendChild(Ee)}c?(W.innerText="Preview backend disconnected.",Re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function H1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function G1(){const r=hh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function F1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Q1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Y1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function K1(){const r=pn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function X1(){return!G1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $1(){try{return typeof indexedDB=="object"}catch{return!1}}function Z1(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const W1="FirebaseError";class Cs extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=W1,Object.setPrototypeOf(this,Cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qo.prototype.create)}}class Qo{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?J1(c,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Cs(o,p,a)}}function J1(r,e){return r.replace(eS,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const eS=/\{\$([^}]+)}/g;function tS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function vr(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=e[o];if(q_(c)&&q_(d)){if(!vr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function q_(r){return r!==null&&typeof r=="object"}function Yo(r){const e=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function nS(r,e){const i=new iS(r,e);return i.subscribe.bind(i)}class iS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");sS(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=kd),o.error===void 0&&(o.error=kd),o.complete===void 0&&(o.complete=kd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sS(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function kd(){}function Tn(r){return r&&r._delegate?r._delegate:r}class aa{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ia="[DEFAULT]";class rS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new j1;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lS(e))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ia){return this.instances.has(e)}getOptions(e=ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:aS(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ia){return this.component?this.component.multipleInstances?e:ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aS(r){return r===ia?void 0:r}function lS(r){return r.instantiationMode==="EAGER"}class oS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new rS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Le;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Le||(Le={}));const uS={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},cS=Le.INFO,hS={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},fS=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=hS[e];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sm{constructor(e){this.name=e,this._logLevel=cS,this._logHandler=fS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const dS=(r,e)=>e.some(i=>r instanceof i);let H_,G_;function mS(){return H_||(H_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gS(){return G_||(G_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wv=new WeakMap,$d=new WeakMap,Rv=new WeakMap,Ud=new WeakMap,Am=new WeakMap;function pS(r){const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(mr(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&wv.set(i,r)}).catch(()=>{}),Am.set(e,r),e}function yS(r){if($d.has(r))return;const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});$d.set(r,e)}let Zd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return $d.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Rv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return mr(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function _S(r){Zd=r(Zd)}function vS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(Ld(this),e,...i);return Rv.set(a,e.sort?e.sort():[e]),mr(a)}:gS().includes(r)?function(...e){return r.apply(Ld(this),e),mr(wv.get(this))}:function(...e){return mr(r.apply(Ld(this),e))}}function ES(r){return typeof r=="function"?vS(r):(r instanceof IDBTransaction&&yS(r),dS(r,mS())?new Proxy(r,Zd):r)}function mr(r){if(r instanceof IDBRequest)return pS(r);if(Ud.has(r))return Ud.get(r);const e=ES(r);return e!==r&&(Ud.set(r,e),Am.set(e,r)),e}const Ld=r=>Am.get(r);function TS(r,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,e),p=mr(d);return a&&d.addEventListener("upgradeneeded",y=>{a(mr(d.result),y.oldVersion,y.newVersion,mr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const bS=["get","getKey","getAll","getAllKeys","count"],SS=["put","add","delete","clear"],Pd=new Map;function F_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Pd.get(e))return Pd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=SS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||bS.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,o?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),o&&y.done]))[0]};return Pd.set(e,c),c}_S(r=>({...r,get:(e,i,a)=>F_(e,i)||r.get(e,i,a),has:(e,i)=>!!F_(e,i)||r.has(e,i)}));class AS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(wS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function wS(r){return r.getComponent()?.type==="VERSION"}const Wd="@firebase/app",Q_="0.14.6";const Ts=new Sm("@firebase/app"),RS="@firebase/app-compat",CS="@firebase/analytics-compat",xS="@firebase/analytics",IS="@firebase/app-check-compat",NS="@firebase/app-check",DS="@firebase/auth",OS="@firebase/auth-compat",MS="@firebase/database",VS="@firebase/data-connect",kS="@firebase/database-compat",US="@firebase/functions",LS="@firebase/functions-compat",PS="@firebase/installations",jS="@firebase/installations-compat",zS="@firebase/messaging",BS="@firebase/messaging-compat",qS="@firebase/performance",HS="@firebase/performance-compat",GS="@firebase/remote-config",FS="@firebase/remote-config-compat",QS="@firebase/storage",YS="@firebase/storage-compat",KS="@firebase/firestore",XS="@firebase/ai",$S="@firebase/firestore-compat",ZS="firebase",WS="12.6.0";const Jd="[DEFAULT]",JS={[Wd]:"fire-core",[RS]:"fire-core-compat",[xS]:"fire-analytics",[CS]:"fire-analytics-compat",[NS]:"fire-app-check",[IS]:"fire-app-check-compat",[DS]:"fire-auth",[OS]:"fire-auth-compat",[MS]:"fire-rtdb",[VS]:"fire-data-connect",[kS]:"fire-rtdb-compat",[US]:"fire-fn",[LS]:"fire-fn-compat",[PS]:"fire-iid",[jS]:"fire-iid-compat",[zS]:"fire-fcm",[BS]:"fire-fcm-compat",[qS]:"fire-perf",[HS]:"fire-perf-compat",[GS]:"fire-rc",[FS]:"fire-rc-compat",[QS]:"fire-gcs",[YS]:"fire-gcs-compat",[KS]:"fire-fst",[$S]:"fire-fst-compat",[XS]:"fire-vertex","fire-js":"fire-js",[ZS]:"fire-js-all"};const Qc=new Map,eA=new Map,em=new Map;function Y_(r,e){try{r.container.addComponent(e)}catch(i){Ts.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function ul(r){const e=r.name;if(em.has(e))return Ts.debug(`There were multiple attempts to register component ${e}.`),!1;em.set(e,r);for(const i of Qc.values())Y_(i,r);for(const i of eA.values())Y_(i,r);return!0}function wm(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function si(r){return r==null?!1:r.settings!==void 0}const tA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gr=new Qo("app","Firebase",tA);class nA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gr.create("app-deleted",{appName:this._name})}}const vl=WS;function Cv(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:Jd,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw gr.create("bad-app-name",{appName:String(o)});if(i||(i=Tv()),!i)throw gr.create("no-options");const c=Qc.get(o);if(c){if(vr(i,c.options)&&vr(a,c.config))return c;throw gr.create("duplicate-app",{appName:o})}const d=new oS(o);for(const y of em.values())d.addComponent(y);const p=new nA(i,a,d);return Qc.set(o,p),p}function xv(r=Jd){const e=Qc.get(r);if(!e&&r===Jd&&Tv())return Cv();if(!e)throw gr.create("no-app",{appName:r});return e}function pr(r,e,i){let a=JS[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ts.warn(d.join(" "));return}ul(new aa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const iA="firebase-heartbeat-database",sA=1,Po="firebase-heartbeat-store";let jd=null;function Iv(){return jd||(jd=TS(iA,sA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Po)}catch(i){console.warn(i)}}}}).catch(r=>{throw gr.create("idb-open",{originalErrorMessage:r.message})})),jd}async function rA(r){try{const i=(await Iv()).transaction(Po),a=await i.objectStore(Po).get(Nv(r));return await i.done,a}catch(e){if(e instanceof Cs)Ts.warn(e.message);else{const i=gr.create("idb-get",{originalErrorMessage:e?.message});Ts.warn(i.message)}}}async function K_(r,e){try{const a=(await Iv()).transaction(Po,"readwrite");await a.objectStore(Po).put(e,Nv(r)),await a.done}catch(i){if(i instanceof Cs)Ts.warn(i.message);else{const a=gr.create("idb-set",{originalErrorMessage:i?.message});Ts.warn(a.message)}}}function Nv(r){return`${r.name}!${r.options.appId}`}const aA=1024,lA=30;class oA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new cA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=X_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>lA){const o=hA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ts.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=X_(),{heartbeatsToSend:i,unsentEntries:a}=uA(this._heartbeatsCache.heartbeats),o=Fc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ts.warn(e),""}}}function X_(){return new Date().toISOString().substring(0,10)}function uA(r,e=aA){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),$_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),$_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class cA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $1()?Z1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await rA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return K_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return K_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function $_(r){return Fc(JSON.stringify({version:2,heartbeats:r})).length}function hA(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}function fA(r){ul(new aa("platform-logger",e=>new AS(e),"PRIVATE")),ul(new aa("heartbeat",e=>new oA(e),"PRIVATE")),pr(Wd,Q_,r),pr(Wd,Q_,"esm2020"),pr("fire-js","")}fA("");var dA="firebase",mA="12.6.0";pr(dA,mA,"app");function Dv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gA=Dv,Ov=new Qo("auth","Firebase",Dv());const Yc=new Sm("@firebase/auth");function pA(r,...e){Yc.logLevel<=Le.WARN&&Yc.warn(`Auth (${vl}): ${r}`,...e)}function kc(r,...e){Yc.logLevel<=Le.ERROR&&Yc.error(`Auth (${vl}): ${r}`,...e)}function bs(r,...e){throw Rm(r,...e)}function qi(r,...e){return Rm(r,...e)}function Mv(r,e,i){const a={...gA(),[e]:i};return new Qo("auth","Firebase",a).create(e,{appName:r.name})}function Es(r){return Mv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rm(r,...e){if(typeof r!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return Ov.create(r,...e)}function be(r,e,...i){if(!r)throw Rm(e,...i)}function _s(r){const e="INTERNAL ASSERTION FAILED: "+r;throw kc(e),new Error(e)}function Ss(r,e){r||_s(e)}function tm(){return typeof self<"u"&&self.location?.href||""}function yA(){return Z_()==="http:"||Z_()==="https:"}function Z_(){return typeof self<"u"&&self.location?.protocol||null}function _A(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yA()||Q1()||"connection"in navigator)?navigator.onLine:!0}function vA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Ko{constructor(e,i){this.shortDelay=e,this.longDelay=i,Ss(i>e,"Short delay should be less than long delay!"),this.isMobile=H1()||Y1()}get(){return _A()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cm(r,e){Ss(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Vv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_s("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_s("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_s("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const EA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const TA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bA=new Ko(3e4,6e4);function Xo(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function El(r,e,i,a,o={}){return kv(r,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const p=Yo({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:e,headers:y,...c};return F1()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&_l(r.emulatorConfig.host)&&(_.credentials="include"),Vv.fetch()(await Uv(r,r.config.apiHost,i,p),_)})}async function kv(r,e,i){r._canInitEmulator=!1;const a={...EA,...e};try{const o=new SA(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw xc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw xc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw xc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw xc(r,"user-disabled",d);const E=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Mv(r,E,_);bs(r,E)}}catch(o){if(o instanceof Cs)throw o;bs(r,"network-request-failed",{message:String(o)})}}async function xm(r,e,i,a,o={}){const c=await El(r,e,i,a,o);return"mfaPendingCredential"in c&&bs(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function Uv(r,e,i,a){const o=`${e}${i}?${a}`,c=r,d=c.config.emulator?Cm(r.config,o):`${r.config.apiScheme}://${o}`;return TA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class SA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(qi(this.auth,"network-request-failed")),bA.get())})}}function xc(r,e,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=qi(r,e,a);return o.customData._tokenResponse=i,o}async function AA(r,e){return El(r,"POST","/v1/accounts:delete",e)}async function Kc(r,e){return El(r,"POST","/v1/accounts:lookup",e)}function Mo(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wA(r,e=!1){const i=Tn(r),a=await i.getIdToken(e),o=Im(a);be(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Mo(zd(o.auth_time)),issuedAtTime:Mo(zd(o.iat)),expirationTime:Mo(zd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function zd(r){return Number(r)*1e3}function Im(r){const[e,i,a]=r.split(".");if(e===void 0||i===void 0||a===void 0)return kc("JWT malformed, contained fewer than 3 sections"),null;try{const o=vv(i);return o?JSON.parse(o):(kc("Failed to decode base64 JWT payload"),null)}catch(o){return kc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function W_(r){const e=Im(r);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function jo(r,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Cs&&RA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function RA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class CA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class nm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mo(this.lastLoginAt),this.creationTime=Mo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Xc(r){const e=r.auth,i=await r.getIdToken(),a=await jo(r,Kc(e,{idToken:i}));be(a?.users.length,e,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?Lv(o.providerUserInfo):[],d=IA(r.providerData,c),p=r.isAnonymous,y=!(r.email&&o.passwordHash)&&!d?.length,_=p?y:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new nm(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(r,E)}async function xA(r){const e=Tn(r);await Xc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function IA(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Lv(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function NA(r,e){const i=await kv(r,{},async()=>{const a=Yo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await Uv(r,o,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return r.emulatorConfig&&_l(r.emulatorConfig.host)&&(y.credentials="include"),Vv.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function DA(r,e){return El(r,"POST","/v2/accounts:revokeToken",Xo(r,e))}class sl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):W_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){be(e.length!==0,"internal-error");const i=W_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await NA(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new sl;return a&&(be(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(be(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(be(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sl,this.toJSON())}_performRefresh(){return _s("not implemented")}}function or(r,e){be(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class vi{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new CA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new nm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await jo(this,this.stsTokenManager.getToken(this.auth,e));return be(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return wA(this,e)}reload(){return xA(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new vi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Xc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(si(this.auth.app))return Promise.reject(Es(this.auth));const e=await this.getIdToken();return await jo(this,AA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:A,emailVerified:M,isAnonymous:F,providerData:W,stsTokenManager:ie}=i;be(A&&ie,e,"internal-error");const J=sl.fromJSON(this.name,ie);be(typeof A=="string",e,"internal-error"),or(a,e.name),or(o,e.name),be(typeof M=="boolean",e,"internal-error"),be(typeof F=="boolean",e,"internal-error"),or(c,e.name),or(d,e.name),or(p,e.name),or(y,e.name),or(_,e.name),or(E,e.name);const _e=new vi({uid:A,auth:e,email:o,emailVerified:M,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:J,createdAt:_,lastLoginAt:E});return W&&Array.isArray(W)&&(_e.providerData=W.map(Re=>({...Re}))),y&&(_e._redirectEventId=y),_e}static async _fromIdTokenResponse(e,i,a=!1){const o=new sl;o.updateFromServerResponse(i);const c=new vi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Xc(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];be(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Lv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new sl;p.updateFromIdToken(a);const y=new vi({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new nm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const J_=new Map;function vs(r){Ss(r instanceof Function,"Expected a class definition");let e=J_.get(r);return e?(Ss(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,J_.set(r,e),e)}class Pv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Pv.type="NONE";const e0=Pv;function Uc(r,e,i){return`firebase:${r}:${e}:${i}`}class rl{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Uc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Uc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Kc(this.auth,{idToken:e}).catch(()=>{});return i?vi._fromGetAccountInfoResponse(this.auth,i,e):null}return vi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new rl(vs(e0),e,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||vs(e0);const d=Uc(a,e.config.apiKey,e.name);let p=null;for(const _ of i)try{const E=await _._get(d);if(E){let A;if(typeof E=="string"){const M=await Kc(e,{idToken:E}).catch(()=>{});if(!M)break;A=await vi._fromGetAccountInfoResponse(e,M,E)}else A=vi._fromJSON(e,E);_!==c&&(p=A),c=_;break}}catch{}const y=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new rl(c,e,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new rl(c,e,a))}}function t0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Gv(e))return"Blackberry";if(Fv(e))return"Webos";if(zv(e))return"Safari";if((e.includes("chrome/")||Bv(e))&&!e.includes("edge/"))return"Chrome";if(Hv(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function jv(r=pn()){return/firefox\//i.test(r)}function zv(r=pn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Bv(r=pn()){return/crios\//i.test(r)}function qv(r=pn()){return/iemobile/i.test(r)}function Hv(r=pn()){return/android/i.test(r)}function Gv(r=pn()){return/blackberry/i.test(r)}function Fv(r=pn()){return/webos/i.test(r)}function Nm(r=pn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function OA(r=pn()){return Nm(r)&&!!window.navigator?.standalone}function MA(){return K1()&&document.documentMode===10}function Qv(r=pn()){return Nm(r)||Hv(r)||Fv(r)||Gv(r)||/windows phone/i.test(r)||qv(r)}function Yv(r,e=[]){let i;switch(r){case"Browser":i=t0(pn());break;case"Worker":i=`${t0(pn())}-${r}`;break;default:i=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${vl}/${a}`}class VA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,p)=>{try{const y=e(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function kA(r,e={}){return El(r,"GET","/v2/passwordPolicy",Xo(r,e))}const UA=6;class LA{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??UA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class PA{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new n0(this),this.idTokenSubscription=new n0(this),this.beforeStateQueue=new VA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ov,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=vs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await rl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Kc(this,{idToken:e}),a=await vi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(si(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Xc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(si(this.app))return Promise.reject(Es(this));const i=e?Tn(e):null;return i&&be(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return si(this.app)?Promise.reject(Es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return si(this.app)?Promise.reject(Es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kA(this),i=new LA(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qo("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await DA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&vs(e)||this._popupRedirectResolver;be(i,this,"argument-error"),this.redirectPersistenceManager=await rl.create(this,[vs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,a,o);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Yv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&pA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function $o(r){return Tn(r)}class n0{constructor(e){this.auth=e,this.observer=null,this.addObserver=nS(i=>this.observer=i)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Dm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jA(r){Dm=r}function zA(r){return Dm.loadJS(r)}function BA(){return Dm.gapiScript}function qA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function HA(r,e){const i=wm(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(vr(c,e??{}))return o;bs(o,"already-initialized")}return i.initialize({options:e})}function GA(r,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(vs);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function FA(r,e,i){const a=$o(r);be(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=Kv(e),{host:d,port:p}=QA(e),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},E=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){be(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),be(vr(_,a.config.emulator)&&vr(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,_l(d)?(Sv(`${c}//${d}${y}`),Av("Auth",!0)):YA()}function Kv(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function QA(r){const e=Kv(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:i0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:i0(d)}}}function i0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function YA(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Xv{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return _s("not implemented")}_getIdTokenResponse(e){return _s("not implemented")}_linkToIdToken(e,i){return _s("not implemented")}_getReauthenticationResolver(e){return _s("not implemented")}}async function al(r,e){return xm(r,"POST","/v1/accounts:signInWithIdp",Xo(r,e))}const KA="http://localhost";class la extends Xv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new la(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):bs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new la(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return al(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,al(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,al(e,i)}buildRequest(){const e={requestUri:KA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Yo(i)}return e}}class $v{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Zo extends $v{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ur extends Zo{constructor(){super("facebook.com")}static credential(e){return la._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ur.credential(e.oauthAccessToken)}catch{return null}}}ur.FACEBOOK_SIGN_IN_METHOD="facebook.com";ur.PROVIDER_ID="facebook.com";class cr extends Zo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return la._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return cr.credential(i,a)}catch{return null}}}cr.GOOGLE_SIGN_IN_METHOD="google.com";cr.PROVIDER_ID="google.com";class hr extends Zo{constructor(){super("github.com")}static credential(e){return la._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hr.credential(e.oauthAccessToken)}catch{return null}}}hr.GITHUB_SIGN_IN_METHOD="github.com";hr.PROVIDER_ID="github.com";class fr extends Zo{constructor(){super("twitter.com")}static credential(e,i){return la._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return fr.credential(i,a)}catch{return null}}}fr.TWITTER_SIGN_IN_METHOD="twitter.com";fr.PROVIDER_ID="twitter.com";async function XA(r,e){return xm(r,"POST","/v1/accounts:signUp",Xo(r,e))}class As{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await vi._fromIdTokenResponse(e,a,o),d=s0(a);return new As({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=s0(a);return new As({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function s0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function $A(r){if(si(r.app))return Promise.reject(Es(r));const e=$o(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new As({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await XA(e,{returnSecureToken:!0}),a=await As._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class $c extends Cs{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,$c.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new $c(e,i,a,o)}}function Zv(r,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?$c._fromErrorAndOperation(r,c,e,a):c})}async function ZA(r,e,i=!1){const a=await jo(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return As._forOperation(r,"link",a)}async function WA(r,e,i=!1){const{auth:a}=r;if(si(a.app))return Promise.reject(Es(a));const o="reauthenticate";try{const c=await jo(r,Zv(a,o,e,r),i);be(c.idToken,a,"internal-error");const d=Im(c.idToken);be(d,a,"internal-error");const{sub:p}=d;return be(r.uid===p,a,"user-mismatch"),As._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&bs(a,"user-mismatch"),c}}async function JA(r,e,i=!1){if(si(r.app))return Promise.reject(Es(r));const a="signIn",o=await Zv(r,a,e),c=await As._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}async function ew(r,e){return xm(r,"POST","/v1/accounts:signInWithCustomToken",Xo(r,e))}async function tw(r,e){if(si(r.app))return Promise.reject(Es(r));const i=$o(r),a=await ew(i,{token:e,returnSecureToken:!0}),o=await As._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function nw(r,e,i,a){return Tn(r).onIdTokenChanged(e,i,a)}function iw(r,e,i){return Tn(r).beforeAuthStateChanged(e,i)}function sw(r,e,i,a){return Tn(r).onAuthStateChanged(e,i,a)}const Zc="__sak";class Wv{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Zc,"1"),this.storage.removeItem(Zc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const rw=1e3,aw=10;class Jv extends Wv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Qv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);MA()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,aw):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},rw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}Jv.type="LOCAL";const lw=Jv;class eE extends Wv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}eE.type="SESSION";const tE=eE;function ow(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class fh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new fh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await ow(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fh.receivers=[];function Om(r="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return r+i}class uw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=Om("",20);o.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(A){const M=A;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(E),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Hi(){return window}function cw(r){Hi().location.href=r}function nE(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function hw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fw(){return navigator?.serviceWorker?.controller||null}function dw(){return nE()?self:null}const iE="firebaseLocalStorageDb",mw=1,Wc="firebaseLocalStorage",sE="fbase_key";class Wo{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function dh(r,e){return r.transaction([Wc],e?"readwrite":"readonly").objectStore(Wc)}function gw(){const r=indexedDB.deleteDatabase(iE);return new Wo(r).toPromise()}function im(){const r=indexedDB.open(iE,mw);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Wc,{keyPath:sE})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Wc)?e(a):(a.close(),await gw(),e(await im()))})})}async function r0(r,e,i){const a=dh(r,!0).put({[sE]:e,value:i});return new Wo(a).toPromise()}async function pw(r,e){const i=dh(r,!1).get(e),a=await new Wo(i).toPromise();return a===void 0?null:a.value}function a0(r,e){const i=dh(r,!0).delete(e);return new Wo(i).toPromise()}const yw=800,_w=3;class rE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await im(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>_w)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fh._getInstance(dw()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await hw(),!this.activeServiceWorker)return;this.sender=new uw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await im();return await r0(e,Zc,"1"),await a0(e,Zc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>r0(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>pw(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>a0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=dh(o,!1).getAll();return new Wo(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rE.type="LOCAL";const vw=rE;new Ko(3e4,6e4);function Ew(r,e){return e?vs(e):(be(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Mm extends Xv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return al(e,this._buildIdpRequest())}_linkToIdToken(e,i){return al(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return al(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function Tw(r){return JA(r.auth,new Mm(r),r.bypassAuthState)}function bw(r){const{auth:e,user:i}=r;return be(i,e,"internal-error"),WA(i,new Mm(r),r.bypassAuthState)}async function Sw(r){const{auth:e,user:i}=r;return be(i,e,"internal-error"),ZA(i,new Mm(r),r.bypassAuthState)}class aE{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Tw;case"linkViaPopup":case"linkViaRedirect":return Sw;case"reauthViaPopup":case"reauthViaRedirect":return bw;default:bs(this.auth,"internal-error")}}resolve(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Aw=new Ko(2e3,1e4);class il extends aE{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,il.currentPopupAction&&il.currentPopupAction.cancel(),il.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Ss(this.filter.length===1,"Popup operations only handle one event");const e=Om();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,il.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Aw.get())};e()}}il.currentPopupAction=null;const ww="pendingRedirect",Lc=new Map;class Rw extends aE{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Lc.get(this.auth._key());if(!e){try{const a=await Cw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Lc.set(this.auth._key(),e)}return this.bypassAuthState||Lc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Cw(r,e){const i=Nw(e),a=Iw(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function xw(r,e){Lc.set(r._key(),e)}function Iw(r){return vs(r._redirectPersistence)}function Nw(r){return Uc(ww,r.config.apiKey,r.name)}async function Dw(r,e,i=!1){if(si(r.app))return Promise.reject(Es(r));const a=$o(r),o=Ew(a,e),d=await new Rw(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const Ow=600*1e3;class Mw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Vw(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!lE(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(qi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ow&&this.cachedEventUids.clear(),this.cachedEventUids.has(l0(e))}saveEventToCache(e){this.cachedEventUids.add(l0(e)),this.lastProcessedEventTime=Date.now()}}function l0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function lE({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function Vw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lE(r);default:return!1}}async function kw(r,e={}){return El(r,"GET","/v1/projects",e)}const Uw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lw=/^https?/;async function Pw(r){if(r.config.emulator)return;const{authorizedDomains:e}=await kw(r);for(const i of e)try{if(jw(i))return}catch{}bs(r,"unauthorized-domain")}function jw(r){const e=tm(),{protocol:i,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Lw.test(i))return!1;if(Uw.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const zw=new Ko(3e4,6e4);function o0(){const r=Hi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Bw(r){return new Promise((e,i)=>{function a(){o0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{o0(),i(qi(r,"network-request-failed"))},timeout:zw.get()})}if(Hi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Hi().gapi?.load)a();else{const o=qA("iframefcb");return Hi()[o]=()=>{gapi.load?a():i(qi(r,"network-request-failed"))},zA(`${BA()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Pc=null,e})}let Pc=null;function qw(r){return Pc=Pc||Bw(r),Pc}const Hw=new Ko(5e3,15e3),Gw="__/auth/iframe",Fw="emulator/auth/iframe",Qw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Kw(r){const e=r.config;be(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?Cm(e,Fw):`https://${r.config.authDomain}/${Gw}`,a={apiKey:e.apiKey,appName:r.name,v:vl},o=Yw.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Yo(a).slice(1)}`}async function Xw(r){const e=await qw(r),i=Hi().gapi;return be(i,r,"internal-error"),e.open({where:document.body,url:Kw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qw,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=qi(r,"network-request-failed"),p=Hi().setTimeout(()=>{c(d)},Hw.get());function y(){Hi().clearTimeout(p),o(a)}a.ping(y).then(y,()=>{c(d)})}))}const $w={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Zw=500,Ww=600,Jw="_blank",eR="http://localhost";class u0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tR(r,e,i,a=Zw,o=Ww){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...$w,width:a.toString(),height:o.toString(),top:c,left:d},_=pn().toLowerCase();i&&(p=Bv(_)?Jw:i),jv(_)&&(e=e||eR,y.scrollbars="yes");const E=Object.entries(y).reduce((M,[F,W])=>`${M}${F}=${W},`,"");if(OA(_)&&p!=="_self")return nR(e||"",p),new u0(null);const A=window.open(e||"",p,E);be(A,r,"popup-blocked");try{A.focus()}catch{}return new u0(A)}function nR(r,e){const i=document.createElement("a");i.href=r,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const iR="__/auth/handler",sR="emulator/auth/handler",rR=encodeURIComponent("fac");async function c0(r,e,i,a,o,c){be(r.config.authDomain,r,"auth-domain-config-required"),be(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:vl,eventId:o};if(e instanceof $v){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",tS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))d[E]=A}if(e instanceof Zo){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(d.scopes=E.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const y=await r._getAppCheckToken(),_=y?`#${rR}=${encodeURIComponent(y)}`:"";return`${aR(r)}?${Yo(p).slice(1)}${_}`}function aR({config:r}){return r.emulator?Cm(r,sR):`https://${r.authDomain}/${iR}`}const Bd="webStorageSupport";class lR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tE,this._completeRedirectFn=Dw,this._overrideRedirectResult=xw}async _openPopup(e,i,a,o){Ss(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await c0(e,i,a,tm(),o);return tR(e,c,Om())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await c0(e,i,a,tm(),o);return cw(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Ss(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await Xw(e),a=new Mw(e);return i.register("authEvent",o=>(be(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Bd,{type:Bd},o=>{const c=o?.[0]?.[Bd];c!==void 0&&i(!!c),bs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Pw(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return Qv()||zv()||Nm()}}const oR=lR;var h0="@firebase/auth",f0="1.11.1";class uR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function cR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hR(r){ul(new aa("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;be(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Yv(r)},_=new PA(a,o,c,y);return GA(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),ul(new aa("auth-internal",e=>{const i=$o(e.getProvider("auth").getImmediate());return(a=>new uR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),pr(h0,f0,cR(r)),pr(h0,f0,"esm2020")}const fR=300,dR=bv("authIdTokenMaxAge")||fR;let d0=null;const mR=r=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>dR)return;const o=i?.token;d0!==o&&(d0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function gR(r=xv()){const e=wm(r,"auth");if(e.isInitialized())return e.getImmediate();const i=HA(r,{popupRedirectResolver:oR,persistence:[vw,lw,tE]}),a=bv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=mR(c.toString());iw(i,d,()=>d(i.currentUser)),nw(i,p=>d(p))}}const o=Ev("auth");return o&&FA(i,`http://${o}`),i}function pR(){return document.getElementsByTagName("head")?.[0]??document}jA({loadJS(r){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const c=qi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",pR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hR("Browser");var m0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var yr,oE;(function(){var r;function e(I,w){function x(){}x.prototype=w.prototype,I.F=w.prototype,I.prototype=new x,I.prototype.constructor=I,I.D=function(V,N,k){for(var R=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)R[ot-2]=arguments[ot];return w.prototype[N].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,w,x){x||(x=0);const V=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)V[N]=w.charCodeAt(x++)|w.charCodeAt(x++)<<8|w.charCodeAt(x++)<<16|w.charCodeAt(x++)<<24;else for(N=0;N<16;++N)V[N]=w[x++]|w[x++]<<8|w[x++]<<16|w[x++]<<24;w=I.g[0],x=I.g[1],N=I.g[2];let k=I.g[3],R;R=w+(k^x&(N^k))+V[0]+3614090360&4294967295,w=x+(R<<7&4294967295|R>>>25),R=k+(N^w&(x^N))+V[1]+3905402710&4294967295,k=w+(R<<12&4294967295|R>>>20),R=N+(x^k&(w^x))+V[2]+606105819&4294967295,N=k+(R<<17&4294967295|R>>>15),R=x+(w^N&(k^w))+V[3]+3250441966&4294967295,x=N+(R<<22&4294967295|R>>>10),R=w+(k^x&(N^k))+V[4]+4118548399&4294967295,w=x+(R<<7&4294967295|R>>>25),R=k+(N^w&(x^N))+V[5]+1200080426&4294967295,k=w+(R<<12&4294967295|R>>>20),R=N+(x^k&(w^x))+V[6]+2821735955&4294967295,N=k+(R<<17&4294967295|R>>>15),R=x+(w^N&(k^w))+V[7]+4249261313&4294967295,x=N+(R<<22&4294967295|R>>>10),R=w+(k^x&(N^k))+V[8]+1770035416&4294967295,w=x+(R<<7&4294967295|R>>>25),R=k+(N^w&(x^N))+V[9]+2336552879&4294967295,k=w+(R<<12&4294967295|R>>>20),R=N+(x^k&(w^x))+V[10]+4294925233&4294967295,N=k+(R<<17&4294967295|R>>>15),R=x+(w^N&(k^w))+V[11]+2304563134&4294967295,x=N+(R<<22&4294967295|R>>>10),R=w+(k^x&(N^k))+V[12]+1804603682&4294967295,w=x+(R<<7&4294967295|R>>>25),R=k+(N^w&(x^N))+V[13]+4254626195&4294967295,k=w+(R<<12&4294967295|R>>>20),R=N+(x^k&(w^x))+V[14]+2792965006&4294967295,N=k+(R<<17&4294967295|R>>>15),R=x+(w^N&(k^w))+V[15]+1236535329&4294967295,x=N+(R<<22&4294967295|R>>>10),R=w+(N^k&(x^N))+V[1]+4129170786&4294967295,w=x+(R<<5&4294967295|R>>>27),R=k+(x^N&(w^x))+V[6]+3225465664&4294967295,k=w+(R<<9&4294967295|R>>>23),R=N+(w^x&(k^w))+V[11]+643717713&4294967295,N=k+(R<<14&4294967295|R>>>18),R=x+(k^w&(N^k))+V[0]+3921069994&4294967295,x=N+(R<<20&4294967295|R>>>12),R=w+(N^k&(x^N))+V[5]+3593408605&4294967295,w=x+(R<<5&4294967295|R>>>27),R=k+(x^N&(w^x))+V[10]+38016083&4294967295,k=w+(R<<9&4294967295|R>>>23),R=N+(w^x&(k^w))+V[15]+3634488961&4294967295,N=k+(R<<14&4294967295|R>>>18),R=x+(k^w&(N^k))+V[4]+3889429448&4294967295,x=N+(R<<20&4294967295|R>>>12),R=w+(N^k&(x^N))+V[9]+568446438&4294967295,w=x+(R<<5&4294967295|R>>>27),R=k+(x^N&(w^x))+V[14]+3275163606&4294967295,k=w+(R<<9&4294967295|R>>>23),R=N+(w^x&(k^w))+V[3]+4107603335&4294967295,N=k+(R<<14&4294967295|R>>>18),R=x+(k^w&(N^k))+V[8]+1163531501&4294967295,x=N+(R<<20&4294967295|R>>>12),R=w+(N^k&(x^N))+V[13]+2850285829&4294967295,w=x+(R<<5&4294967295|R>>>27),R=k+(x^N&(w^x))+V[2]+4243563512&4294967295,k=w+(R<<9&4294967295|R>>>23),R=N+(w^x&(k^w))+V[7]+1735328473&4294967295,N=k+(R<<14&4294967295|R>>>18),R=x+(k^w&(N^k))+V[12]+2368359562&4294967295,x=N+(R<<20&4294967295|R>>>12),R=w+(x^N^k)+V[5]+4294588738&4294967295,w=x+(R<<4&4294967295|R>>>28),R=k+(w^x^N)+V[8]+2272392833&4294967295,k=w+(R<<11&4294967295|R>>>21),R=N+(k^w^x)+V[11]+1839030562&4294967295,N=k+(R<<16&4294967295|R>>>16),R=x+(N^k^w)+V[14]+4259657740&4294967295,x=N+(R<<23&4294967295|R>>>9),R=w+(x^N^k)+V[1]+2763975236&4294967295,w=x+(R<<4&4294967295|R>>>28),R=k+(w^x^N)+V[4]+1272893353&4294967295,k=w+(R<<11&4294967295|R>>>21),R=N+(k^w^x)+V[7]+4139469664&4294967295,N=k+(R<<16&4294967295|R>>>16),R=x+(N^k^w)+V[10]+3200236656&4294967295,x=N+(R<<23&4294967295|R>>>9),R=w+(x^N^k)+V[13]+681279174&4294967295,w=x+(R<<4&4294967295|R>>>28),R=k+(w^x^N)+V[0]+3936430074&4294967295,k=w+(R<<11&4294967295|R>>>21),R=N+(k^w^x)+V[3]+3572445317&4294967295,N=k+(R<<16&4294967295|R>>>16),R=x+(N^k^w)+V[6]+76029189&4294967295,x=N+(R<<23&4294967295|R>>>9),R=w+(x^N^k)+V[9]+3654602809&4294967295,w=x+(R<<4&4294967295|R>>>28),R=k+(w^x^N)+V[12]+3873151461&4294967295,k=w+(R<<11&4294967295|R>>>21),R=N+(k^w^x)+V[15]+530742520&4294967295,N=k+(R<<16&4294967295|R>>>16),R=x+(N^k^w)+V[2]+3299628645&4294967295,x=N+(R<<23&4294967295|R>>>9),R=w+(N^(x|~k))+V[0]+4096336452&4294967295,w=x+(R<<6&4294967295|R>>>26),R=k+(x^(w|~N))+V[7]+1126891415&4294967295,k=w+(R<<10&4294967295|R>>>22),R=N+(w^(k|~x))+V[14]+2878612391&4294967295,N=k+(R<<15&4294967295|R>>>17),R=x+(k^(N|~w))+V[5]+4237533241&4294967295,x=N+(R<<21&4294967295|R>>>11),R=w+(N^(x|~k))+V[12]+1700485571&4294967295,w=x+(R<<6&4294967295|R>>>26),R=k+(x^(w|~N))+V[3]+2399980690&4294967295,k=w+(R<<10&4294967295|R>>>22),R=N+(w^(k|~x))+V[10]+4293915773&4294967295,N=k+(R<<15&4294967295|R>>>17),R=x+(k^(N|~w))+V[1]+2240044497&4294967295,x=N+(R<<21&4294967295|R>>>11),R=w+(N^(x|~k))+V[8]+1873313359&4294967295,w=x+(R<<6&4294967295|R>>>26),R=k+(x^(w|~N))+V[15]+4264355552&4294967295,k=w+(R<<10&4294967295|R>>>22),R=N+(w^(k|~x))+V[6]+2734768916&4294967295,N=k+(R<<15&4294967295|R>>>17),R=x+(k^(N|~w))+V[13]+1309151649&4294967295,x=N+(R<<21&4294967295|R>>>11),R=w+(N^(x|~k))+V[4]+4149444226&4294967295,w=x+(R<<6&4294967295|R>>>26),R=k+(x^(w|~N))+V[11]+3174756917&4294967295,k=w+(R<<10&4294967295|R>>>22),R=N+(w^(k|~x))+V[2]+718787259&4294967295,N=k+(R<<15&4294967295|R>>>17),R=x+(k^(N|~w))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+k&4294967295}a.prototype.v=function(I,w){w===void 0&&(w=I.length);const x=w-this.blockSize,V=this.C;let N=this.h,k=0;for(;k<w;){if(N==0)for(;k<=x;)o(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<w;)if(V[N++]=I.charCodeAt(k++),N==this.blockSize){o(this,V),N=0;break}}else for(;k<w;)if(V[N++]=I[k++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=w},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;w=this.o*8;for(var x=I.length-8;x<I.length;++x)I[x]=w&255,w/=256;for(this.v(I),I=Array(16),w=0,x=0;x<4;++x)for(let V=0;V<32;V+=8)I[w++]=this.g[x]>>>V&255;return I};function c(I,w){var x=p;return Object.prototype.hasOwnProperty.call(x,I)?x[I]:x[I]=w(I)}function d(I,w){this.h=w;const x=[];let V=!0;for(let N=I.length-1;N>=0;N--){const k=I[N]|0;V&&k==w||(x[N]=k,V=!1)}this.g=x}var p={};function y(I){return-128<=I&&I<128?c(I,function(w){return new d([w|0],w<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return A;if(I<0)return J(_(-I));const w=[];let x=1;for(let V=0;I>=x;V++)w[V]=I/x|0,x*=4294967296;return new d(w,0)}function E(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return J(E(I.substring(1),w));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=_(Math.pow(w,8));let V=A;for(let k=0;k<I.length;k+=8){var N=Math.min(8,I.length-k);const R=parseInt(I.substring(k,k+N),w);N<8?(N=_(Math.pow(w,N)),V=V.j(N).add(_(R))):(V=V.j(x),V=V.add(_(R)))}return V}var A=y(0),M=y(1),F=y(16777216);r=d.prototype,r.m=function(){if(ie(this))return-J(this).m();let I=0,w=1;for(let x=0;x<this.g.length;x++){const V=this.i(x);I+=(V>=0?V:4294967296+V)*w,w*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(W(this))return"0";if(ie(this))return"-"+J(this).toString(I);const w=_(Math.pow(I,6));var x=this;let V="";for(;;){const N=ge(x,w).g;x=_e(x,N.j(w));let k=((x.g.length>0?x.g[0]:x.h)>>>0).toString(I);if(x=N,W(x))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function W(I){if(I.h!=0)return!1;for(let w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function ie(I){return I.h==-1}r.l=function(I){return I=_e(this,I),ie(I)?-1:W(I)?0:1};function J(I){const w=I.g.length,x=[];for(let V=0;V<w;V++)x[V]=~I.g[V];return new d(x,~I.h).add(M)}r.abs=function(){return ie(this)?J(this):this},r.add=function(I){const w=Math.max(this.g.length,I.g.length),x=[];let V=0;for(let N=0;N<=w;N++){let k=V+(this.i(N)&65535)+(I.i(N)&65535),R=(k>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);V=R>>>16,k&=65535,R&=65535,x[N]=R<<16|k}return new d(x,x[x.length-1]&-2147483648?-1:0)};function _e(I,w){return I.add(J(w))}r.j=function(I){if(W(this)||W(I))return A;if(ie(this))return ie(I)?J(this).j(J(I)):J(J(this).j(I));if(ie(I))return J(this.j(J(I)));if(this.l(F)<0&&I.l(F)<0)return _(this.m()*I.m());const w=this.g.length+I.g.length,x=[];for(var V=0;V<2*w;V++)x[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<I.g.length;N++){const k=this.i(V)>>>16,R=this.i(V)&65535,ot=I.i(N)>>>16,mt=I.i(N)&65535;x[2*V+2*N]+=R*mt,Re(x,2*V+2*N),x[2*V+2*N+1]+=k*mt,Re(x,2*V+2*N+1),x[2*V+2*N+1]+=R*ot,Re(x,2*V+2*N+1),x[2*V+2*N+2]+=k*ot,Re(x,2*V+2*N+2)}for(I=0;I<w;I++)x[I]=x[2*I+1]<<16|x[2*I];for(I=w;I<2*w;I++)x[I]=0;return new d(x,0)};function Re(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function Ee(I,w){this.g=I,this.h=w}function ge(I,w){if(W(w))throw Error("division by zero");if(W(I))return new Ee(A,A);if(ie(I))return w=ge(J(I),w),new Ee(J(w.g),J(w.h));if(ie(w))return w=ge(I,J(w)),new Ee(J(w.g),w.h);if(I.g.length>30){if(ie(I)||ie(w))throw Error("slowDivide_ only works with positive integers.");for(var x=M,V=w;V.l(I)<=0;)x=Ke(x),V=Ke(V);var N=ze(x,1),k=ze(V,1);for(V=ze(V,2),x=ze(x,2);!W(V);){var R=k.add(V);R.l(I)<=0&&(N=N.add(x),k=R),V=ze(V,1),x=ze(x,1)}return w=_e(I,N.j(w)),new Ee(N,w)}for(N=A;I.l(w)>=0;){for(x=Math.max(1,Math.floor(I.m()/w.m())),V=Math.ceil(Math.log(x)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=_(x),R=k.j(w);ie(R)||R.l(I)>0;)x-=V,k=_(x),R=k.j(w);W(k)&&(k=M),N=N.add(k),I=_e(I,R)}return new Ee(N,I)}r.B=function(I){return ge(this,I).h},r.and=function(I){const w=Math.max(this.g.length,I.g.length),x=[];for(let V=0;V<w;V++)x[V]=this.i(V)&I.i(V);return new d(x,this.h&I.h)},r.or=function(I){const w=Math.max(this.g.length,I.g.length),x=[];for(let V=0;V<w;V++)x[V]=this.i(V)|I.i(V);return new d(x,this.h|I.h)},r.xor=function(I){const w=Math.max(this.g.length,I.g.length),x=[];for(let V=0;V<w;V++)x[V]=this.i(V)^I.i(V);return new d(x,this.h^I.h)};function Ke(I){const w=I.g.length+1,x=[];for(let V=0;V<w;V++)x[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(x,I.h)}function ze(I,w){const x=w>>5;w%=32;const V=I.g.length-x,N=[];for(let k=0;k<V;k++)N[k]=w>0?I.i(k+x)>>>w|I.i(k+x+1)<<32-w:I.i(k+x);return new d(N,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,oE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=E,yr=d}).apply(typeof m0<"u"?m0:typeof self<"u"?self:typeof window<"u"?window:{});var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var uE,xo,cE,jc,sm,hE,fE,dE;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ic=="object"&&Ic];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var L=u[b];if(!(L in v))break e;v=v[L]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function E(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,L,B){for(var ne=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)ne[xe-2]=arguments[xe];return m.prototype[L].apply(b,ne)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function W(u,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let ne=0;ne<B;ne++)u[v+ne]=L[ne]}else u.push(L)}}class ie{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function _e(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Re{constructor(){this.h=this.g=null}add(m,v){const b=Ee.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var Ee=new ie(()=>new ge,u=>u.reset());class ge{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ke,ze=!1,I=new Re,w=()=>{const u=Promise.resolve(void 0);Ke=()=>{u.then(x)}};function x(){for(var u;u=_e();){try{u.h.call(u.g)}catch(v){J(v)}var m=Ee;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}ze=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ot(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(ot,N),ot.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ot.Z.h.call(this)},ot.prototype.h=function(){ot.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var mt="closure_listenable_"+(Math.random()*1e6|0),H=0;function se(u,m,v,b,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=L,this.key=++H,this.da=this.fa=!1}function de(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Be(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function Xe(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(u,m){let v,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(v in b)u[v]=b[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function le(u){this.src=u,this.g={},this.h=0}le.prototype.add=function(u,m,v,b,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const ne=Ce(u,m,b,L);return ne>-1?(m=u[ne],v||(m.fa=!1)):(m=new se(m,this.src,B,!!b,L),m.fa=v,u.push(m)),m};function Te(u,m){const v=m.type;if(v in u.g){var b=u.g[v],L=Array.prototype.indexOf.call(b,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(b,L,1),B&&(de(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ce(u,m,v,b){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==b)return L}return-1}var Ve="closure_lm_"+(Math.random()*1e6|0),Ct={};function ht(u,m,v,b,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ht(u,m[B],v,b,L);return null}return v=ae(v),u&&u[mt]?u.J(m,v,p(b)?!!b.capture:!1,L):Wi(u,m,v,!1,b,L)}function Wi(u,m,v,b,L,B){if(!m)throw Error("Invalid event type");const ne=p(L)?!!L.capture:!!L;let xe=ai(u);if(xe||(u[Ve]=xe=new le(u)),v=xe.add(m,v,b,ne,B),v.proxy)return v;if(b=xs(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)k||(L=ne),L===void 0&&(L=!1),u.addEventListener(m.toString(),b,L);else if(u.attachEvent)u.attachEvent(Fn(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function xs(){function u(v){return m.call(u.src,u.listener,v)}const m=xr;return u}function Is(u,m,v,b,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Is(u,m[B],v,b,L);else b=p(b)?!!b.capture:!!b,v=ae(v),u&&u[mt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Ce(m,v,b,L),v>-1&&(de(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=ai(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ce(m,v,b,L)),(v=u>-1?m[u]:null)&&Ns(v))}function Ns(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[mt])Te(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(Fn(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=ai(m))?(Te(v,u),v.h==0&&(v.src=null,m[Ve]=null)):de(u)}}}function Fn(u){return u in Ct?Ct[u]:Ct[u]="on"+u}function xr(u,m){if(u.da)u=!0;else{m=new ot(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&Ns(u),u=v.call(b,m)}return u}function ai(u){return u=u[Ve],u instanceof le?u:null}var ee="__closure_events_fn_"+(Math.random()*1e9>>>0);function ae(u){return typeof u=="function"?u:(u[ee]||(u[ee]=function(m){return u.handleEvent(m)}),u[ee])}function te(){V.call(this),this.i=new le(this),this.M=this,this.G=null}A(te,V),te.prototype[mt]=!0,te.prototype.removeEventListener=function(u,m,v,b){Is(this,u,m,v,b)};function ue(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(b,u),re(m,L)}L=!0;let B,ne;if(v)for(ne=v.length-1;ne>=0;ne--)B=m.g=v[ne],L=Ge(B,b,!0,m)&&L;if(B=m.g=u,L=Ge(B,b,!0,m)&&L,L=Ge(B,b,!1,m)&&L,v)for(ne=0;ne<v.length;ne++)B=m.g=v[ne],L=Ge(B,b,!1,m)&&L}te.prototype.N=function(){if(te.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)de(v[b]);delete u.g[m],u.h--}}this.G=null},te.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},te.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function Ge(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const ne=m[B];if(ne&&!ne.da&&ne.capture==v){const xe=ne.listener,It=ne.ha||ne.src;ne.fa&&Te(u.i,ne),L=xe.call(It,b)!==!1&&L}}return L&&!b.defaultPrevented}function $t(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Mn(u){u.g=$t(()=>{u.g=null,u.i&&(u.i=!1,Mn(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class gt extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Mn(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xt(u){V.call(this),this.h=u,this.g={}}A(xt,V);var ft=[];function yn(u){Be(u.g,function(m,v){this.g.hasOwnProperty(v)&&Ns(m)},u),u.g={}}xt.prototype.N=function(){xt.Z.N.call(this),yn(this)},xt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hn=d.JSON.stringify,Vn=d.JSON.parse,Ir=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Z(){}function De(){}var vt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Fe(){N.call(this,"d")}A(Fe,N);function Je(){N.call(this,"c")}A(Je,N);var ut={},_n=null;function it(){return _n=_n||new te}ut.Ia="serverreachability";function Ei(u){N.call(this,ut.Ia,u)}A(Ei,N);function bn(u){const m=it();ue(m,new Ei(m))}ut.STAT_EVENT="statevent";function li(u,m){N.call(this,ut.STAT_EVENT,u),this.stat=m}A(li,N);function Et(u){const m=it();ue(m,new li(m,u))}ut.Ja="timingevent";function Ti(u,m){N.call(this,ut.Ja,u),this.size=m}A(Ti,N);function bi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function oi(){this.g=!0}oi.prototype.ua=function(){this.g=!1};function Oh(u,m,v,b,L,B){u.info(function(){if(u.g)if(B){var ne="",xe=B.split("&");for(let $e=0;$e<xe.length;$e++){var It=xe[$e].split("=");if(It.length>1){const Tt=It[0];It=It[1];const Xn=Tt.split("_");ne=Xn.length>=2&&Xn[1]=="type"?ne+(Tt+"="+It+"&"):ne+(Tt+"=redacted&")}}}else ne=null;else ne=B;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+v+`
`+ne})}function ru(u,m,v,b,L,B,ne){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+ne})}function Si(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Mh(u,v)+(b?" "+b:"")})}function Nr(u,m){u.info(function(){return"TIMEOUT: "+m})}oi.prototype.info=function(){};function Mh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ne=1;ne<b.length;ne++)b[ne]=""}}}}return hn(B)}catch{return m}}var Dr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Rl;function Or(){}A(Or,Z),Or.prototype.g=function(){return new XMLHttpRequest},Rl=new Or;function Ji(u){return encodeURIComponent(String(u))}function au(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ui(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new xt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ci}function ci(){this.i=null,this.g="",this.h=!1}var Mt={},Zt={};function Ai(u,m,v){u.M=1,u.A=Mr(kt(m)),u.u=v,u.R=!0,fa(u,null)}function fa(u,m){u.F=Date.now(),wi(u),u.B=kt(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),pa(v.i,"t",b),u.C=0,v=u.j.L,u.h=new ci,u.g=Tu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new gt(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(ft[0]=L.toString()),L=ft);for(let B=0;B<L.length;B++){const ne=ht(v,L[B],b||m.handleEvent,!1,m.h||m);if(!ne)break;m.g[ne.key]=ne}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),bn(),Oh(u.i,u.v,u.B,u.l,u.S,u.u)}ui.prototype.ba=function(u){u=u.target;const m=this.O;m&&di(u)==3?m.j():this.Y(u)},ui.prototype.Y=function(u){try{if(u==this.g)e:{const xe=di(this.g),It=this.g.ya(),$e=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||tn(this.g)))){this.K||xe!=4||It==7||(It==8||$e<=0?bn(3):bn(2)),Ri(this);var m=this.g.ca();this.X=m;var v=Vh(this);if(this.o=m==200,ru(this.i,this.v,this.B,this.l,this.S,xe,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(b)){var B=b;break t}}B=null}if(u=B)Si(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ci(this,u);else{this.o=!1,this.m=3,Et(12),kn(this),Qn(this);break e}}if(this.R){u=!0;let Tt;for(;!this.K&&this.C<v.length;)if(Tt=ou(this,v),Tt==Zt){xe==4&&(this.m=4,Et(14),u=!1),Si(this.i,this.l,null,"[Incomplete Response]");break}else if(Tt==Mt){this.m=4,Et(15),Si(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Si(this.i,this.l,Tt,null),Ci(this,Tt);if(lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||v.length!=0||this.h.h||(this.m=1,Et(16),u=!1),this.o=this.o&&u,!u)Si(this.i,this.l,v,"[Invalid Chunked Response]"),kn(this),Qn(this);else if(v.length>0&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.aa&&!ne.P&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Bl(ne),ne.P=!0,Et(11))}}else Si(this.i,this.l,v,null),Ci(this,v);xe==4&&kn(this),this.o&&!this.K&&(xe==4?yu(this.j,this):(this.o=!1,wi(this)))}else ts(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),kn(this),Qn(this)}}}catch{}finally{}};function Vh(u){if(!lu(u))return u.g.la();const m=tn(u.g);if(m==="")return"";let v="";const b=m.length,L=di(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return kn(u),Qn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<b;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function lu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ou(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?Zt:(v=Number(m.substring(v,b)),isNaN(v)?Mt:(b+=1,b+v>m.length?Zt:(m=m.slice(b,b+v),u.C=b+v,m)))}ui.prototype.cancel=function(){this.K=!0,kn(this)};function wi(u){u.T=Date.now()+u.H,da(u,u.H)}function da(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=bi(_(u.aa,u),m)}function Ri(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ui.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Nr(this.i,this.B),this.M!=2&&(bn(),Et(17)),kn(this),this.m=2,Qn(this)):da(this,this.T-u)};function Qn(u){u.j.I==0||u.K||yu(u.j,u)}function kn(u){Ri(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,yn(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ci(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ii(v.h,u))){if(!u.L&&Ii(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ta(v),Ps(v);else break e;zr(v),Et(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=bi(_(v.Va,v),6e3));xi(v.h)<=1&&v.ta&&(v.ta=void 0)}else ki(v,11)}else if((u.L||v.g==u)&&Ta(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let $e=L[m];const Tt=$e[0];if(!(Tt<=v.K))if(v.K=Tt,$e=$e[1],v.I==2)if($e[0]=="c"){v.M=$e[1],v.ba=$e[2];const Xn=$e[3];Xn!=null&&(v.ka=Xn,v.j.info("VER="+v.ka));const Ui=$e[4];Ui!=null&&(v.za=Ui,v.j.info("SVER="+v.za));const mi=$e[5];mi!=null&&typeof mi=="number"&&mi>0&&(b=1.5*mi,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const gi=u.g;if(gi){const Br=gi.g?gi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Br){var B=b.h;B.g||Br.indexOf("spdy")==-1&&Br.indexOf("quic")==-1&&Br.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Il(B,B.h),B.h=null))}if(b.G){const ba=gi.g?gi.g.getResponseHeader("X-HTTP-Session-Id"):null;ba&&(b.wa=ba,et(b.J,b.G,ba))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var ne=u;if(b.na=Eu(b,b.L?b.ba:null,b.W),ne.L){Nl(b.h,ne);var xe=ne,It=b.O;It&&(xe.H=It),xe.D&&(Ri(xe),wi(xe)),b.g=ne}else gu(b);v.i.length>0&&Vi(v)}else $e[0]!="stop"&&$e[0]!="close"||ki(v,7);else v.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?ki(v,7):jl(v):$e[0]!="noop"&&v.l&&v.l.qa($e),v.A=0)}}bn(4)}catch{}}var Vt=class{constructor(u,m){this.g=u,this.map=m}};function Cl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function xl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function xi(u){return u.h?1:u.g?u.g.size:0}function Ii(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Il(u,m){u.g?u.g.add(m):u.h=m}function Nl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Cl.prototype.cancel=function(){if(this.i=Dl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Dl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ma(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let L,B=null;b>=0?(L=u[v].substring(0,b),B=u[v].substring(b+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Un(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Un?(this.l=u.l,Wt(this,u.j),this.o=u.o,this.g=u.g,Ds(this,u.u),this.h=u.h,Ol(this,du(u.i)),this.m=u.m):u&&(m=String(u).match(uu))?(this.l=!1,Wt(this,m[1]||"",!0),this.o=Ni(m[2]||""),this.g=Ni(m[3]||"",!0),Ds(this,m[4]),this.h=Ni(m[5]||"",!0),Ol(this,m[6]||"",!0),this.m=Ni(m[7]||"")):(this.l=!1,this.i=new Ms(null,this.l))}Un.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Vr(m,ga,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Vr(m,ga,!0),"@"),u.push(Ji(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Vr(v,v.charAt(0)=="/"?Ml:cu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Vr(v,hu)),u.join("")},Un.prototype.resolve=function(u){const m=kt(this);let v=!!u.j;v?Wt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)Ds(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let ne=0;ne<L.length;){const xe=L[ne++];xe=="."?b&&ne==L.length&&B.push(""):xe==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&ne==L.length&&B.push("")):(B.push(xe),b=!0)}b=B.join("/")}else b=L}return v?m.h=b:v=u.i.toString()!=="",v?Ol(m,du(u.i)):v=!!u.m,v&&(m.m=u.m),m};function kt(u){return new Un(u)}function Wt(u,m,v){u.j=v?Ni(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ds(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ol(u,m,v){m instanceof Ms?(u.i=m,ya(u.i,u.l)):(v||(m=Vr(m,Os)),u.i=new Ms(m,u.l))}function et(u,m,v){u.i.set(m,v)}function Mr(u){return et(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ni(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Vr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Sn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ga=/[#\/\?@]/g,cu=/[#\?:]/g,Ml=/[#\?]/g,Os=/[#\?@]/g,hu=/#/g;function Ms(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function An(u){u.g||(u.g=new Map,u.h=0,u.i&&ma(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Ms.prototype,r.add=function(u,m){An(this),this.i=null,u=Vs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function fu(u,m){An(u),m=Vs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Vl(u,m){return An(u),m=Vs(u,m),u.g.has(m)}r.forEach=function(u,m){An(this),this.g.forEach(function(v,b){v.forEach(function(L){u.call(m,L,b,this)},this)},this)};function kl(u,m){An(u);let v=[];if(typeof m=="string")Vl(u,m)&&(v=v.concat(u.g.get(Vs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return An(this),this.i=null,u=Vs(this,u),Vl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=kl(this,u),u.length>0?String(u[0]):m):m};function pa(u,m,v){fu(u,m),v.length>0&&(u.i=null,u.g.set(Vs(u,m),F(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const L=Ji(v);v=kl(this,v);for(let B=0;B<v.length;B++){let ne=L;v[B]!==""&&(ne+="="+Ji(v[B])),u.push(ne)}}return this.i=u.join("&")};function du(u){const m=new Ms;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Vs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ya(u,m){m&&!u.j&&(An(u),u.i=null,u.g.forEach(function(v,b){const L=b.toLowerCase();b!=L&&(fu(this,b),pa(this,L,v))},u)),u.j=m}function hi(u,m){const v=new oi;if(d.Image){const b=new Image;b.onload=E(Yn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=E(Yn,v,"TestLoadImage: error",!1,m,b),b.onabort=E(Yn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=E(Yn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Ul(u,m){const v=new oi,b=new AbortController,L=setTimeout(()=>{b.abort(),Yn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(B=>{clearTimeout(L),B.ok?Yn(v,"TestPingServer: ok",!0,m):Yn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Yn(v,"TestPingServer: error",!1,m)})}function Yn(u,m,v,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(v)}catch{}}function ks(){this.g=new Ir}function Di(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Di,Z),Di.prototype.g=function(){return new kr(this.i,this.h)};function kr(u,m){te.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(kr,te),r=kr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,fi(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Us(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,fi(this)),this.g&&(this.readyState=3,fi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_a(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function _a(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Us(this):fi(this),this.readyState==3&&_a(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Us(this))},r.Na=function(u){this.g&&(this.response=u,Us(this))},r.ga=function(){this.g&&Us(this)};function Us(u){u.readyState=4,u.l=null,u.j=null,u.B=null,fi(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function fi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(kr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Kn(u){let m="";return Be(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Ur(u,m,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=Kn(v),typeof u=="string"?v!=null&&Ji(v):et(u,m,v))}function st(u){te.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(st,te);var Oi=/^https?$/i,Ll=["POST","PUT"];r=st.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Rl.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Lr(this,B);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)v.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())v.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ll,m,void 0)>=0)||b||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ne]of v)this.g.setRequestHeader(B,ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Lr(this,B)}};function Lr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Pl(u),es(u)}function Pl(u){u.A||(u.A=!0,ue(u,"complete"),ue(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ue(this,"complete"),ue(this,"abort"),es(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),es(this,!0)),st.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Pr(this):this.Xa())},r.Xa=function(){Pr(this)};function Pr(u){if(u.h&&typeof c<"u"){if(u.v&&di(u)==4)setTimeout(u.Ca.bind(u),0);else if(ue(u,"readystatechange"),di(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var b;if(b=B===0){let ne=String(u.D).match(uu)[1]||null;!ne&&d.self&&d.self.location&&(ne=d.self.location.protocol.slice(0,-1)),b=!Oi.test(ne?ne.toLowerCase():"")}v=b}if(v)ue(u,"complete"),ue(u,"success");else{u.o=6;try{var L=di(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Pl(u)}}finally{es(u)}}}}function es(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||ue(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function di(u){return u.g?u.g.readyState:0}r.ca=function(){try{return di(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Vn(m)}};function tn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ts(u){const m={};u=(u.g&&di(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(R(u[b]))continue;var v=au(u[b]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Xe(m,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ls(u){this.za=0,this.i=[],this.j=new oi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Mi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Mi("baseRetryDelayMs",5e3,u),this.Za=Mi("retryDelaySeedMs",1e4,u),this.Ta=Mi("forwardChannelMaxRetries",2,u),this.va=Mi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Cl(u&&u.concurrentRequestLimit),this.Ba=new ks,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ls.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,b){Et(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Eu(this,null,this.W),Vi(this)};function jl(u){if(va(u),u.I==3){var m=u.V++,v=kt(u.J);if(et(v,"SID",u.M),et(v,"RID",m),et(v,"TYPE","terminate"),jr(u,v),m=new ui(u,u.j,m),m.M=2,m.A=Mr(kt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Tu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),wi(m)}vu(u)}function Ps(u){u.g&&(Bl(u),u.g.cancel(),u.g=null)}function va(u){Ps(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ta(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Vi(u){if(!xl(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ke||w(),ze||(Ke(),ze=!0),I.add(m,u),u.D=0}}function Ea(u,m){return xi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=bi(_(u.Ea,u,m),_u(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new ui(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),re(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=mu(this,L,m),v=kt(this.J),et(v,"RID",u),et(v,"CVER",22),this.G&&et(v,"X-HTTP-Session-Id",this.G),jr(this,v),B&&(this.R?m="headers="+Ji(Kn(B))+"&"+m:this.u&&Ur(v,this.u,B)),Il(this.h,L),this.Ra&&et(v,"TYPE","init"),this.S?(et(v,"$req",m),et(v,"SID","null"),L.U=!0,Ai(L,v,null)):Ai(L,v,m),this.I=2}}else this.I==3&&(u?zl(this,u):this.i.length==0||xl(this.h)||zl(this))};function zl(u,m){var v;m?v=m.l:v=u.V++;const b=kt(u.J);et(b,"SID",u.M),et(b,"RID",v),et(b,"AID",u.K),jr(u,b),u.u&&u.o&&Ur(b,u.u,u.o),v=new ui(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=mu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Il(u.h,v),Ai(v,b,m)}function jr(u,m){u.H&&Be(u.H,function(v,b){et(m,b,v)}),u.l&&Be({},function(v,b){et(m,b,v)})}function mu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?_(u.l.Ka,u.l,u):null;e:{var L=u.i;let xe=-1;for(;;){const It=["count="+v];xe==-1?v>0?(xe=L[0].g,It.push("ofs="+xe)):xe=0:It.push("ofs="+xe);let $e=!0;for(let Tt=0;Tt<v;Tt++){var B=L[Tt].g;const Xn=L[Tt].map;if(B-=xe,B<0)xe=Math.max(0,L[Tt].g-100),$e=!1;else try{B="req"+B+"_"||"";try{var ne=Xn instanceof Map?Xn:Object.entries(Xn);for(const[Ui,mi]of ne){let gi=mi;p(mi)&&(gi=hn(mi)),It.push(B+Ui+"="+encodeURIComponent(gi))}}catch(Ui){throw It.push(B+"type="+encodeURIComponent("_badmap")),Ui}}catch{b&&b(Xn)}}if($e){ne=It.join("&");break e}}ne=void 0}return u=u.i.splice(0,v),m.G=u,ne}function gu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ke||w(),ze||(Ke(),ze=!0),I.add(m,u),u.A=0}}function zr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=bi(_(u.Da,u),_u(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=bi(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),Ps(this),pu(this))};function Bl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function pu(u){u.g=new ui(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=kt(u.na);et(m,"RID","rpc"),et(m,"SID",u.M),et(m,"AID",u.K),et(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&et(m,"TO",u.ia),et(m,"TYPE","xmlhttp"),jr(u,m),u.u&&u.o&&Ur(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Mr(kt(m)),v.u=null,v.R=!0,fa(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Ps(this),zr(this),Et(19))};function Ta(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function yu(u,m){var v=null;if(u.g==m){Ta(u),Bl(u),u.g=null;var b=2}else if(Ii(u.h,m))v=m.G,Nl(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;b=it(),ue(b,new Ti(b,v)),Vi(u)}else gu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&Ea(u,m)||b==2&&zr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:ki(u,5);break;case 4:ki(u,10);break;case 3:ki(u,6);break;default:ki(u,2)}}}function _u(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function ki(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),b=u.Ua;const L=!b;b=new Un(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Wt(b,"https"),Mr(b),L?hi(b.toString(),v):Ul(b.toString(),v)}else Et(2);u.I=0,u.l&&u.l.pa(m),vu(u),va(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function vu(u){if(u.I=0,u.ja=[],u.l){const m=Dl(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function Eu(u,m,v){var b=v instanceof Un?kt(v):new Un(v);if(b.g!="")m&&(b.g=m+"."+b.g),Ds(b,b.u);else{var L=d.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new Un(null);b&&Wt(B,b),m&&(B.g=m),L&&Ds(B,L),v&&(B.h=v),b=B}return v=u.G,m=u.wa,v&&m&&et(b,v,m),et(b,"VER",u.ka),jr(u,b),b}function Tu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new st(new Di({ab:v})):new st(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function bu(){}r=bu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function js(){}js.prototype.g=function(u,m){return new vn(u,m)};function vn(u,m){te.call(this),this.g=new Ls(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ns(this)}A(vn,te),vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){jl(this.g)},vn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=hn(u),u=v);m.i.push(new Vt(m.Ya++,u)),m.I==3&&Vi(m)},vn.prototype.N=function(){this.g.l=null,delete this.j,jl(this.g),delete this.g,vn.Z.N.call(this)};function Su(u){Fe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Su,Fe);function Au(){Je.call(this),this.status=1}A(Au,Je);function ns(u){this.g=u}A(ns,bu),ns.prototype.ra=function(){ue(this.g,"a")},ns.prototype.qa=function(u){ue(this.g,new Su(u))},ns.prototype.pa=function(u){ue(this.g,new Au)},ns.prototype.oa=function(){ue(this.g,"b")},js.prototype.createWebChannel=js.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,dE=function(){return new js},fE=function(){return it()},hE=ut,sm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Dr.NO_ERROR=0,Dr.TIMEOUT=8,Dr.HTTP_ERROR=6,jc=Dr,wl.COMPLETE="complete",cE=wl,De.EventType=vt,vt.OPEN="a",vt.CLOSE="b",vt.ERROR="c",vt.MESSAGE="d",te.prototype.listen=te.prototype.J,xo=De,st.prototype.listenOnce=st.prototype.K,st.prototype.getLastError=st.prototype.Ha,st.prototype.getLastErrorCode=st.prototype.ya,st.prototype.getStatus=st.prototype.ca,st.prototype.getResponseJson=st.prototype.La,st.prototype.getResponseText=st.prototype.la,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Fa,uE=st}).apply(typeof Ic<"u"?Ic:typeof self<"u"?self:typeof window<"u"?window:{});const g0="@firebase/firestore",p0="4.9.2";let mn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");let Tl="12.3.0";const oa=new Sm("@firebase/firestore");function Ja(){return oa.logLevel}function oe(r,...e){if(oa.logLevel<=Le.DEBUG){const i=e.map(Vm);oa.debug(`Firestore (${Tl}): ${r}`,...i)}}function ws(r,...e){if(oa.logLevel<=Le.ERROR){const i=e.map(Vm);oa.error(`Firestore (${Tl}): ${r}`,...i)}}function cl(r,...e){if(oa.logLevel<=Le.WARN){const i=e.map(Vm);oa.warn(`Firestore (${Tl}): ${r}`,...i)}}function Vm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function ve(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,mE(r,a,i)}function mE(r,e,i){let a=`FIRESTORE (${Tl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ws(a),new Error(a)}function We(r,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||mE(e,o,a)}function we(r,e){return r}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Cs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _r{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class gE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(mn.UNAUTHENTICATED)))}shutdown(){}}class _R{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class vR{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){We(this.o===void 0,42304);let a=this.i;const o=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new _r;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new _r,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},p=y=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new _r)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(We(typeof a.accessToken=="string",31837,{l:a}),new gE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class ER{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class TR{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new ER(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class y0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bR{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,si(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){We(this.o===void 0,3512);const a=c=>{c.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,oe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new y0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(We(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new y0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function SR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class km{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=SR(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function Pe(r,e){return r<e?-1:r>e?1:0}function rm(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const o=r.charAt(a),c=e.charAt(a);if(o!==c)return qd(o)===qd(c)?Pe(o,c):qd(o)?1:-1}return Pe(r.length,e.length)}const AR=55296,wR=57343;function qd(r){const e=r.charCodeAt(0);return e>=AR&&e<=wR}function hl(r,e,i){return r.length===e.length&&r.every(((a,o)=>i(a,e[o])))}const _0="__name__";class Bi{constructor(e,i,a){i===void 0?i=0:i>e.length&&ve(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&ve(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Bi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Bi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=Bi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Pe(e.length,i.length)}static compareSegments(e,i){const a=Bi.isNumericId(e),o=Bi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Bi.extractNumericId(e).compare(Bi.extractNumericId(i)):rm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return yr.fromString(e.substring(4,e.length-2))}}class St extends Bi{construct(e,i,a){return new St(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new fe($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new St(i)}static emptyPath(){return new St([])}}const RR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends Bi{construct(e,i,a){return new un(e,i,a)}static isValidIdentifier(e){return RR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_0}static keyField(){return new un([_0])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new fe($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new fe($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new fe($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(c(),o++)}if(c(),d)throw new fe($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(i)}static emptyPath(){return new un([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(St.fromString(e))}static fromName(e){return new pe(St.fromString(e).popFirst(5))}static empty(){return new pe(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&St.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return St.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new St(e.slice()))}}function CR(r,e,i){if(!i)throw new fe($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function xR(r,e,i,a){if(e===!0&&a===!0)throw new fe($.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function v0(r){if(!pe.isDocumentKey(r))throw new fe($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function pE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Um(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ve(12329,{type:typeof r})}function Gi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new fe($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Um(r);throw new fe($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Bt(r,e){const i={typeString:r};return e&&(i.value=e),i}function Jo(r,e){if(!pE(r))throw new fe($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new fe($.INVALID_ARGUMENT,i);return!0}const E0=-62135596800,T0=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*T0);return new _t(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new fe($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new fe($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<E0)throw new fe($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/T0}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Jo(e,_t._jsonSchema))return new _t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-E0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:Bt("string",_t._jsonSchemaVersion),seconds:Bt("number"),nanoseconds:Bt("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new _t(0,0))}static max(){return new Se(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const zo=-1;function IR(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(a===1e9?new _t(i+1,0):new _t(i,a));return new Er(o,pe.empty(),e)}function NR(r){return new Er(r.readTime,r.key,zo)}class Er{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Er(Se.min(),pe.empty(),zo)}static max(){return new Er(Se.max(),pe.empty(),zo)}}function DR(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=pe.comparator(r.documentKey,e.documentKey),i!==0?i:Pe(r.largestBatchId,e.largestBatchId))}const OR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function bl(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==OR)throw r;oe("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,a)=>{i(e)}))}static reject(e){return new X(((i,a)=>{a(e)}))}static waitFor(e){return new X(((i,a)=>{let o=0,c=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(y=>a(y)))})),d=!0,c===o&&i()}))}static or(e){let i=X.resolve(!1);for(const a of e)i=i.next((o=>o?X.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new X(((a,o)=>{const c=e.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(e[_]).next((E=>{d[_]=E,++p,p===c&&a(d)}),(E=>o(E)))}}))}static doWhile(e,i){return new X(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function VR(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Sl(r){return r.name==="IndexedDbTransactionError"}class mh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}mh.ce=-1;const Lm=-1;function gh(r){return r==null}function Jc(r){return r===0&&1/r==-1/0}function kR(r){return typeof r=="number"&&Number.isInteger(r)&&!Jc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const yE="";function UR(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=b0(e)),e=LR(r.get(i),e);return b0(e)}function LR(r,e){let i=e;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case yE:i+="";break;default:i+=c}}return i}function b0(r){return r+yE+""}function S0(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Rr(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function _E(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class At{constructor(e,i){this.comparator=e,this.root=i||on.EMPTY}insert(e,i){return new At(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nc(this.root,e,this.comparator,!0)}}class Nc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??on.RED,this.left=o??on.EMPTY,this.right=c??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new on(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return on.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new on(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xt{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new A0(this.data.getIterator())}getIteratorFrom(e){return new A0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Xt(this.comparator);return i.data=e,i}}class A0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Gn{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new Gn([])}unionWith(e){let i=new Xt(un.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Gn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return hl(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class vE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new vE("Invalid base64 string: "+c):c}})(e);return new cn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new cn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const PR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tr(r){if(We(!!r,39018),typeof r=="string"){let e=0;const i=PR.exec(r);if(We(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Ot(r.seconds),nanos:Ot(r.nanos)}}function Ot(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function br(r){return typeof r=="string"?cn.fromBase64String(r):cn.fromUint8Array(r)}const EE="server_timestamp",TE="__type__",bE="__previous_value__",SE="__local_write_time__";function Pm(r){return(r?.mapValue?.fields||{})[TE]?.stringValue===EE}function ph(r){const e=r.mapValue.fields[bE];return Pm(e)?ph(e):e}function Bo(r){const e=Tr(r.mapValue.fields[SE].timestampValue);return new _t(e.seconds,e.nanos)}class jR{constructor(e,i,a,o,c,d,p,y,_,E){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=E}}const eh="(default)";class qo{constructor(e,i){this.projectId=e,this.database=i||eh}static empty(){return new qo("","")}get isDefaultDatabase(){return this.database===eh}isEqual(e){return e instanceof qo&&e.projectId===this.projectId&&e.database===this.database}}const AE="__type__",zR="__max__",Dc={mapValue:{}},wE="__vector__",th="value";function Sr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Pm(r)?4:qR(r)?9007199254740991:BR(r)?10:11:ve(28295,{value:r})}function $i(r,e){if(r===e)return!0;const i=Sr(r);if(i!==Sr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Bo(r).isEqual(Bo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Tr(o.timestampValue),p=Tr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return br(o.bytesValue).isEqual(br(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return Ot(o.geoPointValue.latitude)===Ot(c.geoPointValue.latitude)&&Ot(o.geoPointValue.longitude)===Ot(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Ot(o.integerValue)===Ot(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Ot(o.doubleValue),p=Ot(c.doubleValue);return d===p?Jc(d)===Jc(p):isNaN(d)&&isNaN(p)}return!1})(r,e);case 9:return hl(r.arrayValue.values||[],e.arrayValue.values||[],$i);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(S0(d)!==S0(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!$i(d[y],p[y])))return!1;return!0})(r,e);default:return ve(52216,{left:r})}}function Ho(r,e){return(r.values||[]).find((i=>$i(i,e)))!==void 0}function fl(r,e){if(r===e)return 0;const i=Sr(r),a=Sr(e);if(i!==a)return Pe(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Pe(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=Ot(c.integerValue||c.doubleValue),y=Ot(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,e);case 3:return w0(r.timestampValue,e.timestampValue);case 4:return w0(Bo(r),Bo(e));case 5:return rm(r.stringValue,e.stringValue);case 6:return(function(c,d){const p=br(c),y=br(d);return p.compareTo(y)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const E=Pe(p[_],y[_]);if(E!==0)return E}return Pe(p.length,y.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Pe(Ot(c.latitude),Ot(d.latitude));return p!==0?p:Pe(Ot(c.longitude),Ot(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return R0(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[th]?.arrayValue,E=y[th]?.arrayValue,A=Pe(_?.values?.length||0,E?.values?.length||0);return A!==0?A:R0(_,E)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Dc.mapValue&&d===Dc.mapValue)return 0;if(c===Dc.mapValue)return 1;if(d===Dc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},E=Object.keys(_);y.sort(),E.sort();for(let A=0;A<y.length&&A<E.length;++A){const M=rm(y[A],E[A]);if(M!==0)return M;const F=fl(p[y[A]],_[E[A]]);if(F!==0)return F}return Pe(y.length,E.length)})(r.mapValue,e.mapValue);default:throw ve(23264,{he:i})}}function w0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Pe(r,e);const i=Tr(r),a=Tr(e),o=Pe(i.seconds,a.seconds);return o!==0?o:Pe(i.nanos,a.nanos)}function R0(r,e){const i=r.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=fl(i[o],a[o]);if(c)return c}return Pe(i.length,a.length)}function dl(r){return am(r)}function am(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Tr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return br(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return pe.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=am(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${am(i.fields[d])}`;return o+"}"})(r.mapValue):ve(61005,{value:r})}function zc(r){switch(Sr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ph(r);return e?16+zc(e):16;case 5:return 2*r.stringValue.length;case 6:return br(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+zc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return Rr(a.fields,((c,d)=>{o+=c.length+zc(d)})),o})(r.mapValue);default:throw ve(13486,{value:r})}}function lm(r){return!!r&&"integerValue"in r}function jm(r){return!!r&&"arrayValue"in r}function C0(r){return!!r&&"nullValue"in r}function x0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Bc(r){return!!r&&"mapValue"in r}function BR(r){return(r?.mapValue?.fields||{})[AE]?.stringValue===wE}function Vo(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Rr(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Vo(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Vo(r.arrayValue.values[i]);return e}return{...r}}function qR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===zR}class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Bc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vo(i)}setAll(e){let i=un.emptyPath(),a={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,o),a={},o=[],i=p.popLast()}d?a[p.lastSegment()]=Vo(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());Bc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return $i(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Bc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Rr(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new On(Vo(this.value))}}function RE(r){const e=[];return Rr(r.fields,((i,a)=>{const o=new un([i]);if(Bc(a)){const c=RE(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Gn(e)}class gn{constructor(e,i,a,o,c,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new gn(e,0,Se.min(),Se.min(),Se.min(),On.empty(),0)}static newFoundDocument(e,i,a,o){return new gn(e,1,i,Se.min(),a,o,0)}static newNoDocument(e,i){return new gn(e,2,i,Se.min(),Se.min(),On.empty(),0)}static newUnknownDocument(e,i){return new gn(e,3,i,Se.min(),Se.min(),On.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class nh{constructor(e,i){this.position=e,this.inclusive=i}}function I0(r,e,i){let a=0;for(let o=0;o<r.position.length;o++){const c=e[o],d=r.position[o];if(c.field.isKeyField()?a=pe.comparator(pe.fromName(d.referenceValue),i.key):a=fl(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function N0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!$i(r.position[i],e.position[i]))return!1;return!0}class ih{constructor(e,i="asc"){this.field=e,this.dir=i}}function HR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class CE{}class Kt extends CE{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new FR(e,i,a):i==="array-contains"?new KR(e,a):i==="in"?new XR(e,a):i==="not-in"?new $R(e,a):i==="array-contains-any"?new ZR(e,a):new Kt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new QR(e,a):new YR(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(fl(i,this.value)):i!==null&&Sr(this.value)===Sr(i)&&this.matchesComparison(fl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zi extends CE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Zi(e,i)}matches(e){return xE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function xE(r){return r.op==="and"}function IE(r){return GR(r)&&xE(r)}function GR(r){for(const e of r.filters)if(e instanceof Zi)return!1;return!0}function om(r){if(r instanceof Kt)return r.field.canonicalString()+r.op.toString()+dl(r.value);if(IE(r))return r.filters.map((e=>om(e))).join(",");{const e=r.filters.map((i=>om(i))).join(",");return`${r.op}(${e})`}}function NE(r,e){return r instanceof Kt?(function(a,o){return o instanceof Kt&&a.op===o.op&&a.field.isEqual(o.field)&&$i(a.value,o.value)})(r,e):r instanceof Zi?(function(a,o){return o instanceof Zi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,p)=>c&&NE(d,o.filters[p])),!0):!1})(r,e):void ve(19439)}function DE(r){return r instanceof Kt?(function(i){return`${i.field.canonicalString()} ${i.op} ${dl(i.value)}`})(r):r instanceof Zi?(function(i){return i.op.toString()+" {"+i.getFilters().map(DE).join(" ,")+"}"})(r):"Filter"}class FR extends Kt{constructor(e,i,a){super(e,i,a),this.key=pe.fromName(a.referenceValue)}matches(e){const i=pe.comparator(e.key,this.key);return this.matchesComparison(i)}}class QR extends Kt{constructor(e,i){super(e,"in",i),this.keys=OE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class YR extends Kt{constructor(e,i){super(e,"not-in",i),this.keys=OE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function OE(r,e){return(e.arrayValue?.values||[]).map((i=>pe.fromName(i.referenceValue)))}class KR extends Kt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return jm(i)&&Ho(i.arrayValue,this.value)}}class XR extends Kt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Ho(this.value.arrayValue,i)}}class $R extends Kt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Ho(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ho(this.value.arrayValue,i)}}class ZR extends Kt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!jm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ho(this.value.arrayValue,a)))}}class WR{constructor(e,i=null,a=[],o=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function D0(r,e=null,i=[],a=[],o=null,c=null,d=null){return new WR(r,e,i,a,o,c,d)}function zm(r){const e=we(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>om(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),gh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>dl(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>dl(a))).join(",")),e.Te=i}return e.Te}function Bm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!HR(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!NE(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!N0(r.startAt,e.startAt)&&N0(r.endAt,e.endAt)}function um(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class yh{constructor(e,i=null,a=[],o=[],c=null,d="F",p=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function JR(r,e,i,a,o,c,d,p){return new yh(r,e,i,a,o,c,d,p)}function _h(r){return new yh(r)}function O0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function e2(r){return r.collectionGroup!==null}function ko(r){const e=we(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Xt(un.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ih(c,a))})),i.has(un.keyField().canonicalString())||e.Ie.push(new ih(un.keyField(),a))}return e.Ie}function Fi(r){const e=we(r);return e.Ee||(e.Ee=t2(e,ko(r))),e.Ee}function t2(r,e){if(r.limitType==="F")return D0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new ih(o.field,c)}));const i=r.endAt?new nh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new nh(r.startAt.position,r.startAt.inclusive):null;return D0(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function cm(r,e,i){return new yh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function vh(r,e){return Bm(Fi(r),Fi(e))&&r.limitType===e.limitType}function ME(r){return`${zm(Fi(r))}|lt:${r.limitType}`}function el(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>DE(o))).join(", ")}]`),gh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>dl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>dl(o))).join(",")),`Target(${a})`})(Fi(r))}; limitType=${r.limitType})`}function Eh(r,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):pe.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,e)&&(function(a,o){for(const c of ko(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(d,p,y){const _=I0(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,ko(a),o)||a.endAt&&!(function(d,p,y){const _=I0(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,ko(a),o))})(r,e)}function n2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function VE(r){return(e,i)=>{let a=!1;for(const o of ko(r)){const c=i2(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function i2(r,e,i){const a=r.field.isKeyField()?pe.comparator(e.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?fl(y,_):ve(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return ve(19790,{direction:r.dir})}}class ca{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Rr(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return _E(this.inner)}size(){return this.innerSize}}const s2=new At(pe.comparator);function Rs(){return s2}const kE=new At(pe.comparator);function Io(...r){let e=kE;for(const i of r)e=e.insert(i.key,i);return e}function UE(r){let e=kE;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function sa(){return Uo()}function LE(){return Uo()}function Uo(){return new ca((r=>r.toString()),((r,e)=>r.isEqual(e)))}const r2=new At(pe.comparator),a2=new Xt(pe.comparator);function je(...r){let e=a2;for(const i of r)e=e.add(i);return e}const l2=new Xt(Pe);function o2(){return l2}function qm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jc(e)?"-0":e}}function PE(r){return{integerValue:""+r}}function u2(r,e){return kR(e)?PE(e):qm(r,e)}class Th{constructor(){this._=void 0}}function c2(r,e,i){return r instanceof sh?(function(o,c){const d={fields:{[TE]:{stringValue:EE},[SE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Pm(c)&&(c=ph(c)),c&&(d.fields[bE]=c),{mapValue:d}})(i,e):r instanceof ml?zE(r,e):r instanceof Go?BE(r,e):(function(o,c){const d=jE(o,c),p=M0(d)+M0(o.Ae);return lm(d)&&lm(o.Ae)?PE(p):qm(o.serializer,p)})(r,e)}function h2(r,e,i){return r instanceof ml?zE(r,e):r instanceof Go?BE(r,e):i}function jE(r,e){return r instanceof rh?(function(a){return lm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class sh extends Th{}class ml extends Th{constructor(e){super(),this.elements=e}}function zE(r,e){const i=qE(e);for(const a of r.elements)i.some((o=>$i(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Go extends Th{constructor(e){super(),this.elements=e}}function BE(r,e){let i=qE(e);for(const a of r.elements)i=i.filter((o=>!$i(o,a)));return{arrayValue:{values:i}}}class rh extends Th{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function M0(r){return Ot(r.integerValue||r.doubleValue)}function qE(r){return jm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class f2{constructor(e,i){this.field=e,this.transform=i}}function d2(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof ml&&o instanceof ml||a instanceof Go&&o instanceof Go?hl(a.elements,o.elements,$i):a instanceof rh&&o instanceof rh?$i(a.Ae,o.Ae):a instanceof sh&&o instanceof sh})(r.transform,e.transform)}class m2{constructor(e,i){this.version=e,this.transformResults=i}}class Qi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Qi}static exists(e){return new Qi(void 0,e)}static updateTime(e){return new Qi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class bh{}function HE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new FE(r.key,Qi.none()):new eu(r.key,r.data,Qi.none());{const i=r.data,a=On.empty();let o=new Xt(un.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new Cr(r.key,a,new Gn(o.toArray()),Qi.none())}}function g2(r,e,i){r instanceof eu?(function(o,c,d){const p=o.value.clone(),y=k0(o.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,i):r instanceof Cr?(function(o,c,d){if(!qc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=k0(o.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(GE(o)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Lo(r,e,i,a){return r instanceof eu?(function(c,d,p,y){if(!qc(c.precondition,d))return p;const _=c.value.clone(),E=U0(c.fieldTransforms,y,d);return _.setAll(E),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,a):r instanceof Cr?(function(c,d,p,y){if(!qc(c.precondition,d))return p;const _=U0(c.fieldTransforms,y,d),E=d.data;return E.setAll(GE(c)),E.setAll(_),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,e,i,a):(function(c,d,p){return qc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,e,i)}function p2(r,e){let i=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),c=jE(a.transform,o||null);c!=null&&(i===null&&(i=On.empty()),i.set(a.field,c))}return i||null}function V0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&hl(a,o,((c,d)=>d2(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class eu extends bh{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Cr extends bh{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function GE(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function k0(r,e,i){const a=new Map;We(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,p=e.data.field(c.field);a.set(c.field,h2(d,p,i[o]))}return a}function U0(r,e,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,c2(c,d,e))}return a}class FE extends bh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class y2 extends bh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _2{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&g2(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Lo(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Lo(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=LE();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const y=HE(d,p);y!==null&&a.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(Se.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),je())}isEqual(e){return this.batchId===e.batchId&&hl(this.mutations,e.mutations,((i,a)=>V0(i,a)))&&hl(this.baseMutations,e.baseMutations,((i,a)=>V0(i,a)))}}class Hm{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){We(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return r2})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Hm(e,i,a,o)}}class v2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class E2{constructor(e,i){this.count=e,this.unchangedNames=i}}var zt,He;function T2(r){switch(r){case $.OK:return ve(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return ve(15467,{code:r})}}function QE(r){if(r===void 0)return ws("GRPC error has no .code"),$.UNKNOWN;switch(r){case zt.OK:return $.OK;case zt.CANCELLED:return $.CANCELLED;case zt.UNKNOWN:return $.UNKNOWN;case zt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case zt.INTERNAL:return $.INTERNAL;case zt.UNAVAILABLE:return $.UNAVAILABLE;case zt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case zt.NOT_FOUND:return $.NOT_FOUND;case zt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case zt.ABORTED:return $.ABORTED;case zt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case zt.DATA_LOSS:return $.DATA_LOSS;default:return ve(39323,{code:r})}}(He=zt||(zt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";function b2(){return new TextEncoder}const S2=new yr([4294967295,4294967295],0);function L0(r){const e=b2().encode(r),i=new oE;return i.update(e),new Uint8Array(i.digest())}function P0(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new yr([i,a],0),new yr([o,c],0)]}class Gm{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new No(`Invalid padding: ${i}`);if(a<0)throw new No(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new No(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new No(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=yr.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(yr.fromNumber(a)));return o.compare(S2)===1&&(o=new yr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=L0(e),[a,o]=P0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Gm(c,o,i);return a.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=L0(e),[a,o]=P0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class No extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sh{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,tu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Sh(Se.min(),o,new At(Pe),Rs(),je())}}class tu{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new tu(a,i,je(),je(),je())}}class Hc{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class YE{constructor(e,i){this.targetId=e,this.Ce=i}}class KE{constructor(e,i,a=cn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class j0{constructor(){this.ve=0,this.Fe=z0(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),i=je(),a=je();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:ve(38017,{changeType:c})}})),new tu(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=z0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class A2{constructor(e){this.Ge=e,this.ze=new Map,this.je=Rs(),this.Je=Oc(),this.He=Oc(),this.Ye=new At(Pe)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(um(c))if(a===0){const d=new pe(c.path);this.et(i,d,gn.newNoDocument(d,Se.min()))}else We(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(e),y=p?this.ct(p,e,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=br(a).toUint8Array()}catch(y){if(y instanceof vE)return cl("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Gm(d,o,c)}catch(y){return cl(y instanceof No?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&um(p.target)){const y=new pe(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,gn.newNoDocument(y,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=je();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Sh(e,i,this.Ye,this.je,a);return this.je=Rs(),this.Je=Oc(),this.He=Oc(),this.Ye=new At(Pe),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new j0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Xt(Pe),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Xt(Pe),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||oe("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new j0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Oc(){return new At(pe.comparator)}function z0(){return new At(pe.comparator)}const w2={asc:"ASCENDING",desc:"DESCENDING"},R2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},C2={and:"AND",or:"OR"};class x2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function hm(r,e){return r.useProto3Json||gh(e)?e:{value:e}}function ah(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function I2(r,e){return ah(r,e.toTimestamp())}function Yi(r){return We(!!r,49232),Se.fromTimestamp((function(i){const a=Tr(i);return new _t(a.seconds,a.nanos)})(r))}function Fm(r,e){return fm(r,e).canonicalString()}function fm(r,e){const i=(function(o){return new St(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function $E(r){const e=St.fromString(r);return We(tT(e),10190,{key:e.toString()}),e}function dm(r,e){return Fm(r.databaseId,e.path)}function Hd(r,e){const i=$E(e);if(i.get(1)!==r.databaseId.projectId)throw new fe($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new fe($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new pe(WE(i))}function ZE(r,e){return Fm(r.databaseId,e)}function N2(r){const e=$E(r);return e.length===4?St.emptyPath():WE(e)}function mm(r){return new St(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function WE(r){return We(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function B0(r,e,i){return{name:dm(r,e),fields:i.value.mapValue.fields}}function D2(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:ve(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,E){return _.useProto3Json?(We(E===void 0||typeof E=="string",58123),cn.fromBase64String(E||"")):(We(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),cn.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(_){const E=_.code===void 0?$.UNKNOWN:QE(_.code);return new fe(E,_.message||"")})(d);i=new KE(a,o,c,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Hd(r,a.document.name),c=Yi(a.document.updateTime),d=a.document.createTime?Yi(a.document.createTime):Se.min(),p=new On({mapValue:{fields:a.document.fields}}),y=gn.newFoundDocument(o,c,d,p),_=a.targetIds||[],E=a.removedTargetIds||[];i=new Hc(_,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Hd(r,a.document),c=a.readTime?Yi(a.readTime):Se.min(),d=gn.newNoDocument(o,c),p=a.removedTargetIds||[];i=new Hc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Hd(r,a.document),c=a.removedTargetIds||[];i=new Hc([],c,o,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new E2(o,c),p=a.targetId;i=new YE(p,d)}}return i}function O2(r,e){let i;if(e instanceof eu)i={update:B0(r,e.key,e.value)};else if(e instanceof FE)i={delete:dm(r,e.key)};else if(e instanceof Cr)i={update:B0(r,e.key,e.data),updateMask:B2(e.fieldMask)};else{if(!(e instanceof y2))return ve(16599,{Vt:e.type});i={verify:dm(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof sh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof ml)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Go)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof rh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw ve(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:I2(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ve(27497)})(r,e.precondition)),i}function M2(r,e){return r&&r.length>0?(We(e!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?Yi(o.updateTime):Yi(c);return d.isEqual(Se.min())&&(d=Yi(c)),new m2(d,o.transformResults||[])})(i,e)))):[]}function V2(r,e){return{documents:[ZE(r,e.path)]}}function k2(r,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=ZE(r,o);const c=(function(_){if(_.length!==0)return eT(Zi.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((E=>(function(M){return{field:tl(M.field),direction:P2(M.dir)}})(E)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=hm(r,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function U2(r){let e=N2(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){We(a===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=(function(A){const M=JE(A);return M instanceof Zi&&IE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((M=>(function(W){return new ih(nl(W.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let M;return M=typeof A=="object"?A.value:A,gh(M)?null:M})(i.limit));let y=null;i.startAt&&(y=(function(A){const M=!!A.before,F=A.values||[];return new nh(F,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const M=!A.before,F=A.values||[];return new nh(F,M)})(i.endAt)),JR(e,o,d,c,p,"F",y,_)}function L2(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function JE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=nl(i.unaryFilter.field);return Kt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=nl(i.unaryFilter.field);return Kt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=nl(i.unaryFilter.field);return Kt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=nl(i.unaryFilter.field);return Kt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Kt.create(nl(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Zi.create(i.compositeFilter.filters.map((a=>JE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(i.compositeFilter.op))})(r):ve(30097,{filter:r})}function P2(r){return w2[r]}function j2(r){return R2[r]}function z2(r){return C2[r]}function tl(r){return{fieldPath:r.canonicalString()}}function nl(r){return un.fromServerFormat(r.fieldPath)}function eT(r){return r instanceof Kt?(function(i){if(i.op==="=="){if(x0(i.value))return{unaryFilter:{field:tl(i.field),op:"IS_NAN"}};if(C0(i.value))return{unaryFilter:{field:tl(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(x0(i.value))return{unaryFilter:{field:tl(i.field),op:"IS_NOT_NAN"}};if(C0(i.value))return{unaryFilter:{field:tl(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tl(i.field),op:j2(i.op),value:i.value}}})(r):r instanceof Zi?(function(i){const a=i.getFilters().map((o=>eT(o)));return a.length===1?a[0]:{compositeFilter:{op:z2(i.op),filters:a}}})(r):ve(54877,{filter:r})}function B2(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function tT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class dr{constructor(e,i,a,o,c=Se.min(),d=Se.min(),p=cn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new dr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class q2{constructor(e){this.yt=e}}function H2(r){const e=U2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?cm(e,e.limit,"L"):e}class G2{constructor(){this.Cn=new F2}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(Er.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(Er.min())}updateCollectionGroup(e,i,a){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class F2{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Xt(St.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Xt(St.comparator)).toArray()}}const q0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nT=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(nT,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);class gl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new gl(0)}static cr(){return new gl(-1)}}const H0="LruGarbageCollector",Q2=1048576;function G0([r,e],[i,a]){const o=Pe(r,i);return o===0?Pe(e,a):o}class Y2{constructor(e){this.Ir=e,this.buffer=new Xt(G0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();G0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class K2{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(H0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Sl(i)?oe(H0,"Ignoring IndexedDB error during garbage collection: ",i):await bl(i)}await this.Vr(3e5)}))}}class X2{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(mh.ce);const a=new Y2(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(q0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),q0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,c,d,p,y,_;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(a=A,p=Date.now(),this.removeTargets(e,a,i)))).next((A=>(c=A,y=Date.now(),this.removeOrphanedDocuments(e,a)))).next((A=>(_=Date.now(),Ja()<=Le.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${A} documents in `+(_-y)+`ms
Total Duration: ${_-E}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A}))))}}function $2(r,e){return new X2(r,e)}class Z2{constructor(){this.changes=new ca((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class W2{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class J2{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&Lo(a.mutation,o,Gn.empty(),_t.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,je()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=je()){const o=sa();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=Io();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=sa();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,je())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,a,o){let c=Rs();const d=Uo(),p=(function(){return Uo()})();return i.forEach(((y,_)=>{const E=a.get(_.key);o.has(_.key)&&(E===void 0||E.mutation instanceof Cr)?c=c.insert(_.key,_):E!==void 0?(d.set(_.key,E.mutation.getFieldMask()),Lo(E.mutation,_,E.mutation.getFieldMask(),_t.now())):d.set(_.key,Gn.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((_,E)=>d.set(_,E))),i.forEach(((_,E)=>p.set(_,new W2(E,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,i){const a=Uo();let o=new At(((d,p)=>d-p)),c=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let E=a.get(y)||Gn.empty();E=p.applyToLocalView(_,E),a.set(y,E);const A=(o.get(p.batchId)||je()).add(y);o=o.insert(p.batchId,A)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,E=y.value,A=LE();E.forEach((M=>{if(!c.has(M)){const F=HE(i.get(M),a.get(M));F!==null&&A.set(M,F),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,A))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return pe.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):e2(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):X.resolve(sa());let p=zo,y=c;return d.next((_=>X.forEach(_,((E,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(E)?X.resolve():this.remoteDocumentCache.getEntry(e,E).next((M=>{y=y.insert(E,M)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,y,_,je()))).next((E=>({batchId:p,changes:UE(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pe(i)).next((a=>{let o=Io();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=Io();return this.indexManager.getCollectionParents(e,c).next((p=>X.forEach(p,(y=>{const _=(function(A,M){return new yh(M,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((E=>{E.forEach(((A,M)=>{d=d.insert(A,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((y,_)=>{const E=_.getKey();d.get(E)===null&&(d=d.insert(E,gn.newInvalidDocument(E)))}));let p=Io();return d.forEach(((y,_)=>{const E=c.get(y);E!==void 0&&Lo(E.mutation,_,Gn.empty(),_t.now()),Eh(i,_)&&(p=p.insert(y,_))})),p}))}}class eC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Yi(o.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:H2(o.bundledQuery),readTime:Yi(o.readTime)}})(i)),X.resolve()}}class tC{constructor(){this.overlays=new At(pe.comparator),this.qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const a=sa();return X.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.St(e,i,c)})),X.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(e,i,a){const o=sa(),c=i.length+1,d=new pe(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&o.set(y.getKey(),y)}return X.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new At(((_,E)=>_-E));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let E=c.get(_.largestBatchId);E===null&&(E=sa(),c=c.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const p=sa(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,E)=>p.set(_,E))),!(p.size()>=o)););return X.resolve(p)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new v2(i,a));let c=this.qr.get(i);c===void 0&&(c=je(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class nC{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}class Qm{constructor(){this.Qr=new Xt(en.$r),this.Ur=new Xt(en.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new en(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new en(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new pe(new St([])),a=new en(i,e),o=new en(i,e+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new pe(new St([])),a=new en(i,e),o=new en(i,e+1);let c=je();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new en(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class en{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return pe.comparator(e.key,i.key)||Pe(e.Yr,i.Yr)}static Kr(e,i){return Pe(e.Yr,i.Yr)||pe.comparator(e.key,i.key)}}class iC{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Xt(en.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new _2(c,i,a,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new en(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Lm:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new en(i,0),o=new en(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Xt(Pe);return i.forEach((o=>{const c=new en(o,0),d=new en(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;pe.isDocumentKey(c)||(c=c.child(""));const d=new en(new pe(c),0);let p=new Xt(Pe);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(p=p.add(y.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){We(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(o=>{const c=new en(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new en(i,0),o=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class sC{constructor(e){this.ri=e,this.docs=(function(){return new At(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():gn.newInvalidDocument(i))}getEntries(e,i){let a=Rs();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():gn.newInvalidDocument(o))})),X.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=Rs();const d=i.path,p=new pe(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:E}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||DR(NR(E),a)<=0||(o.has(E.key)||Eh(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(e,i,a,o){ve(9500)}ii(e,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new rC(this)}getSize(e){return X.resolve(this.size)}}class rC extends Z2{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class aC{constructor(e){this.persistence=e,this.si=new ca((i=>zm(i)),Bm),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new Qm,this.targetCount=0,this.ai=gl.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new gl(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Pr(i),X.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),X.waitFor(c).next((()=>o))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(e,i){return X.resolve(this._i.containsKey(i))}}class iT{constructor(e,i){this.ui={},this.overlays={},this.ci=new mh(0),this.li=!1,this.li=!0,this.hi=new nC,this.referenceDelegate=e(this),this.Pi=new aC(this),this.indexManager=new G2,this.remoteDocumentCache=(function(o){return new sC(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new q2(i),this.Ii=new eC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new tC,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new iC(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){oe("MemoryPersistence","Starting transaction:",e);const o=new lC(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class lC extends MR{constructor(e){super(),this.currentSequenceNumber=e}}class Ym{constructor(e){this.persistence=e,this.Ri=new Qm,this.Vi=null}static mi(e){return new Ym(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const o=pe.fromPath(a);return this.gi(e,o).next((c=>{c||i.removeEntry(o,Se.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class lh{constructor(e,i){this.persistence=e,this.pi=new ca((a=>UR(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=$2(this,i)}static mi(e,i){return new lh(e,i)}Ei(){}di(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return X.forEach(this.pi,((a,o)=>this.br(e,a,o).next((c=>c?X.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((p=>{p||(a++,c.removeEntry(d,Se.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=zc(e.data.value)),i}br(e,i,a){return X.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return X.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Km{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=je(),o=je();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Km(e,i.fromCache,a,o)}}class oC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class uC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return X1()?8:VR(pn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new oC;return this.Ss(e,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>c.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(Ja()<=Le.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",el(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Ja()<=Le.DEBUG&&oe("QueryEngine","Query:",el(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Ja()<=Le.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",el(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fi(i))):X.resolve())}ys(e,i){if(O0(i))return X.resolve(null);let a=Fi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=cm(i,null,"F"),a=Fi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=je(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(e,cm(i,null,"F")):this.vs(e,_,i,y)}))))})))))}ws(e,i,a,o){return O0(i)||o.isEqual(Se.min())?X.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?X.resolve(null):(Ja()<=Le.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),el(i)),this.vs(e,d,i,IR(o,zo)).next((p=>p)))}))}Ds(e,i){let a=new Xt(VE(e));return i.forEach(((o,c)=>{Eh(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,a){return Ja()<=Le.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",el(i)),this.ps.getDocumentsMatchingQuery(e,i,Er.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Xm="LocalStore",cC=3e8;class hC{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new At(Pe),this.xs=new ca((c=>zm(c)),Bm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new J2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function fC(r,e,i,a){return new hC(r,e,i,a)}async function sT(r,e){const i=we(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=je();for(const _ of o){d.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}for(const _ of c){p.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function dC(r,e){const i=we(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,E){const A=_.batch,M=A.keys();let F=X.resolve();return M.forEach((W=>{F=F.next((()=>E.getEntry(y,W))).next((ie=>{const J=_.docVersions.get(W);We(J!==null,48541),ie.version.compareTo(J)<0&&(A.applyToRemoteDocument(ie,_),ie.isValidDocument()&&(ie.setReadTime(_.commitVersion),E.addEntry(ie)))}))})),F.next((()=>p.mutationQueue.removeMutationBatch(y,A)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=je();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function rT(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function mC(r,e){const i=we(r),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach(((E,A)=>{const M=o.get(A);if(!M)return;p.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,A))));let F=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?F=F.withResumeToken(cn.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(E.resumeToken,a)),o=o.insert(A,F),(function(ie,J,_e){return ie.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-ie.snapshotVersion.toMicroseconds()>=cC?!0:_e.addedDocuments.size+_e.modifiedDocuments.size+_e.removedDocuments.size>0})(M,F,E)&&p.push(i.Pi.updateTargetData(c,F))}));let y=Rs(),_=je();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),p.push(gC(c,d,e.documentUpdates).next((E=>{y=E.ks,_=E.qs}))),!a.isEqual(Se.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(E)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=o,c)))}function gC(r,e,i){let a=je(),o=je();return i.forEach((c=>a=a.add(c))),e.getEntries(r,a).next((c=>{let d=Rs();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),y.isNoDocument()&&y.version.isEqual(Se.min())?(e.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(p,y)):oe(Xm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:o}}))}function pC(r,e){const i=we(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Lm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function yC(r,e){const i=we(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((c=>c?(o=c,X.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new dr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function gm(r,e,i){const a=we(r),o=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Sl(d))throw d;oe(Xm,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function F0(r,e,i){const a=we(r);let o=Se.min(),c=je();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,E){const A=we(y),M=A.xs.get(E);return M!==void 0?X.resolve(A.Ms.get(M)):A.Pi.getTargetData(_,E)})(a,d,Fi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:Se.min(),i?c:je()))).next((p=>(_C(a,n2(e),p),{documents:p,Qs:c})))))}function _C(r,e,i){let a=r.Os.get(e)||Se.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(e,a)}class Q0{constructor(){this.activeTargetIds=o2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vC{constructor(){this.Mo=new Q0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Q0,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class EC{Oo(e){}shutdown(){}}const Y0="ConnectivityMonitor";class K0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(Y0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(Y0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Mc=null;function pm(){return Mc===null?Mc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mc++,"0x"+Mc.toString(16)}const Gd="RestConnection",TC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===eh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,c){const d=pm(),p=this.zo(e,i.toUriEncodedString());oe(Gd,`Sending RPC '${e}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:_}=new URL(p),E=_l(_);return this.Jo(e,p,y,a,E).then((A=>(oe(Gd,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw cl(Gd,`RPC '${e}' ${d} failed with error: `,A,"url: ",p,"request:",a),A}))}Ho(e,i,a,o,c,d){return this.Go(e,i,a,o,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Tl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const a=TC[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class SC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const dn="WebChannelConnection";class AC extends bC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,c){const d=pm();return new Promise(((p,y)=>{const _=new uE;_.setWithCredentials(!0),_.listenOnce(cE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case jc.NO_ERROR:const A=_.getResponseJson();oe(dn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),p(A);break;case jc.TIMEOUT:oe(dn,`RPC '${e}' ${d} timed out`),y(new fe($.DEADLINE_EXCEEDED,"Request time out"));break;case jc.HTTP_ERROR:const M=_.getStatus();if(oe(dn,`RPC '${e}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const W=F?.error;if(W&&W.status&&W.message){const ie=(function(_e){const Re=_e.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(Re)>=0?Re:$.UNKNOWN})(W.status);y(new fe(ie,W.message))}else y(new fe($.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new fe($.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{oe(dn,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(o);oe(dn,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",E,a,15)}))}T_(e,i,a){const o=pm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=dE(),p=fE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const E=c.join("");oe(dn,`Creating RPC '${e}' stream ${o}: ${E}`,y);const A=d.createWebChannel(E,y);this.I_(A);let M=!1,F=!1;const W=new SC({Yo:J=>{F?oe(dn,`Not sending because RPC '${e}' stream ${o} is closed:`,J):(M||(oe(dn,`Opening RPC '${e}' stream ${o} transport.`),A.open(),M=!0),oe(dn,`RPC '${e}' stream ${o} sending:`,J),A.send(J))},Zo:()=>A.close()}),ie=(J,_e,Re)=>{J.listen(_e,(Ee=>{try{Re(Ee)}catch(ge){setTimeout((()=>{throw ge}),0)}}))};return ie(A,xo.EventType.OPEN,(()=>{F||(oe(dn,`RPC '${e}' stream ${o} transport opened.`),W.o_())})),ie(A,xo.EventType.CLOSE,(()=>{F||(F=!0,oe(dn,`RPC '${e}' stream ${o} transport closed`),W.a_(),this.E_(A))})),ie(A,xo.EventType.ERROR,(J=>{F||(F=!0,cl(dn,`RPC '${e}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),W.a_(new fe($.UNAVAILABLE,"The operation could not be completed")))})),ie(A,xo.EventType.MESSAGE,(J=>{if(!F){const _e=J.data[0];We(!!_e,16349);const Re=_e,Ee=Re?.error||Re[0]?.error;if(Ee){oe(dn,`RPC '${e}' stream ${o} received error:`,Ee);const ge=Ee.status;let Ke=(function(w){const x=zt[w];if(x!==void 0)return QE(x)})(ge),ze=Ee.message;Ke===void 0&&(Ke=$.INTERNAL,ze="Unknown error status: "+ge+" with message "+Ee.message),F=!0,W.a_(new fe(Ke,ze)),A.close()}else oe(dn,`RPC '${e}' stream ${o} received:`,_e),W.u_(_e)}})),ie(p,hE.STAT_EVENT,(J=>{J.stat===sm.PROXY?oe(dn,`RPC '${e}' stream ${o} detected buffering proxy`):J.stat===sm.NOPROXY&&oe(dn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Fd(){return typeof document<"u"?document:null}function Ah(r){return new x2(r,!0)}class aT{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const X0="PersistentStream";class lT{constructor(e,i,a,o,c,d,p,y){this.Mi=e,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new aT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(ws(i.toString()),ws("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new fe($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(X0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(oe(X0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class wC extends lT{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=D2(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Se.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Se.min():d.readTime?Yi(d.readTime):Se.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=mm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=um(y)?{documents:V2(c,y)}:{query:k2(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=XE(c,d.resumeToken);const _=hm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Se.min())>0){p.readTime=ah(c,d.snapshotVersion.toTimestamp());const _=hm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const a=L2(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=mm(this.serializer),i.removeTarget=e,this.q_(i)}}class RC extends lT{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=M2(e.writeResults,e.commitTime),a=Yi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=mm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>O2(this.serializer,a)))};this.q_(i)}}class CC{}class xC extends CC{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,fm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe($.UNKNOWN,c.toString())}))}Ho(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,fm(i,a),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new fe($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class IC{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ws(i),this.aa=!1):oe("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ua="RemoteStore";class NC{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ha(this)&&(oe(ua,"Restarting streams for network reachability change."),await(async function(y){const _=we(y);_.Ea.add(4),await nu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await wh(_)})(this))}))})),this.Ra=new IC(a,o)}}async function wh(r){if(ha(r))for(const e of r.da)await e(!0)}async function nu(r){for(const e of r.da)await e(!1)}function oT(r,e){const i=we(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Jm(i)?Wm(i):Al(i).O_()&&Zm(i,e))}function $m(r,e){const i=we(r),a=Al(i);i.Ia.delete(e),a.O_()&&uT(i,e),i.Ia.size===0&&(a.O_()?a.L_():ha(i)&&i.Ra.set("Unknown"))}function Zm(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Al(r).Y_(e)}function uT(r,e){r.Va.Ue(e),Al(r).Z_(e)}function Wm(r){r.Va=new A2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Al(r).start(),r.Ra.ua()}function Jm(r){return ha(r)&&!Al(r).x_()&&r.Ia.size>0}function ha(r){return we(r).Ea.size===0}function cT(r){r.Va=void 0}async function DC(r){r.Ra.set("Online")}async function OC(r){r.Ia.forEach(((e,i)=>{Zm(r,e)}))}async function MC(r,e){cT(r),Jm(r)?(r.Ra.ha(e),Wm(r)):r.Ra.set("Unknown")}async function VC(r,e,i){if(r.Ra.set("Online"),e instanceof KE&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(r,e)}catch(a){oe(ua,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await oh(r,a)}else if(e instanceof Hc?r.Va.Ze(e):e instanceof YE?r.Va.st(e):r.Va.tt(e),!i.isEqual(Se.min()))try{const a=await rT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const E=c.Ia.get(_);E&&c.Ia.set(_,E.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const E=c.Ia.get(y);if(!E)return;c.Ia.set(y,E.withResumeToken(cn.EMPTY_BYTE_STRING,E.snapshotVersion)),uT(c,y);const A=new dr(E.target,y,_,E.sequenceNumber);Zm(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){oe(ua,"Failed to raise snapshot:",a),await oh(r,a)}}async function oh(r,e,i){if(!Sl(e))throw e;r.Ea.add(1),await nu(r),r.Ra.set("Offline"),i||(i=()=>rT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{oe(ua,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await wh(r)}))}function hT(r,e){return e().catch((i=>oh(r,i,e)))}async function Rh(r){const e=we(r),i=Ar(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Lm;for(;kC(e);)try{const o=await pC(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,UC(e,o)}catch(o){await oh(e,o)}fT(e)&&dT(e)}function kC(r){return ha(r)&&r.Ta.length<10}function UC(r,e){r.Ta.push(e);const i=Ar(r);i.O_()&&i.X_&&i.ea(e.mutations)}function fT(r){return ha(r)&&!Ar(r).x_()&&r.Ta.length>0}function dT(r){Ar(r).start()}async function LC(r){Ar(r).ra()}async function PC(r){const e=Ar(r);for(const i of r.Ta)e.ea(i.mutations)}async function jC(r,e,i){const a=r.Ta.shift(),o=Hm.from(a,e,i);await hT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Rh(r)}async function zC(r,e){e&&Ar(r).X_&&await(async function(a,o){if((function(d){return T2(d)&&d!==$.ABORTED})(o.code)){const c=a.Ta.shift();Ar(a).B_(),await hT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Rh(a)}})(r,e),fT(r)&&dT(r)}async function $0(r,e){const i=we(r);i.asyncQueue.verifyOperationInProgress(),oe(ua,"RemoteStore received new credentials");const a=ha(i);i.Ea.add(3),await nu(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await wh(i)}async function BC(r,e){const i=we(r);e?(i.Ea.delete(2),await wh(i)):e||(i.Ea.add(2),await nu(i),i.Ra.set("Unknown"))}function Al(r){return r.ma||(r.ma=(function(i,a,o){const c=we(i);return c.sa(),new wC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:DC.bind(null,r),t_:OC.bind(null,r),r_:MC.bind(null,r),H_:VC.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Jm(r)?Wm(r):r.Ra.set("Unknown")):(await r.ma.stop(),cT(r))}))),r.ma}function Ar(r){return r.fa||(r.fa=(function(i,a,o){const c=we(i);return c.sa(),new RC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:LC.bind(null,r),r_:zC.bind(null,r),ta:PC.bind(null,r),na:jC.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Rh(r)):(await r.fa.stop(),r.Ta.length>0&&(oe(ua,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class eg{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new _r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,p=new eg(e,i,d,o,c);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tg(r,e){if(ws("AsyncQueue",`${e}: ${r}`),Sl(r))return new fe($.UNAVAILABLE,`${e}: ${r}`);throw r}class ll{static emptySet(e){return new ll(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||pe.comparator(i.key,a.key):(i,a)=>pe.comparator(i.key,a.key),this.keyedMap=Io(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ll)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new ll;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class Z0{constructor(){this.ga=new At(pe.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class pl{constructor(e,i,a,o,c,d,p,y,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new pl(e,i,ll.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class qC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class HC{constructor(){this.queries=W0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=we(i),c=o.queries;o.queries=W0(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new fe($.ABORTED,"Firestore shutting down"))}}function W0(){return new ca((r=>ME(r)),vh)}async function mT(r,e){const i=we(r);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(a=2):(c=new qC,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=tg(d,`Initialization of query '${el(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&ng(i)}async function gT(r,e){const i=we(r),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function GC(r,e){const i=we(r);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(o)&&(a=!0);d.wa=o}}a&&ng(i)}function FC(r,e,i){const a=we(r),o=a.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(e)}function ng(r){r.Ca.forEach((e=>{e.next()}))}var ym,J0;(J0=ym||(ym={})).Ma="default",J0.Cache="cache";class pT{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new pl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=pl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ym.Cache}}class yT{constructor(e){this.key=e}}class _T{constructor(e){this.key=e}}class QC{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=je(),this.mutatedKeys=je(),this.eu=VE(e),this.tu=new ll(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new Z0,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,A)=>{const M=o.get(E),F=Eh(this.query,A)?A:null,W=!!M&&this.mutatedKeys.has(M.key),ie=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let J=!1;M&&F?M.data.isEqual(F.data)?W!==ie&&(a.track({type:3,doc:F}),J=!0):this.su(M,F)||(a.track({type:2,doc:F}),J=!0,(y&&this.eu(F,y)>0||_&&this.eu(F,_)<0)&&(p=!0)):!M&&F?(a.track({type:0,doc:F}),J=!0):M&&!F&&(a.track({type:1,doc:M}),J=!0,(y||_)&&(p=!0)),J&&(F?(d=d.add(F),c=ie?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,A)=>(function(F,W){const ie=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:J})}};return ie(F)-ie(W)})(E.type,A.type)||this.eu(E.doc,A.doc))),this.ou(a),o=o??!1;const p=i&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new pl(this.query,e.tu,c,d,e.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Z0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=je(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new _T(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new yT(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=je();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return pl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ig="SyncEngine";class YC{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class KC{constructor(e){this.key=e,this.hu=!1}}class XC{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ca((p=>ME(p)),vh),this.Iu=new Map,this.Eu=new Set,this.du=new At(pe.comparator),this.Au=new Map,this.Ru=new Qm,this.Vu={},this.mu=new Map,this.fu=gl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $C(r,e,i=!0){const a=AT(r);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await vT(a,e,i,!0),o}async function ZC(r,e){const i=AT(r);await vT(i,e,!0,!1)}async function vT(r,e,i,a){const o=await yC(r.localStore,Fi(e)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await WC(r,e,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&oT(r.remoteStore,o),p}async function WC(r,e,i,a,o){r.pu=(A,M,F)=>(async function(ie,J,_e,Re){let Ee=J.view.ru(_e);Ee.Cs&&(Ee=await F0(ie.localStore,J.query,!1).then((({documents:I})=>J.view.ru(I,Ee))));const ge=Re&&Re.targetChanges.get(J.targetId),Ke=Re&&Re.targetMismatches.get(J.targetId)!=null,ze=J.view.applyChanges(Ee,ie.isPrimaryClient,ge,Ke);return tv(ie,J.targetId,ze.au),ze.snapshot})(r,A,M,F);const c=await F0(r.localStore,e,!0),d=new QC(e,c.Qs),p=d.ru(c.documents),y=tu.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),_=d.applyChanges(p,r.isPrimaryClient,y);tv(r,i,_.au);const E=new YC(e,i,d);return r.Tu.set(e,E),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function JC(r,e,i){const a=we(r),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!vh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await gm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&$m(a.remoteStore,o.targetId),_m(a,o.targetId)})).catch(bl)):(_m(a,o.targetId),await gm(a.localStore,o.targetId,!0))}async function ex(r,e){const i=we(r),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),$m(i.remoteStore,a.targetId))}async function tx(r,e,i){const a=ox(r);try{const o=await(function(d,p){const y=we(d),_=_t.now(),E=p.reduce(((F,W)=>F.add(W.key)),je());let A,M;return y.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let W=Rs(),ie=je();return y.Ns.getEntries(F,E).next((J=>{W=J,W.forEach(((_e,Re)=>{Re.isValidDocument()||(ie=ie.add(_e))}))})).next((()=>y.localDocuments.getOverlayedDocuments(F,W))).next((J=>{A=J;const _e=[];for(const Re of p){const Ee=p2(Re,A.get(Re.key).overlayedDocument);Ee!=null&&_e.push(new Cr(Re.key,Ee,RE(Ee.value.mapValue),Qi.exists(!0)))}return y.mutationQueue.addMutationBatch(F,_,_e,p)})).next((J=>{M=J;const _e=J.applyToLocalDocumentSet(A,ie);return y.documentOverlayCache.saveOverlays(F,J.batchId,_e)}))})).then((()=>({batchId:M.batchId,changes:UE(A)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new At(Pe)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,o.batchId,i),await iu(a,o.changes),await Rh(a.remoteStore)}catch(o){const c=tg(o,"Failed to persist write");i.reject(c)}}async function ET(r,e){const i=we(r);try{const a=await mC(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?We(d.hu,14607):o.removedDocuments.size>0&&(We(d.hu,42227),d.hu=!1))})),await iu(i,a,e)}catch(a){await bl(a)}}function ev(r,e,i){const a=we(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const y=we(d);y.onlineState=p;let _=!1;y.queries.forEach(((E,A)=>{for(const M of A.Sa)M.va(p)&&(_=!0)})),_&&ng(y)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function nx(r,e,i){const a=we(r);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new At(pe.comparator);d=d.insert(c,gn.newNoDocument(c,Se.min()));const p=je().add(c),y=new Sh(Se.min(),new Map,new At(Pe),d,p);await ET(a,y),a.du=a.du.remove(c),a.Au.delete(e),sg(a)}else await gm(a.localStore,e,!1).then((()=>_m(a,e,i))).catch(bl)}async function ix(r,e){const i=we(r),a=e.batch.batchId;try{const o=await dC(i.localStore,e);bT(i,a,null),TT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await iu(i,o)}catch(o){await bl(o)}}async function sx(r,e,i){const a=we(r);try{const o=await(function(d,p){const y=we(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let E;return y.mutationQueue.lookupMutationBatch(_,p).next((A=>(We(A!==null,37113),E=A.keys(),y.mutationQueue.removeMutationBatch(_,A)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,E,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E))).next((()=>y.localDocuments.getDocuments(_,E)))}))})(a.localStore,e);bT(a,e,i),TT(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await iu(a,o)}catch(o){await bl(o)}}function TT(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function bT(r,e,i){const a=we(r);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function _m(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||ST(r,a)}))}function ST(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&($m(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),sg(r))}function tv(r,e,i){for(const a of i)a instanceof yT?(r.Ru.addReference(a.key,e),rx(r,a)):a instanceof _T?(oe(ig,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||ST(r,a.key)):ve(19791,{wu:a})}function rx(r,e){const i=e.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(oe(ig,"New document in limbo: "+i),r.Eu.add(a),sg(r))}function sg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new pe(St.fromString(e)),a=r.fu.next();r.Au.set(a,new KC(i)),r.du=r.du.insert(i,a),oT(r.remoteStore,new dr(Fi(_h(i.path)),a,"TargetPurposeLimboResolution",mh.ce))}}async function iu(r,e,i){const a=we(r),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const E=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(_){o.push(_);const E=Km.As(y.targetId,_);c.push(E)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(y,_){const E=we(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>X.forEach(_,(M=>X.forEach(M.Es,(F=>E.persistence.referenceDelegate.addReference(A,M.targetId,F))).next((()=>X.forEach(M.ds,(F=>E.persistence.referenceDelegate.removeReference(A,M.targetId,F)))))))))}catch(A){if(!Sl(A))throw A;oe(Xm,"Failed to update sequence numbers: "+A)}for(const A of _){const M=A.targetId;if(!A.fromCache){const F=E.Ms.get(M),W=F.snapshotVersion,ie=F.withLastLimboFreeSnapshotVersion(W);E.Ms=E.Ms.insert(M,ie)}}})(a.localStore,c))}async function ax(r,e){const i=we(r);if(!i.currentUser.isEqual(e)){oe(ig,"User change. New user:",e.toKey());const a=await sT(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new fe($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await iu(i,a.Ls)}}function lx(r,e){const i=we(r),a=i.Au.get(e);if(a&&a.hu)return je().add(a.key);{let o=je();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function AT(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=ET.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nx.bind(null,e),e.Pu.H_=GC.bind(null,e.eventManager),e.Pu.yu=FC.bind(null,e.eventManager),e}function ox(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ix.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sx.bind(null,e),e}class uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ah(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return fC(this.persistence,new uC,e.initialUser,this.serializer)}Cu(e){return new iT(Ym.mi,this.serializer)}Du(e){return new vC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uh.provider={build:()=>new uh};class ux extends uh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){We(this.persistence.referenceDelegate instanceof lh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new K2(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new iT((a=>lh.mi(a,i)),this.serializer)}}class vm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>ev(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=ax.bind(null,this.syncEngine),await BC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new HC})()}createDatastore(e){const i=Ah(e.databaseInfo.databaseId),a=(function(c){return new AC(c)})(e.databaseInfo);return(function(c,d,p,y){return new xC(c,d,p,y)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,p){return new NC(a,o,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>ev(this.syncEngine,i,0)),(function(){return K0.v()?new K0:new EC})())}createSyncEngine(e,i){return(function(o,c,d,p,y,_,E){const A=new XC(o,c,d,p,y,_);return E&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=we(i);oe(ua,"RemoteStore shutting down."),a.Ea.add(5),await nu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}vm.provider={build:()=>new vm};class wT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ws("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const wr="FirestoreClient";class cx{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=mn.UNAUTHENTICATED,this.clientId=km.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{oe(wr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(oe(wr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=tg(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Qd(r,e){r.asyncQueue.verifyOperationInProgress(),oe(wr,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await sT(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function nv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await hx(r);oe(wr,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>$0(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>$0(e.remoteStore,o))),r._onlineComponents=e}async function hx(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){oe(wr,"Using user provided OfflineComponentProvider");try{await Qd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;cl("Error using user provided cache. Falling back to memory cache: "+i),await Qd(r,new uh)}}else oe(wr,"Using default OfflineComponentProvider"),await Qd(r,new ux(void 0));return r._offlineComponents}async function RT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(oe(wr,"Using user provided OnlineComponentProvider"),await nv(r,r._uninitializedComponentsProvider._online)):(oe(wr,"Using default OnlineComponentProvider"),await nv(r,new vm))),r._onlineComponents}function fx(r){return RT(r).then((e=>e.syncEngine))}async function Em(r){const e=await RT(r),i=e.eventManager;return i.onListen=$C.bind(null,e.syncEngine),i.onUnlisten=JC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=ZC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=ex.bind(null,e.syncEngine),i}function dx(r,e,i={}){const a=new _r;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const E=new wT({next:M=>{E.Nu(),d.enqueueAndForget((()=>gT(c,A)));const F=M.docs.has(p);!F&&M.fromCache?_.reject(new fe($.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&y&&y.source==="server"?_.reject(new fe($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),A=new pT(_h(p.path),E,{includeMetadataChanges:!0,qa:!0});return mT(c,A)})(await Em(r),r.asyncQueue,e,i,a))),a.promise}function CT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const iv=new Map;const xT="firestore.googleapis.com",sv=!0;class rv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xT,this.ssl=sv}else this.host=e.host,this.ssl=e.ssl??sv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Q2)throw new fe($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CT(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new fe($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new fe($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new fe($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rg{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new yR;switch(a.type){case"firstParty":return new TR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new fe($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=iv.get(i);a&&(oe("ComponentProvider","Removing Datastore"),iv.delete(i),a.terminate())})(this),Promise.resolve()}}function mx(r,e,i,a={}){r=Gi(r,rg);const o=_l(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${i}`;o&&(Sv(`https://${p}`),Av("Firestore",!0)),c.host!==xT&&c.host!==p&&cl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:o,emulatorOptions:a};if(!vr(y,d)&&(r._setSettings(y),a.mockUserToken)){let _,E;if(typeof a.mockUserToken=="string")_=a.mockUserToken,E=mn.MOCK_USER;else{_=z1(a.mockUserToken,r._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new fe($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new mn(A)}r._authCredentials=new _R(new gE(_,E))}}class Ch{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Ch(this.firestore,e,this._query)}}class qt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qt(this.firestore,e,this._key)}toJSON(){return{type:qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Jo(i,qt._jsonSchema))return new qt(e,a||null,new pe(St.fromString(i.referencePath)))}}qt._jsonSchemaVersion="firestore/documentReference/1.0",qt._jsonSchema={type:Bt("string",qt._jsonSchemaVersion),referencePath:Bt("string")};class Fo extends Ch{constructor(e,i,a){super(e,i,_h(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new pe(e))}withConverter(e){return new Fo(this.firestore,e,this._path)}}function Ft(r,e,...i){if(r=Tn(r),arguments.length===1&&(e=km.newId()),CR("doc","path",e),r instanceof rg){const a=St.fromString(e,...i);return v0(a),new qt(r,null,new pe(a))}{if(!(r instanceof qt||r instanceof Fo))throw new fe($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(St.fromString(e,...i));return v0(a),new qt(r.firestore,r instanceof Fo?r.converter:null,new pe(a))}}const av="AsyncQueue";class lv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new aT(this,"async_queue_retry"),this._c=()=>{const a=Fd();a&&oe(av,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Fd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Fd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new _r;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Sl(e))throw e;oe(av,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,ws("INTERNAL UNHANDLED ERROR: ",ov(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=eg.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:ov(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function ov(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function uv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class yl extends rg{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new lv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lv(e),this._firestoreClient=void 0,await e}}}function gx(r,e){const i=typeof r=="object"?r:xv(),a=typeof r=="string"?r:eh,o=wm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=P1("firestore");c&&mx(o,...c)}return o}function ag(r){if(r._terminated)throw new fe($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||px(r),r._firestoreClient}function px(r){const e=r._freezeSettings(),i=(function(o,c,d,p){return new jR(o,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,CT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new cx(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class ri{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ri(cn.fromBase64String(e))}catch(i){throw new fe($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ri(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ri._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Jo(e,ri._jsonSchema))return ri.fromBase64String(e.bytes)}}ri._jsonSchemaVersion="firestore/bytes/1.0",ri._jsonSchema={type:Bt("string",ri._jsonSchemaVersion),bytes:Bt("string")};class xh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new fe($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ih{constructor(e){this._methodName=e}}class Ki{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new fe($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new fe($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ki._jsonSchemaVersion}}static fromJSON(e){if(Jo(e,Ki._jsonSchema))return new Ki(e.latitude,e.longitude)}}Ki._jsonSchemaVersion="firestore/geoPoint/1.0",Ki._jsonSchema={type:Bt("string",Ki._jsonSchemaVersion),latitude:Bt("number"),longitude:Bt("number")};class Xi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Jo(e,Xi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Xi(e.vectorValues);throw new fe($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xi._jsonSchemaVersion="firestore/vectorValue/1.0",Xi._jsonSchema={type:Bt("string",Xi._jsonSchemaVersion),vectorValues:Bt("object")};const yx=/^__.*__$/;class _x{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Cr(e,this.data,this.fieldMask,i,this.fieldTransforms):new eu(e,this.data,i,this.fieldTransforms)}}class IT{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Cr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function NT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:r})}}class Nh{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Nh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ch(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(NT(this.Ac)&&yx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class vx{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Ah(e)}Cc(e,i,a,o=!1){return new Nh({Ac:e,methodName:i,Dc:a,path:un.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function DT(r){const e=r._freezeSettings(),i=Ah(r._databaseId);return new vx(r._databaseId,!!e.ignoreUndefinedProperties,i)}function Ex(r,e,i,a,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,e,i,o);og("Data must be an object, but it was:",d,a);const p=OT(a,d);let y,_;if(c.merge)y=new Gn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const A of c.mergeFields){const M=Tm(e,A,i);if(!d.contains(M))throw new fe($.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);VT(E,M)||E.push(M)}y=new Gn(E),_=d.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,_=d.fieldTransforms;return new _x(new On(p),y,_)}class Dh extends Ih{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dh}}function Tx(r,e,i){return new Nh({Ac:3,Dc:e.settings.Dc,methodName:r._methodName,fc:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class lg extends Ih{constructor(e,i){super(e),this.vc=i}_toFieldTransform(e){const i=Tx(this,e,!0),a=this.vc.map((c=>su(c,i))),o=new ml(a);return new f2(e.path,o)}isEqual(e){return e instanceof lg&&vr(this.vc,e.vc)}}function bx(r,e,i,a){const o=r.Cc(1,e,i);og("Data must be an object, but it was:",o,a);const c=[],d=On.empty();Rr(a,((y,_)=>{const E=ug(e,y,i);_=Tn(_);const A=o.yc(E);if(_ instanceof Dh)c.push(E);else{const M=su(_,A);M!=null&&(c.push(E),d.set(E,M))}}));const p=new Gn(c);return new IT(d,p,o.fieldTransforms)}function Sx(r,e,i,a,o,c){const d=r.Cc(1,e,i),p=[Tm(e,a,i)],y=[o];if(c.length%2!=0)throw new fe($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)p.push(Tm(e,c[M])),y.push(c[M+1]);const _=[],E=On.empty();for(let M=p.length-1;M>=0;--M)if(!VT(_,p[M])){const F=p[M];let W=y[M];W=Tn(W);const ie=d.yc(F);if(W instanceof Dh)_.push(F);else{const J=su(W,ie);J!=null&&(_.push(F),E.set(F,J))}}const A=new Gn(_);return new IT(E,A,d.fieldTransforms)}function su(r,e){if(MT(r=Tn(r)))return og("Unsupported field value:",e,r),OT(r,e);if(r instanceof Ih)return(function(a,o){if(!NT(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const p of a){let y=su(p,o.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,e)}return(function(a,o){if((a=Tn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return u2(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=_t.fromDate(a);return{timestampValue:ah(o.serializer,c)}}if(a instanceof _t){const c=new _t(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ah(o.serializer,c)}}if(a instanceof Ki)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ri)return{bytesValue:XE(o.serializer,a._byteString)};if(a instanceof qt){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Fm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Xi)return(function(d,p){return{mapValue:{fields:{[AE]:{stringValue:wE},[th]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return qm(p.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Um(a)}`)})(r,e)}function OT(r,e){const i={};return _E(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rr(r,((a,o)=>{const c=su(o,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function MT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof _t||r instanceof Ki||r instanceof ri||r instanceof qt||r instanceof Ih||r instanceof Xi)}function og(r,e,i){if(!MT(i)||!pE(i)){const a=Um(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function Tm(r,e,i){if((e=Tn(e))instanceof xh)return e._internalPath;if(typeof e=="string")return ug(r,e);throw ch("Field path arguments must be of type string or ",r,!1,void 0,i)}const Ax=new RegExp("[~\\*/\\[\\]]");function ug(r,e,i){if(e.search(Ax)>=0)throw ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new xh(...e.split("."))._internalPath}catch{throw ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function ch(r,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${o}`),y+=")"),new fe($.INVALID_ARGUMENT,p+r+y)}function VT(r,e){return r.some((i=>i.isEqual(e)))}class kT{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(UT("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class wx extends kT{data(){return super.data()}}function UT(r,e){return typeof e=="string"?ug(r,e):e instanceof xh?e._internalPath:e._delegate._internalPath}function Rx(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new fe($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cx{convertValue(e,i="none"){switch(Sr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(br(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Rr(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[th].arrayValue?.values?.map((a=>Ot(a.doubleValue)));return new Xi(i)}convertGeoPoint(e){return new Ki(Ot(e.latitude),Ot(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=ph(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Bo(e));default:return null}}convertTimestamp(e){const i=Tr(e);return new _t(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=St.fromString(e);We(tT(a),9688,{name:e});const o=new qo(a.get(1),a.get(3)),c=new pe(a.popFirst(5));return o.isEqual(i)||ws(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function xx(r,e,i){let a;return a=r?r.toFirestore(e):e,a}class Do{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ra extends kT{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(UT("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ra._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ra._jsonSchemaVersion="firestore/documentSnapshot/1.0",ra._jsonSchema={type:Bt("string",ra._jsonSchemaVersion),bundleSource:Bt("string","DocumentSnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class Gc extends ra{data(e={}){return super.data(e)}}class ol{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Do(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Gc(this._firestore,this._userDataWriter,a.key,a,new Do(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new fe($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const y=new Gc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Do(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Gc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Do(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,E=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),E=d.indexOf(p.doc.key)),{type:Ix(p.type),doc:y,oldIndex:_,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ol._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=km.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Ix(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:r})}}function Nx(r){r=Gi(r,qt);const e=Gi(r.firestore,yl);return dx(ag(e),r._key).then((i=>jT(e,r,i)))}ol._jsonSchemaVersion="firestore/querySnapshot/1.0",ol._jsonSchema={type:Bt("string",ol._jsonSchemaVersion),bundleSource:Bt("string","QuerySnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class LT extends Cx{constructor(e){super(),this.firestore=e}convertBytes(e){return new ri(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,i)}}function Dx(r,e,i){r=Gi(r,qt);const a=Gi(r.firestore,yl),o=xx(r.converter,e);return PT(a,[Ex(DT(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,Qi.none())])}function ln(r,e,i,...a){r=Gi(r,qt);const o=Gi(r.firestore,yl),c=DT(o);let d;return d=typeof(e=Tn(e))=="string"||e instanceof xh?Sx(c,"updateDoc",r._key,e,i,a):bx(c,"updateDoc",r._key,e),PT(o,[d.toMutation(r._key,Qi.exists(!0))])}function Ox(r,...e){r=Tn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||uv(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(uv(e[a])){const y=e[a];e[a]=y.next?.bind(y),e[a+1]=y.error?.bind(y),e[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof qt)d=Gi(r.firestore,yl),p=_h(r._key.path),c={next:y=>{e[a]&&e[a](jT(d,r,y))},error:e[a+1],complete:e[a+2]};else{const y=Gi(r,Ch);d=Gi(y.firestore,yl),p=y._query;const _=new LT(d);c={next:E=>{e[a]&&e[a](new ol(d,_,y,E))},error:e[a+1],complete:e[a+2]},Rx(r._query)}return(function(_,E,A,M){const F=new wT(M),W=new pT(E,F,A);return _.asyncQueue.enqueueAndForget((async()=>mT(await Em(_),W))),()=>{F.Nu(),_.asyncQueue.enqueueAndForget((async()=>gT(await Em(_),W)))}})(ag(d),p,o,c)}function PT(r,e){return(function(a,o){const c=new _r;return a.asyncQueue.enqueueAndForget((async()=>tx(await fx(a),o,c))),c.promise})(ag(r),e)}function jT(r,e,i){const a=i.docs.get(e._key),o=new LT(r);return new ra(r,o,e._key,a,new Do(i.hasPendingWrites,i.fromCache),e.converter)}function Nn(...r){return new lg("arrayUnion",r)}(function(e,i=!0){(function(o){Tl=o})(vl),ul(new aa("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new yl(new vR(a.getProvider("auth-internal")),new bR(d,a.getProvider("app-check-internal")),(function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new fe($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qo(_.options.projectId,E)})(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),pr(g0,p0,e),pr(g0,p0,"esm2020")})();const Mx=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Vx=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),cv=r=>{const e=Vx(r);return e.charAt(0).toUpperCase()+e.slice(1)},zT=(...r)=>r.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),kx=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Ux={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Lx=dt.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...p},y)=>dt.createElement("svg",{ref:y,...Ux,width:e,height:e,stroke:r,strokeWidth:a?Number(i)*24/Number(e):i,className:zT("lucide",o),...!c&&!kx(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,E])=>dt.createElement(_,E)),...Array.isArray(c)?c:[c]]));const Ht=(r,e)=>{const i=dt.forwardRef(({className:a,...o},c)=>dt.createElement(Lx,{ref:c,iconNode:e,className:zT(`lucide-${Mx(cv(r))}`,`lucide-${r}`,a),...o}));return i.displayName=cv(r),i};const Px=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}]],Co=Ht("badge",Px);const jx=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],zx=Ht("briefcase",jx);const Bx=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],qx=Ht("chevron-down",Bx);const Hx=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],hv=Ht("chevron-up",Hx);const Gx=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Fx=Ht("circle-check-big",Gx);const Qx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Yx=Ht("circle-x",Qx);const Kx=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Xx=Ht("eye-off",Kx);const $x=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Yd=Ht("eye",$x);const Zx=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],Wx=Ht("gavel",Zx);const Jx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],fv=Ht("history",Jx);const eI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],dv=Ht("log-out",eI);const tI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],mv=Ht("rotate-ccw",tI);const nI=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],gv=Ht("search",nI);const iI=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sI=Ht("settings",iI);const rI=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],Kd=Ht("skull",rI);const aI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],lI=Ht("target",aI);const oI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],uI=Ht("trash-2",oI);const cI=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],pv=Ht("triangle-alert",cI);const hI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],fI=Ht("user",hI);const dI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],mI=Ht("x",dI),gI={apiKey:"AIzaSyDf86JHBvY9Y1B1x8QDbJkASmlANouEvX0",authDomain:"card-games-28729.firebaseapp.com",projectId:"card-games-28729",storageBucket:"card-games-28729.firebasestorage.app",messagingSenderId:"466779458834",appId:"1:466779458834:web:68f8deac8c018f2c6d37cb"},BT=Cv(gI),Xd=gR(BT),Qt=gx(BT),Yt=typeof __app_id<"u"?__app_id:"investigation-v2",pI=["Kitchen Knife","Dagger","Machete","Fire Axe","Ice Pick","Surgical Scalpel","Scissors","Broken Bottle","Katana","Cleaver","Hammer","Baseball Bat","Golf Club","Wrench","Crowbar","Brick","Heavy Statue","Candlestick","Frying Pan","Rock","Pistol","Silenced Gun","Sniper Rifle","Shotgun","Crossbow","Rope","Wire","Necktie","Pillow","Plastic Bag","Arsenic","Cyanide Pill","Venomous Snake","Overdose Injection","Sleeping Pills","Chainsaw","Explosives","Molotov Cocktail","Electrocution","Drowning","Push from Heights","Vehicle","Trophy","Screwdriver","Garden Shears","Bare Hands","Laptop Cord","Frozen Lamb Leg","Radioactive Isotope","Liquid Mercury"],yI=["Fingerprint","Muddy Footprint","Blood Stain","Strand of Hair","Torn Fabric","Shirt Button","Sewing Thread","Wedding Ring","Wristwatch","Diamond Necklace","Broken Glasses","Leather Wallet","ID Badge","Credit Card","Grocery Receipt","Plane Ticket","Crumpled Note","Locked Diary","Torn Photograph","City Map","USB Drive","Smartphone","Laptop","House Keys","Rare Coin","Cigarette Butt","Gold Lighter","Matchbook","Pile of Ashes","Shard of Glass","Shattered Plate","Crushed Flower","Tree Leaf","Puddle of Water","Oil Stain","Spray Paint","Spilled Ink","Candy Wrapper","Empty Wine Bottle","Coffee Cup","Lipstick Mark","Scent of Perfume","White Powder","Bullet Casing","Tool Marks","Leather Glove","Ski Mask","Playing Card","Dice","Pocket Mirror"],Vc={FIXED:{title:"Cause of Death",type:"purple",options:["Suffocation","Severe Injury","Loss of Blood","Chemical / Sickness","Accident","Projectile / Blast"]},MAIN:[{title:"Location of Crime",type:"green",options:["Living Room","Bedroom","Kitchen / Dining","Bathroom","Outdoors / Park","Workplace / Office"]},{title:"State of Scene",type:"green",options:["Chaos / Destruction","Signs of Struggle","Perfectly Tidy","Items Missing","Staged / Artificially Arranged","Covered (Ash/Water/Dust)"]},{title:"Condition of Corpse",type:"green",options:["Head / Neck","Chest / Torso","Hands / Arms","Legs / Feet","Internal Organs","No Visible Wounds"]},{title:"Victim's Identity",type:"green",options:["Child","Young Adult","Middle-Aged","Elderly","Male","Female"]}],SUBORDINATE:[{title:"Weather",options:["Sunny/Clear","Rainy/Stormy","Foggy/Misty","Snowing","Hot/Dry","Windy"]},{title:"Time of Death",options:["Dawn","Noon","Afternoon","Evening","Midnight","Late Night"]},{title:"Duration of Crime",options:["Instantaneous","Few Seconds","Few Minutes","Under an Hour","Several Hours","Days"]},{title:"Trace at Scene",options:["Footprints","Fingerprints","Blood/Fluids","Smell/Scent","Sound/Recording","Writing/Marks"]},{title:"Weapon Type",options:["Sharp","Blunt","Toxin/Chemical","Projectile","Everyday Object","Machinery/Tool"]},{title:"Weapon Property",options:["Heavy","Lightweight","Long","Short/Small","Noisy","Silent"]},{title:"Evidence Material",options:["Fabric/Cloth","Metal","Paper/Wood","Plastic","Biological","Stone/Glass"]},{title:"Evidence Condition",options:["Broken/Damaged","New/Shiny","Old/Worn","Wet/Dirty","Burnt/Singed","Incomplete"]},{title:"Social Relation",options:["Relatives","Friends","Colleagues","Lovers","Strangers","Enemies"]},{title:"Victim's Activity",options:["Sleeping","Eating/Drinking","Working","Cleaning","Entertainment","Argument/Fight"]},{title:"Sudden Incident",options:["Loud Shout","Heavy Thud","Bright Flash","Dead Silence","Scream","Breaking Glass"]},{title:"Motive",options:["Hatred/Revenge","Greed/Money","Love/Passion","Jealousy","Fear/Defense","Madness"]},{title:"Killer's Trait",options:["Arrogant","Cautious","Violent","Calm/Cold","Nervous","Calculating"]},{title:"Victim's Clothes",options:["Pajamas","Uniform","Formal Suit","Casual","Naked","Costume"]},{title:"Impression",options:["Natural","Artistic","Cruel","Clumsy","Professional","Bizarre"]},{title:"Noticed By Others",options:["Sound","Smell","Silhouette","Someone Running","Object Thrown","Nothing"]},{title:"Evidence Size",options:["Tiny","Small","Medium","Large","Heavy","Microscopic"]},{title:"Evidence Color",options:["Red/Purple","Blue/Green","Yellow/Orange","Black/Grey","White/Clear","Metallic"]},{title:"In Progress",options:["Entering","Leaving","Conversation","Meal","Distracted","On Phone"]},{title:"Assassin Hint",options:["Man","Woman","Tall","Short","Strong","Weak"]}]},Wa=r=>{let e=r.length,i;const a=[...r];for(;e!==0;)i=Math.floor(Math.random()*e),e--,[a[e],a[i]]=[a[i],a[e]];return a};function _I(){const[r,e]=dt.useState(null),[i,a]=dt.useState("menu"),[o,c]=dt.useState(""),[d,p]=dt.useState(""),[y,_]=dt.useState(null),[E,A]=dt.useState(null),[M,F]=dt.useState(!1),[W,ie]=dt.useState(""),[J,_e]=dt.useState(null),[Re,Ee]=dt.useState(null),[ge,Ke]=dt.useState(null),[ze,I]=dt.useState(!1),[w,x]=dt.useState(!1),[V,N]=dt.useState(!1),[k,R]=dt.useState(!1),[ot,mt]=dt.useState(!1),[H,se]=dt.useState(!0);dt.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await tw(Xd,__initial_auth_token):await $A(Xd)})();const ae=sw(Xd,te=>e(te));return()=>ae()},[]),dt.useEffect(()=>{if(!y||!r)return;const ee=Ft(Qt,"artifacts",Yt,"public","data","rooms",y),ae=Ox(ee,te=>{if(te.exists()){const ue=te.data();if(!ue.players.find($t=>$t.id===r.uid)){_(null),a("menu"),A(null),ie("You were removed from the room.");return}A({id:te.id,...ue}),ue.status==="playing"||ue.status==="finished"?a("game"):a("lobby"),ue.status==="lobby"&&(I(!1),Ke(null),R(!1)),ue.status==="playing"&&ue.phase==="INVESTIGATION"&&ue.players.filter(Mn=>Mn.role!=="DETECTIVE"&&Mn.badge===!0).length===0&&!ue.activeAccusation&&ue.hostId===r.uid&&de()}else _(null),a("menu"),ie("Room closed.")},te=>console.error(te));return()=>ae()},[y,r]);const de=async ee=>{let ae=[{text:"All badges used. Murderer Escapes!",type:"danger"}];await ln(Ft(Qt,"artifacts",Yt,"public","data","rooms",y),{phase:"GAME_OVER_BAD",logs:Nn(...ae)})},Be=async()=>{if(!r||!o.trim())return ie("Enter nickname.");F(!0);const ee=Math.random().toString(36).substring(2,8).toUpperCase(),ae={hostId:r.uid,players:[{id:r.uid,name:o,role:null,means:[],clues:[],badge:!0,ready:!0}],status:"lobby",settings:{useAccomplice:!1,useWitness:!1},logs:[],accusations:[],nextRoundRequests:[],readyPlayers:[],activeAccusation:null};try{await Dx(Ft(Qt,"artifacts",Yt,"public","data","rooms",ee),ae),_(ee)}catch{ie("Failed to create room.")}F(!1)},Xe=async()=>{if(!r||!d||!o.trim())return ie("Enter details.");F(!0);try{const ee=Ft(Qt,"artifacts",Yt,"public","data","rooms",d),ae=await Nx(ee);if(!ae.exists())throw new Error("Room not found.");const te=ae.data();if(te.players.length>=10)throw new Error("Room full.");if(te.status!=="lobby")throw new Error("Game started.");te.players.find(Ge=>Ge.id===r.uid)||await ln(ee,{players:Nn({id:r.uid,name:o,role:null,means:[],clues:[],badge:!0,ready:!0})}),_(d)}catch(ee){ie(ee.message)}F(!1)},O=async ee=>{if(!E||E.hostId!==r.uid)return;const ae=E.settings?.[ee]||!1;await ln(Ft(Qt,"artifacts",Yt,"public","data","rooms",y),{[`settings.${ee}`]:!ae})},Y=async()=>{if(!y||!r||!E)return;const ee=E.players.filter(ae=>ae.id!==r.uid);try{await ln(Ft(Qt,"artifacts",Yt,"public","data","rooms",y),{players:ee})}catch{}_(null),a("menu"),A(null),mt(!1)},re=async ee=>{if(!E||E.hostId!==r.uid)return;const ae=E.players.filter(te=>te.id!==ee);await ln(Ft(Qt,"artifacts",Yt,"public","data","rooms",y),{players:ae})},le=async()=>{if(!E||E.hostId!==r.uid)return;const ee=E.players.map(ae=>({...ae,role:null,means:[],clues:[],badge:!0,ready:!0}));await ln(Ft(Qt,"artifacts",Yt,"public","data","rooms",y),{status:"lobby",phase:null,solution:null,activeTiles:null,logs:[],players:ee,round:1,accusations:[],successfulSolvers:[],accompliceSuggestion:null,murdererGuess:null,nextRoundRequests:[],readyPlayers:[],activeAccusation:null})},Te=async()=>{if(E.players.length<4)return ie("Need 4+ players.");const ee=E.players.length;let ae=["DETECTIVE","MURDERER"];for(ee>=6&&E.settings?.useAccomplice&&ae.push("ACCOMPLICE"),ee>=5&&E.settings?.useWitness&&ae.push("WITNESS");ae.length<ee;)ae.push("INVESTIGATOR");ae=Wa(ae);const te=Wa([...pI]),ue=Wa([...yI]),Ge=E.players.map((xt,ft)=>{if(ae[ft]==="DETECTIVE")return{...xt,role:ae[ft],means:[],clues:[],badge:!1};const yn=[],hn=[];for(let Vn=0;Vn<4;Vn++)yn.push(te.pop());for(let Vn=0;Vn<4;Vn++)hn.push(ue.pop());return{...xt,role:ae[ft],means:yn,clues:hn,badge:!0}}),$t=Wa([...Vc.MAIN])[0],Mn=Wa([...Vc.SUBORDINATE]).slice(0,4),gt=[{...Vc.FIXED,id:"cause",selected:null},{...$t,id:"main",selected:null},...Mn.map((xt,ft)=>({...xt,id:`scene_${ft}`,selected:null}))];await ln(Ft(Qt,"artifacts",Yt,"public","data","rooms",y),{status:"playing",phase:"PRE_GAME_MURDER",players:Ge,activeTiles:gt,solution:null,round:1,logs:Nn({text:"Game Started. Planning Phase...",type:"neutral"}),accusations:[],nextRoundRequests:[],readyPlayers:[],activeAccusation:null})},Ce=async()=>{if(E.readyPlayers?.includes(r.uid))return;const ee=[...E.readyPlayers||[],r.uid],ae=E.players.length===ee.length;let te={readyPlayers:ee};ae&&(te.phase="MURDERER_SELECT",te.logs=Nn({text:"Everyone Ready. Murderer is choosing...",type:"danger"})),await ln(Ft(Qt,"artifacts",Yt,"public","data","rooms",y),te)},Ve=async(ee,ae)=>{await ln(Ft(Qt,"artifacts",Yt,"public","data","rooms",y),{solution:{means:ee,clue:ae,murdererId:r.uid},phase:"DETECTIVE_TURN",logs:Nn({text:"Crime Committed. Detective is analyzing evidence...",type:"danger"})})},Ct=async(ee,ae)=>{const te=[...E.activeTiles];te[ee].selected=ae,await ln(Ft(Qt,"artifacts",Yt,"public","data","rooms",y),{activeTiles:te})},ht=async()=>{if(!E.activeTiles.every(ae=>ae.selected!==null))return alert("Select an option for every tile!");await ln(Ft(Qt,"artifacts",Yt,"public","data","rooms",y),{phase:"INVESTIGATION",logs:Nn({text:`Round ${E.round} Clues Revealed! Investigators, submit your files when ready.`,type:"info"}),nextRoundRequests:[]})},Wi=async()=>{E.nextRoundRequests?.includes(r.uid)||await ln(Ft(Qt,"artifacts",Yt,"public","data","rooms",y),{nextRoundRequests:Nn(r.uid)})},xs=async ee=>{if(ee<2)return alert("You cannot replace the Cause of Death or Main Location tile.");if(E.round>=3)return;const ae=E.activeTiles.map($t=>$t.title),te=Vc.SUBORDINATE.filter($t=>!ae.includes($t.title)),ue=Wa(te)[0],Ge=[...E.activeTiles];Ge[ee]={...ue,id:`scene_r${E.round+1}_${ee}`,selected:null},await ln(Ft(Qt,"artifacts",Yt,"public","data","rooms",y),{phase:"DETECTIVE_TURN",round:E.round+1,activeTiles:Ge,logs:Nn({text:`Round ${E.round+1} Begins. Detective is updating a clue...`,type:"neutral"})}),R(!1)},Is=async()=>{if(!ge)return;const{targetId:ee,means:ae,clue:te}=ge,ue=E.players.findIndex(ft=>ft.id===r.uid),Ge=[...E.players];Ge[ue].badge=!1;const $t=E.solution,Mn=ee===$t.murdererId&&ae===$t.means&&te===$t.clue,gt={solverId:r.uid,solverName:Ge[ue].name,targetId:ee,means:ae,clue:te,isCorrect:Mn,continueVotes:[]},xt=E.nextRoundRequests||[];xt.includes(r.uid)||xt.push(r.uid),await ln(Ft(Qt,"artifacts",Yt,"public","data","rooms",y),{players:Ge,accusations:Nn(gt),activeAccusation:gt,nextRoundRequests:xt,logs:Nn({text:`${Ge[ue].name} submitted a case file.`,type:"neutral"})}),I(!1),Ke(null)},Ns=async()=>{if(!E.activeAccusation)return;const ee=E.activeAccusation.continueVotes||[];if(ee.includes(r.uid))return;const ae=[...ee,r.uid],te=E.players.length===ae.length;let ue={"activeAccusation.continueVotes":ae};te&&(ue.activeAccusation=null,E.activeAccusation.isCorrect?E.settings?.useWitness?(ue.phase="WITNESS_HUNT",ue.successfulSolvers=[E.activeAccusation.solverId],ue.logs=Nn({text:"CORRECT! But Murderer can steal win by finding Witness.",type:"warning"})):(ue.phase="GAME_OVER_GOOD",ue.successfulSolvers=[E.activeAccusation.solverId],ue.logs=Nn({text:"CORRECT! Investigators Win!",type:"success"})):ue.logs=Nn({text:`${E.activeAccusation.solverName} was WRONG. Game Continues.`,type:"danger"})),await ln(Ft(Qt,"artifacts",Yt,"public","data","rooms",y),ue)},Fn=async ee=>{await ln(Ft(Qt,"artifacts",Yt,"public","data","rooms",y),{accompliceSuggestion:ee})},xr=async ee=>{const ae=E.players.find(Ge=>Ge.id===ee);let te="GAME_OVER_GOOD",ue=[];ae.role==="WITNESS"?(te="GAME_OVER_BAD",ue.push({text:`Murderer identified the Witness (${ae.name})! Murderer Wins!`,type:"danger"})):(te="GAME_OVER_GOOD",ue.push({text:"Murderer guessed wrong! Investigators Win!",type:"success"})),await ln(Ft(Qt,"artifacts",Yt,"public","data","rooms",y),{phase:te,logs:Nn(...ue)})},ai=({role:ee})=>{if(!ee)return null;let ae="bg-gray-600",te=fI;ee==="DETECTIVE"&&(ae="bg-blue-600",te=gv),ee==="MURDERER"&&(ae="bg-red-600",te=Kd),ee==="INVESTIGATOR"&&(ae="bg-emerald-600",te=Co),ee==="ACCOMPLICE"&&(ae="bg-orange-600",te=zx),ee==="WITNESS"&&(ae="bg-indigo-600",te=Yd);const ue=ee.charAt(0)+ee.slice(1).toLowerCase();return S.jsxs("div",{className:`${ae} text-white px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1 shadow-sm`,children:[b1.createElement(te,{size:12})," ",S.jsx("span",{className:"whitespace-nowrap",children:ue})]})};if(!r)return S.jsx("div",{className:"h-screen bg-slate-900 text-white flex items-center justify-center",children:"Loading..."});if(i==="menu")return S.jsxs("div",{className:"min-h-screen bg-slate-900 text-slate-100 font-sans p-6 flex flex-col items-center justify-center relative overflow-hidden",children:[S.jsxs("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none",children:[S.jsx("div",{className:"absolute top-10 left-10 text-9xl",children:"?"}),S.jsx("div",{className:"absolute bottom-20 right-20 text-9xl",children:"?"}),S.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-blue-500 rounded-full blur-[128px] opacity-20"})]}),S.jsxs("div",{className:"z-10 w-full max-w-md space-y-8",children:[S.jsxs("div",{className:"text-center space-y-2",children:[S.jsx("h1",{className:"text-5xl font-black tracking-tighter text-transparent bg-clip-text bg-gradient-to-br from-blue-400 to-purple-600",children:"INVESTIGATION"}),S.jsx("p",{className:"text-slate-400 text-sm uppercase tracking-widest",children:"Murder Mystery"})]}),S.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-md border border-slate-700 p-6 rounded-2xl shadow-xl",children:[W&&S.jsxs("div",{className:"bg-red-500/20 text-red-200 p-3 rounded text-sm mb-4 flex items-center gap-2",children:[S.jsx(pv,{size:16})," ",W]}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase ml-1",children:"Codename"}),S.jsx("input",{value:o,onChange:ee=>c(ee.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:"Enter your name"})]}),S.jsxs("div",{className:"grid grid-cols-1 gap-4 pt-2",children:[S.jsxs("div",{className:"p-4 bg-slate-900/50 rounded-xl border border-slate-700 hover:border-blue-500 transition-colors group",children:[S.jsx("h3",{className:"font-bold text-blue-400 mb-2 flex items-center gap-2",children:"Join Case"}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("input",{value:d,onChange:ee=>p(ee.target.value.toUpperCase()),className:"w-full bg-slate-800 border border-slate-600 rounded p-2 text-sm uppercase tracking-widest font-mono focus:border-blue-500 outline-none",placeholder:"ROOM CODE"}),S.jsx("button",{onClick:Xe,disabled:M,className:"bg-blue-600 hover:bg-blue-500 px-4 rounded font-bold transition-colors",children:"GO"})]})]}),S.jsxs("div",{className:"p-4 bg-slate-900/50 rounded-xl border border-slate-700 hover:border-purple-500 transition-colors group",children:[S.jsx("h3",{className:"font-bold text-purple-400 mb-2 flex items-center gap-2",children:"New Investigation"}),S.jsx("button",{onClick:Be,disabled:M,className:"w-full bg-purple-600 hover:bg-purple-500 py-3 rounded-lg font-bold transition-colors shadow-lg shadow-purple-900/20",children:"Create Case File"})]})]})]})]})]})]});if(i==="lobby"&&E){const ee=E.hostId===r.uid,ae=E.players.length;return S.jsxs("div",{className:"min-h-screen bg-slate-900 text-slate-100 p-6 flex flex-col items-center",children:[S.jsxs("div",{className:"w-full max-w-2xl space-y-6",children:[S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsxs("div",{children:[S.jsxs("h2",{className:"text-3xl font-bold text-white",children:["Case File:"," ",S.jsx("span",{className:"font-mono text-blue-400",children:E.id})]}),S.jsx("p",{className:"text-slate-400 text-sm",children:"Waiting for investigators..."})]}),S.jsxs("button",{onClick:()=>mt(!0),className:"text-slate-500 hover:text-white flex items-center gap-1 text-sm",children:[S.jsx(dv,{size:16})," Leave"]})]}),S.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700 flex justify-between items-center",children:[S.jsxs("div",{className:"flex items-center gap-2 text-slate-300 font-bold",children:[S.jsx(sI,{size:18})," Settings"]}),S.jsxs("div",{className:"flex gap-4",children:[ae>=6&&S.jsxs("label",{className:`flex items-center gap-2 cursor-pointer ${!ee&&"opacity-50 pointer-events-none"}`,children:[S.jsx("input",{type:"checkbox",checked:E.settings?.useAccomplice||!1,onChange:()=>O("useAccomplice"),className:"w-4 h-4 accent-purple-500 rounded"}),S.jsx("span",{className:"text-sm",children:"Accomp."})]}),ae>=5&&S.jsxs("label",{className:`flex items-center gap-2 cursor-pointer ${!ee&&"opacity-50 pointer-events-none"}`,children:[S.jsx("input",{type:"checkbox",checked:E.settings?.useWitness||!1,onChange:()=>O("useWitness"),className:"w-4 h-4 accent-indigo-500 rounded"}),S.jsx("span",{className:"text-sm",children:"Witness"})]}),ae<5&&S.jsx("span",{className:"text-xs text-slate-500",children:"Need 5+ players for extra roles"})]})]}),S.jsxs("div",{className:"bg-slate-800 rounded-2xl border border-slate-700 overflow-hidden",children:[S.jsx("div",{className:"p-4 bg-slate-800 border-b border-slate-700 flex justify-between items-center",children:S.jsxs("span",{className:"font-bold text-slate-400",children:["ROSTER (",E.players.length,"/10)"]})}),S.jsx("div",{className:"divide-y divide-slate-700",children:E.players.map(te=>S.jsxs("div",{className:"p-4 flex items-center justify-between group",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center font-bold text-slate-400",children:te.name[0].toUpperCase()}),S.jsxs("span",{className:te.id===r.uid?"text-blue-400 font-bold":"text-slate-300",children:[te.name," ",te.id===E.hostId&&""]})]}),S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsxs("span",{className:"text-green-500 flex items-center gap-1 text-sm",children:[S.jsx(Fx,{size:14})," Ready"]}),ee&&te.id!==r.uid&&S.jsx("button",{onClick:()=>re(te.id),className:"text-red-900 group-hover:text-red-500 transition-colors p-2",children:S.jsx(uI,{size:20})})]})]},te.id))})]}),ee&&S.jsx("button",{onClick:Te,disabled:E.players.length<4,className:`w-full py-4 rounded-xl font-bold text-lg shadow-xl transition-all ${E.players.length>=4?"bg-gradient-to-r from-blue-600 to-purple-600 hover:scale-[1.02]":"bg-slate-800 text-slate-500 cursor-not-allowed"}`,children:E.players.length<4?"Need 4 Players to Start":"Distribute Roles & Start"})]}),ot&&S.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",children:S.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6 max-w-sm w-full text-center shadow-2xl",children:[S.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Leave Game?"}),S.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:"Are you sure? You will be removed from the lobby."}),S.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[S.jsx("button",{onClick:()=>mt(!1),className:"bg-slate-700 hover:bg-slate-600 text-white py-3 rounded font-bold",children:"Stay"}),S.jsx("button",{onClick:Y,className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold",children:"Leave"})]})]})})]})}if(i==="game"&&E){const ee=E.players.find(Z=>Z.id===r.uid);if(!ee)return S.jsx("div",{onClick:()=>window.location.reload(),className:"p-10 text-white cursor-pointer",children:"You were removed. Click to reload."});let ae={};if(ae[ee.id]=ee.role,ee.role==="DETECTIVE"&&E.players.forEach(Z=>ae[Z.id]=Z.role),ee.role==="MURDERER"){const Z=E.players.find(De=>De.role==="ACCOMPLICE");Z&&(ae[Z.id]="ACCOMPLICE")}if(ee.role==="ACCOMPLICE"){const Z=E.players.find(De=>De.role==="MURDERER");Z&&(ae[Z.id]="MURDERER")}ee.role==="WITNESS"&&E.players.forEach(Z=>{Z.role==="MURDERER"&&(ae[Z.id]="MURDERER")});const te=ee.role==="DETECTIVE",ue=ee.role==="MURDERER",Ge=ee.role==="ACCOMPLICE",$t=E.phase==="PRE_GAME_MURDER",Mn=E.phase==="MURDERER_SELECT",gt=E.phase==="DETECTIVE_TURN",xt=E.phase==="INVESTIGATION",ft=E.phase==="WITNESS_HUNT",yn=E.phase==="GAME_OVER_GOOD",hn=E.accusations?.find(Z=>Z.solverId===r.uid),Vn=E.players.filter(Z=>Z.role!=="DETECTIVE").every(Z=>{const De=E.nextRoundRequests?.includes(Z.id),vt=E.accusations?.some(Fe=>Fe.solverId===Z.id);return De||vt}),Ir=(Z,De,vt)=>{te||!ee.badge||!xt||Ke(Fe=>{if(Fe?.targetId!==Z)return{targetId:Z,[De]:vt,[De==="means"?"clue":"means"]:null};const Je={...Fe};return Je[De]===vt?Je[De]=null:Je[De]=vt,Je})};if($t){const Z=E.readyPlayers?.includes(r.uid);return S.jsxs("div",{className:"min-h-screen bg-slate-900 text-slate-100 flex flex-col relative",children:[S.jsxs("div",{className:"bg-slate-800 p-3 shadow-lg z-20 flex justify-between items-center sticky top-0 border-b border-slate-700",children:[S.jsxs("div",{children:[S.jsx("div",{className:"text-xs text-slate-400 font-bold uppercase",children:"Pre-Game Phase"}),S.jsxs("div",{className:"text-sm font-bold text-white flex items-center gap-2",children:[S.jsx(Yd,{size:16})," View Roles & Cards"]})]}),S.jsx("button",{onClick:Ce,disabled:Z,className:`px-6 py-2 rounded-full font-bold text-sm transition-all ${Z?"bg-green-600 text-white cursor-default":"bg-blue-600 hover:bg-blue-500 text-white shadow-lg animate-pulse"}`,children:Z?"Waiting for others...":"Ready for Murder"})]}),S.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-slate-950",children:S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 max-w-7xl mx-auto pb-20",children:E.players.map(De=>{const vt=De.id===r.uid,Fe=ae[De.id]||De.role==="DETECTIVE";return S.jsxs("div",{className:`relative bg-slate-900 border rounded-xl overflow-hidden shadow-lg ${vt?"border-blue-500/50":"border-slate-800"}`,children:[S.jsx("div",{className:"p-2 bg-slate-800/80 flex justify-between items-center border-b border-slate-700",children:S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:`font-bold text-sm ${vt?"text-blue-400":"text-slate-200"}`,children:De.name}),Fe&&S.jsx(ai,{role:De.role})]})}),S.jsxs("div",{className:"p-2 grid grid-cols-2 gap-2",children:[S.jsxs("div",{className:"space-y-1",children:[S.jsx("div",{className:"text-[10px] uppercase font-bold text-red-900 mb-1",children:"Murder Weapon"}),De.means.map(Je=>S.jsx("div",{className:"px-2 py-1.5 rounded text-xs font-medium text-center truncate bg-slate-800 text-red-200 border border-red-900/30",children:Je},Je))]}),S.jsxs("div",{className:"space-y-1",children:[S.jsx("div",{className:"text-[10px] uppercase font-bold text-blue-900 mb-1",children:"Evidence on Site"}),De.clues.map(Je=>S.jsx("div",{className:"px-2 py-1.5 rounded text-xs font-medium text-center truncate bg-slate-800 text-blue-200 border border-blue-900/30",children:Je},Je))]})]})]},De.id)})})})]})}return Mn?ue||Ge?S.jsxs("div",{className:"min-h-screen bg-red-950 text-white p-4 flex flex-col items-center justify-center",children:[S.jsx("h1",{className:"text-3xl md:text-4xl font-black text-red-500 mb-2",children:"COMMIT THE CRIME"}),S.jsx("p",{className:"text-red-200 mb-6 max-w-md text-center text-sm md:text-base",children:ue?"Select 1 Murder Weapon and 1 Evidence.":"The Murderer is selecting the weapon and evidence. Watch closely."}),ue?S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 w-full max-w-4xl flex-1 overflow-y-auto pb-20",children:[S.jsxs("div",{className:"bg-red-900/30 p-4 rounded-xl border border-red-800",children:[S.jsxs("h3",{className:"text-red-400 font-bold mb-2 flex items-center gap-2 text-sm",children:[S.jsx(Wx,{size:16})," MURDER WEAPON"]}),S.jsx("div",{className:"grid grid-cols-2 gap-2",children:ee.means.map(Z=>S.jsx("button",{onClick:()=>Ke({...ge,means:Z}),className:`p-3 rounded border text-xs font-bold transition-all ${ge?.means===Z?"bg-red-600 border-white text-white scale-105 shadow-lg":"bg-red-900/50 border-red-700 text-red-200 hover:bg-red-800"}`,children:Z},Z))})]}),S.jsxs("div",{className:"bg-blue-900/30 p-4 rounded-xl border border-blue-800",children:[S.jsxs("h3",{className:"text-blue-400 font-bold mb-2 flex items-center gap-2 text-sm",children:[S.jsx(gv,{size:16})," EVIDENCE ON SITE"]}),S.jsx("div",{className:"grid grid-cols-2 gap-2",children:ee.clues.map(Z=>S.jsx("button",{onClick:()=>Ke({...ge,clue:Z}),className:`p-3 rounded border text-xs font-bold transition-all ${ge?.clue===Z?"bg-blue-600 border-white text-white scale-105 shadow-lg":"bg-blue-900/50 border-blue-700 text-blue-200 hover:bg-blue-800"}`,children:Z},Z))})]})]}):S.jsx("div",{className:"flex-1 flex items-center justify-center",children:S.jsxs("div",{className:"bg-red-900/20 p-8 rounded-xl border border-red-500/30 animate-pulse text-center",children:[S.jsx(Kd,{size:48,className:"mx-auto text-red-500 mb-4"}),S.jsx("div",{className:"text-red-300 font-bold",children:"MURDER IN PROGRESS..."})]})}),ue&&S.jsx("div",{className:"fixed bottom-0 left-0 w-full p-4 bg-red-950 border-t border-red-900 flex justify-center",children:S.jsx("button",{disabled:!ge?.means||!ge?.clue,onClick:()=>Ve(ge.means,ge.clue),className:"w-full max-w-md bg-white text-red-900 px-8 py-3 rounded-full font-black text-lg hover:scale-105 disabled:opacity-50 disabled:scale-100 transition-all shadow-2xl",children:"CONFIRM KILL"})})]}):te?S.jsxs("div",{className:"min-h-screen bg-slate-900 text-white flex flex-col items-center justify-center p-8 text-center",children:[S.jsx("h2",{className:"text-3xl font-bold text-blue-400 mb-4",children:"Awaiting The Crime..."}),S.jsxs("div",{className:"animate-pulse bg-slate-800 p-6 rounded-xl max-w-lg",children:[S.jsx("p",{className:"text-slate-300",children:"The Murderer is choosing the Murder Weapon and Evidence."}),S.jsx("p",{className:"text-slate-500 text-sm mt-4",children:"Study everyone's cards carefully while you wait."})]})]}):S.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col items-center justify-center p-8 text-center",children:[S.jsx(Xx,{size:64,className:"text-slate-700 mb-6"}),S.jsx("h2",{className:"text-4xl font-black text-slate-500 mb-4",children:"EYES CLOSED"}),S.jsx("p",{className:"text-slate-600",children:"The Murder is taking place. You will be informed once the detective finishes examining the crime scene."})]}):S.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100 font-sans flex flex-col",children:[S.jsxs("div",{className:"bg-slate-900 border-b border-slate-800 p-2 px-3 flex justify-between items-center shadow-md z-20 sticky top-0",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"font-black text-xl tracking-tighter text-blue-500",children:"INV."}),S.jsxs("div",{className:"flex flex-col leading-tight",onClick:()=>x(!w),children:[S.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold",children:"Role"}),S.jsx("div",{className:"flex items-center gap-1 cursor-pointer hover:bg-slate-800 rounded -ml-1 transition-colors",children:w?S.jsx(ai,{role:ee.role}):S.jsxs("span",{className:"text-xs font-bold text-slate-300 flex items-center",children:["Show ",S.jsx(Yd,{size:10,className:"ml-1"})]})})]})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsxs("div",{className:"text-center mr-2",children:[S.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold block",children:"Rnd"}),S.jsxs("span",{className:"text-sm font-bold text-white",children:[E.round,"/3"]})]}),te&&gt&&S.jsx("button",{onClick:ht,className:"bg-green-600 hover:bg-green-500 text-white px-3 py-1.5 rounded text-xs font-bold shadow-lg animate-pulse",children:"Confirm"}),xt&&te&&E.round<3&&S.jsxs("button",{disabled:!Vn,onClick:()=>R(!k),className:`${k?"bg-red-500 animate-pulse":Vn?"bg-blue-600":"bg-slate-700 opacity-50 cursor-not-allowed"} 
                     hover:brightness-110 text-white px-3 py-1.5 rounded text-xs font-bold shadow-lg transition-colors flex items-center gap-1`,children:[k?"Select Tile":"Next Rnd",!Vn&&S.jsxs("span",{className:"text-[10px] bg-black/30 px-1 rounded",children:[E.nextRoundRequests?.length||0,"/",E.players.length-1]})]}),xt&&!te&&!hn&&!E.nextRoundRequests?.includes(r.uid)&&E.round<3&&S.jsx("button",{onClick:Wi,className:"bg-blue-600 hover:bg-blue-500 text-white px-3 py-1.5 rounded text-xs font-bold shadow-lg",children:"Req. Next"}),xt&&!te&&E.nextRoundRequests?.includes(r.uid)&&S.jsx("div",{className:"text-[10px] text-green-400 font-bold bg-green-900/30 px-2 py-1 rounded border border-green-800",children:"Ready"}),S.jsx("button",{onClick:()=>N(!0),className:"p-2 hover:bg-slate-800 rounded-full text-slate-400 hover:text-white",children:S.jsx(fv,{size:18})}),S.jsx("button",{onClick:()=>mt(!0),className:"p-2 hover:bg-slate-800 rounded-full text-slate-400 hover:text-red-400",children:S.jsx(dv,{size:18})})]})]}),S.jsx("div",{className:"bg-slate-800/80 p-2 flex justify-center md:hidden border-b border-slate-700",children:S.jsxs("button",{onClick:()=>se(!H),className:"text-xs font-bold text-slate-400 flex items-center gap-1",children:[H?"Hide Clues":"Show Clues"," ",H?S.jsx(hv,{size:12}):S.jsx(qx,{size:12})]})}),H&&S.jsx("div",{className:"bg-slate-900/50 p-2 overflow-x-auto border-b border-slate-800",children:S.jsx("div",{className:"flex gap-2 min-w-max mx-auto px-2",children:E.activeTiles.map((Z,De)=>S.jsxs("div",{onClick:()=>{k&&te&&De>=2&&xs(De)},className:`w-40 bg-slate-800 rounded-lg border-2 flex flex-col relative shadow-lg transition-all
                    ${k&&De>=2&&te?"border-red-500 cursor-pointer hover:bg-red-900/20 scale-105":te&&gt&&"hover:border-blue-500/50"} 
                    ${Z.selected===null?"border-slate-700":"border-slate-600"}
                    ${k&&De<2&&"opacity-50"} 
                  `,children:[k&&De>=2&&te&&S.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 z-10 text-red-500 font-bold",children:S.jsx(Yx,{size:32})}),S.jsx("div",{className:`p-1.5 text-center font-bold text-[10px] uppercase tracking-wider text-white truncate ${Z.type==="purple"?"bg-purple-900":Z.type==="green"?"bg-emerald-900":"bg-slate-700"}`,children:Z.title}),S.jsx("div",{className:"p-1.5 space-y-0.5",children:Z.options.map((vt,Fe)=>{const Je=Z.selected===Fe;return S.jsxs("div",{onClick:ut=>{ut.stopPropagation(),te&&gt&&Ct(De,Fe)},className:`text-[10px] px-1.5 py-1 rounded cursor-pointer flex justify-between items-center transition-colors ${Je?"bg-red-600 text-white font-bold shadow-md ring-1 ring-red-400":te&&gt?"hover:bg-slate-700 text-slate-300":"text-slate-500 opacity-50"}`,children:[S.jsx("span",{className:"truncate",children:vt}),Je&&S.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full ml-1 shrink-0"})]},Fe)})})]},Z.id))})}),S.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-slate-950 relative",children:S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 max-w-7xl mx-auto pb-20",children:E.players.map(Z=>{const De=Z.id===r.uid,vt=ae[Z.id]||Z.role==="DETECTIVE"||E.phase.includes("GAME_OVER"),Fe=ge?.targetId===Z.id,Je=E.accompliceSuggestion===Z.id,ut=hn?.targetId===Z.id,_n=E.accusations?.find(it=>it.solverId===Z.id);return S.jsxs("div",{onClick:()=>{if(ft&&Ge&&Z.role!=="MURDERER"&&Z.role!=="ACCOMPLICE"&&Fn(Z.id),ft&&ue&&Z.role!=="MURDERER"&&Z.role!=="ACCOMPLICE"){const it=E.settings?.useAccomplice,Ei=E.accompliceSuggestion;if(it&&!Ei){alert("Wait for your Accomplice to suggest a target first!");return}xr(Z.id)}},className:`relative bg-slate-900 border rounded-xl overflow-hidden shadow-lg transition-all 
                     ${De?"border-blue-500/30 ring-1 ring-blue-900/50":"border-slate-800"}
                     ${ft&&Je&&ue?"ring-4 ring-yellow-500 scale-105":""}
                     ${ft&&(ue||Ge)&&Z.role!=="MURDERER"&&Z.role!=="ACCOMPLICE"?"cursor-pointer hover:border-indigo-500":""}
                     ${ut?"border-yellow-500/50 ring-1 ring-yellow-500/30":""}
                   `,children:[S.jsxs("div",{className:"p-2 bg-slate-800/80 flex justify-between items-center border-b border-slate-700",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:`font-bold text-sm ${De?"text-blue-400":"text-slate-200"}`,children:Z.name}),vt&&S.jsx(ai,{role:Z.role})]}),Z.badge&&Z.role!=="DETECTIVE"&&S.jsx(Co,{size:14,className:"text-yellow-500",fill:"currentColor"}),!Z.badge&&Z.role!=="DETECTIVE"&&S.jsx("div",{className:"text-[10px] text-slate-600 font-bold uppercase",children:"Submitted"})]}),S.jsxs("div",{className:"p-2 grid grid-cols-2 gap-2",children:[S.jsxs("div",{className:"space-y-1",children:[S.jsx("div",{className:"text-[10px] uppercase font-bold text-red-900 mb-1",children:"Murder Weapon"}),Z.means.map(it=>{const Ei=Fe&&ge.means===it,bn=ut&&hn.means===it,li=(te||Ge)&&E.solution?.means===it&&E.solution?.murdererId===Z.id;return S.jsx("div",{onClick:Et=>{Et.stopPropagation(),Z.id!==r.uid&&Ir(Z.id,"means",it)},className:`px-2 py-2 rounded text-xs font-medium text-center truncate cursor-pointer transition-all active:scale-95 touch-manipulation min-h-[36px] flex items-center justify-center ${Ei?"bg-red-600 text-white font-bold shadow-md scale-105 border border-white":bn?"bg-red-900/40 text-red-200 border border-yellow-500/50 shadow-inner":li?"bg-purple-900/80 text-white border-2 border-purple-400 shadow-[0_0_10px_rgba(168,85,247,0.5)] animate-pulse":"bg-slate-800 text-red-200 border border-red-900/30 hover:bg-red-900/20 hover:border-red-500"} ${Z.id===r.uid&&"opacity-50 cursor-not-allowed hover:bg-slate-800 hover:border-red-900/30"}`,children:it},it)})]}),S.jsxs("div",{className:"space-y-1",children:[S.jsx("div",{className:"text-[10px] uppercase font-bold text-blue-900 mb-1",children:"Evidence on Site"}),Z.clues.map(it=>{const Ei=Fe&&ge.clue===it,bn=ut&&hn.clue===it,li=(te||Ge)&&E.solution?.clue===it&&E.solution?.murdererId===Z.id;return S.jsx("div",{onClick:Et=>{Et.stopPropagation(),Z.id!==r.uid&&Ir(Z.id,"clue",it)},className:`px-2 py-2 rounded text-xs font-medium text-center truncate cursor-pointer transition-all active:scale-95 touch-manipulation min-h-[36px] flex items-center justify-center ${Ei?"bg-blue-600 text-white font-bold shadow-md scale-105 border border-white":bn?"bg-blue-900/40 text-blue-200 border border-yellow-500/50 shadow-inner":li?"bg-purple-900/80 text-white border-2 border-purple-400 shadow-[0_0_10px_rgba(168,85,247,0.5)] animate-pulse":"bg-slate-800 text-blue-200 border border-blue-900/30 hover:bg-blue-900/20 hover:border-blue-500"} ${Z.id===r.uid&&"opacity-50 cursor-not-allowed hover:bg-slate-800 hover:border-blue-900/30"}`,children:it},it)})]})]}),ft&&Je&&(Ge||ue)&&S.jsx("div",{className:"absolute inset-0 bg-yellow-500/30 pointer-events-none flex items-center justify-center z-20",children:S.jsx("div",{className:`bg-yellow-500 text-black px-3 py-1.5 rounded-lg font-black text-xs shadow-xl border-2 border-black transform -rotate-6 ${ue?"animate-pulse scale-110":""}`,children:Ge?"YOU SUGGESTED":"ACCOMPLICE'S PICK"})}),_n&&S.jsxs("div",{className:`mx-2 mb-2 border-2 rounded-lg p-2 text-center relative overflow-hidden ${(ft||yn)&&_n.isCorrect?"border-green-500 bg-green-950/40":"border-red-500 bg-red-950/40"}`,children:[S.jsx("div",{className:`absolute top-0 left-0 w-full h-1 ${(ft||yn)&&_n.isCorrect?"bg-green-500":"bg-red-500"}`}),S.jsx("div",{className:`text-[10px] font-black uppercase tracking-widest mb-1 ${(ft||yn)&&_n.isCorrect?"text-green-400":"text-red-400"}`,children:(ft||yn)&&_n.isCorrect?"SUCCESSFUL ATTEMPT":"FAILED ATTEMPT"}),S.jsxs("div",{className:"text-xs text-slate-200 mb-1",children:["Suspected:"," ",S.jsx("span",{className:"font-bold text-white text-sm",children:E.players.find(it=>it.id===_n.targetId)?.name})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[S.jsx("div",{className:`border rounded px-1 py-0.5 text-[10px] truncate ${(ft||yn)&&_n.isCorrect?"bg-black/40 border-green-500/20 text-green-200":"bg-black/40 border-red-500/20 text-red-200"}`,children:_n.means}),S.jsx("div",{className:`border rounded px-1 py-0.5 text-[10px] truncate ${(ft||yn)&&_n.isCorrect?"bg-black/40 border-green-500/20 text-green-200":"bg-black/40 border-blue-500/20 text-blue-200"}`,children:_n.clue})]})]}),Fe&&(ge.means||ge.clue)&&S.jsx("div",{className:"p-2 pt-0 mt-auto sticky bottom-0 bg-slate-900/95 backdrop-blur-sm border-t border-slate-700 -mx-px -mb-px rounded-b-xl z-10",children:S.jsxs("button",{onClick:it=>{it.stopPropagation(),I(!0)},className:"w-full bg-yellow-500 hover:bg-yellow-400 text-black font-bold py-2 px-4 rounded-lg text-xs flex items-center justify-center gap-2 shadow-lg animate-in slide-in-from-bottom-2 fade-in transition-transform active:scale-95",children:[S.jsx(Co,{size:14})," Review Accusation"]})})]},Z.id)})})}),V&&S.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex justify-end",children:S.jsxs("div",{className:"w-full max-w-md bg-slate-900 h-full border-l border-slate-700 flex flex-col shadow-2xl animate-in slide-in-from-right",children:[S.jsxs("div",{className:"p-4 border-b border-slate-700 flex justify-between items-center bg-slate-800",children:[S.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[S.jsx(fv,{})," Case Logs"]}),S.jsx("button",{onClick:()=>N(!1),children:S.jsx(mI,{className:"text-slate-400 hover:text-white"})})]}),S.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[...E.logs||[]].reverse().map((Z,De)=>S.jsxs("div",{className:`text-sm p-3 rounded border-l-4 ${Z.type==="danger"?"bg-red-900/20 border-red-500 text-red-200":Z.type==="success"?"bg-green-900/20 border-green-500 text-green-200":Z.type==="warning"?"bg-orange-900/20 border-orange-500 text-orange-200":"bg-slate-800 border-blue-500 text-slate-300"}`,children:[S.jsxs("div",{className:"font-mono text-[10px] opacity-50 mb-1",children:["EVENT ",E.logs.length-De]}),Z.text]},De))})]})}),ot&&S.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",children:S.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6 max-w-sm w-full text-center shadow-2xl",children:[S.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Leave Game?"}),S.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:"Are you sure? You will be removed from the lobby."}),S.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[S.jsx("button",{onClick:()=>mt(!1),className:"bg-slate-700 hover:bg-slate-600 text-white py-3 rounded font-bold",children:"Stay"}),S.jsx("button",{onClick:Y,className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold",children:"Leave"})]})]})}),ze&&ge&&S.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",children:S.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl w-full max-w-lg p-6 shadow-2xl max-h-[90vh] overflow-y-auto",children:[S.jsxs("h3",{className:"text-2xl font-black text-yellow-500 mb-4 flex items-center gap-2",children:[S.jsx(Co,{})," SUBMIT CASE FILE"]}),S.jsxs("div",{className:"space-y-4 mb-8",children:[S.jsxs("div",{className:"bg-slate-800 p-4 rounded-lg",children:[S.jsx("div",{className:"text-xs text-slate-500 uppercase",children:"Suspect"}),S.jsx("div",{className:"text-xl font-bold text-white",children:E.players.find(Z=>Z.id===ge.targetId)?.name})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{children:[S.jsx("div",{className:"text-xs text-slate-500 uppercase mb-1",children:"Murder Weapon"}),ge.means?S.jsx("div",{className:"p-3 bg-red-900/50 border border-red-600 rounded text-red-100 font-bold text-center text-sm",children:ge.means}):S.jsx("div",{className:"p-3 bg-slate-800 border border-slate-700 border-dashed rounded text-slate-500 text-center text-xs",children:"Select Murder Weapon from Card"})]}),S.jsxs("div",{children:[S.jsx("div",{className:"text-xs text-slate-500 uppercase mb-1",children:"Evidence on Site"}),ge.clue?S.jsx("div",{className:"p-3 bg-blue-900/50 border border-blue-600 rounded text-blue-100 font-bold text-center text-sm",children:ge.clue}):S.jsx("div",{className:"p-3 bg-slate-800 border border-slate-700 border-dashed rounded text-slate-500 text-center text-xs",children:"Select Evidence on Site from Card"})]})]}),S.jsxs("div",{className:"bg-blue-900/20 p-3 rounded text-sm text-blue-200 text-center border border-blue-800",children:[S.jsx("div",{className:"font-bold mb-1",children:"PROCEDURE NOTE"}),"Your result will be revealed only after ",S.jsx("strong",{children:"ALL"})," ","investigators have submitted their files."]})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsx("button",{onClick:()=>I(!1),className:"py-3 rounded-lg font-bold text-slate-400 hover:bg-slate-800",children:"Cancel"}),S.jsx("button",{disabled:!ge.means||!ge.clue,onClick:Is,className:"bg-yellow-600 hover:bg-yellow-500 text-black py-3 rounded-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed",children:"CONFIRM & SUBMIT"})]})]})}),E.activeAccusation&&S.jsx("div",{className:"fixed inset-0 bg-black/95 z-[60] flex items-center justify-center p-4",children:S.jsxs("div",{className:`max-w-lg w-full p-6 rounded-2xl border-4 shadow-2xl text-center ${E.activeAccusation.isCorrect?"bg-green-900/90 border-green-500":"bg-red-900/90 border-red-500"}`,children:[S.jsx("h2",{className:"text-3xl font-black text-white mb-2 uppercase tracking-widest",children:E.activeAccusation.isCorrect?"CASE SOLVED!":"WRONG ACCUSATION"}),S.jsxs("div",{className:"bg-black/30 p-4 rounded-xl mb-6 text-left",children:[S.jsx("div",{className:"text-xs uppercase font-bold text-white/50 mb-2 border-b border-white/10 pb-1",children:"The Accusation Attempt"}),S.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-2 items-center mb-1",children:[S.jsx("span",{className:"text-sm text-gray-400 font-bold",children:"Accuser:"}),S.jsx("span",{className:"text-white font-bold",children:E.activeAccusation.solverName})]}),S.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-2 items-center mb-4",children:[S.jsx("span",{className:"text-sm text-gray-400 font-bold",children:"Suspect:"}),S.jsx("span",{className:"text-xl text-white font-black",children:E.players.find(Z=>Z.id===E.activeAccusation.targetId)?.name})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{className:"bg-red-900/30 border border-red-500/30 p-2 rounded text-center",children:[S.jsx("div",{className:"text-[10px] text-red-300 uppercase font-bold mb-1",children:"Murder Weapon"}),S.jsx("div",{className:"text-white font-bold text-sm",children:E.activeAccusation.means})]}),S.jsxs("div",{className:"bg-blue-900/30 border border-blue-500/30 p-2 rounded text-center",children:[S.jsx("div",{className:"text-[10px] text-blue-300 uppercase font-bold mb-1",children:"Evidence on Site"}),S.jsx("div",{className:"text-white font-bold text-sm",children:E.activeAccusation.clue})]})]})]}),S.jsxs("div",{className:"flex flex-col items-center gap-3",children:[S.jsxs("div",{className:"text-xs uppercase font-bold text-white/50",children:["Waiting for players:"," ",E.activeAccusation.continueVotes?.length||0,"/",E.players.length]}),S.jsxs("button",{onClick:Ns,disabled:E.activeAccusation.continueVotes?.includes(r.uid),className:`px-8 py-3 rounded-full font-bold text-lg transition-all flex items-center gap-2 ${E.activeAccusation.continueVotes?.includes(r.uid)?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-white text-black hover:scale-105 shadow-xl"}`,children:[E.activeAccusation.continueVotes?.includes(r.uid)?"WAITING...":"CONTINUE"," ",S.jsx(hv,{className:"rotate-90"})]})]})]})}),ft&&S.jsx("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center pointer-events-none p-4",children:ue||Ge?S.jsxs("div",{className:"bg-red-950/95 border-2 border-red-500 p-6 rounded-xl shadow-2xl text-center max-w-lg animate-in fade-in zoom-in duration-300",children:[S.jsx("h2",{className:"text-2xl md:text-3xl font-black text-red-500 mb-2",children:"YOU HAVE BEEN CAUGHT!"}),S.jsx("p",{className:"text-red-100 text-base md:text-lg mb-4",children:Ge?"Help the Murderer find the Witness. Click a player to suggest.":"Identify the Witness to steal the win."}),ue&&E.settings?.useAccomplice&&(E.accompliceSuggestion?S.jsxs("div",{className:"bg-green-900/40 p-3 rounded border border-green-500 mb-4 animate-bounce",children:[S.jsxs("div",{className:"font-bold text-green-400 text-sm mb-1 uppercase",children:[S.jsx(lI,{size:14,className:"inline mr-1"})," Target Confirmed"]}),"Accomplice suggests:"," ",S.jsx("span",{className:"text-white font-black text-lg block mt-1",children:E.players.find(Z=>Z.id===E.accompliceSuggestion)?.name})]}):S.jsxs("div",{className:"bg-black/40 p-3 rounded border border-red-500/50 mb-4 animate-pulse",children:[S.jsxs("div",{className:"font-bold text-yellow-400 text-sm mb-1 uppercase",children:[S.jsx(pv,{size:14,className:"inline mr-1"})," Hold Fire"]}),"Waiting for Accomplice suggestion..."]})),S.jsx("div",{className:"text-xs md:text-sm font-bold text-red-400 uppercase tracking-widest animate-pulse",children:"Select a player from the board below"})]}):S.jsxs("div",{className:"bg-slate-900/95 border-2 border-yellow-500 p-6 rounded-xl shadow-2xl text-center max-w-lg animate-in fade-in zoom-in duration-300",children:[S.jsx("h2",{className:"text-3xl font-black text-yellow-500 mb-2",children:"CRIME SOLVED!"}),S.jsx("p",{className:"text-slate-200 text-lg mb-4",children:"The Investigators found the solution. However..."}),S.jsx("div",{className:"text-xl font-bold text-red-400 mb-4 animate-pulse",children:"THE MURDERER IS HUNTING FOR THE WITNESS"}),S.jsx("p",{className:"text-slate-400 text-sm",children:"If the Murderer identifies the Witness correctly, the Bad Guys steal the win."})]})}),E.phase==="GAME_OVER_GOOD"&&S.jsxs("div",{className:"fixed inset-0 bg-blue-900/95 z-50 flex flex-col items-center justify-center p-6 text-center",children:[S.jsx(Co,{size:96,className:"text-yellow-400 mb-6 shadow-xl"}),S.jsx("h1",{className:"text-4xl md:text-6xl font-black text-white mb-4",children:"INVESTIGATORS WIN"}),S.jsxs("p",{className:"text-blue-200 text-lg md:text-xl max-w-lg mb-8",children:["Solved by:"," ",S.jsx("span",{className:"text-yellow-400 font-bold",children:(E.successfulSolvers||[]).map(Z=>E.players.find(De=>De.id===Z)?.name).join(", ")||"The Team"})]}),S.jsxs("div",{className:"bg-white/10 p-6 rounded-xl border border-white/20 mb-8 w-full max-w-md",children:[S.jsx("div",{className:"text-sm uppercase tracking-widest text-blue-300 mb-2",children:"The Solution"}),S.jsxs("div",{className:"text-2xl md:text-3xl font-bold text-white mb-1",children:[E.solution.means," + ",E.solution.clue]}),S.jsxs("div",{className:"text-lg text-blue-200",children:["Culprit:"," ",E.players.find(Z=>Z.id===E.solution.murdererId)?.name]})]}),E.hostId===r.uid&&S.jsxs("button",{onClick:le,className:"bg-white text-blue-900 px-8 py-3 rounded-full font-bold hover:scale-105 transition-transform flex items-center gap-2",children:[S.jsx(mv,{size:20})," Return to Lobby"]})]}),E.phase==="GAME_OVER_BAD"&&S.jsxs("div",{className:"fixed inset-0 bg-red-950/95 z-50 flex flex-col items-center justify-center p-6 text-center",children:[S.jsx(Kd,{size:96,className:"text-red-500 mb-6 shadow-xl"}),S.jsx("h1",{className:"text-4xl md:text-6xl font-black text-white mb-4",children:"MURDERER WINS"}),S.jsx("p",{className:"text-red-200 text-lg md:text-xl max-w-lg mb-8",children:"The investigation failed or the witness was silenced."}),S.jsxs("div",{className:"bg-white/10 p-6 rounded-xl border border-white/20 mb-8 w-full max-w-md",children:[S.jsx("div",{className:"text-sm uppercase tracking-widest text-red-300 mb-2",children:"The Solution"}),S.jsxs("div",{className:"text-2xl md:text-3xl font-bold text-white mb-1",children:[E.solution.means," + ",E.solution.clue]}),S.jsxs("div",{className:"text-lg text-red-200",children:["Culprit:"," ",E.players.find(Z=>Z.id===E.solution.murdererId)?.name]})]}),E.hostId===r.uid&&S.jsxs("button",{onClick:le,className:"bg-white text-red-900 px-8 py-3 rounded-full font-bold hover:scale-105 transition-transform flex items-center gap-2",children:[S.jsx(mv,{size:20})," Return to Lobby"]})]})]})}return null}I1.createRoot(document.getElementById("root")).render(S.jsx(dt.StrictMode,{children:S.jsx(_I,{})}));
