(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function k1(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Ud={exports:{}},Oo={};var B0;function j1(){if(B0)return Oo;B0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var y in o)y!=="key"&&(c[y]=o[y])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:c}}return Oo.Fragment=e,Oo.jsx=i,Oo.jsxs=i,Oo}var H0;function U1(){return H0||(H0=1,Ud.exports=j1()),Ud.exports}var E=U1(),Ld={exports:{}},Re={};var q0;function L1(){if(q0)return Re;q0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.iterator;function F(D){return D===null||typeof D!="object"?null:(D=M&&D[M]||D["@@iterator"],typeof D=="function"?D:null)}var te={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},re=Object.assign,se={};function _e(D,Q,ne){this.props=D,this.context=Q,this.refs=se,this.updater=ne||te}_e.prototype.isReactComponent={},_e.prototype.setState=function(D,Q){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Q,"setState")},_e.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function De(){}De.prototype=_e.prototype;function xe(D,Q,ne){this.props=D,this.context=Q,this.refs=se,this.updater=ne||te}var ut=xe.prototype=new De;ut.constructor=xe,re(ut,_e.prototype),ut.isPureReactComponent=!0;var bt=Array.isArray;function me(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(D,Q,ne){var le=ne.ref;return{$$typeof:s,type:D,key:Q,ref:le!==void 0?le:null,props:ne}}function V(D,Q){return I(D.type,Q,D.props)}function O(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function j(D){var Q={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ne){return Q[ne]})}var x=/\/+/g;function Qe(D,Q){return typeof D=="object"&&D!==null&&D.key!=null?j(""+D.key):Q.toString(36)}function Tt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(me,me):(D.status="pending",D.then(function(Q){D.status==="pending"&&(D.status="fulfilled",D.value=Q)},function(Q){D.status==="pending"&&(D.status="rejected",D.reason=Q)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function q(D,Q,ne,le,Ee){var Ae=typeof D;(Ae==="undefined"||Ae==="boolean")&&(D=null);var Ve=!1;if(D===null)Ve=!0;else switch(Ae){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(D.$$typeof){case s:case e:Ve=!0;break;case S:return Ve=D._init,q(Ve(D._payload),Q,ne,le,Ee)}}if(Ve)return Ee=Ee(D),Ve=le===""?"."+Qe(D,0):le,bt(Ee)?(ne="",Ve!=null&&(ne=Ve.replace(x,"$&/")+"/"),q(Ee,Q,ne,"",function(Ji){return Ji})):Ee!=null&&(O(Ee)&&(Ee=V(Ee,ne+(Ee.key==null||D&&D.key===Ee.key?"":(""+Ee.key).replace(x,"$&/")+"/")+Ve)),Q.push(Ee)),1;Ve=0;var st=le===""?".":le+":";if(bt(D))for(var ht=0;ht<D.length;ht++)le=D[ht],Ae=st+Qe(le,ht),Ve+=q(le,Q,ne,Ae,Ee);else if(ht=F(D),typeof ht=="function")for(D=ht.call(D),ht=0;!(le=D.next()).done;)le=le.value,Ae=st+Qe(le,ht++),Ve+=q(le,Q,ne,Ae,Ee);else if(Ae==="object"){if(typeof D.then=="function")return q(Tt(D),Q,ne,le,Ee);throw Q=String(D),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function Z(D,Q,ne){if(D==null)return D;var le=[],Ee=0;return q(D,le,"","",function(Ae){return Q.call(ne,Ae,Ee++)}),le}function ge(D){if(D._status===-1){var Q=D._result;Q=Q(),Q.then(function(ne){(D._status===0||D._status===-1)&&(D._status=1,D._result=ne)},function(ne){(D._status===0||D._status===-1)&&(D._status=2,D._result=ne)}),D._status===-1&&(D._status=0,D._result=Q)}if(D._status===1)return D._result.default;throw D._result}var Ge=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},ke={map:Z,forEach:function(D,Q,ne){Z(D,function(){Q.apply(this,arguments)},ne)},count:function(D){var Q=0;return Z(D,function(){Q++}),Q},toArray:function(D){return Z(D,function(Q){return Q})||[]},only:function(D){if(!O(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Re.Activity=w,Re.Children=ke,Re.Component=_e,Re.Fragment=i,Re.Profiler=o,Re.PureComponent=xe,Re.StrictMode=a,Re.Suspense=m,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Re.__COMPILER_RUNTIME={__proto__:null,c:function(D){return C.H.useMemoCache(D)}},Re.cache=function(D){return function(){return D.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(D,Q,ne){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var le=re({},D.props),Ee=D.key;if(Q!=null)for(Ae in Q.key!==void 0&&(Ee=""+Q.key),Q)!A.call(Q,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&Q.ref===void 0||(le[Ae]=Q[Ae]);var Ae=arguments.length-2;if(Ae===1)le.children=ne;else if(1<Ae){for(var Ve=Array(Ae),st=0;st<Ae;st++)Ve[st]=arguments[st+2];le.children=Ve}return I(D.type,Ee,le)},Re.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},Re.createElement=function(D,Q,ne){var le,Ee={},Ae=null;if(Q!=null)for(le in Q.key!==void 0&&(Ae=""+Q.key),Q)A.call(Q,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(Ee[le]=Q[le]);var Ve=arguments.length-2;if(Ve===1)Ee.children=ne;else if(1<Ve){for(var st=Array(Ve),ht=0;ht<Ve;ht++)st[ht]=arguments[ht+2];Ee.children=st}if(D&&D.defaultProps)for(le in Ve=D.defaultProps,Ve)Ee[le]===void 0&&(Ee[le]=Ve[le]);return I(D,Ae,Ee)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(D){return{$$typeof:y,render:D}},Re.isValidElement=O,Re.lazy=function(D){return{$$typeof:S,_payload:{_status:-1,_result:D},_init:ge}},Re.memo=function(D,Q){return{$$typeof:_,type:D,compare:Q===void 0?null:Q}},Re.startTransition=function(D){var Q=C.T,ne={};C.T=ne;try{var le=D(),Ee=C.S;Ee!==null&&Ee(ne,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(me,Ge)}catch(Ae){Ge(Ae)}finally{Q!==null&&ne.types!==null&&(Q.types=ne.types),C.T=Q}},Re.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Re.use=function(D){return C.H.use(D)},Re.useActionState=function(D,Q,ne){return C.H.useActionState(D,Q,ne)},Re.useCallback=function(D,Q){return C.H.useCallback(D,Q)},Re.useContext=function(D){return C.H.useContext(D)},Re.useDebugValue=function(){},Re.useDeferredValue=function(D,Q){return C.H.useDeferredValue(D,Q)},Re.useEffect=function(D,Q){return C.H.useEffect(D,Q)},Re.useEffectEvent=function(D){return C.H.useEffectEvent(D)},Re.useId=function(){return C.H.useId()},Re.useImperativeHandle=function(D,Q,ne){return C.H.useImperativeHandle(D,Q,ne)},Re.useInsertionEffect=function(D,Q){return C.H.useInsertionEffect(D,Q)},Re.useLayoutEffect=function(D,Q){return C.H.useLayoutEffect(D,Q)},Re.useMemo=function(D,Q){return C.H.useMemo(D,Q)},Re.useOptimistic=function(D,Q){return C.H.useOptimistic(D,Q)},Re.useReducer=function(D,Q,ne){return C.H.useReducer(D,Q,ne)},Re.useRef=function(D){return C.H.useRef(D)},Re.useState=function(D){return C.H.useState(D)},Re.useSyncExternalStore=function(D,Q,ne){return C.H.useSyncExternalStore(D,Q,ne)},Re.useTransition=function(){return C.H.useTransition()},Re.version="19.2.3",Re}var G0;function Im(){return G0||(G0=1,Ld.exports=L1()),Ld.exports}var Le=Im();const P1=k1(Le);var Pd={exports:{}},Mo={},zd={exports:{}},Bd={};var F0;function z1(){return F0||(F0=1,(function(s){function e(q,Z){var ge=q.length;q.push(Z);e:for(;0<ge;){var Ge=ge-1>>>1,ke=q[Ge];if(0<o(ke,Z))q[Ge]=Z,q[ge]=ke,ge=Ge;else break e}}function i(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var Z=q[0],ge=q.pop();if(ge!==Z){q[0]=ge;e:for(var Ge=0,ke=q.length,D=ke>>>1;Ge<D;){var Q=2*(Ge+1)-1,ne=q[Q],le=Q+1,Ee=q[le];if(0>o(ne,ge))le<ke&&0>o(Ee,ne)?(q[Ge]=Ee,q[le]=ge,Ge=le):(q[Ge]=ne,q[Q]=ge,Ge=Q);else if(le<ke&&0>o(Ee,ge))q[Ge]=Ee,q[le]=ge,Ge=le;else break e}}return Z}function o(q,Z){var ge=q.sortIndex-Z.sortIndex;return ge!==0?ge:q.id-Z.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,y=d.now();s.unstable_now=function(){return d.now()-y}}var m=[],_=[],S=1,w=null,M=3,F=!1,te=!1,re=!1,se=!1,_e=typeof setTimeout=="function"?setTimeout:null,De=typeof clearTimeout=="function"?clearTimeout:null,xe=typeof setImmediate<"u"?setImmediate:null;function ut(q){for(var Z=i(_);Z!==null;){if(Z.callback===null)a(_);else if(Z.startTime<=q)a(_),Z.sortIndex=Z.expirationTime,e(m,Z);else break;Z=i(_)}}function bt(q){if(re=!1,ut(q),!te)if(i(m)!==null)te=!0,me||(me=!0,j());else{var Z=i(_);Z!==null&&Tt(bt,Z.startTime-q)}}var me=!1,C=-1,A=5,I=-1;function V(){return se?!0:!(s.unstable_now()-I<A)}function O(){if(se=!1,me){var q=s.unstable_now();I=q;var Z=!0;try{e:{te=!1,re&&(re=!1,De(C),C=-1),F=!0;var ge=M;try{t:{for(ut(q),w=i(m);w!==null&&!(w.expirationTime>q&&V());){var Ge=w.callback;if(typeof Ge=="function"){w.callback=null,M=w.priorityLevel;var ke=Ge(w.expirationTime<=q);if(q=s.unstable_now(),typeof ke=="function"){w.callback=ke,ut(q),Z=!0;break t}w===i(m)&&a(m),ut(q)}else a(m);w=i(m)}if(w!==null)Z=!0;else{var D=i(_);D!==null&&Tt(bt,D.startTime-q),Z=!1}}break e}finally{w=null,M=ge,F=!1}Z=void 0}}finally{Z?j():me=!1}}}var j;if(typeof xe=="function")j=function(){xe(O)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Qe=x.port2;x.port1.onmessage=O,j=function(){Qe.postMessage(null)}}else j=function(){_e(O,0)};function Tt(q,Z){C=_e(function(){q(s.unstable_now())},Z)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(q){q.callback=null},s.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<q?Math.floor(1e3/q):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(q){switch(M){case 1:case 2:case 3:var Z=3;break;default:Z=M}var ge=M;M=Z;try{return q()}finally{M=ge}},s.unstable_requestPaint=function(){se=!0},s.unstable_runWithPriority=function(q,Z){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ge=M;M=q;try{return Z()}finally{M=ge}},s.unstable_scheduleCallback=function(q,Z,ge){var Ge=s.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Ge+ge:Ge):ge=Ge,q){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=ge+ke,q={id:S++,callback:Z,priorityLevel:q,startTime:ge,expirationTime:ke,sortIndex:-1},ge>Ge?(q.sortIndex=ge,e(_,q),i(m)===null&&q===i(_)&&(re?(De(C),C=-1):re=!0,Tt(bt,ge-Ge))):(q.sortIndex=ke,e(m,q),te||F||(te=!0,me||(me=!0,j()))),q},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(q){var Z=M;return function(){var ge=M;M=Z;try{return q.apply(this,arguments)}finally{M=ge}}}})(Bd)),Bd}var K0;function B1(){return K0||(K0=1,zd.exports=z1()),zd.exports}var Hd={exports:{}},pn={};var Q0;function H1(){if(Q0)return pn;Q0=1;var s=Im();function e(m){var _="https://react.dev/errors/"+m;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+m+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(m,_,S){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:m,containerInfo:_,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(m,_){if(m==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,pn.createPortal=function(m,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(m,_,null,S)},pn.flushSync=function(m){var _=d.T,S=a.p;try{if(d.T=null,a.p=2,m)return m()}finally{d.T=_,a.p=S,a.d.f()}},pn.preconnect=function(m,_){typeof m=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(m,_))},pn.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},pn.preinit=function(m,_){if(typeof m=="string"&&_&&typeof _.as=="string"){var S=_.as,w=y(S,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,F=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?a.d.S(m,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:M,fetchPriority:F}):S==="script"&&a.d.X(m,{crossOrigin:w,integrity:M,fetchPriority:F,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},pn.preinitModule=function(m,_){if(typeof m=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=y(_.as,_.crossOrigin);a.d.M(m,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(m)},pn.preload=function(m,_){if(typeof m=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,w=y(S,_.crossOrigin);a.d.L(m,S,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},pn.preloadModule=function(m,_){if(typeof m=="string")if(_){var S=y(_.as,_.crossOrigin);a.d.m(m,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(m)},pn.requestFormReset=function(m){a.d.r(m)},pn.unstable_batchedUpdates=function(m,_){return m(_)},pn.useFormState=function(m,_,S){return d.H.useFormState(m,_,S)},pn.useFormStatus=function(){return d.H.useHostTransitionStatus()},pn.version="19.2.3",pn}var Y0;function q1(){if(Y0)return Hd.exports;Y0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Hd.exports=H1(),Hd.exports}var X0;function G1(){if(X0)return Mo;X0=1;var s=B1(),e=Im(),i=q1();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function m(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return m(h),t;if(f===l)return m(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var p=!1,b=h.child;b;){if(b===r){p=!0,r=h,l=f;break}if(b===l){p=!0,l=h,r=f;break}b=b.sibling}if(!p){for(b=f.child;b;){if(b===r){p=!0,r=f,l=h;break}if(b===l){p=!0,l=f,r=h;break}b=b.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,M=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),te=Symbol.for("react.portal"),re=Symbol.for("react.fragment"),se=Symbol.for("react.strict_mode"),_e=Symbol.for("react.profiler"),De=Symbol.for("react.consumer"),xe=Symbol.for("react.context"),ut=Symbol.for("react.forward_ref"),bt=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function Qe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case re:return"Fragment";case _e:return"Profiler";case se:return"StrictMode";case bt:return"Suspense";case me:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case te:return"Portal";case xe:return t.displayName||"Context";case De:return(t._context.displayName||"Context")+".Consumer";case ut:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:Qe(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return Qe(t(n))}catch{}}return null}var Tt=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Ge=[],ke=-1;function D(t){return{current:t}}function Q(t){0>ke||(t.current=Ge[ke],Ge[ke]=null,ke--)}function ne(t,n){ke++,Ge[ke]=t.current,t.current=n}var le=D(null),Ee=D(null),Ae=D(null),Ve=D(null);function st(t,n){switch(ne(Ae,n),ne(Ee,t),ne(le,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?c0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=c0(n),t=h0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(le),ne(le,t)}function ht(){Q(le),Q(Ee),Q(Ae)}function Ji(t){t.memoizedState!==null&&ne(Ve,t);var n=le.current,r=h0(n,t.type);n!==r&&(ne(Ee,t),ne(le,r))}function Ai(t){Ee.current===t&&(Q(le),Q(Ee)),Ve.current===t&&(Q(Ve),Co._currentValue=ge)}var Ns,Zi;function Yn(t){if(Ns===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ns=n&&n[1]||"",Zi=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ns+t+Zi}var Dr=!1;function wi(t,n){if(!t||Dr)return"";Dr=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var z=H}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(H){z=H}t.call(Y.prototype)}}else{try{throw Error()}catch(H){z=H}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],b=f[1];if(p&&b){var R=p.split(`
`),P=b.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===P.length)for(l=R.length-1,h=P.length-1;1<=l&&0<=h&&R[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==P[h]){var G=`
`+R[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=h);break}}}finally{Dr=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Yn(r):""}function Ds(t,n){switch(t.tag){case 26:case 27:case 5:return Yn(t.type);case 16:return Yn("Lazy");case 13:return t.child!==n&&n!==null?Yn("Suspense Fallback"):Yn("Suspense");case 19:return Yn("SuspenseList");case 0:case 15:return wi(t.type,!1);case 11:return wi(t.type.render,!1);case 1:return wi(t.type,!0);case 31:return Yn("Activity");default:return""}}function Or(t){try{var n="",r=null;do n+=Ds(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var xt=Object.prototype.hasOwnProperty,St=s.unstable_scheduleCallback,Xn=s.unstable_cancelCallback,Ol=s.unstable_shouldYield,pa=s.unstable_requestPaint,rn=s.unstable_now,es=s.unstable_getCurrentPriorityLevel,Mr=s.unstable_ImmediatePriority,Vr=s.unstable_UserBlockingPriority,xi=s.unstable_NormalPriority,Ml=s.unstable_LowPriority,ya=s.unstable_IdlePriority,_a=s.log,W=s.unstable_setDisableYieldValue,J=null,ie=null;function ae(t){if(typeof _a=="function"&&W(t),ie&&typeof ie.setStrictMode=="function")try{ie.setStrictMode(J,t)}catch{}}var Te=Math.clz32?Math.clz32:Jt,Rt=Math.log,gn=Math.LN2;function Jt(t){return t>>>=0,t===0?32:31-(Rt(t)/gn|0)|0}var ft=256,yt=262144,Ze=4194304;function ue(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Oe(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~f,l!==0?h=ue(l):(p&=b,p!==0?h=ue(p):r||(r=b&~t,r!==0&&(h=ue(r))))):(b=l&~f,b!==0?h=ue(b):p!==0?h=ue(p):r||(r=l&~t,r!==0&&(h=ue(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function he(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Qt(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nt(){var t=Ze;return Ze<<=1,(Ze&62914560)===0&&(Ze=4194304),t}function dt(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function jn(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ts(t,n,r,l,h,f){var p=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var b=t.entanglements,R=t.expirationTimes,P=t.hiddenUpdates;for(r=p&~r;0<r;){var G=31-Te(r),Y=1<<G;b[G]=0,R[G]=-1;var z=P[G];if(z!==null)for(P[G]=null,G=0;G<z.length;G++){var H=z[G];H!==null&&(H.lane&=-536870913)}r&=~Y}l!==0&&Zt(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function Zt(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Te(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function kr(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Te(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function $e(t,n){var r=n&-n;return r=(r&42)!==0?1:ci(r),(r&(t.suspendedLanes|n))!==0?0:r}function ci(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Un(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Os(){var t=Z.p;return t!==0?t:(t=window.event,t===void 0?32:V0(t.type))}function Tn(t,n){var r=Z.p;try{return Z.p=t,n()}finally{Z.p=r}}var hi=Math.random().toString(36).slice(2),kt="__reactFiber$"+hi,en="__reactProps$"+hi,Ri="__reactContainer$"+hi,va="__reactEvents$"+hi,Hh="__reactListeners$"+hi,du="__reactHandles$"+hi,mu="__reactResources$"+hi,Ci="__reactMarker$"+hi;function Ea(t){delete t[kt],delete t[en],delete t[va],delete t[Hh],delete t[du]}function Ii(t){var n=t[kt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Ri]||r[kt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=_0(t);t!==null;){if(r=t[kt])return r;t=_0(t)}return n}t=r,r=t.parentNode}return null}function $n(t){if(t=t[kt]||t[Ri]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Ln(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ni(t){var n=t[mu];return n||(n=t[mu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function jt(t){t[Ci]=!0}var Vl=new Set,kl={};function Di(t,n){Oi(t,n),Oi(t+"Capture",n)}function Oi(t,n){for(kl[t]=n,t=0;t<n.length;t++)Vl.add(n[t])}var jl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ul={},Ll={};function gu(t){return xt.call(Ll,t)?!0:xt.call(Ul,t)?!1:jl.test(t)?Ll[t]=!0:(Ul[t]=!0,!1)}function ba(t,n,r){if(gu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Pn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Ut(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ms(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Pl(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function tt(t){if(!t._valueTracker){var n=Ms(t)?"checked":"value";t._valueTracker=Pl(t,n,""+t[n])}}function jr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Ms(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Mi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ur=/[\n"\\]/g;function xn(t){return t.replace(Ur,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ta(t,n,r,l,h,f,p,b){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+tn(n)):t.value!==""+tn(n)&&(t.value=""+tn(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?zl(t,p,tn(n)):r!=null?zl(t,p,tn(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+tn(b):t.removeAttribute("name")}function pu(t,n,r,l,h,f,p,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){tt(t);return}r=r!=null?""+tn(r):"",n=n!=null?""+tn(n):r,b||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),tt(t)}function zl(t,n,r){n==="number"&&Mi(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Vs(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+tn(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function yu(t,n,r){if(n!=null&&(n=""+tn(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+tn(r):""}function ks(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(Tt(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=tn(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),tt(t)}function Rn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var _u=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bl(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||_u.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Hl(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&Bl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Bl(t,f,n[f])}function Sa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),js=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Aa(t){return js.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function fi(){}var ql=null;function Wn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Us=null,Vi=null;function Lr(t){var n=$n(t);if(n&&(t=n.stateNode)){var r=t[en]||null;e:switch(t=n.stateNode,n.type){case"input":if(Ta(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+xn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[en]||null;if(!h)throw Error(a(90));Ta(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&jr(l)}break e;case"textarea":yu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Vs(t,!!r.multiple,n,!1)}}}var wa=!1;function Ls(t,n,r){if(wa)return t(n,r);wa=!0;try{var l=t(n);return l}finally{if(wa=!1,(Us!==null||Vi!==null)&&(fc(),Us&&(n=Us,t=Vi,Vi=Us=null,Lr(n),t)))for(n=0;n<t.length;n++)Lr(t[n])}}function di(t,n){var r=t.stateNode;if(r===null)return null;var l=r[en]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pr=!1;if(Jn)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){Pr=!0}}),window.addEventListener("test",rt,rt),window.removeEventListener("test",rt,rt)}catch{Pr=!1}var ki=null,Gl=null,zr=null;function Fl(){if(zr)return zr;var t,n=Gl,r=n.length,l,h="value"in ki?ki.value:ki.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var p=r-t;for(l=1;l<=p&&n[r-l]===h[f-l];l++);return zr=h.slice(t,1<l?1-l:void 0)}function Br(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ns(){return!0}function mi(){return!1}function an(t){function n(r,l,h,f,p){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(r=t[b],this[b]=r?r(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ns:mi,this.isPropagationStopped=mi,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ns)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ns)},persist:function(){},isPersistent:ns}),n}var is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ji=an(is),Ps=w({},is,{view:0,detail:0}),Kl=an(Ps),zs,xa,Ui,Ra=w({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ui&&(Ui&&t.type==="mousemove"?(zs=t.screenX-Ui.screenX,xa=t.screenY-Ui.screenY):xa=zs=0,Ui=t),zs)},movementY:function(t){return"movementY"in t?t.movementY:xa}}),Ql=an(Ra),Hr=w({},Ra,{dataTransfer:0}),Eu=an(Hr),bu=w({},Ps,{relatedTarget:0}),qr=an(bu),Yl=w({},is,{animationName:0,elapsedTime:0,pseudoElement:0}),Tu=an(Yl),Ca=w({},is,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Su=an(Ca),Au=w({},is,{data:0}),Li=an(Au),wu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Ru[t])?!!n[t]:!1}function Bs(){return Cu}var Sn=w({},Ps,{key:function(t){if(t.key){var n=wu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Br(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bs,charCode:function(t){return t.type==="keypress"?Br(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Br(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Iu=an(Sn),Nu=w({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ss=an(Nu),u=w({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bs}),g=an(u),v=w({},is,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=an(v),U=w({},Ra,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=an(U),ee=w({},is,{newState:0,oldState:0}),Ie=an(ee),Dt=[9,13,27,32],We=Jn&&"CompositionEvent"in window,_t=null;Jn&&"documentMode"in document&&(_t=document.documentMode);var Zn=Jn&&"TextEvent"in window&&!_t,Pi=Jn&&(!We||_t&&8<_t&&11>=_t),gi=" ",pi=!1;function Gr(t,n){switch(t){case"keyup":return Dt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ia(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Na=!1;function rT(t,n){switch(t){case"compositionend":return Ia(n);case"keypress":return n.which!==32?null:(pi=!0,gi);case"textInput":return t=n.data,t===gi&&pi?null:t;default:return null}}function aT(t,n){if(Na)return t==="compositionend"||!We&&Gr(t,n)?(t=Fl(),zr=Gl=ki=null,Na=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Pi&&n.locale!=="ko"?null:n.data;default:return null}}var lT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!lT[t.type]:n==="textarea"}function Tg(t,n,r,l){Us?Vi?Vi.push(l):Vi=[l]:Us=l,n=vc(n,"onChange"),0<n.length&&(r=new ji("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Xl=null,$l=null;function oT(t){s0(t,0)}function Du(t){var n=Ln(t);if(jr(n))return t}function Sg(t,n){if(t==="change")return n}var Ag=!1;if(Jn){var qh;if(Jn){var Gh="oninput"in document;if(!Gh){var wg=document.createElement("div");wg.setAttribute("oninput","return;"),Gh=typeof wg.oninput=="function"}qh=Gh}else qh=!1;Ag=qh&&(!document.documentMode||9<document.documentMode)}function xg(){Xl&&(Xl.detachEvent("onpropertychange",Rg),$l=Xl=null)}function Rg(t){if(t.propertyName==="value"&&Du($l)){var n=[];Tg(n,$l,t,Wn(t)),Ls(oT,n)}}function uT(t,n,r){t==="focusin"?(xg(),Xl=n,$l=r,Xl.attachEvent("onpropertychange",Rg)):t==="focusout"&&xg()}function cT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Du($l)}function hT(t,n){if(t==="click")return Du(n)}function fT(t,n){if(t==="input"||t==="change")return Du(n)}function dT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var zn=typeof Object.is=="function"?Object.is:dT;function Wl(t,n){if(zn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!xt.call(n,h)||!zn(t[h],n[h]))return!1}return!0}function Cg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ig(t,n){var r=Cg(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Cg(r)}}function Ng(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Ng(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Dg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Mi(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Mi(t.document)}return n}function Fh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var mT=Jn&&"documentMode"in document&&11>=document.documentMode,Da=null,Kh=null,Jl=null,Qh=!1;function Og(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Qh||Da==null||Da!==Mi(l)||(l=Da,"selectionStart"in l&&Fh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Jl&&Wl(Jl,l)||(Jl=l,l=vc(Kh,"onSelect"),0<l.length&&(n=new ji("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Da)))}function Fr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Oa={animationend:Fr("Animation","AnimationEnd"),animationiteration:Fr("Animation","AnimationIteration"),animationstart:Fr("Animation","AnimationStart"),transitionrun:Fr("Transition","TransitionRun"),transitionstart:Fr("Transition","TransitionStart"),transitioncancel:Fr("Transition","TransitionCancel"),transitionend:Fr("Transition","TransitionEnd")},Yh={},Mg={};Jn&&(Mg=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function Kr(t){if(Yh[t])return Yh[t];if(!Oa[t])return t;var n=Oa[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Mg)return Yh[t]=n[r];return t}var Vg=Kr("animationend"),kg=Kr("animationiteration"),jg=Kr("animationstart"),gT=Kr("transitionrun"),pT=Kr("transitionstart"),yT=Kr("transitioncancel"),Ug=Kr("transitionend"),Lg=new Map,Xh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xh.push("scrollEnd");function yi(t,n){Lg.set(t,n),Di(n,[t])}var Ou=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ei=[],Ma=0,$h=0;function Mu(){for(var t=Ma,n=$h=Ma=0;n<t;){var r=ei[n];ei[n++]=null;var l=ei[n];ei[n++]=null;var h=ei[n];ei[n++]=null;var f=ei[n];if(ei[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&Pg(r,h,f)}}function Vu(t,n,r,l){ei[Ma++]=t,ei[Ma++]=n,ei[Ma++]=r,ei[Ma++]=l,$h|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Wh(t,n,r,l){return Vu(t,n,r,l),ku(t)}function Qr(t,n){return Vu(t,null,null,n),ku(t)}function Pg(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Te(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function ku(t){if(50<bo)throw bo=0,ld=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Va={};function _T(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(t,n,r,l){return new _T(t,n,r,l)}function Jh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rs(t,n){var r=t.alternate;return r===null?(r=Bn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function zg(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function ju(t,n,r,l,h,f){var p=0;if(l=t,typeof t=="function")Jh(t)&&(p=1);else if(typeof t=="string")p=S1(t,r,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Bn(31,r,n,h),t.elementType=I,t.lanes=f,t;case re:return Yr(r.children,h,f,n);case se:p=8,h|=24;break;case _e:return t=Bn(12,r,n,h|2),t.elementType=_e,t.lanes=f,t;case bt:return t=Bn(13,r,n,h),t.elementType=bt,t.lanes=f,t;case me:return t=Bn(19,r,n,h),t.elementType=me,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xe:p=10;break e;case De:p=9;break e;case ut:p=11;break e;case C:p=14;break e;case A:p=16,l=null;break e}p=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Bn(p,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Yr(t,n,r,l){return t=Bn(7,t,l,n),t.lanes=r,t}function Zh(t,n,r){return t=Bn(6,t,null,n),t.lanes=r,t}function Bg(t){var n=Bn(18,null,null,0);return n.stateNode=t,n}function ef(t,n,r){return n=Bn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Hg=new WeakMap;function ti(t,n){if(typeof t=="object"&&t!==null){var r=Hg.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Or(n)},Hg.set(t,n),n)}return{value:t,source:n,stack:Or(n)}}var ka=[],ja=0,Uu=null,Zl=0,ni=[],ii=0,Hs=null,zi=1,Bi="";function as(t,n){ka[ja++]=Zl,ka[ja++]=Uu,Uu=t,Zl=n}function qg(t,n,r){ni[ii++]=zi,ni[ii++]=Bi,ni[ii++]=Hs,Hs=t;var l=zi;t=Bi;var h=32-Te(l)-1;l&=~(1<<h),r+=1;var f=32-Te(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,zi=1<<32-Te(n)+h|r<<h|l,Bi=f+t}else zi=1<<f|r<<h|l,Bi=t}function tf(t){t.return!==null&&(as(t,1),qg(t,1,0))}function nf(t){for(;t===Uu;)Uu=ka[--ja],ka[ja]=null,Zl=ka[--ja],ka[ja]=null;for(;t===Hs;)Hs=ni[--ii],ni[ii]=null,Bi=ni[--ii],ni[ii]=null,zi=ni[--ii],ni[ii]=null}function Gg(t,n){ni[ii++]=zi,ni[ii++]=Bi,ni[ii++]=Hs,zi=n.id,Bi=n.overflow,Hs=t}var ln=null,mt=null,Fe=!1,qs=null,si=!1,sf=Error(a(519));function Gs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw eo(ti(n,t)),sf}function Fg(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[kt]=t,n[en]=l,r){case"dialog":Ue("cancel",n),Ue("close",n);break;case"iframe":case"object":case"embed":Ue("load",n);break;case"video":case"audio":for(r=0;r<So.length;r++)Ue(So[r],n);break;case"source":Ue("error",n);break;case"img":case"image":case"link":Ue("error",n),Ue("load",n);break;case"details":Ue("toggle",n);break;case"input":Ue("invalid",n),pu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ue("invalid",n);break;case"textarea":Ue("invalid",n),ks(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||o0(n.textContent,r)?(l.popover!=null&&(Ue("beforetoggle",n),Ue("toggle",n)),l.onScroll!=null&&Ue("scroll",n),l.onScrollEnd!=null&&Ue("scrollend",n),l.onClick!=null&&(n.onclick=fi),n=!0):n=!1,n||Gs(t,!0)}function Kg(t){for(ln=t.return;ln;)switch(ln.tag){case 5:case 31:case 13:si=!1;return;case 27:case 3:si=!0;return;default:ln=ln.return}}function Ua(t){if(t!==ln)return!1;if(!Fe)return Kg(t),Fe=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Td(t.type,t.memoizedProps)),r=!r),r&&mt&&Gs(t),Kg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));mt=y0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));mt=y0(t)}else n===27?(n=mt,sr(t.type)?(t=Rd,Rd=null,mt=t):mt=n):mt=ln?ai(t.stateNode.nextSibling):null;return!0}function Xr(){mt=ln=null,Fe=!1}function rf(){var t=qs;return t!==null&&(Dn===null?Dn=t:Dn.push.apply(Dn,t),qs=null),t}function eo(t){qs===null?qs=[t]:qs.push(t)}var af=D(null),$r=null,ls=null;function Fs(t,n,r){ne(af,n._currentValue),n._currentValue=r}function os(t){t._currentValue=af.current,Q(af)}function lf(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function of(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=h;for(var R=0;R<n.length;R++)if(b.context===n[R]){f.lanes|=r,b=f.alternate,b!==null&&(b.lanes|=r),lf(f.return,r,t),l||(p=null);break e}f=b.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),lf(p,r,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function La(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var b=h.type;zn(h.pendingProps.value,p.value)||(t!==null?t.push(b):t=[b])}}else if(h===Ve.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Co):t=[Co])}h=h.return}t!==null&&of(n,t,r,l),n.flags|=262144}function Lu(t){for(t=t.firstContext;t!==null;){if(!zn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Wr(t){$r=t,ls=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function on(t){return Qg($r,t)}function Pu(t,n){return $r===null&&Wr(t),Qg(t,n)}function Qg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},ls===null){if(t===null)throw Error(a(308));ls=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ls=ls.next=n;return r}var vT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},ET=s.unstable_scheduleCallback,bT=s.unstable_NormalPriority,Lt={$$typeof:xe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uf(){return{controller:new vT,data:new Map,refCount:0}}function to(t){t.refCount--,t.refCount===0&&ET(bT,function(){t.controller.abort()})}var no=null,cf=0,Pa=0,za=null;function TT(t,n){if(no===null){var r=no=[];cf=0,Pa=dd(),za={status:"pending",value:void 0,then:function(l){r.push(l)}}}return cf++,n.then(Yg,Yg),n}function Yg(){if(--cf===0&&no!==null){za!==null&&(za.status="fulfilled");var t=no;no=null,Pa=0,za=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function ST(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var Xg=q.S;q.S=function(t,n){Oy=rn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&TT(t,n),Xg!==null&&Xg(t,n)};var Jr=D(null);function hf(){var t=Jr.current;return t!==null?t:ct.pooledCache}function zu(t,n){n===null?ne(Jr,Jr.current):ne(Jr,n.pool)}function $g(){var t=hf();return t===null?null:{parent:Lt._currentValue,pool:t}}var Ba=Error(a(460)),ff=Error(a(474)),Bu=Error(a(542)),Hu={then:function(){}};function Wg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Jg(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(fi,fi),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ep(t),t;default:if(typeof n.status=="string")n.then(fi,fi);else{if(t=ct,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ep(t),t}throw ea=n,Ba}}function Zr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(ea=r,Ba):r}}var ea=null;function Zg(){if(ea===null)throw Error(a(459));var t=ea;return ea=null,t}function ep(t){if(t===Ba||t===Bu)throw Error(a(483))}var Ha=null,io=0;function qu(t){var n=io;return io+=1,Ha===null&&(Ha=[]),Jg(Ha,t,n)}function so(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Gu(t,n){throw n.$$typeof===M?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function tp(t){function n(k,N){if(t){var L=k.deletions;L===null?(k.deletions=[N],k.flags|=16):L.push(N)}}function r(k,N){if(!t)return null;for(;N!==null;)n(k,N),N=N.sibling;return null}function l(k){for(var N=new Map;k!==null;)k.key!==null?N.set(k.key,k):N.set(k.index,k),k=k.sibling;return N}function h(k,N){return k=rs(k,N),k.index=0,k.sibling=null,k}function f(k,N,L){return k.index=L,t?(L=k.alternate,L!==null?(L=L.index,L<N?(k.flags|=67108866,N):L):(k.flags|=67108866,N)):(k.flags|=1048576,N)}function p(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function b(k,N,L,K){return N===null||N.tag!==6?(N=Zh(L,k.mode,K),N.return=k,N):(N=h(N,L),N.return=k,N)}function R(k,N,L,K){var pe=L.type;return pe===re?G(k,N,L.props.children,K,L.key):N!==null&&(N.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===A&&Zr(pe)===N.type)?(N=h(N,L.props),so(N,L),N.return=k,N):(N=ju(L.type,L.key,L.props,null,k.mode,K),so(N,L),N.return=k,N)}function P(k,N,L,K){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=ef(L,k.mode,K),N.return=k,N):(N=h(N,L.children||[]),N.return=k,N)}function G(k,N,L,K,pe){return N===null||N.tag!==7?(N=Yr(L,k.mode,K,pe),N.return=k,N):(N=h(N,L),N.return=k,N)}function Y(k,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Zh(""+N,k.mode,L),N.return=k,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case F:return L=ju(N.type,N.key,N.props,null,k.mode,L),so(L,N),L.return=k,L;case te:return N=ef(N,k.mode,L),N.return=k,N;case A:return N=Zr(N),Y(k,N,L)}if(Tt(N)||j(N))return N=Yr(N,k.mode,L,null),N.return=k,N;if(typeof N.then=="function")return Y(k,qu(N),L);if(N.$$typeof===xe)return Y(k,Pu(k,N),L);Gu(k,N)}return null}function z(k,N,L,K){var pe=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return pe!==null?null:b(k,N,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case F:return L.key===pe?R(k,N,L,K):null;case te:return L.key===pe?P(k,N,L,K):null;case A:return L=Zr(L),z(k,N,L,K)}if(Tt(L)||j(L))return pe!==null?null:G(k,N,L,K,null);if(typeof L.then=="function")return z(k,N,qu(L),K);if(L.$$typeof===xe)return z(k,N,Pu(k,L),K);Gu(k,L)}return null}function H(k,N,L,K,pe){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(L)||null,b(N,k,""+K,pe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case F:return k=k.get(K.key===null?L:K.key)||null,R(N,k,K,pe);case te:return k=k.get(K.key===null?L:K.key)||null,P(N,k,K,pe);case A:return K=Zr(K),H(k,N,L,K,pe)}if(Tt(K)||j(K))return k=k.get(L)||null,G(N,k,K,pe,null);if(typeof K.then=="function")return H(k,N,L,qu(K),pe);if(K.$$typeof===xe)return H(k,N,L,Pu(N,K),pe);Gu(N,K)}return null}function ce(k,N,L,K){for(var pe=null,Ye=null,fe=N,Me=N=0,ze=null;fe!==null&&Me<L.length;Me++){fe.index>Me?(ze=fe,fe=null):ze=fe.sibling;var Xe=z(k,fe,L[Me],K);if(Xe===null){fe===null&&(fe=ze);break}t&&fe&&Xe.alternate===null&&n(k,fe),N=f(Xe,N,Me),Ye===null?pe=Xe:Ye.sibling=Xe,Ye=Xe,fe=ze}if(Me===L.length)return r(k,fe),Fe&&as(k,Me),pe;if(fe===null){for(;Me<L.length;Me++)fe=Y(k,L[Me],K),fe!==null&&(N=f(fe,N,Me),Ye===null?pe=fe:Ye.sibling=fe,Ye=fe);return Fe&&as(k,Me),pe}for(fe=l(fe);Me<L.length;Me++)ze=H(fe,k,Me,L[Me],K),ze!==null&&(t&&ze.alternate!==null&&fe.delete(ze.key===null?Me:ze.key),N=f(ze,N,Me),Ye===null?pe=ze:Ye.sibling=ze,Ye=ze);return t&&fe.forEach(function(ur){return n(k,ur)}),Fe&&as(k,Me),pe}function ve(k,N,L,K){if(L==null)throw Error(a(151));for(var pe=null,Ye=null,fe=N,Me=N=0,ze=null,Xe=L.next();fe!==null&&!Xe.done;Me++,Xe=L.next()){fe.index>Me?(ze=fe,fe=null):ze=fe.sibling;var ur=z(k,fe,Xe.value,K);if(ur===null){fe===null&&(fe=ze);break}t&&fe&&ur.alternate===null&&n(k,fe),N=f(ur,N,Me),Ye===null?pe=ur:Ye.sibling=ur,Ye=ur,fe=ze}if(Xe.done)return r(k,fe),Fe&&as(k,Me),pe;if(fe===null){for(;!Xe.done;Me++,Xe=L.next())Xe=Y(k,Xe.value,K),Xe!==null&&(N=f(Xe,N,Me),Ye===null?pe=Xe:Ye.sibling=Xe,Ye=Xe);return Fe&&as(k,Me),pe}for(fe=l(fe);!Xe.done;Me++,Xe=L.next())Xe=H(fe,k,Me,Xe.value,K),Xe!==null&&(t&&Xe.alternate!==null&&fe.delete(Xe.key===null?Me:Xe.key),N=f(Xe,N,Me),Ye===null?pe=Xe:Ye.sibling=Xe,Ye=Xe);return t&&fe.forEach(function(V1){return n(k,V1)}),Fe&&as(k,Me),pe}function ot(k,N,L,K){if(typeof L=="object"&&L!==null&&L.type===re&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case F:e:{for(var pe=L.key;N!==null;){if(N.key===pe){if(pe=L.type,pe===re){if(N.tag===7){r(k,N.sibling),K=h(N,L.props.children),K.return=k,k=K;break e}}else if(N.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===A&&Zr(pe)===N.type){r(k,N.sibling),K=h(N,L.props),so(K,L),K.return=k,k=K;break e}r(k,N);break}else n(k,N);N=N.sibling}L.type===re?(K=Yr(L.props.children,k.mode,K,L.key),K.return=k,k=K):(K=ju(L.type,L.key,L.props,null,k.mode,K),so(K,L),K.return=k,k=K)}return p(k);case te:e:{for(pe=L.key;N!==null;){if(N.key===pe)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){r(k,N.sibling),K=h(N,L.children||[]),K.return=k,k=K;break e}else{r(k,N);break}else n(k,N);N=N.sibling}K=ef(L,k.mode,K),K.return=k,k=K}return p(k);case A:return L=Zr(L),ot(k,N,L,K)}if(Tt(L))return ce(k,N,L,K);if(j(L)){if(pe=j(L),typeof pe!="function")throw Error(a(150));return L=pe.call(L),ve(k,N,L,K)}if(typeof L.then=="function")return ot(k,N,qu(L),K);if(L.$$typeof===xe)return ot(k,N,Pu(k,L),K);Gu(k,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(r(k,N.sibling),K=h(N,L),K.return=k,k=K):(r(k,N),K=Zh(L,k.mode,K),K.return=k,k=K),p(k)):r(k,N)}return function(k,N,L,K){try{io=0;var pe=ot(k,N,L,K);return Ha=null,pe}catch(fe){if(fe===Ba||fe===Bu)throw fe;var Ye=Bn(29,fe,null,k.mode);return Ye.lanes=K,Ye.return=k,Ye}}}var ta=tp(!0),np=tp(!1),Ks=!1;function df(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Qs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ys(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Je&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=ku(t),Pg(t,null,r),n}return Vu(t,l,n,r),ku(t)}function ro(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,kr(t,r)}}function gf(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var pf=!1;function ao(){if(pf){var t=za;if(t!==null)throw t}}function lo(t,n,r,l){pf=!1;var h=t.updateQueue;Ks=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var R=b,P=R.next;R.next=null,p===null?f=P:p.next=P,p=R;var G=t.alternate;G!==null&&(G=G.updateQueue,b=G.lastBaseUpdate,b!==p&&(b===null?G.firstBaseUpdate=P:b.next=P,G.lastBaseUpdate=R))}if(f!==null){var Y=h.baseState;p=0,G=P=R=null,b=f;do{var z=b.lane&-536870913,H=z!==b.lane;if(H?(Pe&z)===z:(l&z)===z){z!==0&&z===Pa&&(pf=!0),G!==null&&(G=G.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ce=t,ve=b;z=n;var ot=r;switch(ve.tag){case 1:if(ce=ve.payload,typeof ce=="function"){Y=ce.call(ot,Y,z);break e}Y=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=ve.payload,z=typeof ce=="function"?ce.call(ot,Y,z):ce,z==null)break e;Y=w({},Y,z);break e;case 2:Ks=!0}}z=b.callback,z!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:b.tag,payload:b.payload,callback:b.callback,next:null},G===null?(P=G=H,R=Y):G=G.next=H,p|=z;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;H=b,b=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(R=Y),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Zs|=p,t.lanes=p,t.memoizedState=Y}}function ip(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function sp(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)ip(r[t],n)}var qa=D(null),Fu=D(0);function rp(t,n){t=ys,ne(Fu,t),ne(qa,n),ys=t|n.baseLanes}function yf(){ne(Fu,ys),ne(qa,qa.current)}function _f(){ys=Fu.current,Q(qa),Q(Fu)}var Hn=D(null),ri=null;function Xs(t){var n=t.alternate;ne(Ot,Ot.current&1),ne(Hn,t),ri===null&&(n===null||qa.current!==null||n.memoizedState!==null)&&(ri=t)}function vf(t){ne(Ot,Ot.current),ne(Hn,t),ri===null&&(ri=t)}function ap(t){t.tag===22?(ne(Ot,Ot.current),ne(Hn,t),ri===null&&(ri=t)):$s()}function $s(){ne(Ot,Ot.current),ne(Hn,Hn.current)}function qn(t){Q(Hn),ri===t&&(ri=null),Q(Ot)}var Ot=D(0);function Ku(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||wd(r)||xd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var us=0,Ne=null,at=null,Pt=null,Qu=!1,Ga=!1,na=!1,Yu=0,oo=0,Fa=null,AT=0;function Ct(){throw Error(a(321))}function Ef(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!zn(t[r],n[r]))return!1;return!0}function bf(t,n,r,l,h,f){return us=f,Ne=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=t===null||t.memoizedState===null?qp:jf,na=!1,f=r(l,h),na=!1,Ga&&(f=op(n,r,l,h)),lp(t),f}function lp(t){q.H=ho;var n=at!==null&&at.next!==null;if(us=0,Pt=at=Ne=null,Qu=!1,oo=0,Fa=null,n)throw Error(a(300));t===null||zt||(t=t.dependencies,t!==null&&Lu(t)&&(zt=!0))}function op(t,n,r,l){Ne=t;var h=0;do{if(Ga&&(Fa=null),oo=0,Ga=!1,25<=h)throw Error(a(301));if(h+=1,Pt=at=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=Gp,f=n(r,l)}while(Ga);return f}function wT(){var t=q.H,n=t.useState()[0];return n=typeof n.then=="function"?uo(n):n,t=t.useState()[0],(at!==null?at.memoizedState:null)!==t&&(Ne.flags|=1024),n}function Tf(){var t=Yu!==0;return Yu=0,t}function Sf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Af(t){if(Qu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Qu=!1}us=0,Pt=at=Ne=null,Ga=!1,oo=Yu=0,Fa=null}function An(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Ne.memoizedState=Pt=t:Pt=Pt.next=t,Pt}function Mt(){if(at===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=at.next;var n=Pt===null?Ne.memoizedState:Pt.next;if(n!==null)Pt=n,at=t;else{if(t===null)throw Ne.alternate===null?Error(a(467)):Error(a(310));at=t,t={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Pt===null?Ne.memoizedState=Pt=t:Pt=Pt.next=t}return Pt}function Xu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function uo(t){var n=oo;return oo+=1,Fa===null&&(Fa=[]),t=Jg(Fa,t,n),n=Ne,(Pt===null?n.memoizedState:Pt.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?qp:jf),t}function $u(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return uo(t);if(t.$$typeof===xe)return on(t)}throw Error(a(438,String(t)))}function wf(t){var n=null,r=Ne.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Xu(),Ne.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=V;return n.index++,r}function cs(t,n){return typeof n=="function"?n(t):n}function Wu(t){var n=Mt();return xf(n,at,t)}function xf(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var b=p=null,R=null,P=n,G=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(Pe&Y)===Y:(us&Y)===Y){var z=P.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===Pa&&(G=!0);else if((us&z)===z){P=P.next,z===Pa&&(G=!0);continue}else Y={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(b=R=Y,p=f):R=R.next=Y,Ne.lanes|=z,Zs|=z;Y=P.action,na&&r(f,Y),f=P.hasEagerState?P.eagerState:r(f,Y)}else z={lane:Y,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(b=R=z,p=f):R=R.next=z,Ne.lanes|=Y,Zs|=Y;P=P.next}while(P!==null&&P!==n);if(R===null?p=f:R.next=b,!zn(f,t.memoizedState)&&(zt=!0,G&&(r=za,r!==null)))throw r;t.memoizedState=f,t.baseState=p,t.baseQueue=R,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Rf(t){var n=Mt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);zn(f,n.memoizedState)||(zt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function up(t,n,r){var l=Ne,h=Mt(),f=Fe;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!zn((at||h).memoizedState,r);if(p&&(h.memoizedState=r,zt=!0),h=h.queue,Nf(fp.bind(null,l,h,t),[t]),h.getSnapshot!==n||p||Pt!==null&&Pt.memoizedState.tag&1){if(l.flags|=2048,Ka(9,{destroy:void 0},hp.bind(null,l,h,r,n),null),ct===null)throw Error(a(349));f||(us&127)!==0||cp(l,n,r)}return r}function cp(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Ne.updateQueue,n===null?(n=Xu(),Ne.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function hp(t,n,r,l){n.value=r,n.getSnapshot=l,dp(n)&&mp(t)}function fp(t,n,r){return r(function(){dp(n)&&mp(t)})}function dp(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!zn(t,r)}catch{return!0}}function mp(t){var n=Qr(t,2);n!==null&&On(n,t,2)}function Cf(t){var n=An();if(typeof t=="function"){var r=t;if(t=r(),na){ae(!0);try{r()}finally{ae(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:t},n}function gp(t,n,r,l){return t.baseState=r,xf(t,at,typeof l=="function"?l:cs)}function xT(t,n,r,l,h){if(ec(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};q.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,pp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function pp(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=q.T,p={};q.T=p;try{var b=r(h,l),R=q.S;R!==null&&R(p,b),yp(t,n,b)}catch(P){If(t,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),q.T=f}}else try{f=r(h,l),yp(t,n,f)}catch(P){If(t,n,P)}}function yp(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){_p(t,n,l)},function(l){return If(t,n,l)}):_p(t,n,r)}function _p(t,n,r){n.status="fulfilled",n.value=r,vp(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,pp(t,r)))}function If(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,vp(n),n=n.next;while(n!==l)}t.action=null}function vp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Ep(t,n){return n}function bp(t,n){if(Fe){var r=ct.formState;if(r!==null){e:{var l=Ne;if(Fe){if(mt){t:{for(var h=mt,f=si;h.nodeType!==8;){if(!f){h=null;break t}if(h=ai(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){mt=ai(h.nextSibling),l=h.data==="F!";break e}}Gs(l)}l=!1}l&&(n=r[0])}}return r=An(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ep,lastRenderedState:n},r.queue=l,r=zp.bind(null,Ne,l),l.dispatch=r,l=Cf(!1),f=kf.bind(null,Ne,!1,l.queue),l=An(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=xT.bind(null,Ne,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function Tp(t){var n=Mt();return Sp(n,at,t)}function Sp(t,n,r){if(n=xf(t,n,Ep)[0],t=Wu(cs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=uo(n)}catch(p){throw p===Ba?Bu:p}else l=n;n=Mt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Ne.flags|=2048,Ka(9,{destroy:void 0},RT.bind(null,h,r),null)),[l,f,t]}function RT(t,n){t.action=n}function Ap(t){var n=Mt(),r=at;if(r!==null)return Sp(n,r,t);Mt(),n=n.memoizedState,r=Mt();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ka(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Ne.updateQueue,n===null&&(n=Xu(),Ne.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function wp(){return Mt().memoizedState}function Ju(t,n,r,l){var h=An();Ne.flags|=t,h.memoizedState=Ka(1|n,{destroy:void 0},r,l===void 0?null:l)}function Zu(t,n,r,l){var h=Mt();l=l===void 0?null:l;var f=h.memoizedState.inst;at!==null&&l!==null&&Ef(l,at.memoizedState.deps)?h.memoizedState=Ka(n,f,r,l):(Ne.flags|=t,h.memoizedState=Ka(1|n,f,r,l))}function xp(t,n){Ju(8390656,8,t,n)}function Nf(t,n){Zu(2048,8,t,n)}function CT(t){Ne.flags|=4;var n=Ne.updateQueue;if(n===null)n=Xu(),Ne.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Rp(t){var n=Mt().memoizedState;return CT({ref:n,nextImpl:t}),function(){if((Je&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Cp(t,n){return Zu(4,2,t,n)}function Ip(t,n){return Zu(4,4,t,n)}function Np(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Dp(t,n,r){r=r!=null?r.concat([t]):null,Zu(4,4,Np.bind(null,n,t),r)}function Df(){}function Op(t,n){var r=Mt();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Ef(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Mp(t,n){var r=Mt();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Ef(n,l[1]))return l[0];if(l=t(),na){ae(!0);try{t()}finally{ae(!1)}}return r.memoizedState=[l,n],l}function Of(t,n,r){return r===void 0||(us&1073741824)!==0&&(Pe&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Vy(),Ne.lanes|=t,Zs|=t,r)}function Vp(t,n,r,l){return zn(r,n)?r:qa.current!==null?(t=Of(t,r,l),zn(t,n)||(zt=!0),t):(us&42)===0||(us&1073741824)!==0&&(Pe&261930)===0?(zt=!0,t.memoizedState=r):(t=Vy(),Ne.lanes|=t,Zs|=t,n)}function kp(t,n,r,l,h){var f=Z.p;Z.p=f!==0&&8>f?f:8;var p=q.T,b={};q.T=b,kf(t,!1,n,r);try{var R=h(),P=q.S;if(P!==null&&P(b,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=ST(R,l);co(t,n,G,Kn(t))}else co(t,n,l,Kn(t))}catch(Y){co(t,n,{then:function(){},status:"rejected",reason:Y},Kn())}finally{Z.p=f,p!==null&&b.types!==null&&(p.types=b.types),q.T=p}}function IT(){}function Mf(t,n,r,l){if(t.tag!==5)throw Error(a(476));var h=jp(t).queue;kp(t,h,n,ge,r===null?IT:function(){return Up(t),r(l)})}function jp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:ge},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Up(t){var n=jp(t);n.next===null&&(n=t.alternate.memoizedState),co(t,n.next.queue,{},Kn())}function Vf(){return on(Co)}function Lp(){return Mt().memoizedState}function Pp(){return Mt().memoizedState}function NT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Kn();t=Qs(r);var l=Ys(n,t,r);l!==null&&(On(l,n,r),ro(l,n,r)),n={cache:uf()},t.payload=n;return}n=n.return}}function DT(t,n,r){var l=Kn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ec(t)?Bp(n,r):(r=Wh(t,n,r,l),r!==null&&(On(r,t,l),Hp(r,n,l)))}function zp(t,n,r){var l=Kn();co(t,n,r,l)}function co(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(ec(t))Bp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,b=f(p,r);if(h.hasEagerState=!0,h.eagerState=b,zn(b,p))return Vu(t,n,h,0),ct===null&&Mu(),!1}catch{}if(r=Wh(t,n,h,l),r!==null)return On(r,t,l),Hp(r,n,l),!0}return!1}function kf(t,n,r,l){if(l={lane:2,revertLane:dd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ec(t)){if(n)throw Error(a(479))}else n=Wh(t,r,l,2),n!==null&&On(n,t,2)}function ec(t){var n=t.alternate;return t===Ne||n!==null&&n===Ne}function Bp(t,n){Ga=Qu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Hp(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,kr(t,r)}}var ho={readContext:on,use:$u,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct};ho.useEffectEvent=Ct;var qp={readContext:on,use:$u,useCallback:function(t,n){return An().memoizedState=[t,n===void 0?null:n],t},useContext:on,useEffect:xp,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Ju(4194308,4,Np.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Ju(4194308,4,t,n)},useInsertionEffect:function(t,n){Ju(4,2,t,n)},useMemo:function(t,n){var r=An();n=n===void 0?null:n;var l=t();if(na){ae(!0);try{t()}finally{ae(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=An();if(r!==void 0){var h=r(n);if(na){ae(!0);try{r(n)}finally{ae(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=DT.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var n=An();return t={current:t},n.memoizedState=t},useState:function(t){t=Cf(t);var n=t.queue,r=zp.bind(null,Ne,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Df,useDeferredValue:function(t,n){var r=An();return Of(r,t,n)},useTransition:function(){var t=Cf(!1);return t=kp.bind(null,Ne,t.queue,!0,!1),An().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Ne,h=An();if(Fe){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),ct===null)throw Error(a(349));(Pe&127)!==0||cp(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,xp(fp.bind(null,l,f,t),[t]),l.flags|=2048,Ka(9,{destroy:void 0},hp.bind(null,l,f,r,n),null),r},useId:function(){var t=An(),n=ct.identifierPrefix;if(Fe){var r=Bi,l=zi;r=(l&~(1<<32-Te(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Yu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=AT++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Vf,useFormState:bp,useActionState:bp,useOptimistic:function(t){var n=An();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=kf.bind(null,Ne,!0,r),r.dispatch=n,[t,n]},useMemoCache:wf,useCacheRefresh:function(){return An().memoizedState=NT.bind(null,Ne)},useEffectEvent:function(t){var n=An(),r={impl:t};return n.memoizedState=r,function(){if((Je&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},jf={readContext:on,use:$u,useCallback:Op,useContext:on,useEffect:Nf,useImperativeHandle:Dp,useInsertionEffect:Cp,useLayoutEffect:Ip,useMemo:Mp,useReducer:Wu,useRef:wp,useState:function(){return Wu(cs)},useDebugValue:Df,useDeferredValue:function(t,n){var r=Mt();return Vp(r,at.memoizedState,t,n)},useTransition:function(){var t=Wu(cs)[0],n=Mt().memoizedState;return[typeof t=="boolean"?t:uo(t),n]},useSyncExternalStore:up,useId:Lp,useHostTransitionStatus:Vf,useFormState:Tp,useActionState:Tp,useOptimistic:function(t,n){var r=Mt();return gp(r,at,t,n)},useMemoCache:wf,useCacheRefresh:Pp};jf.useEffectEvent=Rp;var Gp={readContext:on,use:$u,useCallback:Op,useContext:on,useEffect:Nf,useImperativeHandle:Dp,useInsertionEffect:Cp,useLayoutEffect:Ip,useMemo:Mp,useReducer:Rf,useRef:wp,useState:function(){return Rf(cs)},useDebugValue:Df,useDeferredValue:function(t,n){var r=Mt();return at===null?Of(r,t,n):Vp(r,at.memoizedState,t,n)},useTransition:function(){var t=Rf(cs)[0],n=Mt().memoizedState;return[typeof t=="boolean"?t:uo(t),n]},useSyncExternalStore:up,useId:Lp,useHostTransitionStatus:Vf,useFormState:Ap,useActionState:Ap,useOptimistic:function(t,n){var r=Mt();return at!==null?gp(r,at,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:wf,useCacheRefresh:Pp};Gp.useEffectEvent=Rp;function Uf(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:w({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Lf={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Kn(),h=Qs(l);h.payload=n,r!=null&&(h.callback=r),n=Ys(t,h,l),n!==null&&(On(n,t,l),ro(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Kn(),h=Qs(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Ys(t,h,l),n!==null&&(On(n,t,l),ro(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Kn(),l=Qs(r);l.tag=2,n!=null&&(l.callback=n),n=Ys(t,l,r),n!==null&&(On(n,t,r),ro(n,t,r))}};function Fp(t,n,r,l,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Wl(r,l)||!Wl(h,f):!0}function Kp(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Lf.enqueueReplaceState(n,n.state,null)}function ia(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=w({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function Qp(t){Ou(t)}function Yp(t){console.error(t)}function Xp(t){Ou(t)}function tc(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function $p(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Pf(t,n,r){return r=Qs(r),r.tag=3,r.payload={element:null},r.callback=function(){tc(t,n)},r}function Wp(t){return t=Qs(t),t.tag=3,t}function Jp(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){$p(n,r,l)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){$p(n,r,l),typeof h!="function"&&(er===null?er=new Set([this]):er.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function OT(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&La(n,r,h,!0),r=Hn.current,r!==null){switch(r.tag){case 31:case 13:return ri===null?dc():r.alternate===null&&It===0&&(It=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Hu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),cd(t,l,h)),!1;case 22:return r.flags|=65536,l===Hu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),cd(t,l,h)),!1}throw Error(a(435,r.tag))}return cd(t,l,h),dc(),!1}if(Fe)return n=Hn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==sf&&(t=Error(a(422),{cause:l}),eo(ti(t,r)))):(l!==sf&&(n=Error(a(423),{cause:l}),eo(ti(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=ti(l,r),h=Pf(t.stateNode,l,h),gf(t,h),It!==4&&(It=2)),!1;var f=Error(a(520),{cause:l});if(f=ti(f,r),Eo===null?Eo=[f]:Eo.push(f),It!==4&&(It=2),n===null)return!0;l=ti(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Pf(r.stateNode,l,t),gf(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(er===null||!er.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Wp(h),Jp(h,t,r,l),gf(r,h),!1}r=r.return}while(r!==null);return!1}var zf=Error(a(461)),zt=!1;function un(t,n,r,l){n.child=t===null?np(n,null,r,l):ta(n,t.child,r,l)}function Zp(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var p={};for(var b in l)b!=="ref"&&(p[b]=l[b])}else p=l;return Wr(n),l=bf(t,n,r,p,f,h),b=Tf(),t!==null&&!zt?(Sf(t,n,h),hs(t,n,h)):(Fe&&b&&tf(n),n.flags|=1,un(t,n,l,h),n.child)}function ey(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!Jh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,ty(t,n,f,l,h)):(t=ju(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Yf(t,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:Wl,r(p,l)&&t.ref===n.ref)return hs(t,n,h)}return n.flags|=1,t=rs(f,l),t.ref=n.ref,t.return=n,n.child=t}function ty(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(Wl(f,l)&&t.ref===n.ref)if(zt=!1,n.pendingProps=l=f,Yf(t,h))(t.flags&131072)!==0&&(zt=!0);else return n.lanes=t.lanes,hs(t,n,h)}return Bf(t,n,r,l,h)}function ny(t,n,r,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return iy(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&zu(n,f!==null?f.cachePool:null),f!==null?rp(n,f):yf(),ap(n);else return l=n.lanes=536870912,iy(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(zu(n,f.cachePool),rp(n,f),$s(),n.memoizedState=null):(t!==null&&zu(n,null),yf(),$s());return un(t,n,h,r),n.child}function fo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function iy(t,n,r,l,h){var f=hf();return f=f===null?null:{parent:Lt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&zu(n,null),yf(),ap(n),t!==null&&La(t,n,l,!0),n.childLanes=h,null}function nc(t,n){return n=sc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function sy(t,n,r){return ta(n,t.child,null,r),t=nc(n,n.pendingProps),t.flags|=2,qn(n),n.memoizedState=null,t}function MT(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Fe){if(l.mode==="hidden")return t=nc(n,l),n.lanes=536870912,fo(null,t);if(vf(n),(t=mt)?(t=p0(t,si),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Hs!==null?{id:zi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},r=Bg(t),r.return=n,n.child=r,ln=n,mt=null)):t=null,t===null)throw Gs(n);return n.lanes=536870912,null}return nc(n,l)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(vf(n),h)if(n.flags&256)n.flags&=-257,n=sy(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(zt||La(t,n,r,!1),h=(r&t.childLanes)!==0,zt||h){if(l=ct,l!==null&&(p=$e(l,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,Qr(t,p),On(l,t,p),zf;dc(),n=sy(t,n,r)}else t=f.treeContext,mt=ai(p.nextSibling),ln=n,Fe=!0,qs=null,si=!1,t!==null&&Gg(n,t),n=nc(n,l),n.flags|=4096;return n}return t=rs(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ic(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Bf(t,n,r,l,h){return Wr(n),r=bf(t,n,r,l,void 0,h),l=Tf(),t!==null&&!zt?(Sf(t,n,h),hs(t,n,h)):(Fe&&l&&tf(n),n.flags|=1,un(t,n,r,h),n.child)}function ry(t,n,r,l,h,f){return Wr(n),n.updateQueue=null,r=op(n,l,r,h),lp(t),l=Tf(),t!==null&&!zt?(Sf(t,n,f),hs(t,n,f)):(Fe&&l&&tf(n),n.flags|=1,un(t,n,r,f),n.child)}function ay(t,n,r,l,h){if(Wr(n),n.stateNode===null){var f=Va,p=r.contextType;typeof p=="object"&&p!==null&&(f=on(p)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Lf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},df(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?on(p):Va,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Uf(n,r,p,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Lf.enqueueReplaceState(f,f.state,null),lo(n,l,f,h),ao(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var b=n.memoizedProps,R=ia(r,b);f.props=R;var P=f.context,G=r.contextType;p=Va,typeof G=="object"&&G!==null&&(p=on(G));var Y=r.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||P!==p)&&Kp(n,f,l,p),Ks=!1;var z=n.memoizedState;f.state=z,lo(n,l,f,h),ao(),P=n.memoizedState,b||z!==P||Ks?(typeof Y=="function"&&(Uf(n,r,Y,l),P=n.memoizedState),(R=Ks||Fp(n,r,R,l,z,P,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=p,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,mf(t,n),p=n.memoizedProps,G=ia(r,p),f.props=G,Y=n.pendingProps,z=f.context,P=r.contextType,R=Va,typeof P=="object"&&P!==null&&(R=on(P)),b=r.getDerivedStateFromProps,(P=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Y||z!==R)&&Kp(n,f,l,R),Ks=!1,z=n.memoizedState,f.state=z,lo(n,l,f,h),ao();var H=n.memoizedState;p!==Y||z!==H||Ks||t!==null&&t.dependencies!==null&&Lu(t.dependencies)?(typeof b=="function"&&(Uf(n,r,b,l),H=n.memoizedState),(G=Ks||Fp(n,r,G,l,z,H,R)||t!==null&&t.dependencies!==null&&Lu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=R,l=G):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,ic(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ta(n,t.child,null,h),n.child=ta(n,null,r,h)):un(t,n,r,h),n.memoizedState=f.state,t=n.child):t=hs(t,n,h),t}function ly(t,n,r,l){return Xr(),n.flags|=256,un(t,n,r,l),n.child}var Hf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qf(t){return{baseLanes:t,cachePool:$g()}}function Gf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Fn),t}function oy(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(Ot.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Fe){if(h?Xs(n):$s(),(t=mt)?(t=p0(t,si),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Hs!==null?{id:zi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},r=Bg(t),r.return=n,n.child=r,ln=n,mt=null)):t=null,t===null)throw Gs(n);return xd(t)?n.lanes=32:n.lanes=536870912,null}var b=l.children;return l=l.fallback,h?($s(),h=n.mode,b=sc({mode:"hidden",children:b},h),l=Yr(l,h,r,null),b.return=n,l.return=n,b.sibling=l,n.child=b,l=n.child,l.memoizedState=qf(r),l.childLanes=Gf(t,p,r),n.memoizedState=Hf,fo(null,l)):(Xs(n),Ff(n,b))}var R=t.memoizedState;if(R!==null&&(b=R.dehydrated,b!==null)){if(f)n.flags&256?(Xs(n),n.flags&=-257,n=Kf(t,n,r)):n.memoizedState!==null?($s(),n.child=t.child,n.flags|=128,n=null):($s(),b=l.fallback,h=n.mode,l=sc({mode:"visible",children:l.children},h),b=Yr(b,h,r,null),b.flags|=2,l.return=n,b.return=n,l.sibling=b,n.child=l,ta(n,t.child,null,r),l=n.child,l.memoizedState=qf(r),l.childLanes=Gf(t,p,r),n.memoizedState=Hf,n=fo(null,l));else if(Xs(n),xd(b)){if(p=b.nextSibling&&b.nextSibling.dataset,p)var P=p.dgst;p=P,l=Error(a(419)),l.stack="",l.digest=p,eo({value:l,source:null,stack:null}),n=Kf(t,n,r)}else if(zt||La(t,n,r,!1),p=(r&t.childLanes)!==0,zt||p){if(p=ct,p!==null&&(l=$e(p,r),l!==0&&l!==R.retryLane))throw R.retryLane=l,Qr(t,l),On(p,t,l),zf;wd(b)||dc(),n=Kf(t,n,r)}else wd(b)?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,mt=ai(b.nextSibling),ln=n,Fe=!0,qs=null,si=!1,t!==null&&Gg(n,t),n=Ff(n,l.children),n.flags|=4096);return n}return h?($s(),b=l.fallback,h=n.mode,R=t.child,P=R.sibling,l=rs(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,P!==null?b=rs(P,b):(b=Yr(b,h,r,null),b.flags|=2),b.return=n,l.return=n,l.sibling=b,n.child=l,fo(null,l),l=n.child,b=t.child.memoizedState,b===null?b=qf(r):(h=b.cachePool,h!==null?(R=Lt._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=$g(),b={baseLanes:b.baseLanes|r,cachePool:h}),l.memoizedState=b,l.childLanes=Gf(t,p,r),n.memoizedState=Hf,fo(t.child,l)):(Xs(n),r=t.child,t=r.sibling,r=rs(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=r,n.memoizedState=null,r)}function Ff(t,n){return n=sc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function sc(t,n){return t=Bn(22,t,null,n),t.lanes=0,t}function Kf(t,n,r){return ta(n,t.child,null,r),t=Ff(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function uy(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),lf(t.return,n,r)}function Qf(t,n,r,l,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function cy(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=Ot.current,b=(p&2)!==0;if(b?(p=p&1|2,n.flags|=128):p&=1,ne(Ot,p),un(t,n,l,r),l=Fe?Zl:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&uy(t,r,n);else if(t.tag===19)uy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Ku(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Qf(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Ku(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Qf(n,!0,r,null,f,l);break;case"together":Qf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function hs(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Zs|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(La(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=rs(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=rs(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Yf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Lu(t)))}function VT(t,n,r){switch(n.tag){case 3:st(n,n.stateNode.containerInfo),Fs(n,Lt,t.memoizedState.cache),Xr();break;case 27:case 5:Ji(n);break;case 4:st(n,n.stateNode.containerInfo);break;case 10:Fs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,vf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Xs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?oy(t,n,r):(Xs(n),t=hs(t,n,r),t!==null?t.sibling:null);Xs(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(La(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return cy(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(Ot,Ot.current),l)break;return null;case 22:return n.lanes=0,ny(t,n,r,n.pendingProps);case 24:Fs(n,Lt,t.memoizedState.cache)}return hs(t,n,r)}function hy(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)zt=!0;else{if(!Yf(t,r)&&(n.flags&128)===0)return zt=!1,VT(t,n,r);zt=(t.flags&131072)!==0}else zt=!1,Fe&&(n.flags&1048576)!==0&&qg(n,Zl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Zr(n.elementType),n.type=t,typeof t=="function")Jh(t)?(l=ia(t,l),n.tag=1,n=ay(null,n,t,l,r)):(n.tag=0,n=Bf(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===ut){n.tag=11,n=Zp(null,n,t,l,r);break e}else if(h===C){n.tag=14,n=ey(null,n,t,l,r);break e}}throw n=Qe(t)||t,Error(a(306,n,""))}}return n;case 0:return Bf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=ia(l,n.pendingProps),ay(t,n,l,h,r);case 3:e:{if(st(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,mf(t,n),lo(n,l,null,r);var p=n.memoizedState;if(l=p.cache,Fs(n,Lt,l),l!==f.cache&&of(n,[Lt],r,!0),ao(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ly(t,n,l,r);break e}else if(l!==h){h=ti(Error(a(424)),n),eo(h),n=ly(t,n,l,r);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,mt=ai(t.firstChild),ln=n,Fe=!0,qs=null,si=!0,r=np(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Xr(),l===h){n=hs(t,n,r);break e}un(t,n,l,r)}n=n.child}return n;case 26:return ic(t,n),t===null?(r=T0(n.type,null,n.pendingProps,null))?n.memoizedState=r:Fe||(r=n.type,t=n.pendingProps,l=Ec(Ae.current).createElement(r),l[kt]=n,l[en]=t,cn(l,r,t),jt(l),n.stateNode=l):n.memoizedState=T0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ji(n),t===null&&Fe&&(l=n.stateNode=v0(n.type,n.pendingProps,Ae.current),ln=n,si=!0,h=mt,sr(n.type)?(Rd=h,mt=ai(l.firstChild)):mt=h),un(t,n,n.pendingProps.children,r),ic(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Fe&&((h=l=mt)&&(l=c1(l,n.type,n.pendingProps,si),l!==null?(n.stateNode=l,ln=n,mt=ai(l.firstChild),si=!1,h=!0):h=!1),h||Gs(n)),Ji(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,Td(h,f)?l=null:p!==null&&Td(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=bf(t,n,wT,null,null,r),Co._currentValue=h),ic(t,n),un(t,n,l,r),n.child;case 6:return t===null&&Fe&&((t=r=mt)&&(r=h1(r,n.pendingProps,si),r!==null?(n.stateNode=r,ln=n,mt=null,t=!0):t=!1),t||Gs(n)),null;case 13:return oy(t,n,r);case 4:return st(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ta(n,null,l,r):un(t,n,l,r),n.child;case 11:return Zp(t,n,n.type,n.pendingProps,r);case 7:return un(t,n,n.pendingProps,r),n.child;case 8:return un(t,n,n.pendingProps.children,r),n.child;case 12:return un(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Fs(n,n.type,l.value),un(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Wr(n),h=on(h),l=l(h),n.flags|=1,un(t,n,l,r),n.child;case 14:return ey(t,n,n.type,n.pendingProps,r);case 15:return ty(t,n,n.type,n.pendingProps,r);case 19:return cy(t,n,r);case 31:return MT(t,n,r);case 22:return ny(t,n,r,n.pendingProps);case 24:return Wr(n),l=on(Lt),t===null?(h=hf(),h===null&&(h=ct,f=uf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},df(n),Fs(n,Lt,h)):((t.lanes&r)!==0&&(mf(t,n),lo(n,null,null,r),ao()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Fs(n,Lt,l)):(l=f.cache,Fs(n,Lt,l),l!==h.cache&&of(n,[Lt],r,!0))),un(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function fs(t){t.flags|=4}function Xf(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Ly())t.flags|=8192;else throw ea=Hu,ff}else t.flags&=-16777217}function fy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!R0(n))if(Ly())t.flags|=8192;else throw ea=Hu,ff}function rc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Nt():536870912,t.lanes|=n,$a|=n)}function mo(t,n){if(!Fe)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function gt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function kT(t,n,r){var l=n.pendingProps;switch(nf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(n),null;case 1:return gt(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),os(Lt),ht(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ua(n)?fs(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,rf())),gt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(fs(n),f!==null?(gt(n),fy(n,f)):(gt(n),Xf(n,h,null,l,r))):f?f!==t.memoizedState?(fs(n),gt(n),fy(n,f)):(gt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&fs(n),gt(n),Xf(n,h,t,l,r)),null;case 27:if(Ai(n),r=Ae.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&fs(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return gt(n),null}t=le.current,Ua(n)?Fg(n):(t=v0(h,l,r),n.stateNode=t,fs(n))}return gt(n),null;case 5:if(Ai(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&fs(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return gt(n),null}if(f=le.current,Ua(n))Fg(n);else{var p=Ec(Ae.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[kt]=n,f[en]=l;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(cn(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&fs(n)}}return gt(n),Xf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&fs(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Ae.current,Ua(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=ln,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[kt]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||o0(t.nodeValue,r)),t||Gs(n,!0)}else t=Ec(t).createTextNode(l),t[kt]=n,n.stateNode=t}return gt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=Ua(n),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[kt]=n}else Xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;gt(n),t=!1}else r=rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(qn(n),n):(qn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return gt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ua(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[kt]=n}else Xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;gt(n),h=!1}else h=rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(qn(n),n):(qn(n),null)}return qn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),rc(n,n.updateQueue),gt(n),null);case 4:return ht(),t===null&&yd(n.stateNode.containerInfo),gt(n),null;case 10:return os(n.type),gt(n),null;case 19:if(Q(Ot),l=n.memoizedState,l===null)return gt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)mo(l,!1);else{if(It!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Ku(t),f!==null){for(n.flags|=128,mo(l,!1),t=f.updateQueue,n.updateQueue=t,rc(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)zg(r,t),r=r.sibling;return ne(Ot,Ot.current&1|2),Fe&&as(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&rn()>cc&&(n.flags|=128,h=!0,mo(l,!1),n.lanes=4194304)}else{if(!h)if(t=Ku(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,rc(n,t),mo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Fe)return gt(n),null}else 2*rn()-l.renderingStartTime>cc&&r!==536870912&&(n.flags|=128,h=!0,mo(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=rn(),t.sibling=null,r=Ot.current,ne(Ot,h?r&1|2:r&1),Fe&&as(n,l.treeForkCount),t):(gt(n),null);case 22:case 23:return qn(n),_f(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(gt(n),n.subtreeFlags&6&&(n.flags|=8192)):gt(n),r=n.updateQueue,r!==null&&rc(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&Q(Jr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),os(Lt),gt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function jT(t,n){switch(nf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return os(Lt),ht(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ai(n),null;case 31:if(n.memoizedState!==null){if(qn(n),n.alternate===null)throw Error(a(340));Xr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(qn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Xr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Q(Ot),null;case 4:return ht(),null;case 10:return os(n.type),null;case 22:case 23:return qn(n),_f(),t!==null&&Q(Jr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return os(Lt),null;case 25:return null;default:return null}}function dy(t,n){switch(nf(n),n.tag){case 3:os(Lt),ht();break;case 26:case 27:case 5:Ai(n);break;case 4:ht();break;case 31:n.memoizedState!==null&&qn(n);break;case 13:qn(n);break;case 19:Q(Ot);break;case 10:os(n.type);break;case 22:case 23:qn(n),_f(),t!==null&&Q(Jr);break;case 24:os(Lt)}}function go(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,p=r.inst;l=f(),p.destroy=l}r=r.next}while(r!==h)}}catch(b){it(n,n.return,b)}}function Ws(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var p=l.inst,b=p.destroy;if(b!==void 0){p.destroy=void 0,h=n;var R=r,P=b;try{P()}catch(G){it(h,R,G)}}}l=l.next}while(l!==f)}}catch(G){it(n,n.return,G)}}function my(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{sp(n,r)}catch(l){it(t,t.return,l)}}}function gy(t,n,r){r.props=ia(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){it(t,n,l)}}function po(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){it(t,n,h)}}function Hi(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){it(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){it(t,n,h)}else r.current=null}function py(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){it(t,t.return,h)}}function $f(t,n,r){try{var l=t.stateNode;s1(l,t.type,r,n),l[en]=n}catch(h){it(t,t.return,h)}}function yy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&sr(t.type)||t.tag===4}function Wf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&sr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=fi));else if(l!==4&&(l===27&&sr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Jf(t,n,r),t=t.sibling;t!==null;)Jf(t,n,r),t=t.sibling}function ac(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&sr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(ac(t,n,r),t=t.sibling;t!==null;)ac(t,n,r),t=t.sibling}function _y(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);cn(n,l,r),n[kt]=t,n[en]=r}catch(f){it(t,t.return,f)}}var ds=!1,Bt=!1,Zf=!1,vy=typeof WeakSet=="function"?WeakSet:Set,nn=null;function UT(t,n){if(t=t.containerInfo,Ed=Rc,t=Dg(t),Fh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var p=0,b=-1,R=-1,P=0,G=0,Y=t,z=null;t:for(;;){for(var H;Y!==r||h!==0&&Y.nodeType!==3||(b=p+h),Y!==f||l!==0&&Y.nodeType!==3||(R=p+l),Y.nodeType===3&&(p+=Y.nodeValue.length),(H=Y.firstChild)!==null;)z=Y,Y=H;for(;;){if(Y===t)break t;if(z===r&&++P===h&&(b=p),z===f&&++G===l&&(R=p),(H=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=H}r=b===-1||R===-1?null:{start:b,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(bd={focusedElem:t,selectionRange:r},Rc=!1,nn=n;nn!==null;)if(n=nn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,nn=t;else for(;nn!==null;){switch(n=nn,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var ce=ia(r.type,h);t=l.getSnapshotBeforeUpdate(ce,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){it(r,r.return,ve)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Ad(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ad(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,nn=t;break}nn=n.return}}function Ey(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:gs(t,r),l&4&&go(5,r);break;case 1:if(gs(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(p){it(r,r.return,p)}else{var h=ia(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){it(r,r.return,p)}}l&64&&my(r),l&512&&po(r,r.return);break;case 3:if(gs(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{sp(t,n)}catch(p){it(r,r.return,p)}}break;case 27:n===null&&l&4&&_y(r);case 26:case 5:gs(t,r),n===null&&l&4&&py(r),l&512&&po(r,r.return);break;case 12:gs(t,r);break;case 31:gs(t,r),l&4&&Sy(t,r);break;case 13:gs(t,r),l&4&&Ay(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=KT.bind(null,r),f1(t,r))));break;case 22:if(l=r.memoizedState!==null||ds,!l){n=n!==null&&n.memoizedState!==null||Bt,h=ds;var f=Bt;ds=l,(Bt=n)&&!f?ps(t,r,(r.subtreeFlags&8772)!==0):gs(t,r),ds=h,Bt=f}break;case 30:break;default:gs(t,r)}}function by(t){var n=t.alternate;n!==null&&(t.alternate=null,by(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ea(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var vt=null,Cn=!1;function ms(t,n,r){for(r=r.child;r!==null;)Ty(t,n,r),r=r.sibling}function Ty(t,n,r){if(ie&&typeof ie.onCommitFiberUnmount=="function")try{ie.onCommitFiberUnmount(J,r)}catch{}switch(r.tag){case 26:Bt||Hi(r,n),ms(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Bt||Hi(r,n);var l=vt,h=Cn;sr(r.type)&&(vt=r.stateNode,Cn=!1),ms(t,n,r),wo(r.stateNode),vt=l,Cn=h;break;case 5:Bt||Hi(r,n);case 6:if(l=vt,h=Cn,vt=null,ms(t,n,r),vt=l,Cn=h,vt!==null)if(Cn)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(r.stateNode)}catch(f){it(r,n,f)}else try{vt.removeChild(r.stateNode)}catch(f){it(r,n,f)}break;case 18:vt!==null&&(Cn?(t=vt,m0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),sl(t)):m0(vt,r.stateNode));break;case 4:l=vt,h=Cn,vt=r.stateNode.containerInfo,Cn=!0,ms(t,n,r),vt=l,Cn=h;break;case 0:case 11:case 14:case 15:Ws(2,r,n),Bt||Ws(4,r,n),ms(t,n,r);break;case 1:Bt||(Hi(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&gy(r,n,l)),ms(t,n,r);break;case 21:ms(t,n,r);break;case 22:Bt=(l=Bt)||r.memoizedState!==null,ms(t,n,r),Bt=l;break;default:ms(t,n,r)}}function Sy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{sl(t)}catch(r){it(n,n.return,r)}}}function Ay(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{sl(t)}catch(r){it(n,n.return,r)}}function LT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new vy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new vy),n;default:throw Error(a(435,t.tag))}}function lc(t,n){var r=LT(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=QT.bind(null,t,l);l.then(h,h)}})}function In(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,p=n,b=p;e:for(;b!==null;){switch(b.tag){case 27:if(sr(b.type)){vt=b.stateNode,Cn=!1;break e}break;case 5:vt=b.stateNode,Cn=!1;break e;case 3:case 4:vt=b.stateNode.containerInfo,Cn=!0;break e}b=b.return}if(vt===null)throw Error(a(160));Ty(f,p,h),vt=null,Cn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)wy(n,t),n=n.sibling}var _i=null;function wy(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:In(n,t),Nn(t),l&4&&(Ws(3,t,t.return),go(3,t),Ws(5,t,t.return));break;case 1:In(n,t),Nn(t),l&512&&(Bt||r===null||Hi(r,r.return)),l&64&&ds&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=_i;if(In(n,t),Nn(t),l&512&&(Bt||r===null||Hi(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ci]||f[kt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),cn(f,l,r),f[kt]=t,jt(f),l=f;break e;case"link":var p=w0("link","href",h).get(l+(r.href||""));if(p){for(var b=0;b<p.length;b++)if(f=p[b],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(b,1);break t}}f=h.createElement(l),cn(f,l,r),h.head.appendChild(f);break;case"meta":if(p=w0("meta","content",h).get(l+(r.content||""))){for(b=0;b<p.length;b++)if(f=p[b],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(b,1);break t}}f=h.createElement(l),cn(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[kt]=t,jt(f),l=f}t.stateNode=l}else x0(h,t.type,t.stateNode);else t.stateNode=A0(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?x0(h,t.type,t.stateNode):A0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&$f(t,t.memoizedProps,r.memoizedProps)}break;case 27:In(n,t),Nn(t),l&512&&(Bt||r===null||Hi(r,r.return)),r!==null&&l&4&&$f(t,t.memoizedProps,r.memoizedProps);break;case 5:if(In(n,t),Nn(t),l&512&&(Bt||r===null||Hi(r,r.return)),t.flags&32){h=t.stateNode;try{Rn(h,"")}catch(ce){it(t,t.return,ce)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,$f(t,h,r!==null?r.memoizedProps:h)),l&1024&&(Zf=!0);break;case 6:if(In(n,t),Nn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(ce){it(t,t.return,ce)}}break;case 3:if(Sc=null,h=_i,_i=bc(n.containerInfo),In(n,t),_i=h,Nn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{sl(n.containerInfo)}catch(ce){it(t,t.return,ce)}Zf&&(Zf=!1,xy(t));break;case 4:l=_i,_i=bc(t.stateNode.containerInfo),In(n,t),Nn(t),_i=l;break;case 12:In(n,t),Nn(t);break;case 31:In(n,t),Nn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lc(t,l)));break;case 13:In(n,t),Nn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(uc=rn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lc(t,l)));break;case 22:h=t.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,P=ds,G=Bt;if(ds=P||h,Bt=G||R,In(n,t),Bt=G,ds=P,Nn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||R||ds||Bt||sa(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{b=R.stateNode;var Y=R.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;b.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ce){it(R,R.return,ce)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(ce){it(R,R.return,ce)}}}else if(n.tag===18){if(r===null){R=n;try{var H=R.stateNode;h?g0(H,!0):g0(R.stateNode,!1)}catch(ce){it(R,R.return,ce)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,lc(t,r))));break;case 19:In(n,t),Nn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lc(t,l)));break;case 30:break;case 21:break;default:In(n,t),Nn(t)}}function Nn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(yy(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Wf(t);ac(t,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(Rn(p,""),r.flags&=-33);var b=Wf(t);ac(t,b,p);break;case 3:case 4:var R=r.stateNode.containerInfo,P=Wf(t);Jf(t,P,R);break;default:throw Error(a(161))}}catch(G){it(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function xy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;xy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function gs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ey(t,n.alternate,n),n=n.sibling}function sa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ws(4,n,n.return),sa(n);break;case 1:Hi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&gy(n,n.return,r),sa(n);break;case 27:wo(n.stateNode);case 26:case 5:Hi(n,n.return),sa(n);break;case 22:n.memoizedState===null&&sa(n);break;case 30:sa(n);break;default:sa(n)}t=t.sibling}}function ps(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:ps(h,f,r),go(4,f);break;case 1:if(ps(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){it(l,l.return,P)}if(l=f,h=l.updateQueue,h!==null){var b=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)ip(R[h],b)}catch(P){it(l,l.return,P)}}r&&p&64&&my(f),po(f,f.return);break;case 27:_y(f);case 26:case 5:ps(h,f,r),r&&l===null&&p&4&&py(f),po(f,f.return);break;case 12:ps(h,f,r);break;case 31:ps(h,f,r),r&&p&4&&Sy(h,f);break;case 13:ps(h,f,r),r&&p&4&&Ay(h,f);break;case 22:f.memoizedState===null&&ps(h,f,r),po(f,f.return);break;case 30:break;default:ps(h,f,r)}n=n.sibling}}function ed(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&to(r))}function td(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&to(t))}function vi(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ry(t,n,r,l),n=n.sibling}function Ry(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:vi(t,n,r,l),h&2048&&go(9,n);break;case 1:vi(t,n,r,l);break;case 3:vi(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&to(t)));break;case 12:if(h&2048){vi(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,b=f.onPostCommit;typeof b=="function"&&b(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){it(n,n.return,R)}}else vi(t,n,r,l);break;case 31:vi(t,n,r,l);break;case 13:vi(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?vi(t,n,r,l):yo(t,n):f._visibility&2?vi(t,n,r,l):(f._visibility|=2,Qa(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&ed(p,n);break;case 24:vi(t,n,r,l),h&2048&&td(n.alternate,n);break;default:vi(t,n,r,l)}}function Qa(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,b=r,R=l,P=p.flags;switch(p.tag){case 0:case 11:case 15:Qa(f,p,b,R,h),go(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?Qa(f,p,b,R,h):yo(f,p):(G._visibility|=2,Qa(f,p,b,R,h)),h&&P&2048&&ed(p.alternate,p);break;case 24:Qa(f,p,b,R,h),h&&P&2048&&td(p.alternate,p);break;default:Qa(f,p,b,R,h)}n=n.sibling}}function yo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:yo(r,l),h&2048&&ed(l.alternate,l);break;case 24:yo(r,l),h&2048&&td(l.alternate,l);break;default:yo(r,l)}n=n.sibling}}var _o=8192;function Ya(t,n,r){if(t.subtreeFlags&_o)for(t=t.child;t!==null;)Cy(t,n,r),t=t.sibling}function Cy(t,n,r){switch(t.tag){case 26:Ya(t,n,r),t.flags&_o&&t.memoizedState!==null&&A1(r,_i,t.memoizedState,t.memoizedProps);break;case 5:Ya(t,n,r);break;case 3:case 4:var l=_i;_i=bc(t.stateNode.containerInfo),Ya(t,n,r),_i=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=_o,_o=16777216,Ya(t,n,r),_o=l):Ya(t,n,r));break;default:Ya(t,n,r)}}function Iy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function vo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];nn=l,Dy(l,t)}Iy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ny(t),t=t.sibling}function Ny(t){switch(t.tag){case 0:case 11:case 15:vo(t),t.flags&2048&&Ws(9,t,t.return);break;case 3:vo(t);break;case 12:vo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,oc(t)):vo(t);break;default:vo(t)}}function oc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];nn=l,Dy(l,t)}Iy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ws(8,n,n.return),oc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,oc(n));break;default:oc(n)}t=t.sibling}}function Dy(t,n){for(;nn!==null;){var r=nn;switch(r.tag){case 0:case 11:case 15:Ws(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:to(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,nn=l;else e:for(r=t;nn!==null;){l=nn;var h=l.sibling,f=l.return;if(by(l),l===r){nn=null;break e}if(h!==null){h.return=f,nn=h;break e}nn=f}}}var PT={getCacheForType:function(t){var n=on(Lt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return on(Lt).controller.signal}},zT=typeof WeakMap=="function"?WeakMap:Map,Je=0,ct=null,je=null,Pe=0,nt=0,Gn=null,Js=!1,Xa=!1,nd=!1,ys=0,It=0,Zs=0,ra=0,id=0,Fn=0,$a=0,Eo=null,Dn=null,sd=!1,uc=0,Oy=0,cc=1/0,hc=null,er=null,Yt=0,tr=null,Wa=null,_s=0,rd=0,ad=null,My=null,bo=0,ld=null;function Kn(){return(Je&2)!==0&&Pe!==0?Pe&-Pe:q.T!==null?dd():Os()}function Vy(){if(Fn===0)if((Pe&536870912)===0||Fe){var t=yt;yt<<=1,(yt&3932160)===0&&(yt=262144),Fn=t}else Fn=536870912;return t=Hn.current,t!==null&&(t.flags|=32),Fn}function On(t,n,r){(t===ct&&(nt===2||nt===9)||t.cancelPendingCommit!==null)&&(Ja(t,0),nr(t,Pe,Fn,!1)),jn(t,r),((Je&2)===0||t!==ct)&&(t===ct&&((Je&2)===0&&(ra|=r),It===4&&nr(t,Pe,Fn,!1)),qi(t))}function ky(t,n,r){if((Je&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||he(t,n),h=l?qT(t,n):ud(t,n,!0),f=l;do{if(h===0){Xa&&!l&&nr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!BT(r)){h=ud(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var b=t;h=Eo;var R=b.current.memoizedState.isDehydrated;if(R&&(Ja(b,p).flags|=256),p=ud(b,p,!1),p!==2){if(nd&&!R){b.errorRecoveryDisabledLanes|=f,ra|=f,h=4;break e}f=Dn,Dn=h,f!==null&&(Dn===null?Dn=f:Dn.push.apply(Dn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Ja(t,0),nr(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:nr(l,n,Fn,!Js);break e;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=uc+300-rn(),10<h)){if(nr(l,n,Fn,!Js),Oe(l,0,!0)!==0)break e;_s=n,l.timeoutHandle=f0(jy.bind(null,l,r,Dn,hc,sd,n,Fn,ra,$a,Js,f,"Throttled",-0,0),h);break e}jy(l,r,Dn,hc,sd,n,Fn,ra,$a,Js,f,null,-0,0)}}break}while(!0);qi(t)}function jy(t,n,r,l,h,f,p,b,R,P,G,Y,z,H){if(t.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fi},Cy(n,f,Y);var ce=(f&62914560)===f?uc-rn():(f&4194048)===f?Oy-rn():0;if(ce=w1(Y,ce),ce!==null){_s=f,t.cancelPendingCommit=ce(Gy.bind(null,t,n,f,r,l,h,p,b,R,G,Y,null,z,H)),nr(t,f,p,!P);return}}Gy(t,n,f,r,l,h,p,b,R)}function BT(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!zn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function nr(t,n,r,l){n&=~id,n&=~ra,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-Te(h),p=1<<f;l[f]=-1,h&=~p}r!==0&&Zt(t,r,n)}function fc(){return(Je&6)===0?(To(0),!1):!0}function od(){if(je!==null){if(nt===0)var t=je.return;else t=je,ls=$r=null,Af(t),Ha=null,io=0,t=je;for(;t!==null;)dy(t.alternate,t),t=t.return;je=null}}function Ja(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,l1(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),_s=0,od(),ct=t,je=r=rs(t.current,null),Pe=n,nt=0,Gn=null,Js=!1,Xa=he(t,n),nd=!1,$a=Fn=id=ra=Zs=It=0,Dn=Eo=null,sd=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-Te(l),f=1<<h;n|=t[h],l&=~f}return ys=n,Mu(),r}function Uy(t,n){Ne=null,q.H=ho,n===Ba||n===Bu?(n=Zg(),nt=3):n===ff?(n=Zg(),nt=4):nt=n===zf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Gn=n,je===null&&(It=1,tc(t,ti(n,t.current)))}function Ly(){var t=Hn.current;return t===null?!0:(Pe&4194048)===Pe?ri===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?t===ri:!1}function Py(){var t=q.H;return q.H=ho,t===null?ho:t}function zy(){var t=q.A;return q.A=PT,t}function dc(){It=4,Js||(Pe&4194048)!==Pe&&Hn.current!==null||(Xa=!0),(Zs&134217727)===0&&(ra&134217727)===0||ct===null||nr(ct,Pe,Fn,!1)}function ud(t,n,r){var l=Je;Je|=2;var h=Py(),f=zy();(ct!==t||Pe!==n)&&(hc=null,Ja(t,n)),n=!1;var p=It;e:do try{if(nt!==0&&je!==null){var b=je,R=Gn;switch(nt){case 8:od(),p=6;break e;case 3:case 2:case 9:case 6:Hn.current===null&&(n=!0);var P=nt;if(nt=0,Gn=null,Za(t,b,R,P),r&&Xa){p=0;break e}break;default:P=nt,nt=0,Gn=null,Za(t,b,R,P)}}HT(),p=It;break}catch(G){Uy(t,G)}while(!0);return n&&t.shellSuspendCounter++,ls=$r=null,Je=l,q.H=h,q.A=f,je===null&&(ct=null,Pe=0,Mu()),p}function HT(){for(;je!==null;)By(je)}function qT(t,n){var r=Je;Je|=2;var l=Py(),h=zy();ct!==t||Pe!==n?(hc=null,cc=rn()+500,Ja(t,n)):Xa=he(t,n);e:do try{if(nt!==0&&je!==null){n=je;var f=Gn;t:switch(nt){case 1:nt=0,Gn=null,Za(t,n,f,1);break;case 2:case 9:if(Wg(f)){nt=0,Gn=null,Hy(n);break}n=function(){nt!==2&&nt!==9||ct!==t||(nt=7),qi(t)},f.then(n,n);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:Wg(f)?(nt=0,Gn=null,Hy(n)):(nt=0,Gn=null,Za(t,n,f,7));break;case 5:var p=null;switch(je.tag){case 26:p=je.memoizedState;case 5:case 27:var b=je;if(p?R0(p):b.stateNode.complete){nt=0,Gn=null;var R=b.sibling;if(R!==null)je=R;else{var P=b.return;P!==null?(je=P,mc(P)):je=null}break t}}nt=0,Gn=null,Za(t,n,f,5);break;case 6:nt=0,Gn=null,Za(t,n,f,6);break;case 8:od(),It=6;break e;default:throw Error(a(462))}}GT();break}catch(G){Uy(t,G)}while(!0);return ls=$r=null,q.H=l,q.A=h,Je=r,je!==null?0:(ct=null,Pe=0,Mu(),It)}function GT(){for(;je!==null&&!Ol();)By(je)}function By(t){var n=hy(t.alternate,t,ys);t.memoizedProps=t.pendingProps,n===null?mc(t):je=n}function Hy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=ry(r,n,n.pendingProps,n.type,void 0,Pe);break;case 11:n=ry(r,n,n.pendingProps,n.type.render,n.ref,Pe);break;case 5:Af(n);default:dy(r,n),n=je=zg(n,ys),n=hy(r,n,ys)}t.memoizedProps=t.pendingProps,n===null?mc(t):je=n}function Za(t,n,r,l){ls=$r=null,Af(n),Ha=null,io=0;var h=n.return;try{if(OT(t,h,n,r,Pe)){It=1,tc(t,ti(r,t.current)),je=null;return}}catch(f){if(h!==null)throw je=h,f;It=1,tc(t,ti(r,t.current)),je=null;return}n.flags&32768?(Fe||l===1?t=!0:Xa||(Pe&536870912)!==0?t=!1:(Js=t=!0,(l===2||l===9||l===3||l===6)&&(l=Hn.current,l!==null&&l.tag===13&&(l.flags|=16384))),qy(n,t)):mc(n)}function mc(t){var n=t;do{if((n.flags&32768)!==0){qy(n,Js);return}t=n.return;var r=kT(n.alternate,n,ys);if(r!==null){je=r;return}if(n=n.sibling,n!==null){je=n;return}je=n=t}while(n!==null);It===0&&(It=5)}function qy(t,n){do{var r=jT(t.alternate,t);if(r!==null){r.flags&=32767,je=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){je=t;return}je=t=r}while(t!==null);It=6,je=null}function Gy(t,n,r,l,h,f,p,b,R){t.cancelPendingCommit=null;do gc();while(Yt!==0);if((Je&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=$h,ts(t,r,f,p,b,R),t===ct&&(je=ct=null,Pe=0),Wa=n,tr=t,_s=r,rd=f,ad=h,My=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,YT(xi,function(){return Xy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,h=Z.p,Z.p=2,p=Je,Je|=4;try{UT(t,n,r)}finally{Je=p,Z.p=h,q.T=l}}Yt=1,Fy(),Ky(),Qy()}}function Fy(){if(Yt===1){Yt=0;var t=tr,n=Wa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=q.T,q.T=null;var l=Z.p;Z.p=2;var h=Je;Je|=4;try{wy(n,t);var f=bd,p=Dg(t.containerInfo),b=f.focusedElem,R=f.selectionRange;if(p!==b&&b&&b.ownerDocument&&Ng(b.ownerDocument.documentElement,b)){if(R!==null&&Fh(b)){var P=R.start,G=R.end;if(G===void 0&&(G=P),"selectionStart"in b)b.selectionStart=P,b.selectionEnd=Math.min(G,b.value.length);else{var Y=b.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var H=z.getSelection(),ce=b.textContent.length,ve=Math.min(R.start,ce),ot=R.end===void 0?ve:Math.min(R.end,ce);!H.extend&&ve>ot&&(p=ot,ot=ve,ve=p);var k=Ig(b,ve),N=Ig(b,ot);if(k&&N&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==N.node||H.focusOffset!==N.offset)){var L=Y.createRange();L.setStart(k.node,k.offset),H.removeAllRanges(),ve>ot?(H.addRange(L),H.extend(N.node,N.offset)):(L.setEnd(N.node,N.offset),H.addRange(L))}}}}for(Y=[],H=b;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Y.length;b++){var K=Y[b];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Rc=!!Ed,bd=Ed=null}finally{Je=h,Z.p=l,q.T=r}}t.current=n,Yt=2}}function Ky(){if(Yt===2){Yt=0;var t=tr,n=Wa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=q.T,q.T=null;var l=Z.p;Z.p=2;var h=Je;Je|=4;try{Ey(t,n.alternate,n)}finally{Je=h,Z.p=l,q.T=r}}Yt=3}}function Qy(){if(Yt===4||Yt===3){Yt=0,pa();var t=tr,n=Wa,r=_s,l=My;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Yt=5:(Yt=0,Wa=tr=null,Yy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(er=null),Un(r),n=n.stateNode,ie&&typeof ie.onCommitFiberRoot=="function")try{ie.onCommitFiberRoot(J,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=q.T,h=Z.p,Z.p=2,q.T=null;try{for(var f=t.onRecoverableError,p=0;p<l.length;p++){var b=l[p];f(b.value,{componentStack:b.stack})}}finally{q.T=n,Z.p=h}}(_s&3)!==0&&gc(),qi(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===ld?bo++:(bo=0,ld=t):bo=0,To(0)}}function Yy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,to(n)))}function gc(){return Fy(),Ky(),Qy(),Xy()}function Xy(){if(Yt!==5)return!1;var t=tr,n=rd;rd=0;var r=Un(_s),l=q.T,h=Z.p;try{Z.p=32>r?32:r,q.T=null,r=ad,ad=null;var f=tr,p=_s;if(Yt=0,Wa=tr=null,_s=0,(Je&6)!==0)throw Error(a(331));var b=Je;if(Je|=4,Ny(f.current),Ry(f,f.current,p,r),Je=b,To(0,!1),ie&&typeof ie.onPostCommitFiberRoot=="function")try{ie.onPostCommitFiberRoot(J,f)}catch{}return!0}finally{Z.p=h,q.T=l,Yy(t,n)}}function $y(t,n,r){n=ti(r,n),n=Pf(t.stateNode,n,2),t=Ys(t,n,2),t!==null&&(jn(t,2),qi(t))}function it(t,n,r){if(t.tag===3)$y(t,t,r);else for(;n!==null;){if(n.tag===3){$y(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(er===null||!er.has(l))){t=ti(r,t),r=Wp(2),l=Ys(n,r,2),l!==null&&(Jp(r,l,n,t),jn(l,2),qi(l));break}}n=n.return}}function cd(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new zT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(nd=!0,h.add(r),t=FT.bind(null,t,n,r),n.then(t,t))}function FT(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,ct===t&&(Pe&r)===r&&(It===4||It===3&&(Pe&62914560)===Pe&&300>rn()-uc?(Je&2)===0&&Ja(t,0):id|=r,$a===Pe&&($a=0)),qi(t)}function Wy(t,n){n===0&&(n=Nt()),t=Qr(t,n),t!==null&&(jn(t,n),qi(t))}function KT(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Wy(t,r)}function QT(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Wy(t,r)}function YT(t,n){return St(t,n)}var pc=null,el=null,hd=!1,yc=!1,fd=!1,ir=0;function qi(t){t!==el&&t.next===null&&(el===null?pc=el=t:el=el.next=t),yc=!0,hd||(hd=!0,$T())}function To(t,n){if(!fd&&yc){fd=!0;do for(var r=!1,l=pc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,b=l.pingedLanes;f=(1<<31-Te(42|t)+1)-1,f&=h&~(p&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,t0(l,f))}else f=Pe,f=Oe(l,l===ct?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||he(l,f)||(r=!0,t0(l,f));l=l.next}while(r);fd=!1}}function XT(){Jy()}function Jy(){yc=hd=!1;var t=0;ir!==0&&a1()&&(t=ir);for(var n=rn(),r=null,l=pc;l!==null;){var h=l.next,f=Zy(l,n);f===0?(l.next=null,r===null?pc=h:r.next=h,h===null&&(el=r)):(r=l,(t!==0||(f&3)!==0)&&(yc=!0)),l=h}Yt!==0&&Yt!==5||To(t),ir!==0&&(ir=0)}function Zy(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-Te(f),b=1<<p,R=h[p];R===-1?((b&r)===0||(b&l)!==0)&&(h[p]=Qt(b,n)):R<=n&&(t.expiredLanes|=b),f&=~b}if(n=ct,r=Pe,r=Oe(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(nt===2||nt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Xn(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||he(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Xn(l),Un(r)){case 2:case 8:r=Vr;break;case 32:r=xi;break;case 268435456:r=ya;break;default:r=xi}return l=e0.bind(null,t),r=St(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Xn(l),t.callbackPriority=2,t.callbackNode=null,2}function e0(t,n){if(Yt!==0&&Yt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(gc()&&t.callbackNode!==r)return null;var l=Pe;return l=Oe(t,t===ct?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(ky(t,l,n),Zy(t,rn()),t.callbackNode!=null&&t.callbackNode===r?e0.bind(null,t):null)}function t0(t,n){if(gc())return null;ky(t,n,!0)}function $T(){o1(function(){(Je&6)!==0?St(Mr,XT):Jy()})}function dd(){if(ir===0){var t=Pa;t===0&&(t=ft,ft<<=1,(ft&261888)===0&&(ft=256)),ir=t}return ir}function n0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Aa(""+t)}function i0(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function WT(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=n0((h[en]||null).action),p=l.submitter;p&&(n=(n=p[en]||null)?n0(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var b=new ji("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ir!==0){var R=p?i0(h,p):new FormData(h);Mf(r,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(b.preventDefault(),R=p?i0(h,p):new FormData(h),Mf(r,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var md=0;md<Xh.length;md++){var gd=Xh[md],JT=gd.toLowerCase(),ZT=gd[0].toUpperCase()+gd.slice(1);yi(JT,"on"+ZT)}yi(Vg,"onAnimationEnd"),yi(kg,"onAnimationIteration"),yi(jg,"onAnimationStart"),yi("dblclick","onDoubleClick"),yi("focusin","onFocus"),yi("focusout","onBlur"),yi(gT,"onTransitionRun"),yi(pT,"onTransitionStart"),yi(yT,"onTransitionCancel"),yi(Ug,"onTransitionEnd"),Oi("onMouseEnter",["mouseout","mouseover"]),Oi("onMouseLeave",["mouseout","mouseover"]),Oi("onPointerEnter",["pointerout","pointerover"]),Oi("onPointerLeave",["pointerout","pointerover"]),Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Di("onBeforeInput",["compositionend","keypress","textInput","paste"]),Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var So="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(So));function s0(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var b=l[p],R=b.instance,P=b.currentTarget;if(b=b.listener,R!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=P;try{f(h)}catch(G){Ou(G)}h.currentTarget=null,f=R}else for(p=0;p<l.length;p++){if(b=l[p],R=b.instance,P=b.currentTarget,b=b.listener,R!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=P;try{f(h)}catch(G){Ou(G)}h.currentTarget=null,f=R}}}}function Ue(t,n){var r=n[va];r===void 0&&(r=n[va]=new Set);var l=t+"__bubble";r.has(l)||(r0(n,t,2,!1),r.add(l))}function pd(t,n,r){var l=0;n&&(l|=4),r0(r,t,l,n)}var _c="_reactListening"+Math.random().toString(36).slice(2);function yd(t){if(!t[_c]){t[_c]=!0,Vl.forEach(function(r){r!=="selectionchange"&&(e1.has(r)||pd(r,!1,t),pd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[_c]||(n[_c]=!0,pd("selectionchange",!1,n))}}function r0(t,n,r,l){switch(V0(n)){case 2:var h=C1;break;case 8:h=I1;break;default:h=Od}r=h.bind(null,n,r,t),h=void 0,!Pr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function _d(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var b=l.stateNode.containerInfo;if(b===h)break;if(p===4)for(p=l.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;b!==null;){if(p=Ii(b),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){l=f=p;continue e}b=b.parentNode}}l=l.return}Ls(function(){var P=f,G=Wn(r),Y=[];e:{var z=Lg.get(t);if(z!==void 0){var H=ji,ce=t;switch(t){case"keypress":if(Br(r)===0)break e;case"keydown":case"keyup":H=Iu;break;case"focusin":ce="focus",H=qr;break;case"focusout":ce="blur",H=qr;break;case"beforeblur":case"afterblur":H=qr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Ql;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=g;break;case Vg:case kg:case jg:H=Tu;break;case Ug:H=T;break;case"scroll":case"scrollend":H=Kl;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=Su;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=ss;break;case"toggle":case"beforetoggle":H=Ie}var ve=(n&4)!==0,ot=!ve&&(t==="scroll"||t==="scrollend"),k=ve?z!==null?z+"Capture":null:z;ve=[];for(var N=P,L;N!==null;){var K=N;if(L=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||L===null||k===null||(K=di(N,k),K!=null&&ve.push(Ao(N,K,L))),ot)break;N=N.return}0<ve.length&&(z=new H(z,ce,null,r,G),Y.push({event:z,listeners:ve}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",z&&r!==ql&&(ce=r.relatedTarget||r.fromElement)&&(Ii(ce)||ce[Ri]))break e;if((H||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,H?(ce=r.relatedTarget||r.toElement,H=P,ce=ce?Ii(ce):null,ce!==null&&(ot=c(ce),ve=ce.tag,ce!==ot||ve!==5&&ve!==27&&ve!==6)&&(ce=null)):(H=null,ce=P),H!==ce)){if(ve=Ql,K="onMouseLeave",k="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(ve=ss,K="onPointerLeave",k="onPointerEnter",N="pointer"),ot=H==null?z:Ln(H),L=ce==null?z:Ln(ce),z=new ve(K,N+"leave",H,r,G),z.target=ot,z.relatedTarget=L,K=null,Ii(G)===P&&(ve=new ve(k,N+"enter",ce,r,G),ve.target=L,ve.relatedTarget=ot,K=ve),ot=K,H&&ce)t:{for(ve=t1,k=H,N=ce,L=0,K=k;K;K=ve(K))L++;K=0;for(var pe=N;pe;pe=ve(pe))K++;for(;0<L-K;)k=ve(k),L--;for(;0<K-L;)N=ve(N),K--;for(;L--;){if(k===N||N!==null&&k===N.alternate){ve=k;break t}k=ve(k),N=ve(N)}ve=null}else ve=null;H!==null&&a0(Y,z,H,ve,!1),ce!==null&&ot!==null&&a0(Y,ot,ce,ve,!0)}}e:{if(z=P?Ln(P):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var Ye=Sg;else if(bg(z))if(Ag)Ye=fT;else{Ye=cT;var fe=uT}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&Sa(P.elementType)&&(Ye=Sg):Ye=hT;if(Ye&&(Ye=Ye(t,P))){Tg(Y,Ye,r,G);break e}fe&&fe(t,z,P),t==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&zl(z,"number",z.value)}switch(fe=P?Ln(P):window,t){case"focusin":(bg(fe)||fe.contentEditable==="true")&&(Da=fe,Kh=P,Jl=null);break;case"focusout":Jl=Kh=Da=null;break;case"mousedown":Qh=!0;break;case"contextmenu":case"mouseup":case"dragend":Qh=!1,Og(Y,r,G);break;case"selectionchange":if(mT)break;case"keydown":case"keyup":Og(Y,r,G)}var Me;if(We)e:{switch(t){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else Na?Gr(t,r)&&(ze="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ze="onCompositionStart");ze&&(Pi&&r.locale!=="ko"&&(Na||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&Na&&(Me=Fl()):(ki=G,Gl="value"in ki?ki.value:ki.textContent,Na=!0)),fe=vc(P,ze),0<fe.length&&(ze=new Li(ze,t,null,r,G),Y.push({event:ze,listeners:fe}),Me?ze.data=Me:(Me=Ia(r),Me!==null&&(ze.data=Me)))),(Me=Zn?rT(t,r):aT(t,r))&&(ze=vc(P,"onBeforeInput"),0<ze.length&&(fe=new Li("onBeforeInput","beforeinput",null,r,G),Y.push({event:fe,listeners:ze}),fe.data=Me)),WT(Y,t,P,r,G)}s0(Y,n)})}function Ao(t,n,r){return{instance:t,listener:n,currentTarget:r}}function vc(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=di(t,r),h!=null&&l.unshift(Ao(t,h,f)),h=di(t,n),h!=null&&l.push(Ao(t,h,f))),t.tag===3)return l;t=t.return}return[]}function t1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function a0(t,n,r,l,h){for(var f=n._reactName,p=[];r!==null&&r!==l;){var b=r,R=b.alternate,P=b.stateNode;if(b=b.tag,R!==null&&R===l)break;b!==5&&b!==26&&b!==27||P===null||(R=P,h?(P=di(r,f),P!=null&&p.unshift(Ao(r,P,R))):h||(P=di(r,f),P!=null&&p.push(Ao(r,P,R)))),r=r.return}p.length!==0&&t.push({event:n,listeners:p})}var n1=/\r\n?/g,i1=/\u0000|\uFFFD/g;function l0(t){return(typeof t=="string"?t:""+t).replace(n1,`
`).replace(i1,"")}function o0(t,n){return n=l0(n),l0(t)===n}function lt(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Rn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Rn(t,""+l);break;case"className":Pn(t,"class",l);break;case"tabIndex":Pn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(t,r,l);break;case"style":Hl(t,l,f);break;case"data":if(n!=="object"){Pn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Aa(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&lt(t,n,"name",h.name,h,null),lt(t,n,"formEncType",h.formEncType,h,null),lt(t,n,"formMethod",h.formMethod,h,null),lt(t,n,"formTarget",h.formTarget,h,null)):(lt(t,n,"encType",h.encType,h,null),lt(t,n,"method",h.method,h,null),lt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Aa(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=fi);break;case"onScroll":l!=null&&Ue("scroll",t);break;case"onScrollEnd":l!=null&&Ue("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Aa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Ue("beforetoggle",t),Ue("toggle",t),ba(t,"popover",l);break;case"xlinkActuate":Ut(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ut(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ut(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ut(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ut(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ut(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ba(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=vu.get(r)||r,ba(t,r,l))}}function vd(t,n,r,l,h,f){switch(r){case"style":Hl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?Rn(t,l):(typeof l=="number"||typeof l=="bigint")&&Rn(t,""+l);break;case"onScroll":l!=null&&Ue("scroll",t);break;case"onScrollEnd":l!=null&&Ue("scrollend",t);break;case"onClick":l!=null&&(t.onclick=fi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kl.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[en]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):ba(t,r,l)}}}function cn(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",t),Ue("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:lt(t,n,f,p,r,null)}}h&&lt(t,n,"srcSet",r.srcSet,r,null),l&&lt(t,n,"src",r.src,r,null);return;case"input":Ue("invalid",t);var b=f=p=h=null,R=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var G=r[l];if(G!=null)switch(l){case"name":h=G;break;case"type":p=G;break;case"checked":R=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":b=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:lt(t,n,l,G,r,null)}}pu(t,f,b,R,P,p,h,!1);return;case"select":Ue("invalid",t),l=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(b=r[h],b!=null))switch(h){case"value":f=b;break;case"defaultValue":p=b;break;case"multiple":l=b;default:lt(t,n,h,b,r,null)}n=f,r=p,t.multiple=!!l,n!=null?Vs(t,!!l,n,!1):r!=null&&Vs(t,!!l,r,!0);return;case"textarea":Ue("invalid",t),f=h=l=null;for(p in r)if(r.hasOwnProperty(p)&&(b=r[p],b!=null))switch(p){case"value":l=b;break;case"defaultValue":h=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:lt(t,n,p,b,r,null)}ks(t,l,h,f);return;case"option":for(R in r)r.hasOwnProperty(R)&&(l=r[R],l!=null)&&(R==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":lt(t,n,R,l,r,null));return;case"dialog":Ue("beforetoggle",t),Ue("toggle",t),Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":Ue("load",t);break;case"video":case"audio":for(l=0;l<So.length;l++)Ue(So[l],t);break;case"image":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"embed":case"source":case"link":Ue("error",t),Ue("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:lt(t,n,P,l,r,null)}return;default:if(Sa(n)){for(G in r)r.hasOwnProperty(G)&&(l=r[G],l!==void 0&&vd(t,n,G,l,r,void 0));return}}for(b in r)r.hasOwnProperty(b)&&(l=r[b],l!=null&&lt(t,n,b,l,r,null))}function s1(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,b=null,R=null,P=null,G=null;for(H in r){var Y=r[H];if(r.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":R=Y;default:l.hasOwnProperty(H)||lt(t,n,H,null,l,Y)}}for(var z in l){var H=l[z];if(Y=r[z],l.hasOwnProperty(z)&&(H!=null||Y!=null))switch(z){case"type":f=H;break;case"name":h=H;break;case"checked":P=H;break;case"defaultChecked":G=H;break;case"value":p=H;break;case"defaultValue":b=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==Y&&lt(t,n,z,H,l,Y)}}Ta(t,p,b,R,P,G,f,h);return;case"select":H=p=b=z=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":H=R;default:l.hasOwnProperty(f)||lt(t,n,f,null,l,R)}for(h in l)if(f=l[h],R=r[h],l.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":b=f;break;case"multiple":p=f;default:f!==R&&lt(t,n,h,f,l,R)}n=b,r=p,l=H,z!=null?Vs(t,!!r,z,!1):!!l!=!!r&&(n!=null?Vs(t,!!r,n,!0):Vs(t,!!r,r?[]:"",!1));return;case"textarea":H=z=null;for(b in r)if(h=r[b],r.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:lt(t,n,b,null,l,h)}for(p in l)if(h=l[p],f=r[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&lt(t,n,p,h,l,f)}yu(t,z,H);return;case"option":for(var ce in r)z=r[ce],r.hasOwnProperty(ce)&&z!=null&&!l.hasOwnProperty(ce)&&(ce==="selected"?t.selected=!1:lt(t,n,ce,null,l,z));for(R in l)z=l[R],H=r[R],l.hasOwnProperty(R)&&z!==H&&(z!=null||H!=null)&&(R==="selected"?t.selected=z&&typeof z!="function"&&typeof z!="symbol":lt(t,n,R,z,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in r)z=r[ve],r.hasOwnProperty(ve)&&z!=null&&!l.hasOwnProperty(ve)&&lt(t,n,ve,null,l,z);for(P in l)if(z=l[P],H=r[P],l.hasOwnProperty(P)&&z!==H&&(z!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:lt(t,n,P,z,l,H)}return;default:if(Sa(n)){for(var ot in r)z=r[ot],r.hasOwnProperty(ot)&&z!==void 0&&!l.hasOwnProperty(ot)&&vd(t,n,ot,void 0,l,z);for(G in l)z=l[G],H=r[G],!l.hasOwnProperty(G)||z===H||z===void 0&&H===void 0||vd(t,n,G,z,l,H);return}}for(var k in r)z=r[k],r.hasOwnProperty(k)&&z!=null&&!l.hasOwnProperty(k)&&lt(t,n,k,null,l,z);for(Y in l)z=l[Y],H=r[Y],!l.hasOwnProperty(Y)||z===H||z==null&&H==null||lt(t,n,Y,z,l,H)}function u0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function r1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,p=h.initiatorType,b=h.duration;if(f&&b&&u0(p)){for(p=0,b=h.responseEnd,l+=1;l<r.length;l++){var R=r[l],P=R.startTime;if(P>b)break;var G=R.transferSize,Y=R.initiatorType;G&&u0(Y)&&(R=R.responseEnd,p+=G*(R<b?1:(b-P)/(R-P)))}if(--l,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ed=null,bd=null;function Ec(t){return t.nodeType===9?t:t.ownerDocument}function c0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function h0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Td(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Sd=null;function a1(){var t=window.event;return t&&t.type==="popstate"?t===Sd?!1:(Sd=t,!0):(Sd=null,!1)}var f0=typeof setTimeout=="function"?setTimeout:void 0,l1=typeof clearTimeout=="function"?clearTimeout:void 0,d0=typeof Promise=="function"?Promise:void 0,o1=typeof queueMicrotask=="function"?queueMicrotask:typeof d0<"u"?function(t){return d0.resolve(null).then(t).catch(u1)}:f0;function u1(t){setTimeout(function(){throw t})}function sr(t){return t==="head"}function m0(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),sl(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")wo(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,wo(r);for(var f=r.firstChild;f;){var p=f.nextSibling,b=f.nodeName;f[Ci]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&wo(t.ownerDocument.body);r=h}while(r);sl(n)}function g0(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function Ad(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Ad(r),Ea(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function c1(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ci])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ai(t.nextSibling),t===null)break}return null}function h1(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=ai(t.nextSibling),t===null))return null;return t}function p0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ai(t.nextSibling),t===null))return null;return t}function wd(t){return t.data==="$?"||t.data==="$~"}function xd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function f1(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ai(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Rd=null;function y0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return ai(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function _0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function v0(t,n,r){switch(n=Ec(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function wo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ea(t)}var li=new Map,E0=new Set;function bc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var vs=Z.d;Z.d={f:d1,r:m1,D:g1,C:p1,L:y1,m:_1,X:E1,S:v1,M:b1};function d1(){var t=vs.f(),n=fc();return t||n}function m1(t){var n=$n(t);n!==null&&n.tag===5&&n.type==="form"?Up(n):vs.r(t)}var tl=typeof document>"u"?null:document;function b0(t,n,r){var l=tl;if(l&&typeof n=="string"&&n){var h=xn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),E0.has(h)||(E0.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),cn(n,"link",t),jt(n),l.head.appendChild(n)))}}function g1(t){vs.D(t),b0("dns-prefetch",t,null)}function p1(t,n){vs.C(t,n),b0("preconnect",t,n)}function y1(t,n,r){vs.L(t,n,r);var l=tl;if(l&&t&&n){var h='link[rel="preload"][as="'+xn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+xn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+xn(r.imageSizes)+'"]')):h+='[href="'+xn(t)+'"]';var f=h;switch(n){case"style":f=nl(t);break;case"script":f=il(t)}li.has(f)||(t=w({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),li.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(xo(f))||n==="script"&&l.querySelector(Ro(f))||(n=l.createElement("link"),cn(n,"link",t),jt(n),l.head.appendChild(n)))}}function _1(t,n){vs.m(t,n);var r=tl;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+xn(l)+'"][href="'+xn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=il(t)}if(!li.has(f)&&(t=w({rel:"modulepreload",href:t},n),li.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ro(f)))return}l=r.createElement("link"),cn(l,"link",t),jt(l),r.head.appendChild(l)}}}function v1(t,n,r){vs.S(t,n,r);var l=tl;if(l&&t){var h=Ni(l).hoistableStyles,f=nl(t);n=n||"default";var p=h.get(f);if(!p){var b={loading:0,preload:null};if(p=l.querySelector(xo(f)))b.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},r),(r=li.get(f))&&Cd(t,r);var R=p=l.createElement("link");jt(R),cn(R,"link",t),R._p=new Promise(function(P,G){R.onload=P,R.onerror=G}),R.addEventListener("load",function(){b.loading|=1}),R.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Tc(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:b},h.set(f,p)}}}function E1(t,n){vs.X(t,n);var r=tl;if(r&&t){var l=Ni(r).hoistableScripts,h=il(t),f=l.get(h);f||(f=r.querySelector(Ro(h)),f||(t=w({src:t,async:!0},n),(n=li.get(h))&&Id(t,n),f=r.createElement("script"),jt(f),cn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function b1(t,n){vs.M(t,n);var r=tl;if(r&&t){var l=Ni(r).hoistableScripts,h=il(t),f=l.get(h);f||(f=r.querySelector(Ro(h)),f||(t=w({src:t,async:!0,type:"module"},n),(n=li.get(h))&&Id(t,n),f=r.createElement("script"),jt(f),cn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function T0(t,n,r,l){var h=(h=Ae.current)?bc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=nl(r.href),r=Ni(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=nl(r.href);var f=Ni(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(xo(t)))&&!f._p&&(p.instance=f,p.state.loading=5),li.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},li.set(t,r),f||T1(h,t,r,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=il(r),r=Ni(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function nl(t){return'href="'+xn(t)+'"'}function xo(t){return'link[rel="stylesheet"]['+t+"]"}function S0(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function T1(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),cn(n,"link",r),jt(n),t.head.appendChild(n))}function il(t){return'[src="'+xn(t)+'"]'}function Ro(t){return"script[async]"+t}function A0(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+xn(r.href)+'"]');if(l)return n.instance=l,jt(l),l;var h=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),jt(l),cn(l,"style",h),Tc(l,r.precedence,t),n.instance=l;case"stylesheet":h=nl(r.href);var f=t.querySelector(xo(h));if(f)return n.state.loading|=4,n.instance=f,jt(f),f;l=S0(r),(h=li.get(h))&&Cd(l,h),f=(t.ownerDocument||t).createElement("link"),jt(f);var p=f;return p._p=new Promise(function(b,R){p.onload=b,p.onerror=R}),cn(f,"link",l),n.state.loading|=4,Tc(f,r.precedence,t),n.instance=f;case"script":return f=il(r.src),(h=t.querySelector(Ro(f)))?(n.instance=h,jt(h),h):(l=r,(h=li.get(f))&&(l=w({},r),Id(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),jt(h),cn(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Tc(l,r.precedence,t));return n.instance}function Tc(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var b=l[p];if(b.dataset.precedence===n)f=b;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Cd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Id(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Sc=null;function w0(t,n,r){if(Sc===null){var l=new Map,h=Sc=new Map;h.set(r,l)}else h=Sc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[Ci]||f[kt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var b=l.get(p);b?b.push(f):l.set(p,[f])}}return l}function x0(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function S1(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function R0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function A1(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=nl(l.href),f=n.querySelector(xo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Ac.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,jt(f);return}f=n.ownerDocument||n,l=S0(l),(h=li.get(h))&&Cd(l,h),f=f.createElement("link"),jt(f);var p=f;p._p=new Promise(function(b,R){p.onload=b,p.onerror=R}),cn(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Ac.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Nd=0;function w1(t,n){return t.stylesheets&&t.count===0&&xc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&xc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Nd===0&&(Nd=62500*r1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&xc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Nd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Ac(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var wc=null;function xc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,wc=new Map,n.forEach(x1,t),wc=null,Ac.call(t))}function x1(t,n){if(!(n.state.loading&4)){var r=wc.get(t);if(r)var l=r.get(null);else{r=new Map,wc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),l=p)}l&&r.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||l,f===l&&r.set(null,h),r.set(p,h),this.count++,l=Ac.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Co={$$typeof:xe,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function R1(t,n,r,l,h,f,p,b,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dt(0),this.hiddenUpdates=dt(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function C0(t,n,r,l,h,f,p,b,R,P,G,Y){return t=new R1(t,n,r,p,R,P,G,Y,b),n=1,f===!0&&(n|=24),f=Bn(3,null,null,n),t.current=f,f.stateNode=t,n=uf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},df(f),t}function I0(t){return t?(t=Va,t):Va}function N0(t,n,r,l,h,f){h=I0(h),l.context===null?l.context=h:l.pendingContext=h,l=Qs(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Ys(t,l,n),r!==null&&(On(r,t,n),ro(r,t,n))}function D0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Dd(t,n){D0(t,n),(t=t.alternate)&&D0(t,n)}function O0(t){if(t.tag===13||t.tag===31){var n=Qr(t,67108864);n!==null&&On(n,t,67108864),Dd(t,67108864)}}function M0(t){if(t.tag===13||t.tag===31){var n=Kn();n=ci(n);var r=Qr(t,n);r!==null&&On(r,t,n),Dd(t,n)}}var Rc=!0;function C1(t,n,r,l){var h=q.T;q.T=null;var f=Z.p;try{Z.p=2,Od(t,n,r,l)}finally{Z.p=f,q.T=h}}function I1(t,n,r,l){var h=q.T;q.T=null;var f=Z.p;try{Z.p=8,Od(t,n,r,l)}finally{Z.p=f,q.T=h}}function Od(t,n,r,l){if(Rc){var h=Md(l);if(h===null)_d(t,n,l,Cc,r),k0(t,l);else if(D1(h,t,n,r,l))l.stopPropagation();else if(k0(t,l),n&4&&-1<N1.indexOf(t)){for(;h!==null;){var f=$n(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=ue(f.pendingLanes);if(p!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;p;){var R=1<<31-Te(p);b.entanglements[1]|=R,p&=~R}qi(f),(Je&6)===0&&(cc=rn()+500,To(0))}}break;case 31:case 13:b=Qr(f,2),b!==null&&On(b,f,2),fc(),Dd(f,2)}if(f=Md(l),f===null&&_d(t,n,l,Cc,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else _d(t,n,l,null,r)}}function Md(t){return t=Wn(t),Vd(t)}var Cc=null;function Vd(t){if(Cc=null,t=Ii(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=y(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Cc=t,null}function V0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(es()){case Mr:return 2;case Vr:return 8;case xi:case Ml:return 32;case ya:return 268435456;default:return 32}default:return 32}}var kd=!1,rr=null,ar=null,lr=null,Io=new Map,No=new Map,or=[],N1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function k0(t,n){switch(t){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":Io.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":No.delete(n.pointerId)}}function Do(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=$n(n),n!==null&&O0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function D1(t,n,r,l,h){switch(n){case"focusin":return rr=Do(rr,t,n,r,l,h),!0;case"dragenter":return ar=Do(ar,t,n,r,l,h),!0;case"mouseover":return lr=Do(lr,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return Io.set(f,Do(Io.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,No.set(f,Do(No.get(f)||null,t,n,r,l,h)),!0}return!1}function j0(t){var n=Ii(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,Tn(t.priority,function(){M0(r)});return}}else if(n===31){if(n=y(r),n!==null){t.blockedOn=n,Tn(t.priority,function(){M0(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ic(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Md(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);ql=l,r.target.dispatchEvent(l),ql=null}else return n=$n(r),n!==null&&O0(n),t.blockedOn=r,!1;n.shift()}return!0}function U0(t,n,r){Ic(t)&&r.delete(n)}function O1(){kd=!1,rr!==null&&Ic(rr)&&(rr=null),ar!==null&&Ic(ar)&&(ar=null),lr!==null&&Ic(lr)&&(lr=null),Io.forEach(U0),No.forEach(U0)}function Nc(t,n){t.blockedOn===n&&(t.blockedOn=null,kd||(kd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,O1)))}var Dc=null;function L0(t){Dc!==t&&(Dc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Dc===t&&(Dc=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Vd(l||r)===null)continue;break}var f=$n(r);f!==null&&(t.splice(n,3),n-=3,Mf(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function sl(t){function n(R){return Nc(R,t)}rr!==null&&Nc(rr,t),ar!==null&&Nc(ar,t),lr!==null&&Nc(lr,t),Io.forEach(n),No.forEach(n);for(var r=0;r<or.length;r++){var l=or[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<or.length&&(r=or[0],r.blockedOn===null);)j0(r),r.blockedOn===null&&or.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],p=h[en]||null;if(typeof f=="function")p||L0(r);else if(p){var b=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[en]||null)b=p.formAction;else if(Vd(h)!==null)continue}else b=p.action;typeof b=="function"?r[l+1]=b:(r.splice(l,3),l-=3),L0(r)}}}function P0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function jd(t){this._internalRoot=t}Oc.prototype.render=jd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Kn();N0(r,l,t,n,null,null)},Oc.prototype.unmount=jd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;N0(t.current,2,null,t,null,null),fc(),n[Ri]=null}};function Oc(t){this._internalRoot=t}Oc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Os();t={blockedOn:null,target:t,priority:n};for(var r=0;r<or.length&&n!==0&&n<or[r].priority;r++);or.splice(r,0,t),r===0&&j0(t)}};var z0=e.version;if(z0!=="19.2.3")throw Error(a(527,z0,"19.2.3"));Z.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var M1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mc.isDisabled&&Mc.supportsFiber)try{J=Mc.inject(M1),ie=Mc}catch{}}return Mo.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",h=Qp,f=Yp,p=Xp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=C0(t,1,!1,null,null,r,l,null,h,f,p,P0),t[Ri]=n.current,yd(t),new jd(n)},Mo.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,h="",f=Qp,p=Yp,b=Xp,R=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=C0(t,1,!0,n,r??null,l,h,R,f,p,b,P0),n.context=I0(null),r=n.current,l=Kn(),l=ci(l),h=Qs(l),h.callback=null,Ys(r,h,l),r=l,n.current.lanes=r,jn(n,r),qi(n),t[Ri]=n.current,yd(t),new Oc(n)},Mo.version="19.2.3",Mo}var $0;function F1(){if($0)return Pd.exports;$0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Pd.exports=G1(),Pd.exports}var K1=F1();const Q1=()=>{};var W0={};const Ov=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},Y1=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],y=s[i++],m=((o&7)<<18|(c&63)<<12|(d&63)<<6|y&63)-65536;e[a++]=String.fromCharCode(55296+(m>>10)),e[a++]=String.fromCharCode(56320+(m&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Mv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,y=d?s[o+1]:0,m=o+2<s.length,_=m?s[o+2]:0,S=c>>2,w=(c&3)<<4|y>>4;let M=(y&15)<<2|_>>6,F=_&63;m||(F=64,d||(M=64)),a.push(i[S],i[w],i[M],i[F])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Ov(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Y1(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],y=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const w=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||y==null||_==null||w==null)throw new X1;const M=c<<2|y>>4;if(a.push(M),_!==64){const F=y<<4&240|_>>2;if(a.push(F),w!==64){const te=_<<6&192|w;a.push(te)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class X1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $1=function(s){const e=Ov(s);return Mv.encodeByteArray(e,!0)},Zc=function(s){return $1(s).replace(/\./g,"")},Vv=function(s){try{return Mv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function W1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const J1=()=>W1().__FIREBASE_DEFAULTS__,Z1=()=>{if(typeof process>"u"||typeof W0>"u")return;const s=W0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},eS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Vv(s[1]);return e&&JSON.parse(e)},Th=()=>{try{return Q1()||J1()||Z1()||eS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},kv=s=>Th()?.emulatorHosts?.[s],tS=s=>{const e=kv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},jv=()=>Th()?.config,Uv=s=>Th()?.[`_${s}`];class nS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function wl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Lv(s){return(await fetch(s,{credentials:"include"})).ok}function iS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Zc(JSON.stringify(i)),Zc(JSON.stringify(d)),""].join(".")}const Po={};function sS(){const s={prod:[],emulator:[]};for(const e of Object.keys(Po))Po[e]?s.emulator.push(e):s.prod.push(e);return s}function rS(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let J0=!1;function Pv(s,e){if(typeof window>"u"||typeof document>"u"||!wl(window.location.host)||Po[s]===e||Po[s]||J0)return;Po[s]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=sS().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function y(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function m(M,F){M.setAttribute("width","24"),M.setAttribute("id",F),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{J0=!0,d()},M}function S(M,F){M.setAttribute("id",F),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function w(){const M=rS(a),F=i("text"),te=document.getElementById(F)||document.createElement("span"),re=i("learnmore"),se=document.getElementById(re)||document.createElement("a"),_e=i("preprendIcon"),De=document.getElementById(_e)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const xe=M.element;y(xe),S(se,re);const ut=_();m(De,_e),xe.append(De,te,se,ut),document.body.appendChild(xe)}c?(te.innerText="Preview backend disconnected.",De.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(De.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,te.innerText="Preview backend running in this workspace."),te.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function lS(){const s=Th()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function cS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hS(){const s=bn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function fS(){return!lS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dS(){try{return typeof indexedDB=="object"}catch{return!1}}function mS(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const gS="FirebaseError";class Is extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=gS,Object.setPrototypeOf(this,Is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eu.prototype.create)}}class eu{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?pS(c,a):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new Is(o,y,a)}}function pS(s,e){return s.replace(yS,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const yS=/\{\$([^}]+)}/g;function _S(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Tr(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=s[o],d=e[o];if(Z0(c)&&Z0(d)){if(!Tr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function Z0(s){return s!==null&&typeof s=="object"}function tu(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function vS(s,e){const i=new ES(s,e);return i.subscribe.bind(i)}class ES{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");bS(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=qd),o.error===void 0&&(o.error=qd),o.complete===void 0&&(o.complete=qd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function qd(){}function wn(s){return s&&s._delegate?s._delegate:s}class ua{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const aa="[DEFAULT]";class TS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new nS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AS(e))try{this.getOrInitializeService({instanceIdentifier:aa})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=aa){return this.instances.has(e)}getOptions(e=aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);a===y&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:SS(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=aa){return this.component?this.component.multipleInstances?e:aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SS(s){return s===aa?void 0:s}function AS(s){return s.instantiationMode==="EAGER"}class wS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new TS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Be;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Be||(Be={}));const xS={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},RS=Be.INFO,CS={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},IS=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=CS[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Nm{constructor(e){this.name=e,this._logLevel=RS,this._logHandler=IS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const NS=(s,e)=>e.some(i=>s instanceof i);let e_,t_;function DS(){return e_||(e_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OS(){return t_||(t_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zv=new WeakMap,im=new WeakMap,Bv=new WeakMap,Gd=new WeakMap,Dm=new WeakMap;function MS(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(yr(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&zv.set(i,s)}).catch(()=>{}),Dm.set(e,s),e}function VS(s){if(im.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});im.set(s,e)}let sm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return im.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Bv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return yr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function kS(s){sm=s(sm)}function jS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Fd(this),e,...i);return Bv.set(a,e.sort?e.sort():[e]),yr(a)}:OS().includes(s)?function(...e){return s.apply(Fd(this),e),yr(zv.get(this))}:function(...e){return yr(s.apply(Fd(this),e))}}function US(s){return typeof s=="function"?jS(s):(s instanceof IDBTransaction&&VS(s),NS(s,DS())?new Proxy(s,sm):s)}function yr(s){if(s instanceof IDBRequest)return MS(s);if(Gd.has(s))return Gd.get(s);const e=US(s);return e!==s&&(Gd.set(s,e),Dm.set(e,s)),e}const Fd=s=>Dm.get(s);function LS(s,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),y=yr(d);return a&&d.addEventListener("upgradeneeded",m=>{a(yr(d.result),m.oldVersion,m.newVersion,yr(d.transaction),m)}),i&&d.addEventListener("blocked",m=>i(m.oldVersion,m.newVersion,m)),y.then(m=>{c&&m.addEventListener("close",()=>c()),o&&m.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const PS=["get","getKey","getAll","getAllKeys","count"],zS=["put","add","delete","clear"],Kd=new Map;function n_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Kd.get(e))return Kd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=zS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||PS.includes(i)))return;const c=async function(d,...y){const m=this.transaction(d,o?"readwrite":"readonly");let _=m.store;return a&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),o&&m.done]))[0]};return Kd.set(e,c),c}kS(s=>({...s,get:(e,i,a)=>n_(e,i)||s.get(e,i,a),has:(e,i)=>!!n_(e,i)||s.has(e,i)}));class BS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(HS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function HS(s){return s.getComponent()?.type==="VERSION"}const rm="@firebase/app",i_="0.14.7";const Ss=new Nm("@firebase/app"),qS="@firebase/app-compat",GS="@firebase/analytics-compat",FS="@firebase/analytics",KS="@firebase/app-check-compat",QS="@firebase/app-check",YS="@firebase/auth",XS="@firebase/auth-compat",$S="@firebase/database",WS="@firebase/data-connect",JS="@firebase/database-compat",ZS="@firebase/functions",eA="@firebase/functions-compat",tA="@firebase/installations",nA="@firebase/installations-compat",iA="@firebase/messaging",sA="@firebase/messaging-compat",rA="@firebase/performance",aA="@firebase/performance-compat",lA="@firebase/remote-config",oA="@firebase/remote-config-compat",uA="@firebase/storage",cA="@firebase/storage-compat",hA="@firebase/firestore",fA="@firebase/ai",dA="@firebase/firestore-compat",mA="firebase",gA="12.8.0";const am="[DEFAULT]",pA={[rm]:"fire-core",[qS]:"fire-core-compat",[FS]:"fire-analytics",[GS]:"fire-analytics-compat",[QS]:"fire-app-check",[KS]:"fire-app-check-compat",[YS]:"fire-auth",[XS]:"fire-auth-compat",[$S]:"fire-rtdb",[WS]:"fire-data-connect",[JS]:"fire-rtdb-compat",[ZS]:"fire-fn",[eA]:"fire-fn-compat",[tA]:"fire-iid",[nA]:"fire-iid-compat",[iA]:"fire-fcm",[sA]:"fire-fcm-compat",[rA]:"fire-perf",[aA]:"fire-perf-compat",[lA]:"fire-rc",[oA]:"fire-rc-compat",[uA]:"fire-gcs",[cA]:"fire-gcs-compat",[hA]:"fire-fst",[dA]:"fire-fst-compat",[fA]:"fire-vertex","fire-js":"fire-js",[mA]:"fire-js-all"};const eh=new Map,yA=new Map,lm=new Map;function s_(s,e){try{s.container.addComponent(e)}catch(i){Ss.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function yl(s){const e=s.name;if(lm.has(e))return Ss.debug(`There were multiple attempts to register component ${e}.`),!1;lm.set(e,s);for(const i of eh.values())s_(i,s);for(const i of yA.values())s_(i,s);return!0}function Om(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function oi(s){return s==null?!1:s.settings!==void 0}const _A={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_r=new eu("app","Firebase",_A);class vA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _r.create("app-deleted",{appName:this._name})}}const xl=gA;function Hv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:am,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw _r.create("bad-app-name",{appName:String(o)});if(i||(i=jv()),!i)throw _r.create("no-options");const c=eh.get(o);if(c){if(Tr(i,c.options)&&Tr(a,c.config))return c;throw _r.create("duplicate-app",{appName:o})}const d=new wS(o);for(const m of lm.values())d.addComponent(m);const y=new vA(i,a,d);return eh.set(o,y),y}function qv(s=am){const e=eh.get(s);if(!e&&s===am&&jv())return Hv();if(!e)throw _r.create("no-app",{appName:s});return e}function vr(s,e,i){let a=pA[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ss.warn(d.join(" "));return}yl(new ua(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const EA="firebase-heartbeat-database",bA=1,Fo="firebase-heartbeat-store";let Qd=null;function Gv(){return Qd||(Qd=LS(EA,bA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Fo)}catch(i){console.warn(i)}}}}).catch(s=>{throw _r.create("idb-open",{originalErrorMessage:s.message})})),Qd}async function TA(s){try{const i=(await Gv()).transaction(Fo),a=await i.objectStore(Fo).get(Fv(s));return await i.done,a}catch(e){if(e instanceof Is)Ss.warn(e.message);else{const i=_r.create("idb-get",{originalErrorMessage:e?.message});Ss.warn(i.message)}}}async function r_(s,e){try{const a=(await Gv()).transaction(Fo,"readwrite");await a.objectStore(Fo).put(e,Fv(s)),await a.done}catch(i){if(i instanceof Is)Ss.warn(i.message);else{const a=_r.create("idb-set",{originalErrorMessage:i?.message});Ss.warn(a.message)}}}function Fv(s){return`${s.name}!${s.options.appId}`}const SA=1024,AA=30;class wA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new RA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=a_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>AA){const o=CA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ss.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=a_(),{heartbeatsToSend:i,unsentEntries:a}=xA(this._heartbeatsCache.heartbeats),o=Zc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ss.warn(e),""}}}function a_(){return new Date().toISOString().substring(0,10)}function xA(s,e=SA){const i=[];let a=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),l_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),l_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class RA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dS()?mS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await TA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return r_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return r_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function l_(s){return Zc(JSON.stringify({version:2,heartbeats:s})).length}function CA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function IA(s){yl(new ua("platform-logger",e=>new BS(e),"PRIVATE")),yl(new ua("heartbeat",e=>new wA(e),"PRIVATE")),vr(rm,i_,s),vr(rm,i_,"esm2020"),vr("fire-js","")}IA("");var NA="firebase",DA="12.8.0";vr(NA,DA,"app");function Kv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OA=Kv,Qv=new eu("auth","Firebase",Kv());const th=new Nm("@firebase/auth");function MA(s,...e){th.logLevel<=Be.WARN&&th.warn(`Auth (${xl}): ${s}`,...e)}function qc(s,...e){th.logLevel<=Be.ERROR&&th.error(`Auth (${xl}): ${s}`,...e)}function As(s,...e){throw Mm(s,...e)}function Fi(s,...e){return Mm(s,...e)}function Yv(s,e,i){const a={...OA(),[e]:i};return new eu("auth","Firebase",a).create(e,{appName:s.name})}function Ts(s){return Yv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mm(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Qv.create(s,...e)}function Se(s,e,...i){if(!s)throw Mm(e,...i)}function Es(s){const e="INTERNAL ASSERTION FAILED: "+s;throw qc(e),new Error(e)}function ws(s,e){s||Es(e)}function om(){return typeof self<"u"&&self.location?.href||""}function VA(){return o_()==="http:"||o_()==="https:"}function o_(){return typeof self<"u"&&self.location?.protocol||null}function kA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VA()||uS()||"connection"in navigator)?navigator.onLine:!0}function jA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class nu{constructor(e,i){this.shortDelay=e,this.longDelay=i,ws(i>e,"Short delay should be less than long delay!"),this.isMobile=aS()||cS()}get(){return kA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Vm(s,e){ws(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Xv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const UA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const LA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],PA=new nu(3e4,6e4);function iu(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Rl(s,e,i,a,o={}){return $v(s,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const y=tu({key:s.config.apiKey,...d}).slice(1),m=await s._getAdditionalHeaders();m["Content-Type"]="application/json",s.languageCode&&(m["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:m,...c};return oS()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&wl(s.emulatorConfig.host)&&(_.credentials="include"),Xv.fetch()(await Wv(s,s.config.apiHost,i,y),_)})}async function $v(s,e,i){s._canInitEmulator=!1;const a={...UA,...e};try{const o=new zA(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Vc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const y=c.ok?d.errorMessage:d.error.message,[m,_]=y.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vc(s,"credential-already-in-use",d);if(m==="EMAIL_EXISTS")throw Vc(s,"email-already-in-use",d);if(m==="USER_DISABLED")throw Vc(s,"user-disabled",d);const S=a[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Yv(s,S,_);As(s,S)}}catch(o){if(o instanceof Is)throw o;As(s,"network-request-failed",{message:String(o)})}}async function km(s,e,i,a,o={}){const c=await Rl(s,e,i,a,o);return"mfaPendingCredential"in c&&As(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Wv(s,e,i,a){const o=`${e}${i}?${a}`,c=s,d=c.config.emulator?Vm(s.config,o):`${s.config.apiScheme}://${o}`;return LA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class zA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Fi(this.auth,"network-request-failed")),PA.get())})}}function Vc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Fi(s,e,a);return o.customData._tokenResponse=i,o}async function BA(s,e){return Rl(s,"POST","/v1/accounts:delete",e)}async function nh(s,e){return Rl(s,"POST","/v1/accounts:lookup",e)}function zo(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function HA(s,e=!1){const i=wn(s),a=await i.getIdToken(e),o=jm(a);Se(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:zo(Yd(o.auth_time)),issuedAtTime:zo(Yd(o.iat)),expirationTime:zo(Yd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Yd(s){return Number(s)*1e3}function jm(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return qc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Vv(i);return o?JSON.parse(o):(qc("Failed to decode base64 JWT payload"),null)}catch(o){return qc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function u_(s){const e=jm(s);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ko(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Is&&qA(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function qA({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class GA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class um{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=zo(this.lastLoginAt),this.creationTime=zo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ih(s){const e=s.auth,i=await s.getIdToken(),a=await Ko(s,nh(e,{idToken:i}));Se(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?Jv(o.providerUserInfo):[],d=KA(s.providerData,c),y=s.isAnonymous,m=!(s.email&&o.passwordHash)&&!d?.length,_=y?m:!1,S={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new um(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(s,S)}async function FA(s){const e=wn(s);await ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function KA(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Jv(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function QA(s,e){const i=await $v(s,{},async()=>{const a=tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await Wv(s,o,"/v1/token",`key=${c}`),y=await s._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:y,body:a};return s.emulatorConfig&&wl(s.emulatorConfig.host)&&(m.credentials="include"),Xv.fetch()(d,m)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function YA(s,e){return Rl(s,"POST","/v2/accounts:revokeToken",iu(s,e))}class hl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):u_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const i=u_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await QA(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new hl;return a&&(Se(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(Se(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Se(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hl,this.toJSON())}_performRefresh(){return Es("not implemented")}}function cr(s,e){Se(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Ei{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new GA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new um(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Ko(this,this.stsTokenManager.getToken(this.auth,e));return Se(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return HA(this,e)}reload(){return FA(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Ei({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await ih(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oi(this.auth.app))return Promise.reject(Ts(this.auth));const e=await this.getIdToken();return await Ko(this,BA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,m=i._redirectEventId??void 0,_=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:w,emailVerified:M,isAnonymous:F,providerData:te,stsTokenManager:re}=i;Se(w&&re,e,"internal-error");const se=hl.fromJSON(this.name,re);Se(typeof w=="string",e,"internal-error"),cr(a,e.name),cr(o,e.name),Se(typeof M=="boolean",e,"internal-error"),Se(typeof F=="boolean",e,"internal-error"),cr(c,e.name),cr(d,e.name),cr(y,e.name),cr(m,e.name),cr(_,e.name),cr(S,e.name);const _e=new Ei({uid:w,auth:e,email:o,emailVerified:M,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:y,stsTokenManager:se,createdAt:_,lastLoginAt:S});return te&&Array.isArray(te)&&(_e.providerData=te.map(De=>({...De}))),m&&(_e._redirectEventId=m),_e}static async _fromIdTokenResponse(e,i,a=!1){const o=new hl;o.updateFromServerResponse(i);const c=new Ei({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await ih(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];Se(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Jv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,y=new hl;y.updateFromIdToken(a);const m=new Ei({uid:o.localId,auth:e,stsTokenManager:y,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new um(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(m,_),m}}const c_=new Map;function bs(s){ws(s instanceof Function,"Expected a class definition");let e=c_.get(s);return e?(ws(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,c_.set(s,e),e)}class Zv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Zv.type="NONE";const h_=Zv;function Gc(s,e,i){return`firebase:${s}:${e}:${i}`}class fl{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Gc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Gc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await nh(this.auth,{idToken:e}).catch(()=>{});return i?Ei._fromGetAccountInfoResponse(this.auth,i,e):null}return Ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new fl(bs(h_),e,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||bs(h_);const d=Gc(a,e.config.apiKey,e.name);let y=null;for(const _ of i)try{const S=await _._get(d);if(S){let w;if(typeof S=="string"){const M=await nh(e,{idToken:S}).catch(()=>{});if(!M)break;w=await Ei._fromGetAccountInfoResponse(e,M,S)}else w=Ei._fromJSON(e,S);_!==c&&(y=w),c=_;break}}catch{}const m=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!m.length?new fl(c,e,a):(c=m[0],y&&await c._set(d,y.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new fl(c,e,a))}}function f_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rE(e))return"Blackberry";if(aE(e))return"Webos";if(tE(e))return"Safari";if((e.includes("chrome/")||nE(e))&&!e.includes("edge/"))return"Chrome";if(sE(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function eE(s=bn()){return/firefox\//i.test(s)}function tE(s=bn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nE(s=bn()){return/crios\//i.test(s)}function iE(s=bn()){return/iemobile/i.test(s)}function sE(s=bn()){return/android/i.test(s)}function rE(s=bn()){return/blackberry/i.test(s)}function aE(s=bn()){return/webos/i.test(s)}function Um(s=bn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function XA(s=bn()){return Um(s)&&!!window.navigator?.standalone}function $A(){return hS()&&document.documentMode===10}function lE(s=bn()){return Um(s)||sE(s)||aE(s)||rE(s)||/windows phone/i.test(s)||iE(s)}function oE(s,e=[]){let i;switch(s){case"Browser":i=f_(bn());break;case"Worker":i=`${f_(bn())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${xl}/${a}`}class WA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,y)=>{try{const m=e(c);d(m)}catch(m){y(m)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function JA(s,e={}){return Rl(s,"GET","/v2/passwordPolicy",iu(s,e))}const ZA=6;class ew{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??ZA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class tw{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new d_(this),this.idTokenSubscription=new d_(this),this.beforeStateQueue=new WA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=bs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await fl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await nh(this,{idToken:e}),a=await Ei._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(oi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,y=await this.tryRedirectSignIn(e);(!c||c===d)&&y?.user&&(a=y.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await ih(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(oi(this.app))return Promise.reject(Ts(this));const i=e?wn(e):null;return i&&Se(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return oi(this.app)?Promise.reject(Ts(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return oi(this.app)?Promise.reject(Ts(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JA(this),i=new ew(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new eu("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await YA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&bs(e)||this._popupRedirectResolver;Se(i,this,"argument-error"),this.redirectPersistenceManager=await fl.create(this,[bs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(y,this,"internal-error"),y.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const m=e.addObserver(i,a,o);return()=>{d=!0,m()}}else{const m=e.addObserver(i);return()=>{d=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(oi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&MA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function su(s){return wn(s)}class d_{constructor(e){this.auth=e,this.observer=null,this.addObserver=vS(i=>this.observer=i)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Lm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nw(s){Lm=s}function iw(s){return Lm.loadJS(s)}function sw(){return Lm.gapiScript}function rw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function aw(s,e){const i=Om(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Tr(c,e??{}))return o;As(o,"already-initialized")}return i.initialize({options:e})}function lw(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(bs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function ow(s,e,i){const a=su(s);Se(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=uE(e),{host:d,port:y}=uw(e),m=y===null?"":`:${y}`,_={url:`${c}//${d}${m}/`},S=Object.freeze({host:d,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Se(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Se(Tr(_,a.config.emulator)&&Tr(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,wl(d)?(Lv(`${c}//${d}${m}`),Pv("Auth",!0)):cw()}function uE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function uw(s){const e=uE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:m_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:m_(d)}}}function m_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function cw(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class cE{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Es("not implemented")}_getIdTokenResponse(e){return Es("not implemented")}_linkToIdToken(e,i){return Es("not implemented")}_getReauthenticationResolver(e){return Es("not implemented")}}async function dl(s,e){return km(s,"POST","/v1/accounts:signInWithIdp",iu(s,e))}const hw="http://localhost";class ca extends cE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ca(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):As("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new ca(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return dl(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,dl(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,dl(e,i)}buildRequest(){const e={requestUri:hw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=tu(i)}return e}}class hE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ru extends hE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class fr extends ru{constructor(){super("facebook.com")}static credential(e){return ca._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fr.credential(e.oauthAccessToken)}catch{return null}}}fr.FACEBOOK_SIGN_IN_METHOD="facebook.com";fr.PROVIDER_ID="facebook.com";class dr extends ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ca._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return dr.credential(i,a)}catch{return null}}}dr.GOOGLE_SIGN_IN_METHOD="google.com";dr.PROVIDER_ID="google.com";class mr extends ru{constructor(){super("github.com")}static credential(e){return ca._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mr.credential(e.oauthAccessToken)}catch{return null}}}mr.GITHUB_SIGN_IN_METHOD="github.com";mr.PROVIDER_ID="github.com";class gr extends ru{constructor(){super("twitter.com")}static credential(e,i){return ca._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return gr.credential(i,a)}catch{return null}}}gr.TWITTER_SIGN_IN_METHOD="twitter.com";gr.PROVIDER_ID="twitter.com";async function fw(s,e){return km(s,"POST","/v1/accounts:signUp",iu(s,e))}class xs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await Ei._fromIdTokenResponse(e,a,o),d=g_(a);return new xs({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=g_(a);return new xs({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function g_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function p_(s){if(oi(s.app))return Promise.reject(Ts(s));const e=su(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new xs({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await fw(e,{returnSecureToken:!0}),a=await xs._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class sh extends Is{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,sh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new sh(e,i,a,o)}}function fE(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?sh._fromErrorAndOperation(s,c,e,a):c})}async function dw(s,e,i=!1){const a=await Ko(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return xs._forOperation(s,"link",a)}async function mw(s,e,i=!1){const{auth:a}=s;if(oi(a.app))return Promise.reject(Ts(a));const o="reauthenticate";try{const c=await Ko(s,fE(a,o,e,s),i);Se(c.idToken,a,"internal-error");const d=jm(c.idToken);Se(d,a,"internal-error");const{sub:y}=d;return Se(s.uid===y,a,"user-mismatch"),xs._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&As(a,"user-mismatch"),c}}async function gw(s,e,i=!1){if(oi(s.app))return Promise.reject(Ts(s));const a="signIn",o=await fE(s,a,e),c=await xs._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}async function pw(s,e){return km(s,"POST","/v1/accounts:signInWithCustomToken",iu(s,e))}async function yw(s,e){if(oi(s.app))return Promise.reject(Ts(s));const i=su(s),a=await pw(i,{token:e,returnSecureToken:!0}),o=await xs._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function _w(s,e,i,a){return wn(s).onIdTokenChanged(e,i,a)}function vw(s,e,i){return wn(s).beforeAuthStateChanged(e,i)}function Ew(s,e,i,a){return wn(s).onAuthStateChanged(e,i,a)}const rh="__sak";class dE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(rh,"1"),this.storage.removeItem(rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const bw=1e3,Tw=10;class mE extends dE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,y,m)=>{this.notifyListeners(d,m)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);$A()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Tw):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},bw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}mE.type="LOCAL";const Sw=mE;class gE extends dE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}gE.type="SESSION";const pE=gE;function Aw(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Sh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new Sh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const y=Array.from(d).map(async _=>_(i.origin,c)),m=await Aw(y);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:m})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sh.receivers=[];function Pm(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class ww{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((y,m)=>{const _=Pm("",20);o.port1.start();const S=setTimeout(()=>{m(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(w){const M=w;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(M.data.response);break;default:clearTimeout(S),clearTimeout(c),m(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ki(){return window}function xw(s){Ki().location.href=s}function yE(){return typeof Ki().WorkerGlobalScope<"u"&&typeof Ki().importScripts=="function"}async function Rw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Cw(){return navigator?.serviceWorker?.controller||null}function Iw(){return yE()?self:null}const _E="firebaseLocalStorageDb",Nw=1,ah="firebaseLocalStorage",vE="fbase_key";class au{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Ah(s,e){return s.transaction([ah],e?"readwrite":"readonly").objectStore(ah)}function Dw(){const s=indexedDB.deleteDatabase(_E);return new au(s).toPromise()}function cm(){const s=indexedDB.open(_E,Nw);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(ah,{keyPath:vE})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(ah)?e(a):(a.close(),await Dw(),e(await cm()))})})}async function y_(s,e,i){const a=Ah(s,!0).put({[vE]:e,value:i});return new au(a).toPromise()}async function Ow(s,e){const i=Ah(s,!1).get(e),a=await new au(i).toPromise();return a===void 0?null:a.value}function __(s,e){const i=Ah(s,!0).delete(e);return new au(i).toPromise()}const Mw=800,Vw=3;class EE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>Vw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sh._getInstance(Iw()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Rw(),!this.activeServiceWorker)return;this.sender=new ww(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Cw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cm();return await y_(e,rh,"1"),await __(e,rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>y_(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>Ow(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>__(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Ah(o,!1).getAll();return new au(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Mw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}EE.type="LOCAL";const kw=EE;new nu(3e4,6e4);function jw(s,e){return e?bs(e):(Se(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class zm extends cE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return dl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return dl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return dl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function Uw(s){return gw(s.auth,new zm(s),s.bypassAuthState)}function Lw(s){const{auth:e,user:i}=s;return Se(i,e,"internal-error"),mw(i,new zm(s),s.bypassAuthState)}async function Pw(s){const{auth:e,user:i}=s;return Se(i,e,"internal-error"),dw(i,new zm(s),s.bypassAuthState)}class bE{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:y}=e;if(d){this.reject(d);return}const m={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(m))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Uw;case"linkViaPopup":case"linkViaRedirect":return Pw;case"reauthViaPopup":case"reauthViaRedirect":return Lw;default:As(this.auth,"internal-error")}}resolve(e){ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zw=new nu(2e3,1e4);class cl extends bE{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,cl.currentPopupAction&&cl.currentPopupAction.cancel(),cl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){ws(this.filter.length===1,"Popup operations only handle one event");const e=Pm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zw.get())};e()}}cl.currentPopupAction=null;const Bw="pendingRedirect",Fc=new Map;class Hw extends bE{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Fc.get(this.auth._key());if(!e){try{const a=await qw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Fc.set(this.auth._key(),e)}return this.bypassAuthState||Fc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qw(s,e){const i=Kw(e),a=Fw(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function Gw(s,e){Fc.set(s._key(),e)}function Fw(s){return bs(s._redirectPersistence)}function Kw(s){return Gc(Bw,s.config.apiKey,s.name)}async function Qw(s,e,i=!1){if(oi(s.app))return Promise.reject(Ts(s));const a=su(s),o=jw(a,e),d=await new Hw(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const Yw=600*1e3;class Xw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$w(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!TE(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Fi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Yw&&this.cachedEventUids.clear(),this.cachedEventUids.has(v_(e))}saveEventToCache(e){this.cachedEventUids.add(v_(e)),this.lastProcessedEventTime=Date.now()}}function v_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function TE({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function $w(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TE(s);default:return!1}}async function Ww(s,e={}){return Rl(s,"GET","/v1/projects",e)}const Jw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zw=/^https?/;async function ex(s){if(s.config.emulator)return;const{authorizedDomains:e}=await Ww(s);for(const i of e)try{if(tx(i))return}catch{}As(s,"unauthorized-domain")}function tx(s){const e=om(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Zw.test(i))return!1;if(Jw.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const nx=new nu(3e4,6e4);function E_(){const s=Ki().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function ix(s){return new Promise((e,i)=>{function a(){E_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{E_(),i(Fi(s,"network-request-failed"))},timeout:nx.get()})}if(Ki().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ki().gapi?.load)a();else{const o=rw("iframefcb");return Ki()[o]=()=>{gapi.load?a():i(Fi(s,"network-request-failed"))},iw(`${sw()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Kc=null,e})}let Kc=null;function sx(s){return Kc=Kc||ix(s),Kc}const rx=new nu(5e3,15e3),ax="__/auth/iframe",lx="emulator/auth/iframe",ox={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ux=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cx(s){const e=s.config;Se(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Vm(e,lx):`https://${s.config.authDomain}/${ax}`,a={apiKey:e.apiKey,appName:s.name,v:xl},o=ux.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${tu(a).slice(1)}`}async function hx(s){const e=await sx(s),i=Ki().gapi;return Se(i,s,"internal-error"),e.open({where:document.body,url:cx(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ox,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Fi(s,"network-request-failed"),y=Ki().setTimeout(()=>{c(d)},rx.get());function m(){Ki().clearTimeout(y),o(a)}a.ping(m).then(m,()=>{c(d)})}))}const fx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dx=500,mx=600,gx="_blank",px="http://localhost";class b_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yx(s,e,i,a=dx,o=mx){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const m={...fx,width:a.toString(),height:o.toString(),top:c,left:d},_=bn().toLowerCase();i&&(y=nE(_)?gx:i),eE(_)&&(e=e||px,m.scrollbars="yes");const S=Object.entries(m).reduce((M,[F,te])=>`${M}${F}=${te},`,"");if(XA(_)&&y!=="_self")return _x(e||"",y),new b_(null);const w=window.open(e||"",y,S);Se(w,s,"popup-blocked");try{w.focus()}catch{}return new b_(w)}function _x(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const vx="__/auth/handler",Ex="emulator/auth/handler",bx=encodeURIComponent("fac");async function T_(s,e,i,a,o,c){Se(s.config.authDomain,s,"auth-domain-config-required"),Se(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:xl,eventId:o};if(e instanceof hE){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",_S(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[S,w]of Object.entries({}))d[S]=w}if(e instanceof ru){const S=e.getScopes().filter(w=>w!=="");S.length>0&&(d.scopes=S.join(","))}s.tenantId&&(d.tid=s.tenantId);const y=d;for(const S of Object.keys(y))y[S]===void 0&&delete y[S];const m=await s._getAppCheckToken(),_=m?`#${bx}=${encodeURIComponent(m)}`:"";return`${Tx(s)}?${tu(y).slice(1)}${_}`}function Tx({config:s}){return s.emulator?Vm(s,Ex):`https://${s.authDomain}/${vx}`}const Xd="webStorageSupport";class Sx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pE,this._completeRedirectFn=Qw,this._overrideRedirectResult=Gw}async _openPopup(e,i,a,o){ws(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await T_(e,i,a,om(),o);return yx(e,c,Pm())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await T_(e,i,a,om(),o);return xw(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(ws(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await hx(e),a=new Xw(e);return i.register("authEvent",o=>(Se(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Xd,{type:Xd},o=>{const c=o?.[0]?.[Xd];c!==void 0&&i(!!c),As(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=ex(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return lE()||tE()||Um()}}const Ax=Sx;var S_="@firebase/auth",A_="1.12.0";class wx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function xx(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Rx(s){yl(new ua("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=a.options;Se(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const m={apiKey:d,authDomain:y,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oE(s)},_=new tw(a,o,c,m);return lw(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),yl(new ua("auth-internal",e=>{const i=su(e.getProvider("auth").getImmediate());return(a=>new wx(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),vr(S_,A_,xx(s)),vr(S_,A_,"esm2020")}const Cx=300,Ix=Uv("authIdTokenMaxAge")||Cx;let w_=null;const Nx=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>Ix)return;const o=i?.token;w_!==o&&(w_=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Dx(s=qv()){const e=Om(s,"auth");if(e.isInitialized())return e.getImmediate();const i=aw(s,{popupRedirectResolver:Ax,persistence:[kw,Sw,pE]}),a=Uv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Nx(c.toString());vw(i,d,()=>d(i.currentUser)),_w(i,y=>d(y))}}const o=kv("auth");return o&&ow(i,`http://${o}`),i}function Ox(){return document.getElementsByTagName("head")?.[0]??document}nw({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=Fi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",Ox().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Rx("Browser");var x_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Er,SE;(function(){var s;function e(C,A){function I(){}I.prototype=A.prototype,C.F=A.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(V,O,j){for(var x=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)x[Qe-2]=arguments[Qe];return A.prototype[O].apply(V,x)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,A,I){I||(I=0);const V=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)V[O]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(O=0;O<16;++O)V[O]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=C.g[0],I=C.g[1],O=C.g[2];let j=C.g[3],x;x=A+(j^I&(O^j))+V[0]+3614090360&4294967295,A=I+(x<<7&4294967295|x>>>25),x=j+(O^A&(I^O))+V[1]+3905402710&4294967295,j=A+(x<<12&4294967295|x>>>20),x=O+(I^j&(A^I))+V[2]+606105819&4294967295,O=j+(x<<17&4294967295|x>>>15),x=I+(A^O&(j^A))+V[3]+3250441966&4294967295,I=O+(x<<22&4294967295|x>>>10),x=A+(j^I&(O^j))+V[4]+4118548399&4294967295,A=I+(x<<7&4294967295|x>>>25),x=j+(O^A&(I^O))+V[5]+1200080426&4294967295,j=A+(x<<12&4294967295|x>>>20),x=O+(I^j&(A^I))+V[6]+2821735955&4294967295,O=j+(x<<17&4294967295|x>>>15),x=I+(A^O&(j^A))+V[7]+4249261313&4294967295,I=O+(x<<22&4294967295|x>>>10),x=A+(j^I&(O^j))+V[8]+1770035416&4294967295,A=I+(x<<7&4294967295|x>>>25),x=j+(O^A&(I^O))+V[9]+2336552879&4294967295,j=A+(x<<12&4294967295|x>>>20),x=O+(I^j&(A^I))+V[10]+4294925233&4294967295,O=j+(x<<17&4294967295|x>>>15),x=I+(A^O&(j^A))+V[11]+2304563134&4294967295,I=O+(x<<22&4294967295|x>>>10),x=A+(j^I&(O^j))+V[12]+1804603682&4294967295,A=I+(x<<7&4294967295|x>>>25),x=j+(O^A&(I^O))+V[13]+4254626195&4294967295,j=A+(x<<12&4294967295|x>>>20),x=O+(I^j&(A^I))+V[14]+2792965006&4294967295,O=j+(x<<17&4294967295|x>>>15),x=I+(A^O&(j^A))+V[15]+1236535329&4294967295,I=O+(x<<22&4294967295|x>>>10),x=A+(O^j&(I^O))+V[1]+4129170786&4294967295,A=I+(x<<5&4294967295|x>>>27),x=j+(I^O&(A^I))+V[6]+3225465664&4294967295,j=A+(x<<9&4294967295|x>>>23),x=O+(A^I&(j^A))+V[11]+643717713&4294967295,O=j+(x<<14&4294967295|x>>>18),x=I+(j^A&(O^j))+V[0]+3921069994&4294967295,I=O+(x<<20&4294967295|x>>>12),x=A+(O^j&(I^O))+V[5]+3593408605&4294967295,A=I+(x<<5&4294967295|x>>>27),x=j+(I^O&(A^I))+V[10]+38016083&4294967295,j=A+(x<<9&4294967295|x>>>23),x=O+(A^I&(j^A))+V[15]+3634488961&4294967295,O=j+(x<<14&4294967295|x>>>18),x=I+(j^A&(O^j))+V[4]+3889429448&4294967295,I=O+(x<<20&4294967295|x>>>12),x=A+(O^j&(I^O))+V[9]+568446438&4294967295,A=I+(x<<5&4294967295|x>>>27),x=j+(I^O&(A^I))+V[14]+3275163606&4294967295,j=A+(x<<9&4294967295|x>>>23),x=O+(A^I&(j^A))+V[3]+4107603335&4294967295,O=j+(x<<14&4294967295|x>>>18),x=I+(j^A&(O^j))+V[8]+1163531501&4294967295,I=O+(x<<20&4294967295|x>>>12),x=A+(O^j&(I^O))+V[13]+2850285829&4294967295,A=I+(x<<5&4294967295|x>>>27),x=j+(I^O&(A^I))+V[2]+4243563512&4294967295,j=A+(x<<9&4294967295|x>>>23),x=O+(A^I&(j^A))+V[7]+1735328473&4294967295,O=j+(x<<14&4294967295|x>>>18),x=I+(j^A&(O^j))+V[12]+2368359562&4294967295,I=O+(x<<20&4294967295|x>>>12),x=A+(I^O^j)+V[5]+4294588738&4294967295,A=I+(x<<4&4294967295|x>>>28),x=j+(A^I^O)+V[8]+2272392833&4294967295,j=A+(x<<11&4294967295|x>>>21),x=O+(j^A^I)+V[11]+1839030562&4294967295,O=j+(x<<16&4294967295|x>>>16),x=I+(O^j^A)+V[14]+4259657740&4294967295,I=O+(x<<23&4294967295|x>>>9),x=A+(I^O^j)+V[1]+2763975236&4294967295,A=I+(x<<4&4294967295|x>>>28),x=j+(A^I^O)+V[4]+1272893353&4294967295,j=A+(x<<11&4294967295|x>>>21),x=O+(j^A^I)+V[7]+4139469664&4294967295,O=j+(x<<16&4294967295|x>>>16),x=I+(O^j^A)+V[10]+3200236656&4294967295,I=O+(x<<23&4294967295|x>>>9),x=A+(I^O^j)+V[13]+681279174&4294967295,A=I+(x<<4&4294967295|x>>>28),x=j+(A^I^O)+V[0]+3936430074&4294967295,j=A+(x<<11&4294967295|x>>>21),x=O+(j^A^I)+V[3]+3572445317&4294967295,O=j+(x<<16&4294967295|x>>>16),x=I+(O^j^A)+V[6]+76029189&4294967295,I=O+(x<<23&4294967295|x>>>9),x=A+(I^O^j)+V[9]+3654602809&4294967295,A=I+(x<<4&4294967295|x>>>28),x=j+(A^I^O)+V[12]+3873151461&4294967295,j=A+(x<<11&4294967295|x>>>21),x=O+(j^A^I)+V[15]+530742520&4294967295,O=j+(x<<16&4294967295|x>>>16),x=I+(O^j^A)+V[2]+3299628645&4294967295,I=O+(x<<23&4294967295|x>>>9),x=A+(O^(I|~j))+V[0]+4096336452&4294967295,A=I+(x<<6&4294967295|x>>>26),x=j+(I^(A|~O))+V[7]+1126891415&4294967295,j=A+(x<<10&4294967295|x>>>22),x=O+(A^(j|~I))+V[14]+2878612391&4294967295,O=j+(x<<15&4294967295|x>>>17),x=I+(j^(O|~A))+V[5]+4237533241&4294967295,I=O+(x<<21&4294967295|x>>>11),x=A+(O^(I|~j))+V[12]+1700485571&4294967295,A=I+(x<<6&4294967295|x>>>26),x=j+(I^(A|~O))+V[3]+2399980690&4294967295,j=A+(x<<10&4294967295|x>>>22),x=O+(A^(j|~I))+V[10]+4293915773&4294967295,O=j+(x<<15&4294967295|x>>>17),x=I+(j^(O|~A))+V[1]+2240044497&4294967295,I=O+(x<<21&4294967295|x>>>11),x=A+(O^(I|~j))+V[8]+1873313359&4294967295,A=I+(x<<6&4294967295|x>>>26),x=j+(I^(A|~O))+V[15]+4264355552&4294967295,j=A+(x<<10&4294967295|x>>>22),x=O+(A^(j|~I))+V[6]+2734768916&4294967295,O=j+(x<<15&4294967295|x>>>17),x=I+(j^(O|~A))+V[13]+1309151649&4294967295,I=O+(x<<21&4294967295|x>>>11),x=A+(O^(I|~j))+V[4]+4149444226&4294967295,A=I+(x<<6&4294967295|x>>>26),x=j+(I^(A|~O))+V[11]+3174756917&4294967295,j=A+(x<<10&4294967295|x>>>22),x=O+(A^(j|~I))+V[2]+718787259&4294967295,O=j+(x<<15&4294967295|x>>>17),x=I+(j^(O|~A))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(O+(x<<21&4294967295|x>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+j&4294967295}a.prototype.v=function(C,A){A===void 0&&(A=C.length);const I=A-this.blockSize,V=this.C;let O=this.h,j=0;for(;j<A;){if(O==0)for(;j<=I;)o(this,C,j),j+=this.blockSize;if(typeof C=="string"){for(;j<A;)if(V[O++]=C.charCodeAt(j++),O==this.blockSize){o(this,V),O=0;break}}else for(;j<A;)if(V[O++]=C[j++],O==this.blockSize){o(this,V),O=0;break}}this.h=O,this.o+=A},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)C[A++]=this.g[I]>>>V&255;return C};function c(C,A){var I=y;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=A(C)}function d(C,A){this.h=A;const I=[];let V=!0;for(let O=C.length-1;O>=0;O--){const j=C[O]|0;V&&j==A||(I[O]=j,V=!1)}this.g=I}var y={};function m(C){return-128<=C&&C<128?c(C,function(A){return new d([A|0],A<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return w;if(C<0)return se(_(-C));const A=[];let I=1;for(let V=0;C>=I;V++)A[V]=C/I|0,I*=4294967296;return new d(A,0)}function S(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return se(S(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(A,8));let V=w;for(let j=0;j<C.length;j+=8){var O=Math.min(8,C.length-j);const x=parseInt(C.substring(j,j+O),A);O<8?(O=_(Math.pow(A,O)),V=V.j(O).add(_(x))):(V=V.j(I),V=V.add(_(x)))}return V}var w=m(0),M=m(1),F=m(16777216);s=d.prototype,s.m=function(){if(re(this))return-se(this).m();let C=0,A=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);C+=(V>=0?V:4294967296+V)*A,A*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(te(this))return"0";if(re(this))return"-"+se(this).toString(C);const A=_(Math.pow(C,6));var I=this;let V="";for(;;){const O=ut(I,A).g;I=_e(I,O.j(A));let j=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=O,te(I))return j+V;for(;j.length<6;)j="0"+j;V=j+V}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function te(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function re(C){return C.h==-1}s.l=function(C){return C=_e(this,C),re(C)?-1:te(C)?0:1};function se(C){const A=C.g.length,I=[];for(let V=0;V<A;V++)I[V]=~C.g[V];return new d(I,~C.h).add(M)}s.abs=function(){return re(this)?se(this):this},s.add=function(C){const A=Math.max(this.g.length,C.g.length),I=[];let V=0;for(let O=0;O<=A;O++){let j=V+(this.i(O)&65535)+(C.i(O)&65535),x=(j>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);V=x>>>16,j&=65535,x&=65535,I[O]=x<<16|j}return new d(I,I[I.length-1]&-2147483648?-1:0)};function _e(C,A){return C.add(se(A))}s.j=function(C){if(te(this)||te(C))return w;if(re(this))return re(C)?se(this).j(se(C)):se(se(this).j(C));if(re(C))return se(this.j(se(C)));if(this.l(F)<0&&C.l(F)<0)return _(this.m()*C.m());const A=this.g.length+C.g.length,I=[];for(var V=0;V<2*A;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<C.g.length;O++){const j=this.i(V)>>>16,x=this.i(V)&65535,Qe=C.i(O)>>>16,Tt=C.i(O)&65535;I[2*V+2*O]+=x*Tt,De(I,2*V+2*O),I[2*V+2*O+1]+=j*Tt,De(I,2*V+2*O+1),I[2*V+2*O+1]+=x*Qe,De(I,2*V+2*O+1),I[2*V+2*O+2]+=j*Qe,De(I,2*V+2*O+2)}for(C=0;C<A;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=A;C<2*A;C++)I[C]=0;return new d(I,0)};function De(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function xe(C,A){this.g=C,this.h=A}function ut(C,A){if(te(A))throw Error("division by zero");if(te(C))return new xe(w,w);if(re(C))return A=ut(se(C),A),new xe(se(A.g),se(A.h));if(re(A))return A=ut(C,se(A)),new xe(se(A.g),A.h);if(C.g.length>30){if(re(C)||re(A))throw Error("slowDivide_ only works with positive integers.");for(var I=M,V=A;V.l(C)<=0;)I=bt(I),V=bt(V);var O=me(I,1),j=me(V,1);for(V=me(V,2),I=me(I,2);!te(V);){var x=j.add(V);x.l(C)<=0&&(O=O.add(I),j=x),V=me(V,1),I=me(I,1)}return A=_e(C,O.j(A)),new xe(O,A)}for(O=w;C.l(A)>=0;){for(I=Math.max(1,Math.floor(C.m()/A.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),j=_(I),x=j.j(A);re(x)||x.l(C)>0;)I-=V,j=_(I),x=j.j(A);te(j)&&(j=M),O=O.add(j),C=_e(C,x)}return new xe(O,C)}s.B=function(C){return ut(this,C).h},s.and=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)&C.i(V);return new d(I,this.h&C.h)},s.or=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)|C.i(V);return new d(I,this.h|C.h)},s.xor=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)^C.i(V);return new d(I,this.h^C.h)};function bt(C){const A=C.g.length+1,I=[];for(let V=0;V<A;V++)I[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(I,C.h)}function me(C,A){const I=A>>5;A%=32;const V=C.g.length-I,O=[];for(let j=0;j<V;j++)O[j]=A>0?C.i(j+I)>>>A|C.i(j+I+1)<<32-A:C.i(j+I);return new d(O,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,SE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,Er=d}).apply(typeof x_<"u"?x_:typeof self<"u"?self:typeof window<"u"?window:{});var kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var AE,ko,wE,Qc,hm,xE,RE,CE;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof kc=="object"&&kc];for(var g=0;g<u.length;++g){var v=u[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,g){if(g)e:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in v))break e;v=v[U]}u=u[u.length-1],T=v[u],g=g(T),g!=T&&g!=null&&e(v,u,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(g){var v=[],T;for(T in g)Object.prototype.hasOwnProperty.call(g,T)&&v.push([T,g[T]]);return v}});var c=c||{},d=this||self;function y(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function m(u,g,v){return u.call.apply(u.bind,arguments)}function _(u,g,v){return _=m,_.apply(null,arguments)}function S(u,g){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function w(u,g){function v(){}v.prototype=g.prototype,u.Z=g.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,U,B){for(var ee=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)ee[Ie-2]=arguments[Ie];return g.prototype[U].apply(T,ee)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const g=u.length;if(g>0){const v=Array(g);for(let T=0;T<g;T++)v[T]=u[T];return v}return[]}function te(u,g){for(let T=1;T<arguments.length;T++){const U=arguments[T];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const B=U.length||0;u.length=v+B;for(let ee=0;ee<B;ee++)u[v+ee]=U[ee]}else u.push(U)}}class re{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function se(u){d.setTimeout(()=>{throw u},0)}function _e(){var u=C;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class De{constructor(){this.h=this.g=null}add(g,v){const T=xe.get();T.set(g,v),this.h?this.h.next=T:this.g=T,this.h=T}}var xe=new re(()=>new ut,u=>u.reset());class ut{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let bt,me=!1,C=new De,A=()=>{const u=Promise.resolve(void 0);bt=()=>{u.then(I)}};function I(){for(var u;u=_e();){try{u.h.call(u.g)}catch(v){se(v)}var g=xe;g.j(u),g.h<100&&(g.h++,u.next=g.g,g.g=u)}me=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,g),d.removeEventListener("test",v,g)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function Qe(u,g){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,g)}w(Qe,O),Qe.prototype.init=function(u,g){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget,g||(v=="mouseover"?g=u.fromElement:v=="mouseout"&&(g=u.toElement)),this.relatedTarget=g,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Qe.Z.h.call(this)},Qe.prototype.h=function(){Qe.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Tt="closure_listenable_"+(Math.random()*1e6|0),q=0;function Z(u,g,v,T,U){this.listener=u,this.proxy=null,this.src=g,this.type=v,this.capture=!!T,this.ha=U,this.key=++q,this.da=this.fa=!1}function ge(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ge(u,g,v){for(const T in u)g.call(v,u[T],T,u)}function ke(u,g){for(const v in u)g.call(void 0,u[v],v,u)}function D(u){const g={};for(const v in u)g[v]=u[v];return g}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(u,g){let v,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(v in T)u[v]=T[v];for(let B=0;B<Q.length;B++)v=Q[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function le(u){this.src=u,this.g={},this.h=0}le.prototype.add=function(u,g,v,T,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const ee=Ae(u,g,T,U);return ee>-1?(g=u[ee],v||(g.fa=!1)):(g=new Z(g,this.src,B,!!T,U),g.fa=v,u.push(g)),g};function Ee(u,g){const v=g.type;if(v in u.g){var T=u.g[v],U=Array.prototype.indexOf.call(T,g,void 0),B;(B=U>=0)&&Array.prototype.splice.call(T,U,1),B&&(ge(g),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ae(u,g,v,T){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==g&&B.capture==!!v&&B.ha==T)return U}return-1}var Ve="closure_lm_"+(Math.random()*1e6|0),st={};function ht(u,g,v,T,U){if(Array.isArray(g)){for(let B=0;B<g.length;B++)ht(u,g[B],v,T,U);return null}return v=Or(v),u&&u[Tt]?u.J(g,v,y(T)?!!T.capture:!1,U):Ji(u,g,v,!1,T,U)}function Ji(u,g,v,T,U,B){if(!g)throw Error("Invalid event type");const ee=y(U)?!!U.capture:!!U;let Ie=wi(u);if(Ie||(u[Ve]=Ie=new le(u)),v=Ie.add(g,v,T,ee,B),v.proxy)return v;if(T=Ai(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)j||(U=ee),U===void 0&&(U=!1),u.addEventListener(g.toString(),T,U);else if(u.attachEvent)u.attachEvent(Yn(g.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ai(){function u(v){return g.call(u.src,u.listener,v)}const g=Dr;return u}function Ns(u,g,v,T,U){if(Array.isArray(g))for(var B=0;B<g.length;B++)Ns(u,g[B],v,T,U);else T=y(T)?!!T.capture:!!T,v=Or(v),u&&u[Tt]?(u=u.i,B=String(g).toString(),B in u.g&&(g=u.g[B],v=Ae(g,v,T,U),v>-1&&(ge(g[v]),Array.prototype.splice.call(g,v,1),g.length==0&&(delete u.g[B],u.h--)))):u&&(u=wi(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Ae(g,v,T,U)),(v=u>-1?g[u]:null)&&Zi(v))}function Zi(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[Tt])Ee(g.i,u);else{var v=u.type,T=u.proxy;g.removeEventListener?g.removeEventListener(v,T,u.capture):g.detachEvent?g.detachEvent(Yn(v),T):g.addListener&&g.removeListener&&g.removeListener(T),(v=wi(g))?(Ee(v,u),v.h==0&&(v.src=null,g[Ve]=null)):ge(u)}}}function Yn(u){return u in st?st[u]:st[u]="on"+u}function Dr(u,g){if(u.da)u=!0;else{g=new Qe(g,this);const v=u.listener,T=u.ha||u.src;u.fa&&Zi(u),u=v.call(T,g)}return u}function wi(u){return u=u[Ve],u instanceof le?u:null}var Ds="__closure_events_fn_"+(Math.random()*1e9>>>0);function Or(u){return typeof u=="function"?u:(u[Ds]||(u[Ds]=function(g){return u.handleEvent(g)}),u[Ds])}function xt(){V.call(this),this.i=new le(this),this.M=this,this.G=null}w(xt,V),xt.prototype[Tt]=!0,xt.prototype.removeEventListener=function(u,g,v,T){Ns(this,u,g,v,T)};function St(u,g){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=g.type||g,typeof g=="string")g=new O(g,u);else if(g instanceof O)g.target=g.target||u;else{var U=g;g=new O(T,u),ne(g,U)}U=!0;let B,ee;if(v)for(ee=v.length-1;ee>=0;ee--)B=g.g=v[ee],U=Xn(B,T,!0,g)&&U;if(B=g.g=u,U=Xn(B,T,!0,g)&&U,U=Xn(B,T,!1,g)&&U,v)for(ee=0;ee<v.length;ee++)B=g.g=v[ee],U=Xn(B,T,!1,g)&&U}xt.prototype.N=function(){if(xt.Z.N.call(this),this.i){var u=this.i;for(const g in u.g){const v=u.g[g];for(let T=0;T<v.length;T++)ge(v[T]);delete u.g[g],u.h--}}this.G=null},xt.prototype.J=function(u,g,v,T){return this.i.add(String(u),g,!1,v,T)},xt.prototype.K=function(u,g,v,T){return this.i.add(String(u),g,!0,v,T)};function Xn(u,g,v,T){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();let U=!0;for(let B=0;B<g.length;++B){const ee=g[B];if(ee&&!ee.da&&ee.capture==v){const Ie=ee.listener,Dt=ee.ha||ee.src;ee.fa&&Ee(u.i,ee),U=Ie.call(Dt,T)!==!1&&U}}return U&&!T.defaultPrevented}function Ol(u,g){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:d.setTimeout(u,g||0)}function pa(u){u.g=Ol(()=>{u.g=null,u.i&&(u.i=!1,pa(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class rn extends V{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:pa(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function es(u){V.call(this),this.h=u,this.g={}}w(es,V);var Mr=[];function Vr(u){Ge(u.g,function(g,v){this.g.hasOwnProperty(v)&&Zi(g)},u),u.g={}}es.prototype.N=function(){es.Z.N.call(this),Vr(this)},es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xi=d.JSON.stringify,Ml=d.JSON.parse,ya=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function _a(){}function W(){}var J={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ie(){O.call(this,"d")}w(ie,O);function ae(){O.call(this,"c")}w(ae,O);var Te={},Rt=null;function gn(){return Rt=Rt||new xt}Te.Ia="serverreachability";function Jt(u){O.call(this,Te.Ia,u)}w(Jt,O);function ft(u){const g=gn();St(g,new Jt(g))}Te.STAT_EVENT="statevent";function yt(u,g){O.call(this,Te.STAT_EVENT,u),this.stat=g}w(yt,O);function Ze(u){const g=gn();St(g,new yt(g,u))}Te.Ja="timingevent";function ue(u,g){O.call(this,Te.Ja,u),this.size=g}w(ue,O);function Oe(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},g)}function he(){this.g=!0}he.prototype.ua=function(){this.g=!1};function Qt(u,g,v,T,U,B){u.info(function(){if(u.g)if(B){var ee="",Ie=B.split("&");for(let We=0;We<Ie.length;We++){var Dt=Ie[We].split("=");if(Dt.length>1){const _t=Dt[0];Dt=Dt[1];const Zn=_t.split("_");ee=Zn.length>=2&&Zn[1]=="type"?ee+(_t+"="+Dt+"&"):ee+(_t+"=redacted&")}}}else ee=null;else ee=B;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+g+`
`+v+`
`+ee})}function Nt(u,g,v,T,U,B,ee){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+g+`
`+v+`
`+B+" "+ee})}function dt(u,g,v,T){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+ts(u,v)+(T?" "+T:"")})}function jn(u,g){u.info(function(){return"TIMEOUT: "+g})}he.prototype.info=function(){};function ts(u,g){if(!u.g)return g;if(!g)return null;try{const B=JSON.parse(g);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ee=1;ee<T.length;ee++)T[ee]=""}}}}return xi(B)}catch{return g}}var Zt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},kr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},$e;function ci(){}w(ci,_a),ci.prototype.g=function(){return new XMLHttpRequest},$e=new ci;function Un(u){return encodeURIComponent(String(u))}function Os(u){var g=1;u=u.split(":");const v=[];for(;g>0&&u.length;)v.push(u.shift()),g--;return u.length&&v.push(u.join(":")),v}function Tn(u,g,v,T){this.j=u,this.i=g,this.l=v,this.S=T||1,this.V=new es(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new hi}function hi(){this.i=null,this.g="",this.h=!1}var kt={},en={};function Ri(u,g,v){u.M=1,u.A=jr(Ut(g)),u.u=v,u.R=!0,va(u,null)}function va(u,g){u.F=Date.now(),Ci(u),u.B=Ut(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Sa(v.i,"t",T),u.C=0,v=u.j.L,u.h=new hi,u.g=Ru(u.j,v?g:null,!u.u),u.P>0&&(u.O=new rn(_(u.Y,u,u.g),u.P)),g=u.V,v=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(Mr[0]=U.toString()),U=Mr);for(let B=0;B<U.length;B++){const ee=ht(v,U[B],T||g.handleEvent,!1,g.h||g);if(!ee)break;g.g[ee.key]=ee}g=u.J?D(u.J):{},u.u?(u.v||(u.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,g)):(u.v="GET",u.g.ea(u.B,u.v,null,g)),ft(),Qt(u.i,u.v,u.B,u.l,u.S,u.u)}Tn.prototype.ba=function(u){u=u.target;const g=this.O;g&&mi(u)==3?g.j():this.Y(u)},Tn.prototype.Y=function(u){try{if(u==this.g)e:{const Ie=mi(this.g),Dt=this.g.ya(),We=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||an(this.g)))){this.K||Ie!=4||Dt==7||(Dt==8||We<=0?ft(3):ft(2)),Ii(this);var g=this.g.ca();this.X=g;var v=Hh(this);if(this.o=g==200,Nt(this.i,this.v,this.B,this.l,this.S,Ie,g),this.o){if(this.U&&!this.L){t:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(T)){var B=T;break t}}B=null}if(u=B)dt(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ni(this,u);else{this.o=!1,this.m=3,Ze(12),Ln(this),$n(this);break e}}if(this.R){u=!0;let _t;for(;!this.K&&this.C<v.length;)if(_t=mu(this,v),_t==en){Ie==4&&(this.m=4,Ze(14),u=!1),dt(this.i,this.l,null,"[Incomplete Response]");break}else if(_t==kt){this.m=4,Ze(15),dt(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else dt(this.i,this.l,_t,null),Ni(this,_t);if(du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||v.length!=0||this.h.h||(this.m=1,Ze(16),u=!1),this.o=this.o&&u,!u)dt(this.i,this.l,v,"[Invalid Chunked Response]"),Ln(this),$n(this);else if(v.length>0&&!this.W){this.W=!0;var ee=this.j;ee.g==this&&ee.aa&&!ee.P&&(ee.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Yl(ee),ee.P=!0,Ze(11))}}else dt(this.i,this.l,v,null),Ni(this,v);Ie==4&&Ln(this),this.o&&!this.K&&(Ie==4?Su(this.j,this):(this.o=!1,Ci(this)))}else is(this.g),g==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ze(12)):(this.m=0,Ze(13)),Ln(this),$n(this)}}}catch{}};function Hh(u){if(!du(u))return u.g.la();const g=an(u.g);if(g==="")return"";let v="";const T=g.length,U=mi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Ln(u),$n(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(g[B],{stream:!(U&&B==T-1)});return g.length=0,u.h.g+=v,u.C=0,u.h.g}function du(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function mu(u,g){var v=u.C,T=g.indexOf(`
`,v);return T==-1?en:(v=Number(g.substring(v,T)),isNaN(v)?kt:(T+=1,T+v>g.length?en:(g=g.slice(T,T+v),u.C=T+v,g)))}Tn.prototype.cancel=function(){this.K=!0,Ln(this)};function Ci(u){u.T=Date.now()+u.H,Ea(u,u.H)}function Ea(u,g){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Oe(_(u.aa,u),g)}function Ii(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Tn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(jn(this.i,this.B),this.M!=2&&(ft(),Ze(17)),Ln(this),this.m=2,$n(this)):Ea(this,this.T-u)};function $n(u){u.j.I==0||u.K||Su(u.j,u)}function Ln(u){Ii(u);var g=u.O;g&&typeof g.dispose=="function"&&g.dispose(),u.O=null,Vr(u.V),u.g&&(g=u.g,u.g=null,g.abort(),g.dispose())}function Ni(u,g){try{var v=u.j;if(v.I!=0&&(v.g==u||Oi(v.h,u))){if(!u.L&&Oi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(g)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ca(v),zs(v);else break e;qr(v),Ze(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Oe(_(v.Va,v),6e3));Di(v.h)<=1&&v.ta&&(v.ta=void 0)}else Li(v,11)}else if((u.L||v.g==u)&&Ca(v),!x(g))for(U=v.Ba.g.parse(g),g=0;g<U.length;g++){let We=U[g];const _t=We[0];if(!(_t<=v.K))if(v.K=_t,We=We[1],v.I==2)if(We[0]=="c"){v.M=We[1],v.ba=We[2];const Zn=We[3];Zn!=null&&(v.ka=Zn,v.j.info("VER="+v.ka));const Pi=We[4];Pi!=null&&(v.za=Pi,v.j.info("SVER="+v.za));const gi=We[5];gi!=null&&typeof gi=="number"&&gi>0&&(T=1.5*gi,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const pi=u.g;if(pi){const Gr=pi.g?pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gr){var B=T.h;B.g||Gr.indexOf("spdy")==-1&&Gr.indexOf("quic")==-1&&Gr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(jl(B,B.h),B.h=null))}if(T.G){const Ia=pi.g?pi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ia&&(T.wa=Ia,tt(T.J,T.G,Ia))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var ee=u;if(T.na=xu(T,T.L?T.ba:null,T.W),ee.L){Ul(T.h,ee);var Ie=ee,Dt=T.O;Dt&&(Ie.H=Dt),Ie.D&&(Ii(Ie),Ci(Ie)),T.g=ee}else bu(T);v.i.length>0&&Ui(v)}else We[0]!="stop"&&We[0]!="close"||Li(v,7);else v.I==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?Li(v,7):Kl(v):We[0]!="noop"&&v.l&&v.l.qa(We),v.A=0)}}ft(4)}catch{}}var jt=class{constructor(u,g){this.g=u,this.map=g}};function Vl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function kl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Di(u){return u.h?1:u.g?u.g.size:0}function Oi(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function jl(u,g){u.g?u.g.add(g):u.h=g}function Ul(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Vl.prototype.cancel=function(){if(this.i=Ll(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ll(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const v of u.g.values())g=g.concat(v.G);return g}return F(u.i)}var gu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ba(u,g){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let U,B=null;T>=0?(U=u[v].substring(0,T),B=u[v].substring(T+1)):U=u[v],g(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Pn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;u instanceof Pn?(this.l=u.l,tn(this,u.j),this.o=u.o,this.g=u.g,Ms(this,u.u),this.h=u.h,Pl(this,vu(u.i)),this.m=u.m):u&&(g=String(u).match(gu))?(this.l=!1,tn(this,g[1]||"",!0),this.o=Mi(g[2]||""),this.g=Mi(g[3]||"",!0),Ms(this,g[4]),this.h=Mi(g[5]||"",!0),Pl(this,g[6]||"",!0),this.m=Mi(g[7]||"")):(this.l=!1,this.i=new ks(null,this.l))}Pn.prototype.toString=function(){const u=[];var g=this.j;g&&u.push(Ur(g,Ta,!0),":");var v=this.g;return(v||g=="file")&&(u.push("//"),(g=this.o)&&u.push(Ur(g,Ta,!0),"@"),u.push(Un(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ur(v,v.charAt(0)=="/"?zl:pu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ur(v,yu)),u.join("")},Pn.prototype.resolve=function(u){const g=Ut(this);let v=!!u.j;v?tn(g,u.j):v=!!u.o,v?g.o=u.o:v=!!u.g,v?g.g=u.g:v=u.u!=null;var T=u.h;if(v)Ms(g,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=g.h.lastIndexOf("/");U!=-1&&(T=g.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let ee=0;ee<U.length;){const Ie=U[ee++];Ie=="."?T&&ee==U.length&&B.push(""):Ie==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&ee==U.length&&B.push("")):(B.push(Ie),T=!0)}T=B.join("/")}else T=U}return v?g.h=T:v=u.i.toString()!=="",v?Pl(g,vu(u.i)):v=!!u.m,v&&(g.m=u.m),g};function Ut(u){return new Pn(u)}function tn(u,g,v){u.j=v?Mi(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Ms(u,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);u.u=g}else u.u=null}function Pl(u,g,v){g instanceof ks?(u.i=g,Aa(u.i,u.l)):(v||(g=Ur(g,Vs)),u.i=new ks(g,u.l))}function tt(u,g,v){u.i.set(g,v)}function jr(u){return tt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Mi(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ur(u,g,v){return typeof u=="string"?(u=encodeURI(u).replace(g,xn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function xn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ta=/[#\/\?@]/g,pu=/[#\?:]/g,zl=/[#\?]/g,Vs=/[#\?@]/g,yu=/#/g;function ks(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Rn(u){u.g||(u.g=new Map,u.h=0,u.i&&ba(u.i,function(g,v){u.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}s=ks.prototype,s.add=function(u,g){Rn(this),this.i=null,u=js(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(g),this.h+=1,this};function _u(u,g){Rn(u),g=js(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Bl(u,g){return Rn(u),g=js(u,g),u.g.has(g)}s.forEach=function(u,g){Rn(this),this.g.forEach(function(v,T){v.forEach(function(U){u.call(g,U,T,this)},this)},this)};function Hl(u,g){Rn(u);let v=[];if(typeof g=="string")Bl(u,g)&&(v=v.concat(u.g.get(js(u,g))));else for(u=Array.from(u.g.values()),g=0;g<u.length;g++)v=v.concat(u[g]);return v}s.set=function(u,g){return Rn(this),this.i=null,u=js(this,u),Bl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},s.get=function(u,g){return u?(u=Hl(this,u),u.length>0?String(u[0]):g):g};function Sa(u,g,v){_u(u,g),v.length>0&&(u.i=null,u.g.set(js(u,g),F(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(let T=0;T<g.length;T++){var v=g[T];const U=Un(v);v=Hl(this,v);for(let B=0;B<v.length;B++){let ee=U;v[B]!==""&&(ee+="="+Un(v[B])),u.push(ee)}}return this.i=u.join("&")};function vu(u){const g=new ks;return g.i=u.i,u.g&&(g.g=new Map(u.g),g.h=u.h),g}function js(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function Aa(u,g){g&&!u.j&&(Rn(u),u.i=null,u.g.forEach(function(v,T){const U=T.toLowerCase();T!=U&&(_u(this,T),Sa(this,U,v))},u)),u.j=g}function fi(u,g){const v=new he;if(d.Image){const T=new Image;T.onload=S(Wn,v,"TestLoadImage: loaded",!0,g,T),T.onerror=S(Wn,v,"TestLoadImage: error",!1,g,T),T.onabort=S(Wn,v,"TestLoadImage: abort",!1,g,T),T.ontimeout=S(Wn,v,"TestLoadImage: timeout",!1,g,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else g(!1)}function ql(u,g){const v=new he,T=new AbortController,U=setTimeout(()=>{T.abort(),Wn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(U),B.ok?Wn(v,"TestPingServer: ok",!0,g):Wn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),Wn(v,"TestPingServer: error",!1,g)})}function Wn(u,g,v,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(v)}catch{}}function Us(){this.g=new ya}function Vi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Vi,_a),Vi.prototype.g=function(){return new Lr(this.i,this.h)};function Lr(u,g){xt.call(this),this.H=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Lr,xt),s=Lr.prototype,s.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=g,this.readyState=1,di(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(g.body=u),(this.H||d).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ls(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function wa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Ls(this):di(this),this.readyState==3&&wa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ls(this))},s.Na=function(u){this.g&&(this.response=u,Ls(this))},s.ga=function(){this.g&&Ls(this)};function Ls(u){u.readyState=4,u.l=null,u.j=null,u.B=null,di(u)}s.setRequestHeader=function(u,g){this.A.append(u,g)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=g.next();return u.join(`\r
`)};function di(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Lr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Jn(u){let g="";return Ge(u,function(v,T){g+=T,g+=":",g+=v,g+=`\r
`}),g}function Pr(u,g,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=Jn(v),typeof u=="string"?v!=null&&Un(v):tt(u,g,v))}function rt(u){xt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(rt,xt);var ki=/^https?$/i,Gl=["POST","PUT"];s=rt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,g,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():$e.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(B){zr(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)v.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Gl,g,void 0)>=0)||T||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ee]of v)this.g.setRequestHeader(B,ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){zr(this,B)}};function zr(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.o=5,Fl(u),ns(u)}function Fl(u){u.A||(u.A=!0,St(u,"complete"),St(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,St(this,"complete"),St(this,"abort"),ns(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ns(this,!0)),rt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Br(this):this.Xa())},s.Xa=function(){Br(this)};function Br(u){if(u.h&&typeof c<"u"){if(u.v&&mi(u)==4)setTimeout(u.Ca.bind(u),0);else if(St(u,"readystatechange"),mi(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var T;if(T=B===0){let ee=String(u.D).match(gu)[1]||null;!ee&&d.self&&d.self.location&&(ee=d.self.location.protocol.slice(0,-1)),T=!ki.test(ee?ee.toLowerCase():"")}v=T}if(v)St(u,"complete"),St(u,"success");else{u.o=6;try{var U=mi(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Fl(u)}}finally{ns(u)}}}}function ns(u,g){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,g||St(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function mi(u){return u.g?u.g.readyState:0}s.ca=function(){try{return mi(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),Ml(g)}};function an(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function is(u){const g={};u=(u.g&&mi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(x(u[T]))continue;var v=Os(u[T]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=g[U]||[];g[U]=B,B.push(v)}ke(g,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ji(u,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||g}function Ps(u){this.za=0,this.i=[],this.j=new he,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ji("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ji("baseRetryDelayMs",5e3,u),this.Za=ji("retryDelaySeedMs",1e4,u),this.Ta=ji("forwardChannelMaxRetries",2,u),this.va=ji("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Vl(u&&u.concurrentRequestLimit),this.Ba=new Us,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ps.prototype,s.ka=8,s.I=1,s.connect=function(u,g,v,T){Ze(0),this.W=u,this.H=g||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=xu(this,null,this.W),Ui(this)};function Kl(u){if(xa(u),u.I==3){var g=u.V++,v=Ut(u.J);if(tt(v,"SID",u.M),tt(v,"RID",g),tt(v,"TYPE","terminate"),Hr(u,v),g=new Tn(u,u.j,g),g.M=2,g.A=jr(Ut(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(g.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=g.A,v=!0),v||(g.g=Ru(g.j,null),g.g.ea(g.A)),g.F=Date.now(),Ci(g)}wu(u)}function zs(u){u.g&&(Yl(u),u.g.cancel(),u.g=null)}function xa(u){zs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ca(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ui(u){if(!kl(u.h)&&!u.m){u.m=!0;var g=u.Ea;bt||A(),me||(bt(),me=!0),C.add(g,u),u.D=0}}function Ra(u,g){return Di(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=g.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Oe(_(u.Ea,u,g),Au(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Tn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=D(B),ne(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(g+=T,g>4096){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=Eu(this,U,g),v=Ut(this.J),tt(v,"RID",u),tt(v,"CVER",22),this.G&&tt(v,"X-HTTP-Session-Id",this.G),Hr(this,v),B&&(this.R?g="headers="+Un(Jn(B))+"&"+g:this.u&&Pr(v,this.u,B)),jl(this.h,U),this.Ra&&tt(v,"TYPE","init"),this.S?(tt(v,"$req",g),tt(v,"SID","null"),U.U=!0,Ri(U,v,null)):Ri(U,v,g),this.I=2}}else this.I==3&&(u?Ql(this,u):this.i.length==0||kl(this.h)||Ql(this))};function Ql(u,g){var v;g?v=g.l:v=u.V++;const T=Ut(u.J);tt(T,"SID",u.M),tt(T,"RID",v),tt(T,"AID",u.K),Hr(u,T),u.u&&u.o&&Pr(T,u.u,u.o),v=new Tn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),g&&(u.i=g.G.concat(u.i)),g=Eu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),jl(u.h,v),Ri(v,T,g)}function Hr(u,g){u.H&&Ge(u.H,function(v,T){tt(g,T,v)}),u.l&&Ge({},function(v,T){tt(g,T,v)})}function Eu(u,g,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;e:{var U=u.i;let Ie=-1;for(;;){const Dt=["count="+v];Ie==-1?v>0?(Ie=U[0].g,Dt.push("ofs="+Ie)):Ie=0:Dt.push("ofs="+Ie);let We=!0;for(let _t=0;_t<v;_t++){var B=U[_t].g;const Zn=U[_t].map;if(B-=Ie,B<0)Ie=Math.max(0,U[_t].g-100),We=!1;else try{B="req"+B+"_"||"";try{var ee=Zn instanceof Map?Zn:Object.entries(Zn);for(const[Pi,gi]of ee){let pi=gi;y(gi)&&(pi=xi(gi)),Dt.push(B+Pi+"="+encodeURIComponent(pi))}}catch(Pi){throw Dt.push(B+"type="+encodeURIComponent("_badmap")),Pi}}catch{T&&T(Zn)}}if(We){ee=Dt.join("&");break e}}ee=void 0}return u=u.i.splice(0,v),g.G=u,ee}function bu(u){if(!u.g&&!u.v){u.Y=1;var g=u.Da;bt||A(),me||(bt(),me=!0),C.add(g,u),u.A=0}}function qr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Oe(_(u.Da,u),Au(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Tu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Oe(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ze(10),zs(this),Tu(this))};function Yl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Tu(u){u.g=new Tn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var g=Ut(u.na);tt(g,"RID","rpc"),tt(g,"SID",u.M),tt(g,"AID",u.K),tt(g,"CI",u.F?"0":"1"),!u.F&&u.ia&&tt(g,"TO",u.ia),tt(g,"TYPE","xmlhttp"),Hr(u,g),u.u&&u.o&&Pr(g,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=jr(Ut(g)),v.u=null,v.R=!0,va(v,u)}s.Va=function(){this.C!=null&&(this.C=null,zs(this),qr(this),Ze(19))};function Ca(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Su(u,g){var v=null;if(u.g==g){Ca(u),Yl(u),u.g=null;var T=2}else if(Oi(u.h,g))v=g.G,Ul(u.h,g),T=1;else return;if(u.I!=0){if(g.o)if(T==1){v=g.u?g.u.length:0,g=Date.now()-g.F;var U=u.D;T=gn(),St(T,new ue(T,v)),Ui(u)}else bu(u);else if(U=g.m,U==3||U==0&&g.X>0||!(T==1&&Ra(u,g)||T==2&&qr(u)))switch(v&&v.length>0&&(g=u.h,g.i=g.i.concat(v)),U){case 1:Li(u,5);break;case 4:Li(u,10);break;case 3:Li(u,6);break;default:Li(u,2)}}}function Au(u,g){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*g}function Li(u,g){if(u.j.info("Error code "+g),g==2){var v=_(u.bb,u),T=u.Ua;const U=!T;T=new Pn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||tn(T,"https"),jr(T),U?fi(T.toString(),v):ql(T.toString(),v)}else Ze(2);u.I=0,u.l&&u.l.pa(g),wu(u),xa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ze(2)):(this.j.info("Failed to ping google.com"),Ze(1))};function wu(u){if(u.I=0,u.ja=[],u.l){const g=Ll(u.h);(g.length!=0||u.i.length!=0)&&(te(u.ja,g),te(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function xu(u,g,v){var T=v instanceof Pn?Ut(v):new Pn(v);if(T.g!="")g&&(T.g=g+"."+T.g),Ms(T,T.u);else{var U=d.location;T=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;const B=new Pn(null);T&&tn(B,T),g&&(B.g=g),U&&Ms(B,U),v&&(B.h=v),T=B}return v=u.G,g=u.wa,v&&g&&tt(T,v,g),tt(T,"VER",u.ka),Hr(u,T),T}function Ru(u,g,v){if(g&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Aa&&!u.ma?new rt(new Vi({ab:v})):new rt(u.ma),g.Fa(u.L),g}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cu(){}s=Cu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Bs(){}Bs.prototype.g=function(u,g){return new Sn(u,g)};function Sn(u,g){xt.call(this),this.g=new Ps(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(u?u["X-WebChannel-Client-Profile"]=g.sa:u={"X-WebChannel-Client-Profile":g.sa}),this.g.U=u,(u=g&&g.Qb)&&!x(u)&&(this.g.u=u),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!x(g)&&(this.g.G=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new ss(this)}w(Sn,xt),Sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){Kl(this.g)},Sn.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=xi(u),u=v);g.i.push(new jt(g.Ya++,u)),g.I==3&&Ui(g)},Sn.prototype.N=function(){this.g.l=null,delete this.j,Kl(this.g),delete this.g,Sn.Z.N.call(this)};function Iu(u){ie.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const v in g){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}w(Iu,ie);function Nu(){ae.call(this),this.status=1}w(Nu,ae);function ss(u){this.g=u}w(ss,Cu),ss.prototype.ra=function(){St(this.g,"a")},ss.prototype.qa=function(u){St(this.g,new Iu(u))},ss.prototype.pa=function(u){St(this.g,new Nu)},ss.prototype.oa=function(){St(this.g,"b")},Bs.prototype.createWebChannel=Bs.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,CE=function(){return new Bs},RE=function(){return gn()},xE=Te,hm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Zt.NO_ERROR=0,Zt.TIMEOUT=8,Zt.HTTP_ERROR=6,Qc=Zt,kr.COMPLETE="complete",wE=kr,W.EventType=J,J.OPEN="a",J.CLOSE="b",J.ERROR="c",J.MESSAGE="d",xt.prototype.listen=xt.prototype.J,ko=W,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,AE=rt}).apply(typeof kc<"u"?kc:typeof self<"u"?self:typeof window<"u"?window:{});let vn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");let Cl="12.8.0";function Mx(s){Cl=s}const ha=new Nm("@firebase/firestore");function al(){return ha.logLevel}function oe(s,...e){if(ha.logLevel<=Be.DEBUG){const i=e.map(Bm);ha.debug(`Firestore (${Cl}): ${s}`,...i)}}function Rs(s,...e){if(ha.logLevel<=Be.ERROR){const i=e.map(Bm);ha.error(`Firestore (${Cl}): ${s}`,...i)}}function _l(s,...e){if(ha.logLevel<=Be.WARN){const i=e.map(Bm);ha.warn(`Firestore (${Cl}): ${s}`,...i)}}function Bm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function be(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,IE(s,a,i)}function IE(s,e,i){let a=`FIRESTORE (${Cl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Rs(a),new Error(a)}function et(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||IE(e,o,a)}function Ce(s,e){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Is{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class br{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class NE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Vx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(vn.UNAUTHENTICATED)))}shutdown(){}}class kx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class jx{constructor(e){this.t=e,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){et(this.o===void 0,42304);let a=this.i;const o=m=>this.i!==a?(a=this.i,i(m)):Promise.resolve();let c=new br;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new br,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const m=c;e.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},y=m=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((m=>y(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?y(m):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new br)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(et(typeof a.accessToken=="string",31837,{l:a}),new NE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string",2055,{h:e}),new vn(e)}}class Ux{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Lx{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new Ux(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(vn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class R_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Px{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,oi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){et(this.o===void 0,3512);const a=c=>{c.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,oe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new R_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(et(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new R_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function zx(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Hm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=zx(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function He(s,e){return s<e?-1:s>e?1:0}function fm(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=e.charAt(a);if(o!==c)return $d(o)===$d(c)?He(o,c):$d(o)?1:-1}return He(s.length,e.length)}const Bx=55296,Hx=57343;function $d(s){const e=s.charCodeAt(0);return e>=Bx&&e<=Hx}function vl(s,e,i){return s.length===e.length&&s.every(((a,o)=>i(a,e[o])))}const C_="__name__";class Gi{constructor(e,i,a){i===void 0?i=0:i>e.length&&be(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&be(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Gi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Gi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=Gi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return He(e.length,i.length)}static compareSegments(e,i){const a=Gi.isNumericId(e),o=Gi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Gi.extractNumericId(e).compare(Gi.extractNumericId(i)):fm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Er.fromString(e.substring(4,e.length-2))}}class At extends Gi{construct(e,i,a){return new At(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new de($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new At(i)}static emptyPath(){return new At([])}}const qx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends Gi{construct(e,i,a){return new dn(e,i,a)}static isValidIdentifier(e){return qx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===C_}static keyField(){return new dn([C_])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new de($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new de($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new de($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=m,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(a+=y,o++):(c(),o++)}if(c(),d)throw new de($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(i)}static emptyPath(){return new dn([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(At.fromString(e))}static fromName(e){return new ye(At.fromString(e).popFirst(5))}static empty(){return new ye(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&At.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return At.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new At(e.slice()))}}function Gx(s,e,i){if(!i)throw new de($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Fx(s,e,i,a){if(e===!0&&a===!0)throw new de($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function I_(s){if(!ye.isDocumentKey(s))throw new de($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function DE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function qm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":be(12329,{type:typeof s})}function bi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new de($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=qm(s);throw new de($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Ft(s,e){const i={typeString:s};return e&&(i.value=e),i}function lu(s,e){if(!DE(s))throw new de($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new de($.INVALID_ARGUMENT,i);return!0}const N_=-62135596800,D_=1e6;class pt{static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*D_);return new pt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new de($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new de($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<N_)throw new de($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/D_}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lu(e,pt._jsonSchema))return new pt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-N_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pt._jsonSchemaVersion="firestore/timestamp/1.0",pt._jsonSchema={type:Ft("string",pt._jsonSchemaVersion),seconds:Ft("number"),nanoseconds:Ft("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new pt(0,0))}static max(){return new we(new pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Qo=-1;function Kx(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=we.fromTimestamp(a===1e9?new pt(i+1,0):new pt(i,a));return new Sr(o,ye.empty(),e)}function Qx(s){return new Sr(s.readTime,s.key,Qo)}class Sr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Sr(we.min(),ye.empty(),Qo)}static max(){return new Sr(we.max(),ye.empty(),Qo)}}function Yx(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ye.comparator(s.documentKey,e.documentKey),i!==0?i:He(s.largestBatchId,e.largestBatchId))}const Xx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $x{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Il(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==Xx)throw s;oe("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,a)=>{i(e)}))}static reject(e){return new X(((i,a)=>{a(e)}))}static waitFor(e){return new X(((i,a)=>{let o=0,c=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++c,d&&c===o&&i()}),(m=>a(m)))})),d=!0,c===o&&i()}))}static or(e){let i=X.resolve(!1);for(const a of e)i=i.next((o=>o?X.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new X(((a,o)=>{const c=e.length,d=new Array(c);let y=0;for(let m=0;m<c;m++){const _=m;i(e[_]).next((S=>{d[_]=S,++y,y===c&&a(d)}),(S=>o(S)))}}))}static doWhile(e,i){return new X(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function Wx(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Nl(s){return s.name==="IndexedDbTransactionError"}class wh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wh.ce=-1;const Gm=-1;function xh(s){return s==null}function lh(s){return s===0&&1/s==-1/0}function Jx(s){return typeof s=="number"&&Number.isInteger(s)&&!lh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const OE="";function Zx(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=O_(e)),e=e2(s.get(i),e);return O_(e)}function e2(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case OE:i+="";break;default:i+=c}}return i}function O_(s){return s+OE+""}function M_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Ir(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function ME(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class wt{constructor(e,i){this.comparator=e,this.root=i||fn.EMPTY}insert(e,i){return new wt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jc(this.root,e,this.comparator,!1)}getReverseIterator(){return new jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jc(this.root,e,this.comparator,!0)}}class jc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??fn.RED,this.left=o??fn.EMPTY,this.right=c??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new fn(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return fn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new fn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wt{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new V_(this.data.getIterator())}getIteratorFrom(e){return new V_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Wt(this.comparator);return i.data=e,i}}class V_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Qn{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new Qn([])}unionWith(e){let i=new Wt(dn.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Qn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return vl(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class VE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class mn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new VE("Invalid base64 string: "+c):c}})(e);return new mn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new mn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const t2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ar(s){if(et(!!s,39018),typeof s=="string"){let e=0;const i=t2.exec(s);if(et(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Vt(s.seconds),nanos:Vt(s.nanos)}}function Vt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function wr(s){return typeof s=="string"?mn.fromBase64String(s):mn.fromUint8Array(s)}const kE="server_timestamp",jE="__type__",UE="__previous_value__",LE="__local_write_time__";function Fm(s){return(s?.mapValue?.fields||{})[jE]?.stringValue===kE}function Rh(s){const e=s.mapValue.fields[UE];return Fm(e)?Rh(e):e}function Yo(s){const e=Ar(s.mapValue.fields[LE].timestampValue);return new pt(e.seconds,e.nanos)}class n2{constructor(e,i,a,o,c,d,y,m,_,S,w){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=m,this.useFetchStreams=_,this.isUsingEmulator=S,this.apiKey=w}}const oh="(default)";class Xo{constructor(e,i){this.projectId=e,this.database=i||oh}static empty(){return new Xo("","")}get isDefaultDatabase(){return this.database===oh}isEqual(e){return e instanceof Xo&&e.projectId===this.projectId&&e.database===this.database}}function i2(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new de($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xo(s.options.projectId,e)}const PE="__type__",s2="__max__",Uc={mapValue:{}},zE="__vector__",uh="value";function xr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Fm(s)?4:a2(s)?9007199254740991:r2(s)?10:11:be(28295,{value:s})}function $i(s,e){if(s===e)return!0;const i=xr(s);if(i!==xr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Yo(s).isEqual(Yo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Ar(o.timestampValue),y=Ar(c.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return wr(o.bytesValue).isEqual(wr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return Vt(o.geoPointValue.latitude)===Vt(c.geoPointValue.latitude)&&Vt(o.geoPointValue.longitude)===Vt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Vt(o.integerValue)===Vt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Vt(o.doubleValue),y=Vt(c.doubleValue);return d===y?lh(d)===lh(y):isNaN(d)&&isNaN(y)}return!1})(s,e);case 9:return vl(s.arrayValue.values||[],e.arrayValue.values||[],$i);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},y=c.mapValue.fields||{};if(M_(d)!==M_(y))return!1;for(const m in d)if(d.hasOwnProperty(m)&&(y[m]===void 0||!$i(d[m],y[m])))return!1;return!0})(s,e);default:return be(52216,{left:s})}}function $o(s,e){return(s.values||[]).find((i=>$i(i,e)))!==void 0}function El(s,e){if(s===e)return 0;const i=xr(s),a=xr(e);if(i!==a)return He(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return He(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const y=Vt(c.integerValue||c.doubleValue),m=Vt(d.integerValue||d.doubleValue);return y<m?-1:y>m?1:y===m?0:isNaN(y)?isNaN(m)?0:-1:1})(s,e);case 3:return k_(s.timestampValue,e.timestampValue);case 4:return k_(Yo(s),Yo(e));case 5:return fm(s.stringValue,e.stringValue);case 6:return(function(c,d){const y=wr(c),m=wr(d);return y.compareTo(m)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const y=c.split("/"),m=d.split("/");for(let _=0;_<y.length&&_<m.length;_++){const S=He(y[_],m[_]);if(S!==0)return S}return He(y.length,m.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const y=He(Vt(c.latitude),Vt(d.latitude));return y!==0?y:He(Vt(c.longitude),Vt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return j_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const y=c.fields||{},m=d.fields||{},_=y[uh]?.arrayValue,S=m[uh]?.arrayValue,w=He(_?.values?.length||0,S?.values?.length||0);return w!==0?w:j_(_,S)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Uc.mapValue&&d===Uc.mapValue)return 0;if(c===Uc.mapValue)return 1;if(d===Uc.mapValue)return-1;const y=c.fields||{},m=Object.keys(y),_=d.fields||{},S=Object.keys(_);m.sort(),S.sort();for(let w=0;w<m.length&&w<S.length;++w){const M=fm(m[w],S[w]);if(M!==0)return M;const F=El(y[m[w]],_[S[w]]);if(F!==0)return F}return He(m.length,S.length)})(s.mapValue,e.mapValue);default:throw be(23264,{he:i})}}function k_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return He(s,e);const i=Ar(s),a=Ar(e),o=He(i.seconds,a.seconds);return o!==0?o:He(i.nanos,a.nanos)}function j_(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=El(i[o],a[o]);if(c)return c}return He(i.length,a.length)}function bl(s){return dm(s)}function dm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=Ar(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return wr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ye.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=dm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${dm(i.fields[d])}`;return o+"}"})(s.mapValue):be(61005,{value:s})}function Yc(s){switch(xr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rh(s);return e?16+Yc(e):16;case 5:return 2*s.stringValue.length;case 6:return wr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Yc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return Ir(a.fields,((c,d)=>{o+=c.length+Yc(d)})),o})(s.mapValue);default:throw be(13486,{value:s})}}function mm(s){return!!s&&"integerValue"in s}function Km(s){return!!s&&"arrayValue"in s}function U_(s){return!!s&&"nullValue"in s}function L_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Xc(s){return!!s&&"mapValue"in s}function r2(s){return(s?.mapValue?.fields||{})[PE]?.stringValue===zE}function Bo(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Ir(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Bo(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Bo(s.arrayValue.values[i]);return e}return{...s}}function a2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===s2}class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Xc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bo(i)}setAll(e){let i=dn.emptyPath(),a={},o=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const m=this.getFieldsMap(i);this.applyChanges(m,a,o),a={},o=[],i=y.popLast()}d?a[y.lastSegment()]=Bo(d):o.push(y.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());Xc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return $i(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Xc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Ir(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new kn(Bo(this.value))}}function BE(s){const e=[];return Ir(s.fields,((i,a)=>{const o=new dn([i]);if(Xc(a)){const c=BE(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Qn(e)}class En{constructor(e,i,a,o,c,d,y){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=y}static newInvalidDocument(e){return new En(e,0,we.min(),we.min(),we.min(),kn.empty(),0)}static newFoundDocument(e,i,a,o){return new En(e,1,i,we.min(),a,o,0)}static newNoDocument(e,i){return new En(e,2,i,we.min(),we.min(),kn.empty(),0)}static newUnknownDocument(e,i){return new En(e,3,i,we.min(),we.min(),kn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof En&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ch{constructor(e,i){this.position=e,this.inclusive=i}}function P_(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?a=ye.comparator(ye.fromName(d.referenceValue),i.key):a=El(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function z_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!$i(s.position[i],e.position[i]))return!1;return!0}class hh{constructor(e,i="asc"){this.field=e,this.dir=i}}function l2(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class HE{}class $t extends HE{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new u2(e,i,a):i==="array-contains"?new f2(e,a):i==="in"?new d2(e,a):i==="not-in"?new m2(e,a):i==="array-contains-any"?new g2(e,a):new $t(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new c2(e,a):new h2(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(El(i,this.value)):i!==null&&xr(this.value)===xr(i)&&this.matchesComparison(El(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wi extends HE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Wi(e,i)}matches(e){return qE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function qE(s){return s.op==="and"}function GE(s){return o2(s)&&qE(s)}function o2(s){for(const e of s.filters)if(e instanceof Wi)return!1;return!0}function gm(s){if(s instanceof $t)return s.field.canonicalString()+s.op.toString()+bl(s.value);if(GE(s))return s.filters.map((e=>gm(e))).join(",");{const e=s.filters.map((i=>gm(i))).join(",");return`${s.op}(${e})`}}function FE(s,e){return s instanceof $t?(function(a,o){return o instanceof $t&&a.op===o.op&&a.field.isEqual(o.field)&&$i(a.value,o.value)})(s,e):s instanceof Wi?(function(a,o){return o instanceof Wi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,y)=>c&&FE(d,o.filters[y])),!0):!1})(s,e):void be(19439)}function KE(s){return s instanceof $t?(function(i){return`${i.field.canonicalString()} ${i.op} ${bl(i.value)}`})(s):s instanceof Wi?(function(i){return i.op.toString()+" {"+i.getFilters().map(KE).join(" ,")+"}"})(s):"Filter"}class u2 extends $t{constructor(e,i,a){super(e,i,a),this.key=ye.fromName(a.referenceValue)}matches(e){const i=ye.comparator(e.key,this.key);return this.matchesComparison(i)}}class c2 extends $t{constructor(e,i){super(e,"in",i),this.keys=QE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class h2 extends $t{constructor(e,i){super(e,"not-in",i),this.keys=QE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function QE(s,e){return(e.arrayValue?.values||[]).map((i=>ye.fromName(i.referenceValue)))}class f2 extends $t{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Km(i)&&$o(i.arrayValue,this.value)}}class d2 extends $t{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&$o(this.value.arrayValue,i)}}class m2 extends $t{constructor(e,i){super(e,"not-in",i)}matches(e){if($o(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!$o(this.value.arrayValue,i)}}class g2 extends $t{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Km(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>$o(this.value.arrayValue,a)))}}class p2{constructor(e,i=null,a=[],o=[],c=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=y,this.Te=null}}function B_(s,e=null,i=[],a=[],o=null,c=null,d=null){return new p2(s,e,i,a,o,c,d)}function Qm(s){const e=Ce(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>gm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),xh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>bl(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>bl(a))).join(",")),e.Te=i}return e.Te}function Ym(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!l2(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!FE(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!z_(s.startAt,e.startAt)&&z_(s.endAt,e.endAt)}function pm(s){return ye.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Ch{constructor(e,i=null,a=[],o=[],c=null,d="F",y=null,m=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=y,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function y2(s,e,i,a,o,c,d,y){return new Ch(s,e,i,a,o,c,d,y)}function Ih(s){return new Ch(s)}function H_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function _2(s){return ye.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function v2(s){return s.collectionGroup!==null}function Ho(s){const e=Ce(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Wt(dn.comparator);return d.filters.forEach((m=>{m.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new hh(c,a))})),i.has(dn.keyField().canonicalString())||e.Ie.push(new hh(dn.keyField(),a))}return e.Ie}function Qi(s){const e=Ce(s);return e.Ee||(e.Ee=E2(e,Ho(s))),e.Ee}function E2(s,e){if(s.limitType==="F")return B_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new hh(o.field,c)}));const i=s.endAt?new ch(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new ch(s.startAt.position,s.startAt.inclusive):null;return B_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function ym(s,e,i){return new Ch(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Nh(s,e){return Ym(Qi(s),Qi(e))&&s.limitType===e.limitType}function YE(s){return`${Qm(Qi(s))}|lt:${s.limitType}`}function ll(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>KE(o))).join(", ")}]`),xh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>bl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>bl(o))).join(",")),`Target(${a})`})(Qi(s))}; limitType=${s.limitType})`}function Dh(s,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ye.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,o){for(const c of Ho(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(d,y,m){const _=P_(d,y,m);return d.inclusive?_<=0:_<0})(a.startAt,Ho(a),o)||a.endAt&&!(function(d,y,m){const _=P_(d,y,m);return d.inclusive?_>=0:_>0})(a.endAt,Ho(a),o))})(s,e)}function b2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function XE(s){return(e,i)=>{let a=!1;for(const o of Ho(s)){const c=T2(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function T2(s,e,i){const a=s.field.isKeyField()?ye.comparator(e.key,i.key):(function(c,d,y){const m=d.data.field(c),_=y.data.field(c);return m!==null&&_!==null?El(m,_):be(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return be(19790,{direction:s.dir})}}class ma{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ir(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return ME(this.inner)}size(){return this.innerSize}}const S2=new wt(ye.comparator);function Cs(){return S2}const $E=new wt(ye.comparator);function jo(...s){let e=$E;for(const i of s)e=e.insert(i.key,i);return e}function WE(s){let e=$E;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function la(){return qo()}function JE(){return qo()}function qo(){return new ma((s=>s.toString()),((s,e)=>s.isEqual(e)))}const A2=new wt(ye.comparator),w2=new Wt(ye.comparator);function qe(...s){let e=w2;for(const i of s)e=e.add(i);return e}const x2=new Wt(He);function R2(){return x2}function Xm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lh(e)?"-0":e}}function ZE(s){return{integerValue:""+s}}function C2(s,e){return Jx(e)?ZE(e):Xm(s,e)}class Oh{constructor(){this._=void 0}}function I2(s,e,i){return s instanceof fh?(function(o,c){const d={fields:{[jE]:{stringValue:kE},[LE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Fm(c)&&(c=Rh(c)),c&&(d.fields[UE]=c),{mapValue:d}})(i,e):s instanceof Tl?tb(s,e):s instanceof Wo?nb(s,e):(function(o,c){const d=eb(o,c),y=q_(d)+q_(o.Ae);return mm(d)&&mm(o.Ae)?ZE(y):Xm(o.serializer,y)})(s,e)}function N2(s,e,i){return s instanceof Tl?tb(s,e):s instanceof Wo?nb(s,e):i}function eb(s,e){return s instanceof dh?(function(a){return mm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class fh extends Oh{}class Tl extends Oh{constructor(e){super(),this.elements=e}}function tb(s,e){const i=ib(e);for(const a of s.elements)i.some((o=>$i(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Wo extends Oh{constructor(e){super(),this.elements=e}}function nb(s,e){let i=ib(e);for(const a of s.elements)i=i.filter((o=>!$i(o,a)));return{arrayValue:{values:i}}}class dh extends Oh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function q_(s){return Vt(s.integerValue||s.doubleValue)}function ib(s){return Km(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class D2{constructor(e,i){this.field=e,this.transform=i}}function O2(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof Tl&&o instanceof Tl||a instanceof Wo&&o instanceof Wo?vl(a.elements,o.elements,$i):a instanceof dh&&o instanceof dh?$i(a.Ae,o.Ae):a instanceof fh&&o instanceof fh})(s.transform,e.transform)}class M2{constructor(e,i){this.version=e,this.transformResults=i}}class Ti{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ti}static exists(e){return new Ti(void 0,e)}static updateTime(e){return new Ti(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $c(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Mh{}function sb(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new $m(s.key,Ti.none()):new ou(s.key,s.data,Ti.none());{const i=s.data,a=kn.empty();let o=new Wt(dn.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new Nr(s.key,a,new Qn(o.toArray()),Ti.none())}}function V2(s,e,i){s instanceof ou?(function(o,c,d){const y=o.value.clone(),m=F_(o.fieldTransforms,c,d.transformResults);y.setAll(m),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):s instanceof Nr?(function(o,c,d){if(!$c(o.precondition,c))return void c.convertToUnknownDocument(d.version);const y=F_(o.fieldTransforms,c,d.transformResults),m=c.data;m.setAll(rb(o)),m.setAll(y),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Go(s,e,i,a){return s instanceof ou?(function(c,d,y,m){if(!$c(c.precondition,d))return y;const _=c.value.clone(),S=K_(c.fieldTransforms,m,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,a):s instanceof Nr?(function(c,d,y,m){if(!$c(c.precondition,d))return y;const _=K_(c.fieldTransforms,m,d),S=d.data;return S.setAll(rb(c)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,e,i,a):(function(c,d,y){return $c(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(s,e,i)}function k2(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),c=eb(a.transform,o||null);c!=null&&(i===null&&(i=kn.empty()),i.set(a.field,c))}return i||null}function G_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&vl(a,o,((c,d)=>O2(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class ou extends Mh{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Nr extends Mh{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function rb(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function F_(s,e,i){const a=new Map;et(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,y=e.data.field(c.field);a.set(c.field,N2(d,y,i[o]))}return a}function K_(s,e,i){const a=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);a.set(o.field,I2(c,d,e))}return a}class $m extends Mh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class j2 extends Mh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class U2{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&V2(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Go(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Go(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=JE();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let y=this.applyToLocalView(d,c.mutatedFields);y=i.has(o.key)?null:y;const m=sb(d,y);m!==null&&a.set(o.key,m),d.isValidDocument()||d.convertToNoDocument(we.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),qe())}isEqual(e){return this.batchId===e.batchId&&vl(this.mutations,e.mutations,((i,a)=>G_(i,a)))&&vl(this.baseMutations,e.baseMutations,((i,a)=>G_(i,a)))}}class Wm{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){et(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return A2})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Wm(e,i,a,o)}}class L2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class P2{constructor(e,i){this.count=e,this.unchangedNames=i}}var Gt,Ke;function z2(s){switch(s){case $.OK:return be(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return be(15467,{code:s})}}function ab(s){if(s===void 0)return Rs("GRPC error has no .code"),$.UNKNOWN;switch(s){case Gt.OK:return $.OK;case Gt.CANCELLED:return $.CANCELLED;case Gt.UNKNOWN:return $.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return $.INTERNAL;case Gt.UNAVAILABLE:return $.UNAVAILABLE;case Gt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Gt.NOT_FOUND:return $.NOT_FOUND;case Gt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Gt.ABORTED:return $.ABORTED;case Gt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Gt.DATA_LOSS:return $.DATA_LOSS;default:return be(39323,{code:s})}}(Ke=Gt||(Gt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";function B2(){return new TextEncoder}const H2=new Er([4294967295,4294967295],0);function Q_(s){const e=B2().encode(s),i=new SE;return i.update(e),new Uint8Array(i.digest())}function Y_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Er([i,a],0),new Er([o,c],0)]}class Jm{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Uo(`Invalid padding: ${i}`);if(a<0)throw new Uo(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Uo(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Uo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Er.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(Er.fromNumber(a)));return o.compare(H2)===1&&(o=new Er([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Q_(e),[a,o]=Y_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Jm(c,o,i);return a.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=Q_(e),[a,o]=Y_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.be(d)}}be(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Uo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vh{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,uu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Vh(we.min(),o,new wt(He),Cs(),qe())}}class uu{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new uu(a,i,qe(),qe(),qe())}}class Wc{constructor(e,i,a,o){this.Se=e,this.removedTargetIds=i,this.key=a,this.De=o}}class lb{constructor(e,i){this.targetId=e,this.Ce=i}}class ob{constructor(e,i,a=mn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class X_{constructor(){this.ve=0,this.Fe=$_(),this.Me=mn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),i=qe(),a=qe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:be(38017,{changeType:c})}})),new uu(this.Me,this.xe,e,i,a)}Ke(){this.Oe=!1,this.Fe=$_()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,et(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class q2{constructor(e){this.Ge=e,this.ze=new Map,this.je=Cs(),this.He=Lc(),this.Je=Lc(),this.Ze=new wt(He)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(pm(c))if(a===0){const d=new ye(c.path);this.et(i,d,En.newNoDocument(d,we.min()))}else et(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const y=this.ut(e),m=y?this.ct(y,e,d):1;if(m!==0){this.it(i);const _=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,y;try{d=wr(a).toUint8Array()}catch(m){if(m instanceof VE)return _l("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{y=new Jm(d,o,c)}catch(m){return _l(m instanceof Uo?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return y.ge===0?null:y}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(y)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const y=this.ot(d);if(y){if(c.current&&pm(y.target)){const m=new ye(y.target.path);this.It(m).has(d)||this.Et(d,m)||this.et(d,m,En.newNoDocument(m,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=qe();this.Je.forEach(((c,d)=>{let y=!0;d.forEachWhile((m=>{const _=this.ot(m);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Vh(e,i,this.Ze,this.je,a);return this.je=Cs(),this.He=Lc(),this.Je=Lc(),this.Ze=new wt(He),o}Ye(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new X_,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Wt(He),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Wt(He),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||oe("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new X_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Lc(){return new wt(ye.comparator)}function $_(){return new wt(ye.comparator)}const G2={asc:"ASCENDING",desc:"DESCENDING"},F2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},K2={and:"AND",or:"OR"};class Q2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function _m(s,e){return s.useProto3Json||xh(e)?e:{value:e}}function mh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ub(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Y2(s,e){return mh(s,e.toTimestamp())}function Yi(s){return et(!!s,49232),we.fromTimestamp((function(i){const a=Ar(i);return new pt(a.seconds,a.nanos)})(s))}function Zm(s,e){return vm(s,e).canonicalString()}function vm(s,e){const i=(function(o){return new At(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function cb(s){const e=At.fromString(s);return et(gb(e),10190,{key:e.toString()}),e}function Em(s,e){return Zm(s.databaseId,e.path)}function Wd(s,e){const i=cb(e);if(i.get(1)!==s.databaseId.projectId)throw new de($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new de($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ye(fb(i))}function hb(s,e){return Zm(s.databaseId,e)}function X2(s){const e=cb(s);return e.length===4?At.emptyPath():fb(e)}function bm(s){return new At(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function fb(s){return et(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function W_(s,e,i){return{name:Em(s,e),fields:i.value.mapValue.fields}}function $2(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:be(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,S){return _.useProto3Json?(et(S===void 0||typeof S=="string",58123),mn.fromBase64String(S||"")):(et(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),mn.fromUint8Array(S||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const S=_.code===void 0?$.UNKNOWN:ab(_.code);return new de(S,_.message||"")})(d);i=new ob(a,o,c,y||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Wd(s,a.document.name),c=Yi(a.document.updateTime),d=a.document.createTime?Yi(a.document.createTime):we.min(),y=new kn({mapValue:{fields:a.document.fields}}),m=En.newFoundDocument(o,c,d,y),_=a.targetIds||[],S=a.removedTargetIds||[];i=new Wc(_,S,m.key,m)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Wd(s,a.document),c=a.readTime?Yi(a.readTime):we.min(),d=En.newNoDocument(o,c),y=a.removedTargetIds||[];i=new Wc([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Wd(s,a.document),c=a.removedTargetIds||[];i=new Wc([],c,o,null)}else{if(!("filter"in e))return be(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new P2(o,c),y=a.targetId;i=new lb(y,d)}}return i}function W2(s,e){let i;if(e instanceof ou)i={update:W_(s,e.key,e.value)};else if(e instanceof $m)i={delete:Em(s,e.key)};else if(e instanceof Nr)i={update:W_(s,e.key,e.data),updateMask:aR(e.fieldMask)};else{if(!(e instanceof j2))return be(16599,{dt:e.type});i={verify:Em(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const y=d.transform;if(y instanceof fh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Tl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Wo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof dh)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw be(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:Y2(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:be(27497)})(s,e.precondition)),i}function J2(s,e){return s&&s.length>0?(et(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?Yi(o.updateTime):Yi(c);return d.isEqual(we.min())&&(d=Yi(c)),new M2(d,o.transformResults||[])})(i,e)))):[]}function Z2(s,e){return{documents:[hb(s,e.path)]}}function eR(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=hb(s,o);const c=(function(_){if(_.length!==0)return mb(Wi.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((S=>(function(M){return{field:ol(M.field),direction:iR(M.dir)}})(S)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=_m(s,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function tR(s){let e=X2(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){et(a===1,65062);const S=i.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let c=[];i.where&&(c=(function(w){const M=db(w);return M instanceof Wi&&GE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((M=>(function(te){return new hh(ul(te.field),(function(se){switch(se){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(te.direction))})(M)))})(i.orderBy));let y=null;i.limit&&(y=(function(w){let M;return M=typeof w=="object"?w.value:w,xh(M)?null:M})(i.limit));let m=null;i.startAt&&(m=(function(w){const M=!!w.before,F=w.values||[];return new ch(F,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(w){const M=!w.before,F=w.values||[];return new ch(F,M)})(i.endAt)),y2(e,o,d,c,y,"F",m,_)}function nR(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function db(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ul(i.unaryFilter.field);return $t.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=ul(i.unaryFilter.field);return $t.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ul(i.unaryFilter.field);return $t.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ul(i.unaryFilter.field);return $t.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(s):s.fieldFilter!==void 0?(function(i){return $t.create(ul(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Wi.create(i.compositeFilter.filters.map((a=>db(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(i.compositeFilter.op))})(s):be(30097,{filter:s})}function iR(s){return G2[s]}function sR(s){return F2[s]}function rR(s){return K2[s]}function ol(s){return{fieldPath:s.canonicalString()}}function ul(s){return dn.fromServerFormat(s.fieldPath)}function mb(s){return s instanceof $t?(function(i){if(i.op==="=="){if(L_(i.value))return{unaryFilter:{field:ol(i.field),op:"IS_NAN"}};if(U_(i.value))return{unaryFilter:{field:ol(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(L_(i.value))return{unaryFilter:{field:ol(i.field),op:"IS_NOT_NAN"}};if(U_(i.value))return{unaryFilter:{field:ol(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ol(i.field),op:sR(i.op),value:i.value}}})(s):s instanceof Wi?(function(i){const a=i.getFilters().map((o=>mb(o)));return a.length===1?a[0]:{compositeFilter:{op:rR(i.op),filters:a}}})(s):be(54877,{filter:s})}function aR(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function gb(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function pb(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class pr{constructor(e,i,a,o,c=we.min(),d=we.min(),y=mn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=m}withSequenceNumber(e){return new pr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class lR{constructor(e){this.yt=e}}function oR(s){const e=tR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?ym(e,e.limit,"L"):e}class uR{constructor(){this.Sn=new cR}addToCollectionParentIndex(e,i){return this.Sn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(Sr.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(Sr.min())}updateCollectionGroup(e,i,a){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class cR{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Wt(At.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Wt(At.comparator)).toArray()}}const J_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yb=41943040;class Vn{static withCacheSize(e){return new Vn(e,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(yb,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);class Sl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Sl(0)}static ar(){return new Sl(-1)}}const Z_="LruGarbageCollector",hR=1048576;function ev([s,e],[i,a]){const o=He(s,i);return o===0?He(e,a):o}class fR{constructor(e){this.Pr=e,this.buffer=new Wt(ev),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();ev(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class dR{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){oe(Z_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Nl(i)?oe(Z_,"Ignoring IndexedDB error during garbage collection: ",i):await Il(i)}await this.Ar(3e5)}))}}class mR{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(wh.ce);const a=new fR(i);return this.Vr.forEachTarget(e,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.Vr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(J_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),J_):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let a,o,c,d,y,m,_;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(a=w,y=Date.now(),this.removeTargets(e,a,i)))).next((w=>(c=w,m=Date.now(),this.removeOrphanedDocuments(e,a)))).next((w=>(_=Date.now(),al()<=Be.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${c} targets in `+(m-y)+`ms
	Removed ${w} documents in `+(_-m)+`ms
Total Duration: ${_-S}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w}))))}}function gR(s,e){return new mR(s,e)}class pR{constructor(){this.changes=new ma((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class _R{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&Go(a.mutation,o,Qn.empty(),pt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,qe()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=qe()){const o=la();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=jo();return c.forEach(((y,m)=>{d=d.insert(y,m.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=la();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,qe())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,a,o){let c=Cs();const d=qo(),y=(function(){return qo()})();return i.forEach(((m,_)=>{const S=a.get(_.key);o.has(_.key)&&(S===void 0||S.mutation instanceof Nr)?c=c.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),Go(S.mutation,_,S.mutation.getFieldMask(),pt.now())):d.set(_.key,Qn.empty())})),this.recalculateAndSaveOverlays(e,c).next((m=>(m.forEach(((_,S)=>d.set(_,S))),i.forEach(((_,S)=>y.set(_,new yR(S,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const a=qo();let o=new wt(((d,y)=>d-y)),c=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((m=>{const _=i.get(m);if(_===null)return;let S=a.get(m)||Qn.empty();S=y.applyToLocalView(_,S),a.set(m,S);const w=(o.get(y.batchId)||qe()).add(m);o=o.insert(y.batchId,w)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const m=y.getNext(),_=m.key,S=m.value,w=JE();S.forEach((M=>{if(!c.has(M)){const F=sb(i.get(M),a.get(M));F!==null&&w.set(M,F),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,w))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return _2(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):v2(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):X.resolve(la());let y=Qo,m=c;return d.next((_=>X.forEach(_,((S,w)=>(y<w.largestBatchId&&(y=w.largestBatchId),c.get(S)?X.resolve():this.remoteDocumentCache.getEntry(e,S).next((M=>{m=m.insert(S,M)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,m,_,qe()))).next((S=>({batchId:y,changes:WE(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ye(i)).next((a=>{let o=jo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=jo();return this.indexManager.getCollectionParents(e,c).next((y=>X.forEach(y,(m=>{const _=(function(w,M){return new Ch(M,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,m.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((S=>{S.forEach(((w,M)=>{d=d.insert(w,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((m,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,En.newInvalidDocument(S)))}));let y=jo();return d.forEach(((m,_)=>{const S=c.get(m);S!==void 0&&Go(S.mutation,_,Qn.empty(),pt.now()),Dh(i,_)&&(y=y.insert(m,_))})),y}))}}class vR{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Yi(o.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:oR(o.bundledQuery),readTime:Yi(o.readTime)}})(i)),X.resolve()}}class ER{constructor(){this.overlays=new wt(ye.comparator),this.Lr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const a=la();return X.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.bt(e,i,c)})),X.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.Lr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),X.resolve()}getOverlaysForCollection(e,i,a){const o=la(),c=i.length+1,d=new ye(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const m=y.getNext().value,_=m.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&m.largestBatchId>a&&o.set(m.getKey(),m)}return X.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new wt(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let S=c.get(_.largestBatchId);S===null&&(S=la(),c=c.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const y=la(),m=c.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((_,S)=>y.set(_,S))),!(y.size()>=o)););return X.resolve(y)}bt(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(a.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new L2(i,a));let c=this.Lr.get(i);c===void 0&&(c=qe(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class bR{constructor(){this.sessionToken=mn.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}class eg{constructor(){this.kr=new Wt(sn.Kr),this.qr=new Wt(sn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const a=new sn(e,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Wr(new sn(e,i))}Qr(e,i){e.forEach((a=>this.removeReference(a,i)))}Gr(e){const i=new ye(new At([])),a=new sn(i,e),o=new sn(i,e+1),c=[];return this.qr.forEachInRange([a,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new ye(new At([])),a=new sn(i,e),o=new sn(i,e+1);let c=qe();return this.qr.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new sn(e,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class sn{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return ye.comparator(e.key,i.key)||He(e.Hr,i.Hr)}static Ur(e,i){return He(e.Hr,i.Hr)||ye.comparator(e.key,i.key)}}class TR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Wt(sn.Kr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new U2(c,i,a,o);this.mutationQueue.push(d);for(const y of o)this.Jr=this.Jr.add(new sn(y.key,c)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.Xr(a),c=o<0?0:o;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Gm:this.Yn-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new sn(i,0),o=new sn(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,o],(d=>{const y=this.Zr(d.Hr);c.push(y)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Wt(He);return i.forEach((o=>{const c=new sn(o,0),d=new sn(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(y=>{a=a.add(y.Hr)}))})),X.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;ye.isDocumentKey(c)||(c=c.child(""));const d=new sn(new ye(c),0);let y=new Wt(He);return this.Jr.forEachWhile((m=>{const _=m.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(y=y.add(m.Hr)),!0)}),d),X.resolve(this.Yr(y))}Yr(e){const i=[];return e.forEach((a=>{const o=this.Zr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){et(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return X.forEach(i.mutations,(o=>{const c=new sn(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,i){const a=new sn(i,0),o=this.Jr.firstAfterOrEqual(a);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class SR{constructor(e){this.ti=e,this.docs=(function(){return new wt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():En.newInvalidDocument(i))}getEntries(e,i){let a=Cs();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():En.newInvalidDocument(o))})),X.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=Cs();const d=i.path,y=new ye(d.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(y);for(;m.hasNext();){const{key:_,value:{document:S}}=m.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Yx(Qx(S),a)<=0||(o.has(S.key)||Dh(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(e,i,a,o){be(9500)}ni(e,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new AR(this)}getSize(e){return X.resolve(this.size)}}class AR extends pR{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(a)})),X.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class wR{constructor(e){this.persistence=e,this.ri=new ma((i=>Qm(i)),Ym),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.ii=0,this.si=new eg,this.targetCount=0,this.oi=Sl._r()}forEachTarget(e,i){return this.ri.forEach(((a,o)=>i(o))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),X.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new Sl(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.lr(i),X.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.ri.forEach(((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),X.waitFor(c).next((()=>o))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const a=this.ri.get(i)||null;return X.resolve(a)}addMatchingKeys(e,i,a){return this.si.$r(i,a),X.resolve()}removeMatchingKeys(e,i,a){this.si.Qr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const a=this.si.jr(i);return X.resolve(a)}containsKey(e,i){return X.resolve(this.si.containsKey(i))}}class _b{constructor(e,i){this._i={},this.overlays={},this.ai=new wh(0),this.ui=!1,this.ui=!0,this.ci=new bR,this.referenceDelegate=e(this),this.li=new wR(this),this.indexManager=new uR,this.remoteDocumentCache=(function(o){return new SR(o)})((a=>this.referenceDelegate.hi(a))),this.serializer=new lR(i),this.Pi=new vR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new ER,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this._i[e.toKey()];return a||(a=new TR(i,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,a){oe("MemoryPersistence","Starting transaction:",e);const o=new xR(this.ai.next());return this.referenceDelegate.Ti(),a(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,i){return X.or(Object.values(this._i).map((a=>()=>a.containsKey(e,i))))}}class xR extends $x{constructor(e){super(),this.currentSequenceNumber=e}}class tg{constructor(e){this.persistence=e,this.Ri=new eg,this.Ai=null}static Vi(e){return new tg(e)}get di(){if(this.Ai)return this.Ai;throw be(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),X.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(a=>{const o=ye.fromPath(a);return this.mi(e,o).next((c=>{c||i.removeEntry(o,we.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class gh{constructor(e,i){this.persistence=e,this.fi=new ma((a=>Zx(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=gR(this,i)}static Vi(e,i){return new gh(e,i)}Ti(){}Ii(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}pr(e){let i=0;return this.mr(e,(a=>{i++})).next((()=>i))}mr(e,i){return X.forEach(this.fi,((a,o)=>this.wr(e,a,o).next((c=>c?X.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((y=>{y||(a++,c.removeEntry(d,we.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),X.resolve()}removeReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),X.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Yc(e.data.value)),i}wr(e,i,a){return X.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return X.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ng{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Ts=a,this.Is=o}static Es(e,i){let a=qe(),o=qe();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new ng(e,i.fromCache,a,o)}}class RR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class CR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return fS()?8:Wx(bn())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new RR;return this.ys(e,i,d).next((y=>{if(c.result=y,this.As)return this.ws(e,i,d,y.size)}))})).next((()=>c.result))}ws(e,i,a,o){return a.documentReadCount<this.Vs?(al()<=Be.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",ll(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(al()<=Be.DEBUG&&oe("QueryEngine","Query:",ll(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(al()<=Be.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",ll(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qi(i))):X.resolve())}gs(e,i){if(H_(i))return X.resolve(null);let a=Qi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=ym(i,null,"F"),a=Qi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=qe(...c);return this.fs.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,a).next((m=>{const _=this.bs(i,y);return this.Ss(i,_,d,m.readTime)?this.gs(e,ym(i,null,"F")):this.Ds(e,_,i,m)}))))})))))}ps(e,i,a,o){return H_(i)||o.isEqual(we.min())?X.resolve(null):this.fs.getDocuments(e,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,o)?X.resolve(null):(al()<=Be.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ll(i)),this.Ds(e,d,i,Kx(o,Qo)).next((y=>y)))}))}bs(e,i){let a=new Wt(XE(e));return i.forEach(((o,c)=>{Dh(e,c)&&(a=a.add(c))})),a}Ss(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,i,a){return al()<=Be.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",ll(i)),this.fs.getDocumentsMatchingQuery(e,i,Sr.min(),a)}Ds(e,i,a,o){return this.fs.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const ig="LocalStore",IR=3e8;class NR{constructor(e,i,a,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new wt(He),this.Fs=new ma((c=>Qm(c)),Ym),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _R(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function DR(s,e,i,a){return new NR(s,e,i,a)}async function vb(s,e){const i=Ce(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Os(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],y=[];let m=qe();for(const _ of o){d.push(_.batchId);for(const S of _.mutations)m=m.add(S.key)}for(const _ of c){y.push(_.batchId);for(const S of _.mutations)m=m.add(S.key)}return i.localDocuments.getDocuments(a,m).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function OR(s,e){const i=Ce(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(y,m,_,S){const w=_.batch,M=w.keys();let F=X.resolve();return M.forEach((te=>{F=F.next((()=>S.getEntry(m,te))).next((re=>{const se=_.docVersions.get(te);et(se!==null,48541),re.version.compareTo(se)<0&&(w.applyToRemoteDocument(re,_),re.isValidDocument()&&(re.setReadTime(_.commitVersion),S.addEntry(re)))}))})),F.next((()=>y.mutationQueue.removeMutationBatch(m,w)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let m=qe();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(m=m.add(y.batch.mutations[_].key));return m})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function Eb(s){const e=Ce(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function MR(s,e){const i=Ce(s),a=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const y=[];e.targetChanges.forEach(((S,w)=>{const M=o.get(w);if(!M)return;y.push(i.li.removeMatchingKeys(c,S.removedDocuments,w).next((()=>i.li.addMatchingKeys(c,S.addedDocuments,w))));let F=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?F=F.withResumeToken(mn.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):S.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(S.resumeToken,a)),o=o.insert(w,F),(function(re,se,_e){return re.resumeToken.approximateByteSize()===0||se.snapshotVersion.toMicroseconds()-re.snapshotVersion.toMicroseconds()>=IR?!0:_e.addedDocuments.size+_e.modifiedDocuments.size+_e.removedDocuments.size>0})(M,F,S)&&y.push(i.li.updateTargetData(c,F))}));let m=Cs(),_=qe();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),y.push(VR(c,d,e.documentUpdates).next((S=>{m=S.Bs,_=S.Ls}))),!a.isEqual(we.min())){const S=i.li.getLastRemoteSnapshotVersion(c).next((w=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));y.push(S)}return X.waitFor(y).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,m,_))).next((()=>m))})).then((c=>(i.vs=o,c)))}function VR(s,e,i){let a=qe(),o=qe();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=Cs();return i.forEach(((y,m)=>{const _=c.get(y);m.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(y)),m.isNoDocument()&&m.version.isEqual(we.min())?(e.removeEntry(y,m.readTime),d=d.insert(y,m)):!_.isValidDocument()||m.version.compareTo(_.version)>0||m.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(m),d=d.insert(y,m)):oe(ig,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",m.version)})),{Bs:d,Ls:o}}))}function kR(s,e){const i=Ce(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Gm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function jR(s,e){const i=Ce(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.li.getTargetData(a,e).next((c=>c?(o=c,X.resolve(o)):i.li.allocateTargetId(a).next((d=>(o=new pr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.vs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(e,a.targetId)),a}))}async function Tm(s,e,i){const a=Ce(s),o=a.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Nl(d))throw d;oe(ig,`Failed to update sequence numbers for target ${e}: ${d}`)}a.vs=a.vs.remove(e),a.Fs.delete(o.target)}function tv(s,e,i){const a=Ce(s);let o=we.min(),c=qe();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(m,_,S){const w=Ce(m),M=w.Fs.get(S);return M!==void 0?X.resolve(w.vs.get(M)):w.li.getTargetData(_,S)})(a,d,Qi(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,y.targetId).next((m=>{c=m}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,e,i?o:we.min(),i?c:qe()))).next((y=>(UR(a,b2(e),y),{documents:y,ks:c})))))}function UR(s,e,i){let a=s.Ms.get(e)||we.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(e,a)}class nv{constructor(){this.activeTargetIds=R2()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LR{constructor(){this.vo=new nv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,a){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new nv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class PR{Mo(e){}shutdown(){}}const iv="ConnectivityMonitor";class sv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){oe(iv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){oe(iv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Pc=null;function Sm(){return Pc===null?Pc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Pc++,"0x"+Pc.toString(16)}const Jd="RestConnection",zR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class BR{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${a}/databases/${o}`,this.$o=this.databaseId.database===oh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(e,i,a,o,c){const d=Sm(),y=this.Qo(e,i.toUriEncodedString());oe(Jd,`Sending RPC '${e}' ${d}:`,y,a);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,o,c);const{host:_}=new URL(y),S=wl(_);return this.zo(e,y,m,a,S).then((w=>(oe(Jd,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw _l(Jd,`RPC '${e}' ${d} failed with error: `,w,"url: ",y,"request:",a),w}))}jo(e,i,a,o,c,d){return this.Wo(e,i,a,o,c)}Go(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Cl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}Qo(e,i){const a=zR[e];let o=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class HR{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const yn="WebChannelConnection",Vo=(s,e,i)=>{s.listen(e,(a=>{try{i(a)}catch(o){setTimeout((()=>{throw o}),0)}}))};class ml extends BR{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ml.c_){const e=RE();Vo(e,xE.STAT_EVENT,(i=>{i.stat===hm.PROXY?oe(yn,"STAT_EVENT: detected buffering proxy"):i.stat===hm.NOPROXY&&oe(yn,"STAT_EVENT: detected no buffering proxy")})),ml.c_=!0}}zo(e,i,a,o,c){const d=Sm();return new Promise(((y,m)=>{const _=new AE;_.setWithCredentials(!0),_.listenOnce(wE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Qc.NO_ERROR:const w=_.getResponseJson();oe(yn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),y(w);break;case Qc.TIMEOUT:oe(yn,`RPC '${e}' ${d} timed out`),m(new de($.DEADLINE_EXCEEDED,"Request time out"));break;case Qc.HTTP_ERROR:const M=_.getStatus();if(oe(yn,`RPC '${e}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const te=F?.error;if(te&&te.status&&te.message){const re=(function(_e){const De=_e.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(De)>=0?De:$.UNKNOWN})(te.status);m(new de(re,te.message))}else m(new de($.UNKNOWN,"Server responded with status "+_.getStatus()))}else m(new de($.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{oe(yn,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(o);oe(yn,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",S,a,15)}))}T_(e,i,a){const o=Sm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(y.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Go(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const _=c.join("");oe(yn,`Creating RPC '${e}' stream ${o}: ${_}`,y);const S=d.createWebChannel(_,y);this.I_(S);let w=!1,M=!1;const F=new HR({Ho:te=>{M?oe(yn,`Not sending because RPC '${e}' stream ${o} is closed:`,te):(w||(oe(yn,`Opening RPC '${e}' stream ${o} transport.`),S.open(),w=!0),oe(yn,`RPC '${e}' stream ${o} sending:`,te),S.send(te))},Jo:()=>S.close()});return Vo(S,ko.EventType.OPEN,(()=>{M||(oe(yn,`RPC '${e}' stream ${o} transport opened.`),F.i_())})),Vo(S,ko.EventType.CLOSE,(()=>{M||(M=!0,oe(yn,`RPC '${e}' stream ${o} transport closed`),F.o_(),this.E_(S))})),Vo(S,ko.EventType.ERROR,(te=>{M||(M=!0,_l(yn,`RPC '${e}' stream ${o} transport errored. Name:`,te.name,"Message:",te.message),F.o_(new de($.UNAVAILABLE,"The operation could not be completed")))})),Vo(S,ko.EventType.MESSAGE,(te=>{if(!M){const re=te.data[0];et(!!re,16349);const se=re,_e=se?.error||se[0]?.error;if(_e){oe(yn,`RPC '${e}' stream ${o} received error:`,_e);const De=_e.status;let xe=(function(me){const C=Gt[me];if(C!==void 0)return ab(C)})(De),ut=_e.message;xe===void 0&&(xe=$.INTERNAL,ut="Unknown error status: "+De+" with message "+_e.message),M=!0,F.o_(new de(xe,ut)),S.close()}else oe(yn,`RPC '${e}' stream ${o} received:`,re),F.__(re)}})),ml.u_(),setTimeout((()=>{F.s_()}),0),F}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,a){super.Go(e,i,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return CE()}}function qR(s){return new ml(s)}function Zd(){return typeof document<"u"?document:null}function kh(s){return new Q2(s,!0)}ml.c_=!1;class bb{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=a,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const rv="PersistentStream";class Tb{constructor(e,i,a,o,c,d,y,m){this.Ci=e,this.b_=a,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bb(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(Rs(i.toString()),Rs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new de($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(rv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(oe(rv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class GR extends Tb{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=$2(this.serializer,e),a=(function(c){if(!("targetChange"in c))return we.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?we.min():d.readTime?Yi(d.readTime):we.min()})(e);return this.listener.J_(i,a)}Z_(e){const i={};i.database=bm(this.serializer),i.addTarget=(function(c,d){let y;const m=d.target;if(y=pm(m)?{documents:Z2(c,m)}:{query:eR(c,m).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=ub(c,d.resumeToken);const _=_m(c,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(we.min())>0){y.readTime=mh(c,d.snapshotVersion.toTimestamp());const _=_m(c,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const a=nR(this.serializer,e);a&&(i.labels=a),this.K_(i)}X_(e){const i={};i.database=bm(this.serializer),i.removeTarget=e,this.K_(i)}}class FR extends Tb{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=J2(e.writeResults,e.commitTime),a=Yi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=bm(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>W2(this.serializer,a)))};this.K_(i)}}class KR{}class QR extends KR{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new de($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,vm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de($.UNKNOWN,c.toString())}))}jo(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.jo(e,vm(i,a),o,d,y,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new de($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function YR(s,e,i,a){return new QR(s,e,i,a)}class XR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Rs(i),this.aa=!1):oe("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const fa="RemoteStore";class $R{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{ga(this)&&(oe(fa,"Restarting streams for network reachability change."),await(async function(m){const _=Ce(m);_.Ea.add(4),await cu(_),_.Va.set("Unknown"),_.Ea.delete(4),await jh(_)})(this))}))})),this.Va=new XR(a,o)}}async function jh(s){if(ga(s))for(const e of s.Ra)await e(!0)}async function cu(s){for(const e of s.Ra)await e(!1)}function Sb(s,e){const i=Ce(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),lg(i)?ag(i):Dl(i).O_()&&rg(i,e))}function sg(s,e){const i=Ce(s),a=Dl(i);i.Ia.delete(e),a.O_()&&Ab(i,e),i.Ia.size===0&&(a.O_()?a.L_():ga(i)&&i.Va.set("Unknown"))}function rg(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Dl(s).Z_(e)}function Ab(s,e){s.da.$e(e),Dl(s).X_(e)}function ag(s){s.da=new q2({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Dl(s).start(),s.Va.ua()}function lg(s){return ga(s)&&!Dl(s).x_()&&s.Ia.size>0}function ga(s){return Ce(s).Ea.size===0}function wb(s){s.da=void 0}async function WR(s){s.Va.set("Online")}async function JR(s){s.Ia.forEach(((e,i)=>{rg(s,e)}))}async function ZR(s,e){wb(s),lg(s)?(s.Va.ha(e),ag(s)):s.Va.set("Unknown")}async function eC(s,e,i){if(s.Va.set("Online"),e instanceof ob&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const y of c.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.da.removeTarget(y))})(s,e)}catch(a){oe(fa,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await ph(s,a)}else if(e instanceof Wc?s.da.Xe(e):e instanceof lb?s.da.st(e):s.da.tt(e),!i.isEqual(we.min()))try{const a=await Eb(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const y=c.da.Tt(d);return y.targetChanges.forEach(((m,_)=>{if(m.resumeToken.approximateByteSize()>0){const S=c.Ia.get(_);S&&c.Ia.set(_,S.withResumeToken(m.resumeToken,d))}})),y.targetMismatches.forEach(((m,_)=>{const S=c.Ia.get(m);if(!S)return;c.Ia.set(m,S.withResumeToken(mn.EMPTY_BYTE_STRING,S.snapshotVersion)),Ab(c,m);const w=new pr(S.target,m,_,S.sequenceNumber);rg(c,w)})),c.remoteSyncer.applyRemoteEvent(y)})(s,i)}catch(a){oe(fa,"Failed to raise snapshot:",a),await ph(s,a)}}async function ph(s,e,i){if(!Nl(e))throw e;s.Ea.add(1),await cu(s),s.Va.set("Offline"),i||(i=()=>Eb(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{oe(fa,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await jh(s)}))}function xb(s,e){return e().catch((i=>ph(s,i,e)))}async function Uh(s){const e=Ce(s),i=Rr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Gm;for(;tC(e);)try{const o=await kR(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,nC(e,o)}catch(o){await ph(e,o)}Rb(e)&&Cb(e)}function tC(s){return ga(s)&&s.Ta.length<10}function nC(s,e){s.Ta.push(e);const i=Rr(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function Rb(s){return ga(s)&&!Rr(s).x_()&&s.Ta.length>0}function Cb(s){Rr(s).start()}async function iC(s){Rr(s).ra()}async function sC(s){const e=Rr(s);for(const i of s.Ta)e.ea(i.mutations)}async function rC(s,e,i){const a=s.Ta.shift(),o=Wm.from(a,e,i);await xb(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Uh(s)}async function aC(s,e){e&&Rr(s).Y_&&await(async function(a,o){if((function(d){return z2(d)&&d!==$.ABORTED})(o.code)){const c=a.Ta.shift();Rr(a).B_(),await xb(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Uh(a)}})(s,e),Rb(s)&&Cb(s)}async function av(s,e){const i=Ce(s);i.asyncQueue.verifyOperationInProgress(),oe(fa,"RemoteStore received new credentials");const a=ga(i);i.Ea.add(3),await cu(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await jh(i)}async function lC(s,e){const i=Ce(s);e?(i.Ea.delete(2),await jh(i)):e||(i.Ea.add(2),await cu(i),i.Va.set("Unknown"))}function Dl(s){return s.ma||(s.ma=(function(i,a,o){const c=Ce(i);return c.sa(),new GR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:WR.bind(null,s),Yo:JR.bind(null,s),t_:ZR.bind(null,s),J_:eC.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),lg(s)?ag(s):s.Va.set("Unknown")):(await s.ma.stop(),wb(s))}))),s.ma}function Rr(s){return s.fa||(s.fa=(function(i,a,o){const c=Ce(i);return c.sa(),new FR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:iC.bind(null,s),t_:aC.bind(null,s),ta:sC.bind(null,s),na:rC.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Uh(s)):(await s.fa.stop(),s.Ta.length>0&&(oe(fa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class og{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,y=new og(e,i,d,o,c);return y.start(a),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ug(s,e){if(Rs("AsyncQueue",`${e}: ${s}`),Nl(s))return new de($.UNAVAILABLE,`${e}: ${s}`);throw s}class gl{static emptySet(e){return new gl(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ye.comparator(i.key,a.key):(i,a)=>ye.comparator(i.key,a.key),this.keyedMap=jo(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof gl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new gl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class lv{constructor(){this.ga=new wt(ye.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):be(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class Al{constructor(e,i,a,o,c,d,y,m,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=m,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new Al(e,i,gl.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class oC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class uC{constructor(){this.queries=ov(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Ce(i),c=o.queries;o.queries=ov(),c.forEach(((d,y)=>{for(const m of y.ba)m.onError(a)}))})(this,new de($.ABORTED,"Firestore shutting down"))}}function ov(){return new ma((s=>YE(s)),Nh)}async function Ib(s,e){const i=Ce(s);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.Sa()&&e.Da()&&(a=2):(c=new oC,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const y=ug(d,`Initialization of query '${ll(e.query)}' failed`);return void e.onError(y)}i.queries.set(o,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&cg(i)}async function Nb(s,e){const i=Ce(s),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function cC(s,e){const i=Ce(s);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const y of d.ba)y.Fa(o)&&(a=!0);d.wa=o}}a&&cg(i)}function hC(s,e,i){const a=Ce(s),o=a.queries.get(e);if(o)for(const c of o.ba)c.onError(i);a.queries.delete(e)}function cg(s){s.Ca.forEach((e=>{e.next()}))}var Am,uv;(uv=Am||(Am={})).Ma="default",uv.Cache="cache";class Db{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Al(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Am.Cache}}class Ob{constructor(e){this.key=e}}class Mb{constructor(e){this.key=e}}class fC{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=qe(),this.mutatedKeys=qe(),this.eu=XE(e),this.tu=new gl(this.eu)}get nu(){return this.Za}ru(e,i){const a=i?i.iu:new lv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,y=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((S,w)=>{const M=o.get(S),F=Dh(this.query,w)?w:null,te=!!M&&this.mutatedKeys.has(M.key),re=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let se=!1;M&&F?M.data.isEqual(F.data)?te!==re&&(a.track({type:3,doc:F}),se=!0):this.su(M,F)||(a.track({type:2,doc:F}),se=!0,(m&&this.eu(F,m)>0||_&&this.eu(F,_)<0)&&(y=!0)):!M&&F?(a.track({type:0,doc:F}),se=!0):M&&!F&&(a.track({type:1,doc:M}),se=!0,(m||_)&&(y=!0)),se&&(F?(d=d.add(F),c=re?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Ss:y,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,w)=>(function(F,te){const re=se=>{switch(se){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Vt:se})}};return re(F)-re(te)})(S.type,w.type)||this.eu(S.doc,w.doc))),this.ou(a),o=o??!1;const y=i&&!o?this._u():[],m=this.Ya.size===0&&this.current&&!o?1:0,_=m!==this.Xa;return this.Xa=m,d.length!==0||_?{snapshot:new Al(this.query,e.tu,c,d,e.mutatedKeys,m===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=qe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return e.forEach((a=>{this.Ya.has(a)||i.push(new Mb(a))})),this.Ya.forEach((a=>{e.has(a)||i.push(new Ob(a))})),i}cu(e){this.Za=e.ks,this.Ya=qe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Al.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const hg="SyncEngine";class dC{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class mC{constructor(e){this.key=e,this.hu=!1}}class gC{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ma((y=>YE(y)),Nh),this.Iu=new Map,this.Eu=new Set,this.Ru=new wt(ye.comparator),this.Au=new Map,this.Vu=new eg,this.du={},this.mu=new Map,this.fu=Sl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function pC(s,e,i=!0){const a=Pb(s);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await Vb(a,e,i,!0),o}async function yC(s,e){const i=Pb(s);await Vb(i,e,!0,!1)}async function Vb(s,e,i,a){const o=await jR(s.localStore,Qi(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let y;return a&&(y=await _C(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&Sb(s.remoteStore,o),y}async function _C(s,e,i,a,o){s.pu=(w,M,F)=>(async function(re,se,_e,De){let xe=se.view.ru(_e);xe.Ss&&(xe=await tv(re.localStore,se.query,!1).then((({documents:C})=>se.view.ru(C,xe))));const ut=De&&De.targetChanges.get(se.targetId),bt=De&&De.targetMismatches.get(se.targetId)!=null,me=se.view.applyChanges(xe,re.isPrimaryClient,ut,bt);return hv(re,se.targetId,me.au),me.snapshot})(s,w,M,F);const c=await tv(s.localStore,e,!0),d=new fC(e,c.ks),y=d.ru(c.documents),m=uu.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),_=d.applyChanges(y,s.isPrimaryClient,m);hv(s,i,_.au);const S=new dC(e,i,d);return s.Tu.set(e,S),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function vC(s,e,i){const a=Ce(s),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!Nh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Tm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&sg(a.remoteStore,o.targetId),wm(a,o.targetId)})).catch(Il)):(wm(a,o.targetId),await Tm(a.localStore,o.targetId,!0))}async function EC(s,e){const i=Ce(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),sg(i.remoteStore,a.targetId))}async function bC(s,e,i){const a=CC(s);try{const o=await(function(d,y){const m=Ce(d),_=pt.now(),S=y.reduce(((F,te)=>F.add(te.key)),qe());let w,M;return m.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let te=Cs(),re=qe();return m.xs.getEntries(F,S).next((se=>{te=se,te.forEach(((_e,De)=>{De.isValidDocument()||(re=re.add(_e))}))})).next((()=>m.localDocuments.getOverlayedDocuments(F,te))).next((se=>{w=se;const _e=[];for(const De of y){const xe=k2(De,w.get(De.key).overlayedDocument);xe!=null&&_e.push(new Nr(De.key,xe,BE(xe.value.mapValue),Ti.exists(!0)))}return m.mutationQueue.addMutationBatch(F,_,_e,y)})).next((se=>{M=se;const _e=se.applyToLocalDocumentSet(w,re);return m.documentOverlayCache.saveOverlays(F,se.batchId,_e)}))})).then((()=>({batchId:M.batchId,changes:WE(w)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,y,m){let _=d.du[d.currentUser.toKey()];_||(_=new wt(He)),_=_.insert(y,m),d.du[d.currentUser.toKey()]=_})(a,o.batchId,i),await hu(a,o.changes),await Uh(a.remoteStore)}catch(o){const c=ug(o,"Failed to persist write");i.reject(c)}}async function kb(s,e){const i=Ce(s);try{const a=await MR(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(et(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?et(d.hu,14607):o.removedDocuments.size>0&&(et(d.hu,42227),d.hu=!1))})),await hu(i,a,e)}catch(a){await Il(a)}}function cv(s,e,i){const a=Ce(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const m=Ce(d);m.onlineState=y;let _=!1;m.queries.forEach(((S,w)=>{for(const M of w.ba)M.va(y)&&(_=!0)})),_&&cg(m)})(a.eventManager,e),o.length&&a.Pu.J_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function TC(s,e,i){const a=Ce(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new wt(ye.comparator);d=d.insert(c,En.newNoDocument(c,we.min()));const y=qe().add(c),m=new Vh(we.min(),new Map,new wt(He),d,y);await kb(a,m),a.Ru=a.Ru.remove(c),a.Au.delete(e),fg(a)}else await Tm(a.localStore,e,!1).then((()=>wm(a,e,i))).catch(Il)}async function SC(s,e){const i=Ce(s),a=e.batch.batchId;try{const o=await OR(i.localStore,e);Ub(i,a,null),jb(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await hu(i,o)}catch(o){await Il(o)}}async function AC(s,e,i){const a=Ce(s);try{const o=await(function(d,y){const m=Ce(d);return m.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return m.mutationQueue.lookupMutationBatch(_,y).next((w=>(et(w!==null,37113),S=w.keys(),m.mutationQueue.removeMutationBatch(_,w)))).next((()=>m.mutationQueue.performConsistencyCheck(_))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(_,S,y))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>m.localDocuments.getDocuments(_,S)))}))})(a.localStore,e);Ub(a,e,i),jb(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await hu(a,o)}catch(o){await Il(o)}}function jb(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function Ub(s,e,i){const a=Ce(s);let o=a.du[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.du[a.currentUser.toKey()]=o}}function wm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((a=>{s.Vu.containsKey(a)||Lb(s,a)}))}function Lb(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(sg(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),fg(s))}function hv(s,e,i){for(const a of i)a instanceof Ob?(s.Vu.addReference(a.key,e),wC(s,a)):a instanceof Mb?(oe(hg,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,e),s.Vu.containsKey(a.key)||Lb(s,a.key)):be(19791,{wu:a})}function wC(s,e){const i=e.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(oe(hg,"New document in limbo: "+i),s.Eu.add(a),fg(s))}function fg(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ye(At.fromString(e)),a=s.fu.next();s.Au.set(a,new mC(i)),s.Ru=s.Ru.insert(i,a),Sb(s.remoteStore,new pr(Qi(Ih(i.path)),a,"TargetPurposeLimboResolution",wh.ce))}}async function hu(s,e,i){const a=Ce(s),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,m)=>{d.push(a.pu(m,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const S=_?!_.fromCache:i?.targetChanges.get(m.targetId)?.current;a.sharedClientState.updateQueryState(m.targetId,S?"current":"not-current")}if(_){o.push(_);const S=ng.Es(m.targetId,_);c.push(S)}})))})),await Promise.all(d),a.Pu.J_(o),await(async function(m,_){const S=Ce(m);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>X.forEach(_,(M=>X.forEach(M.Ts,(F=>S.persistence.referenceDelegate.addReference(w,M.targetId,F))).next((()=>X.forEach(M.Is,(F=>S.persistence.referenceDelegate.removeReference(w,M.targetId,F)))))))))}catch(w){if(!Nl(w))throw w;oe(ig,"Failed to update sequence numbers: "+w)}for(const w of _){const M=w.targetId;if(!w.fromCache){const F=S.vs.get(M),te=F.snapshotVersion,re=F.withLastLimboFreeSnapshotVersion(te);S.vs=S.vs.insert(M,re)}}})(a.localStore,c))}async function xC(s,e){const i=Ce(s);if(!i.currentUser.isEqual(e)){oe(hg,"User change. New user:",e.toKey());const a=await vb(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((y=>{y.forEach((m=>{m.reject(new de($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await hu(i,a.Ns)}}function RC(s,e){const i=Ce(s),a=i.Au.get(e);if(a&&a.hu)return qe().add(a.key);{let o=qe();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const y=i.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function Pb(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=kb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TC.bind(null,e),e.Pu.J_=cC.bind(null,e.eventManager),e.Pu.yu=hC.bind(null,e.eventManager),e}function CC(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AC.bind(null,e),e}class yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return DR(this.persistence,new CR,e.initialUser,this.serializer)}Cu(e){return new _b(tg.Vi,this.serializer)}Du(e){return new LR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yh.provider={build:()=>new yh};class IC extends yh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){et(this.persistence.referenceDelegate instanceof gh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new dR(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new _b((a=>gh.Vi(a,i)),this.serializer)}}class xm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>cv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=xC.bind(null,this.syncEngine),await lC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new uC})()}createDatastore(e){const i=kh(e.databaseInfo.databaseId),a=qR(e.databaseInfo);return YR(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,y){return new $R(a,o,c,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>cv(this.syncEngine,i,0)),(function(){return sv.v()?new sv:new PR})())}createSyncEngine(e,i){return(function(o,c,d,y,m,_,S){const w=new gC(o,c,d,y,m,_);return S&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ce(i);oe(fa,"RemoteStore shutting down."),a.Ea.add(5),await cu(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}xm.provider={build:()=>new xm};class zb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Rs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Cr="FirestoreClient";class NC{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=o,this.user=vn.UNAUTHENTICATED,this.clientId=Hm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{oe(Cr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(oe(Cr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=ug(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function em(s,e){s.asyncQueue.verifyOperationInProgress(),oe(Cr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await vb(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function fv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await DC(s);oe(Cr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>av(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>av(e.remoteStore,o))),s._onlineComponents=e}async function DC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){oe(Cr,"Using user provided OfflineComponentProvider");try{await em(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;_l("Error using user provided cache. Falling back to memory cache: "+i),await em(s,new yh)}}else oe(Cr,"Using default OfflineComponentProvider"),await em(s,new IC(void 0));return s._offlineComponents}async function Bb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(oe(Cr,"Using user provided OnlineComponentProvider"),await fv(s,s._uninitializedComponentsProvider._online)):(oe(Cr,"Using default OnlineComponentProvider"),await fv(s,new xm))),s._onlineComponents}function OC(s){return Bb(s).then((e=>e.syncEngine))}async function Rm(s){const e=await Bb(s),i=e.eventManager;return i.onListen=pC.bind(null,e.syncEngine),i.onUnlisten=vC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=yC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=EC.bind(null,e.syncEngine),i}function MC(s,e,i,a){const o=new zb(a),c=new Db(e,o,i);return s.asyncQueue.enqueueAndForget((async()=>Ib(await Rm(s),c))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>Nb(await Rm(s),c)))}}function VC(s,e,i={}){const a=new br;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,y,m,_){const S=new zb({next:M=>{S.Nu(),d.enqueueAndForget((()=>Nb(c,w)));const F=M.docs.has(y);!F&&M.fromCache?_.reject(new de($.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&m&&m.source==="server"?_.reject(new de($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),w=new Db(Ih(y.path),S,{includeMetadataChanges:!0,Ka:!0});return Ib(c,w)})(await Rm(s),s.asyncQueue,e,i,a))),a.promise}function kC(s,e){const i=new br;return s.asyncQueue.enqueueAndForget((async()=>bC(await OC(s),e,i))),i.promise}function Hb(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const jC="ComponentProvider",dv=new Map;function UC(s,e,i,a,o){return new n2(s,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,Hb(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,a)}const qb="firestore.googleapis.com",mv=!0;class gv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qb,this.ssl=mv}else this.host=e.host,this.ssl=e.ssl??mv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hR)throw new de($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Fx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Hb(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new de($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new de($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new de($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dg{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Vx;switch(a.type){case"firstParty":return new Lx(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new de($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=dv.get(i);a&&(oe(jC,"Removing Datastore"),dv.delete(i),a.terminate())})(this),Promise.resolve()}}function LC(s,e,i,a={}){s=bi(s,dg);const o=wl(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},y=`${e}:${i}`;o&&(Lv(`https://${y}`),Pv("Firestore",!0)),c.host!==qb&&c.host!==y&&_l("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...c,host:y,ssl:o,emulatorOptions:a};if(!Tr(m,d)&&(s._setSettings(m),a.mockUserToken)){let _,S;if(typeof a.mockUserToken=="string")_=a.mockUserToken,S=vn.MOCK_USER;else{_=iS(a.mockUserToken,s._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new de($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new vn(w)}s._authCredentials=new kx(new NE(_,S))}}class Lh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Lh(this.firestore,e,this._query)}}class Kt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}toJSON(){return{type:Kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(lu(i,Kt._jsonSchema))return new Kt(e,a||null,new ye(At.fromString(i.referencePath)))}}Kt._jsonSchemaVersion="firestore/documentReference/1.0",Kt._jsonSchema={type:Ft("string",Kt._jsonSchemaVersion),referencePath:Ft("string")};class Jo extends Lh{constructor(e,i,a){super(e,i,Ih(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new ye(e))}withConverter(e){return new Jo(this.firestore,e,this._path)}}function Ht(s,e,...i){if(s=wn(s),arguments.length===1&&(e=Hm.newId()),Gx("doc","path",e),s instanceof dg){const a=At.fromString(e,...i);return I_(a),new Kt(s,null,new ye(a))}{if(!(s instanceof Kt||s instanceof Jo))throw new de($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(At.fromString(e,...i));return I_(a),new Kt(s.firestore,s instanceof Jo?s.converter:null,new ye(a))}}const pv="AsyncQueue";class yv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bb(this,"async_queue_retry"),this._c=()=>{const a=Zd();a&&oe(pv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Zd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Zd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new br;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Nl(e))throw e;oe(pv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Rs("INTERNAL UNHANDLED ERROR: ",_v(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=og.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&be(47125,{Pc:_v(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function _v(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class da extends dg{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new yv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yv(e),this._firestoreClient=void 0,await e}}}function PC(s,e){const i=typeof s=="object"?s:qv(),a=typeof s=="string"?s:oh,o=Om(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=tS("firestore");c&&LC(o,...c)}return o}function mg(s){if(s._terminated)throw new de($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||zC(s),s._firestoreClient}function zC(s){const e=s._freezeSettings(),i=UC(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new NC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class ui{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ui(mn.fromBase64String(e))}catch(i){throw new de($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ui(mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ui._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lu(e,ui._jsonSchema))return ui.fromBase64String(e.bytes)}}ui._jsonSchemaVersion="firestore/bytes/1.0",ui._jsonSchema={type:Ft("string",ui._jsonSchemaVersion),bytes:Ft("string")};class gg{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new de($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ph{constructor(e){this._methodName=e}}class Xi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new de($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new de($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xi._jsonSchemaVersion}}static fromJSON(e){if(lu(e,Xi._jsonSchema))return new Xi(e.latitude,e.longitude)}}Xi._jsonSchemaVersion="firestore/geoPoint/1.0",Xi._jsonSchema={type:Ft("string",Xi._jsonSchemaVersion),latitude:Ft("number"),longitude:Ft("number")};class Si{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Si._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lu(e,Si._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Si(e.vectorValues);throw new de($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Si._jsonSchemaVersion="firestore/vectorValue/1.0",Si._jsonSchema={type:Ft("string",Si._jsonSchemaVersion),vectorValues:Ft("object")};const BC=/^__.*__$/;class HC{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Nr(e,this.data,this.fieldMask,i,this.fieldTransforms):new ou(e,this.data,i,this.fieldTransforms)}}class Gb{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Nr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Fb(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{dataSource:s})}}class zh{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new zh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return _h(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Fb(this.dataSource)&&BC.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class qC{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||kh(e)}createContext(e,i,a,o=!1){return new zh({dataSource:e,methodName:i,targetDoc:a,path:dn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kb(s){const e=s._freezeSettings(),i=kh(s._databaseId);return new qC(s._databaseId,!!e.ignoreUndefinedProperties,i)}function GC(s,e,i,a,o,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,i,o);yg("Data must be an object, but it was:",d,a);const y=Qb(a,d);let m,_;if(c.merge)m=new Qn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const w of c.mergeFields){const M=Zo(e,w,i);if(!d.contains(M))throw new de($.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);$b(S,M)||S.push(M)}m=new Qn(S),_=d.fieldTransforms.filter((w=>m.covers(w.field)))}else m=null,_=d.fieldTransforms;return new HC(new kn(y),m,_)}class Bh extends Ph{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bh}}function FC(s,e,i){return new zh({dataSource:3,targetDoc:e.settings.targetDoc,methodName:s._methodName,arrayElement:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class pg extends Ph{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=FC(this,e,!0),a=this.Ac.map((c=>fu(c,i))),o=new Tl(a);return new D2(e.path,o)}isEqual(e){return e instanceof pg&&Tr(this.Ac,e.Ac)}}function KC(s,e,i,a){const o=s.createContext(1,e,i);yg("Data must be an object, but it was:",o,a);const c=[],d=kn.empty();Ir(a,((m,_)=>{const S=Xb(e,m,i);_=wn(_);const w=o.childContextForFieldPath(S);if(_ instanceof Bh)c.push(S);else{const M=fu(_,w);M!=null&&(c.push(S),d.set(S,M))}}));const y=new Qn(c);return new Gb(d,y,o.fieldTransforms)}function QC(s,e,i,a,o,c){const d=s.createContext(1,e,i),y=[Zo(e,a,i)],m=[o];if(c.length%2!=0)throw new de($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)y.push(Zo(e,c[M])),m.push(c[M+1]);const _=[],S=kn.empty();for(let M=y.length-1;M>=0;--M)if(!$b(_,y[M])){const F=y[M];let te=m[M];te=wn(te);const re=d.childContextForFieldPath(F);if(te instanceof Bh)_.push(F);else{const se=fu(te,re);se!=null&&(_.push(F),S.set(F,se))}}const w=new Qn(_);return new Gb(S,w,d.fieldTransforms)}function fu(s,e){if(Yb(s=wn(s)))return yg("Unsupported field value:",e,s),Qb(s,e);if(s instanceof Ph)return(function(a,o){if(!Fb(o.dataSource))throw o.createError(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const y of a){let m=fu(y,o.childContextForArray(d));m==null&&(m={nullValue:"NULL_VALUE"}),c.push(m),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,o){if((a=wn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return C2(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=pt.fromDate(a);return{timestampValue:mh(o.serializer,c)}}if(a instanceof pt){const c=new pt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:mh(o.serializer,c)}}if(a instanceof Xi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ui)return{bytesValue:ub(o.serializer,a._byteString)};if(a instanceof Kt){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Zm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Si)return(function(d,y){const m=d instanceof Si?d.toArray():d;return{mapValue:{fields:{[PE]:{stringValue:zE},[uh]:{arrayValue:{values:m.map((S=>{if(typeof S!="number")throw y.createError("VectorValues must only contain numeric values.");return Xm(y.serializer,S)}))}}}}}})(a,o);if(pb(a))return a._toProto(o.serializer);throw o.createError(`Unsupported field value: ${qm(a)}`)})(s,e)}function Qb(s,e){const i={};return ME(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ir(s,((a,o)=>{const c=fu(o,e.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function Yb(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof pt||s instanceof Xi||s instanceof ui||s instanceof Kt||s instanceof Ph||s instanceof Si||pb(s))}function yg(s,e,i){if(!Yb(i)||!DE(i)){const a=qm(i);throw a==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+a)}}function Zo(s,e,i){if((e=wn(e))instanceof gg)return e._internalPath;if(typeof e=="string")return Xb(s,e);throw _h("Field path arguments must be of type string or ",s,!1,void 0,i)}const YC=new RegExp("[~\\*/\\[\\]]");function Xb(s,e,i){if(e.search(YC)>=0)throw _h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new gg(...e.split("."))._internalPath}catch{throw _h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function _h(s,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let m="";return(c||d)&&(m+=" (found",c&&(m+=` in field ${a}`),d&&(m+=` in document ${o}`),m+=")"),new de($.INVALID_ARGUMENT,y+s+m)}function $b(s,e){return s.some((i=>i.isEqual(e)))}class XC{convertValue(e,i="none"){switch(xr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(wr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Ir(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[uh].arrayValue?.values?.map((a=>Vt(a.doubleValue)));return new Si(i)}convertGeoPoint(e){return new Xi(Vt(e.latitude),Vt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Rh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Yo(e));default:return null}}convertTimestamp(e){const i=Ar(e);return new pt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=At.fromString(e);et(gb(a),9688,{name:e});const o=new Xo(a.get(1),a.get(3)),c=new ye(a.popFirst(5));return o.isEqual(i)||Rs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class Wb extends XC{constructor(e){super(),this.firestore=e}convertBytes(e){return new ui(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,i)}}function Mn(...s){return new pg("arrayUnion",s)}const vv="@firebase/firestore",Ev="4.10.0";function bv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class Jb{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $C(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(Zo("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class $C extends Jb{data(){return super.data()}}function WC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new de($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function JC(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class Lo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oa extends Jb{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Zo("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=oa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}oa._jsonSchemaVersion="firestore/documentSnapshot/1.0",oa._jsonSchema={type:Ft("string",oa._jsonSchemaVersion),bundleSource:Ft("string","DocumentSnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class Jc extends oa{data(e={}){return super.data(e)}}class pl{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Lo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Jc(this._firestore,this._userDataWriter,a.key,a,new Lo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new de($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const m=new Jc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Lo(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:m,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const m=new Jc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Lo(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,S=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),S=d.indexOf(y.doc.key)),{type:ZC(y.type),doc:m,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=pl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Hm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ZC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:s})}}pl._jsonSchemaVersion="firestore/querySnapshot/1.0",pl._jsonSchema={type:Ft("string",pl._jsonSchemaVersion),bundleSource:Ft("string","QuerySnapshot"),bundleName:Ft("string"),bundle:Ft("string")};function eI(s){s=bi(s,Kt);const e=bi(s.firestore,da),i=mg(e);return VC(i,s._key).then((a=>Zb(e,s,a)))}function tI(s,e,i){s=bi(s,Kt);const a=bi(s.firestore,da),o=JC(s.converter,e),c=Kb(a);return _g(a,[GC(c,"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,Ti.none())])}function hn(s,e,i,...a){s=bi(s,Kt);const o=bi(s.firestore,da),c=Kb(o);let d;return d=typeof(e=wn(e))=="string"||e instanceof gg?QC(c,"updateDoc",s._key,e,i,a):KC(c,"updateDoc",s._key,e),_g(o,[d.toMutation(s._key,Ti.exists(!0))])}function Tv(s){return _g(bi(s.firestore,da),[new $m(s._key,Ti.none())])}function Sv(s,...e){s=wn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||bv(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(bv(e[a])){const _=e[a];e[a]=_.next?.bind(_),e[a+1]=_.error?.bind(_),e[a+2]=_.complete?.bind(_)}let c,d,y;if(s instanceof Kt)d=bi(s.firestore,da),y=Ih(s._key.path),c={next:_=>{e[a]&&e[a](Zb(d,s,_))},error:e[a+1],complete:e[a+2]};else{const _=bi(s,Lh);d=bi(_.firestore,da),y=_._query;const S=new Wb(d);c={next:w=>{e[a]&&e[a](new pl(d,S,_,w))},error:e[a+1],complete:e[a+2]},WC(s._query)}const m=mg(d);return MC(m,y,o,c)}function _g(s,e){const i=mg(s);return kC(i,e)}function Zb(s,e,i){const a=i.docs.get(e._key),o=new Wb(s);return new oa(s,o,e._key,a,new Lo(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){Mx(xl),yl(new ua("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),y=new da(new jx(a.getProvider("auth-internal")),new Px(d,a.getProvider("app-check-internal")),i2(d,o),d);return c={useFetchStreams:i,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),vr(vv,Ev,e),vr(vv,Ev,"esm2020")})();const eT=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim();const nI=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const iI=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase());const Av=s=>{const e=iI(s);return e.charAt(0).toUpperCase()+e.slice(1)};var sI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const rI=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const aI=Le.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...y},m)=>Le.createElement("svg",{ref:m,...sI,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:eT("lucide",o),...!c&&!rI(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,S])=>Le.createElement(_,S)),...Array.isArray(c)?c:[c]]));const Et=(s,e)=>{const i=Le.forwardRef(({className:a,...o},c)=>Le.createElement(aI,{ref:c,iconNode:e,className:eT(`lucide-${nI(Av(s))}`,`lucide-${s}`,a),...o}));return i.displayName=Av(s),i};const lI=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}]],hr=Et("badge",lI);const oI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],wv=Et("book-open",oI);const uI=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],tT=Et("briefcase",uI);const cI=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],hI=Et("chevron-down",cI);const fI=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],xv=Et("chevron-up",fI);const dI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],tm=Et("circle-check-big",dI);const mI=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],gI=Et("copy",mI);const pI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],yI=Et("crosshair",pI);const _I=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Rv=Et("eye-off",_I);const vI=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],vg=Et("eye",vI);const EI=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],bI=Et("gavel",EI);const TI=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],SI=Et("hammer",TI);const AI=[["path",{d:"M14 18a2 2 0 0 0-4 0",key:"1v8fkw"}],["path",{d:"m19 11-2.11-6.657a2 2 0 0 0-2.752-1.148l-1.276.61A2 2 0 0 1 12 4H8.5a2 2 0 0 0-1.925 1.456L5 11",key:"1fkr7p"}],["path",{d:"M2 11h20",key:"3eubbj"}],["circle",{cx:"17",cy:"18",r:"3",key:"82mm0e"}],["circle",{cx:"7",cy:"18",r:"3",key:"lvkj7j"}]],vh=Et("hat-glasses",AI);const wI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],nT=Et("history",wI);const xI=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],RI=Et("loader",xI);const CI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Cv=Et("log-out",CI);const II=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Eh=Et("search",II);const NI=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],DI=Et("settings",NI);const OI=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],bh=Et("skull",OI);const MI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Cm=Et("target",MI);const VI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],kI=Et("trash-2",VI);const jI=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],UI=Et("triangle-alert",jI);const LI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],iT=Et("user",LI);const PI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Eg=Et("x",PI),zI={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:c87b26c0536b13eb6aa637"},sT=Hv(zI),zc=Dx(sT),qt=PC(sT),Xt=typeof __app_id<"u"?__app_id:"investigation-game",BI="2",HI=["Kitchen Knife","Dagger","Crossed Swords","Fire Axe","Pickaxe","Hook","Scissors","Champagne Bottle","Katana","Blade","Saw","Hammer","Cricket Bat","Field Hockey Stick","Wrench","Crowbar","Brick","Moai Statue","Candlestick","Frying Pan","Stone","Pistol","Silenced Gun","Boxing Glove","Shotgun","Bow and Arrow","Rope","Wire","Necktie","Teddy Bear","Plastic Bag","Chain","Scarf","Arsenic","Cyanide Pill","Venomous Snake","Syringe","Sleeping Pills","Chainsaw","Explosives","Dynamite","Electrocution","Drowning","Push from Heights","Vehicle","Trophy","Screwdriver","Clamp","Fist","Electric Plug","Fire","Oil Drum","Lighter"],qI=["Hand","Shoe","Blood Stain","DNA Sample","T-Shirt","Shirt Button","Sewing Thread","Wedding Ring","Wristwatch","Gem Stone","Glasses","Purse","Name Badge","Credit Card","Receipt","Ticket","Memo","Notebook","Framed Picture","World Map","Floppy Disk","Smartphone","Laptop","Key","Coin","Cigarette","Flashlight","Funeral Urn","Ice Cube","Fork and Knife","Wilted Flower","Leaf","Droplet","Oil Drum","Artist Palette","Fountain Pen","Candy","Wine Glass","Hot Beverage","Kiss Mark","Lotion Bottle","Salt Shaker","Collision","Hammer","Glove","Ninja Mask","Joker Card","Game Die","Mirror"],GI={"Kitchen Knife":"",Dagger:"","Crossed Swords":"","Fire Axe":"",Pickaxe:"",Hook:"",Scissors:"","Champagne Bottle":"",Katana:"",Blade:"",Saw:"",Hammer:"","Cricket Bat":"","Field Hockey Stick":"",Wrench:"",Crowbar:"",Brick:"","Moai Statue":"",Candlestick:"","Frying Pan":"",Stone:"",Pistol:"","Silenced Gun":"","Boxing Glove":"",Shotgun:"","Bow and Arrow":"",Rope:"",Wire:"",Necktie:"","Teddy Bear":"","Plastic Bag":"",Chain:"",Scarf:"",Arsenic:"","Cyanide Pill":"","Venomous Snake":"",Syringe:"","Sleeping Pills":"",Chainsaw:"",Explosives:"",Dynamite:"",Electrocution:"",Drowning:"","Push from Heights":"",Vehicle:"",Trophy:"",Screwdriver:"",Clamp:"",Fist:"","Electric Plug":"",Fire:"","Oil Drum":"",Lighter:"",Hand:"",Shoe:"","Blood Stain":"","DNA Sample":"","T-Shirt":"","Shirt Button":"","Sewing Thread":"","Wedding Ring":"",Wristwatch:"","Gem Stone":"",Glasses:"",Purse:"","Name Badge":"","Credit Card":"",Receipt:"",Ticket:"",Memo:"",Notebook:"","Framed Picture":"","World Map":"","Floppy Disk":"",Smartphone:"",Laptop:"",Key:"",Coin:"",Cigarette:"",Flashlight:"","Funeral Urn":"","Ice Cube":"","Fork and Knife":"","Wilted Flower":"",Leaf:"",Droplet:"","Artist Palette":"","Fountain Pen":"",Candy:"","Wine Glass":"","Hot Beverage":"","Kiss Mark":"","Lotion Bottle":"","Salt Shaker":"",Collision:"",Glove:"","Ninja Mask":"","Joker Card":"","Game Die":"",Mirror:""},Bc={FIXED:{title:"Cause of Death",type:"purple",options:["Suffocation","Severe Injury","Loss of Blood","Chemical / Sickness","Accident","Projectile / Blast"]},MAIN:[{title:"Location of Crime",type:"green",options:["Living Room","Bedroom","Kitchen / Dining","Bathroom","Balcony","Garden"]},{title:"Location of Crime",type:"green",options:["Office","Hotel","Restaurant","Pub/Bar","School","Hospital"]},{title:"Location of Crime",type:"green",options:["Vacation home","Park","Supermarket","Forest","University","Bookstore"]},{title:"Location of Crime",type:"green",options:["Playground","Classroom","Dormitory","Cafeteria","Lift","Toilet"]}],SUBORDINATE:[{title:"Duration of Crime",options:["Instantaneous","Few Seconds","Few Minutes","Under an Hour","Several Hours","Days"]},{title:"Trace at Scene",options:["Footprints","Fingerprints","Blood/Fluids","Smell/Scent","Sound/Recording","Writing/Marks"]},{title:"Weapon Type",options:["Sharp","Blunt","Toxin/Chemical","Projectile","Everyday Object","Machinery/Tool"]},{title:"Weapon Property",options:["Heavy","Lightweight","Long","Short/Small","Noisy","Silent"]},{title:"Weapon Origin",options:["Household","Industrial/Work","Medical/Chemical","Outdoor/Nature","Military/Tactical","Sports/Recreation"]},{title:"Evidence Material",options:["Fabric/Cloth","Metal","Paper/Wood","Plastic","Biological","Stone/Glass"]},{title:"Evidence Condition",options:["Broken/Damaged","New/Shiny","Old/Worn","Wet/Dirty","Burnt/Singed","Incomplete"]},{title:"Social Relation",options:["Relatives","Friends","Colleagues","Lovers","Strangers","Enemies"]},{title:"Sudden Incident",options:["Loud Shout","Heavy Thud","Bright Flash","Dead Silence","Scream","Breaking Glass"]},{title:"Motive",options:["Hatred/Revenge","Greed/Money","Love/Passion","Jealousy","Fear/Defense","Madness"]},{title:"Killer's Trait",options:["Arrogant","Cautious","Violent","Calm/Cold","Nervous","Calculating"]},{title:"Impression",options:["Natural","Artistic","Cruel","Clumsy","Professional","Bizarre"]},{title:"Noticed By Others",options:["Sound","Smell","Silhouette","Someone Running","Object Thrown","Nothing"]},{title:"Evidence Size",options:["Tiny","Small","Medium","Large","Heavy","Microscopic"]},{title:"Evidence Color",options:["Red/Purple","Blue/Green","Yellow/Orange","Black/Grey","White/Clear","Metallic"]},{title:"State of Scene",options:["Chaos / Destruction","Signs of Struggle","Perfectly Tidy","Items Missing","Staged / Artificially Arranged","Covered (Ash/Water/Dust)"]},{title:"Injury/Wounds",options:["Head / Neck","Chest / Torso","Hands / Arms","Legs / Feet","Internal Organs","No Visible Wounds"]},{title:"Assassin Hint",options:["Man","Woman","Tall","Short","Strong","Weak"]},{title:"Shape of Evidence",options:["Round/Spherical","Square/Rectangular","Long/Thin","Flat/Sheet","Irregular/Amorphous","Sharp/Pointed"]},{title:"Weapon Operation",options:["Muscle Power","Mechanism/Trigger","Chemical/Reaction","Electrical","Passive/Trap","Animal/Living"]},{title:"Evidence Domain",options:["Work/Office","Home/Domestic","Travel/Outdoor","Leisure/Hobby","Medical/Hygiene","Vice/Illegal"]},{title:"Concealability (Weapon)",options:["Pocket Size","Bag/Backpack Size","Two-Handed/Large","Not Concealable","Invisible/Internal","Disguised as Object"]},{title:"Origin of Evidence",options:["Owned by Victim","Stolen from Victim","Gifted to Victim","Belonged to Killer","Found at Scene","Unknown Origin"]},{title:"Texture of Evidence",options:["Hard/Rigid","Soft/Flexible","Metallic/Cold","Wooden/Rough","Paper-like","Sticky/Liquid"]},{title:"Weapon Residue",options:["Blood","Powder/Dust","Water/Fluid","Ash/Burn Mark","Fragments/Shards","None/Clean"]},{title:"Visibility of Injury",options:["None Visible","Small Puncture","Large Wound","Bruising/Swelling","Burns/Rash","Dismemberment/Breakage"]}]},rl=s=>{let e=s.length,i;const a=[...s];for(;e!==0;)i=Math.floor(Math.random()*e),e--,[a[e],a[i]]=[a[i],a[e]];return a},_n=s=>{const e=GI[s]||"";return E.jsx("span",{className:"text-2xl leading-none filter drop-shadow-sm grayscale-[0.2] mb-1 block",children:e})},Hc=()=>E.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[E.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,var(--tw-gradient-stops))] from-gray-800 via-gray-900 to-black opacity-80"}),E.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:'url("https://www.transparenttextures.com/patterns/black-scales.png")'}})]}),Iv=()=>E.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 py-2 w-full bg-slate-950/80 backdrop-blur-sm border-t border-slate-900/50 z-50",children:[E.jsx(vh,{size:12,className:"text-green-500"}),E.jsx("span",{className:"text-[10px] font-black tracking-widest text-green-500 uppercase",children:"INVESTIGATION"})]}),FI=()=>E.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 py-2 w-full bg-slate-950/80 backdrop-blur-sm border-t border-slate-900/50 z-50",children:[E.jsx(vh,{size:22,className:"text-green-500"}),E.jsx("span",{className:"text-[20px] font-black tracking-widest text-green-500 uppercase",children:"INVESTIGATION"})]}),nm=({onClose:s})=>E.jsx("div",{className:"fixed inset-0 z-170 bg-slate-950/95 flex justify-center overflow-y-auto p-4 animate-in slide-in-from-bottom-10 fade-in duration-300",children:E.jsxs("div",{className:"w-full max-w-4xl relative",children:[E.jsx("button",{onClick:s,className:"fixed top-4 right-4 md:absolute md:-right-12 md:top-0 bg-slate-800 p-2 rounded-full text-white hover:bg-slate-700 shadow-lg z-50",children:E.jsx(Eg,{size:24})}),E.jsxs("div",{className:"space-y-8 pb-20 mt-12 md:mt-0",children:[E.jsxs("div",{className:"text-center space-y-2",children:[E.jsx("h2",{className:"text-4xl font-black text-transparent bg-clip-text bg-linear-to-r from-blue-400 to-green-600",children:"PENAL CODES"}),E.jsx("p",{className:"text-slate-400",children:"Deduction, Deception, and Discovery"})]}),E.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl p-6 shadow-xl",children:[E.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[E.jsx(Cm,{className:"text-red-500"})," The Objective"]}),E.jsxs("p",{className:"text-slate-300 leading-relaxed",children:["A murder has been committed. The"," ",E.jsx("span",{className:"text-blue-400 font-bold",children:"Detective"})," knows the solution but can only communicate through vague clues. The"," ",E.jsx("span",{className:"text-green-400 font-bold",children:"Investigators"})," must interpret these clues to find the true"," ",E.jsx("strong",{className:"text-white",children:"Murder Weapon"})," and"," ",E.jsx("strong",{className:"text-white",children:"Evidence"})," before time runs out. Meanwhile, the"," ",E.jsx("span",{className:"text-red-400 font-bold",children:"Murderer"})," hides among them, trying to mislead the investigation."]})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E.jsxs("div",{className:"bg-slate-800/50 border border-blue-500/30 rounded-xl p-5",children:[E.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[E.jsx("div",{className:"bg-blue-600 p-1.5 rounded text-white",children:E.jsx(Eh,{size:16})}),E.jsx("span",{className:"font-bold text-blue-400",children:"Detective"})]}),E.jsx("p",{className:"text-sm text-slate-300",children:"Host & Guide. Knows the solution. Cannot speak about the case. Selects tile cards to give hints."})]}),E.jsxs("div",{className:"bg-slate-800/50 border border-red-500/30 rounded-xl p-5",children:[E.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[E.jsx("div",{className:"bg-red-600 p-1.5 rounded text-white",children:E.jsx(bh,{size:16})}),E.jsx("span",{className:"font-bold text-red-400",children:"Murderer"})]}),E.jsx("p",{className:"text-sm text-slate-300",children:"The Culprit. Chooses the Means & Clue at the start. Hides identity and tries to sabotage the team."})]}),E.jsxs("div",{className:"bg-slate-800/50 border border-emerald-500/30 rounded-xl p-5",children:[E.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[E.jsx("div",{className:"bg-emerald-600 p-1.5 rounded text-white",children:E.jsx(hr,{size:16})}),E.jsx("span",{className:"font-bold text-emerald-400",children:"Investigator"})]}),E.jsx("p",{className:"text-sm text-slate-300",children:"The Team. Discusses clues and submits accusations to solve the crime."})]}),E.jsxs("div",{className:"bg-slate-800/50 border border-orange-500/30 rounded-xl p-5",children:[E.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[E.jsx("div",{className:"bg-orange-600 p-1.5 rounded text-white",children:E.jsx(tT,{size:16})}),E.jsx("span",{className:"font-bold text-orange-400",children:"Accomplice"})]}),E.jsx("p",{className:"text-sm text-slate-300",children:"(Optional) Knows who the Murderer is. Helps them win without getting caught."})]}),E.jsxs("div",{className:"bg-slate-800/50 border border-indigo-500/30 rounded-xl p-5 md:col-span-2",children:[E.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[E.jsx("div",{className:"bg-indigo-600 p-1.5 rounded text-white",children:E.jsx(vg,{size:16})}),E.jsx("span",{className:"font-bold text-indigo-400",children:"Witness"})]}),E.jsx("p",{className:"text-sm text-slate-300",children:"(Optional) Knows the Murderer but not the solution. Must help Investigators without revealing themselves. If the Murderer finds the Witness at the end, the Murderer wins!"})]})]}),E.jsx("div",{className:"text-center pt-8",children:E.jsx("button",{onClick:s,className:"bg-white text-slate-900 px-8 py-3 rounded-full font-bold hover:scale-105 transition-transform",children:"Got it, Let's Play!"})})]})]})}),KI=({logs:s,onClose:e})=>E.jsx("div",{className:"fixed top-16 right-4 w-64 max-h-60 bg-gray-900/95 border border-gray-700 rounded-xl z-155 overflow-y-auto p-2 shadow-2xl",children:E.jsxs("div",{className:"bg-slate-900 w-full md:max-w-md h-full md:h-[70vh] rounded-none md:rounded-xl flex flex-col border-none md:border border-slate-700 shadow-2xl",children:[E.jsxs("div",{className:"p-4 border-b border-slate-700 flex justify-between items-center bg-slate-800",children:[E.jsxs("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[E.jsx(nT,{size:18,className:"text-cyan-400"})," System Logs"]}),E.jsx("button",{onClick:e,className:"p-2 bg-slate-700 rounded-full hover:bg-slate-600",children:E.jsx(Eg,{className:"text-slate-400"})})]}),E.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[...s].reverse().map((i,a)=>E.jsxs("div",{className:`text-xs md:text-sm p-3 rounded border-l-2 ${i.type==="danger"?"bg-red-900/20 border-red-500 text-red-200":i.type==="success"?"bg-green-900/20 border-green-500 text-green-200":"bg-slate-700/50 border-slate-500 text-slate-300"}`,children:[E.jsxs("span",{className:"opacity-50 mr-2 font-mono",children:["[",new Date(parseInt(i.id)||Date.now()).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),"]"]}),i.text]},a))})]})}),Nv=({onConfirm:s,onCancel:e,isHost:i,onReturnToLobby:a})=>E.jsx("div",{className:"fixed inset-0 bg-black/90 z-200 flex items-center justify-center p-4 animate-in fade-in",children:E.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6 max-w-sm w-full text-center shadow-2xl",children:[E.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Leave Game?"}),E.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:i?"As Host, leaving will end the game for everyone.":"Are you sure you want to leave the room?"}),E.jsxs("div",{className:"flex flex-col gap-3",children:[E.jsx("button",{onClick:e,className:"bg-slate-700 hover:bg-slate-600 text-white py-3 rounded font-bold transition-colors",children:"Stay"}),i&&a&&E.jsx("button",{onClick:a,className:"bg-blue-600 hover:bg-blue-500 text-white py-3 rounded font-bold transition-colors",children:"Return to Lobby"}),E.jsx("button",{onClick:s,className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold transition-colors",children:i?"Delete Room":"Leave Room"})]})]})}),Dv=({role:s})=>{if(!s)return null;let e="bg-gray-600",i=iT;s==="DETECTIVE"&&(e="bg-blue-600",i=Eh),s==="MURDERER"&&(e="bg-red-600",i=bh),s==="INVESTIGATOR"&&(e="bg-emerald-600",i=hr),s==="ACCOMPLICE"&&(e="bg-orange-600",i=tT),s==="WITNESS"&&(e="bg-indigo-600",i=vg);const a=s.charAt(0)+s.slice(1).toLowerCase();return E.jsxs("div",{className:`${e} text-white px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1 shadow-sm`,children:[P1.createElement(i,{size:12})," ",E.jsx("span",{className:"whitespace-nowrap",children:a})]})};function QI(){const[s,e]=Le.useState(null),[i,a]=Le.useState("menu"),[o,c]=Le.useState(""),[d,y]=Le.useState(null),[m,_]=Le.useState(null),[S,w]=Le.useState(!1),[M,F]=Le.useState(""),[te,re]=Le.useState(!1),[se,_e]=Le.useState(!1),[De,xe]=Le.useState(null),[ut,bt]=Le.useState(null),[me,C]=Le.useState(null),[A,I]=Le.useState(!1),[V,O]=Le.useState(!1),[j,x]=Le.useState(!1),[Qe,Tt]=Le.useState(!1),[q,Z]=Le.useState(!1),[ge,Ge]=Le.useState(!0),[ke,D]=Le.useState(null),[Q,ne]=Le.useState(!0),[le,Ee]=Le.useState(!0),[Ae,Ve]=Le.useState(!1),[st,ht]=Le.useState(()=>localStorage.getItem("gameHub_playerName")||"");Le.useEffect(()=>{st&&localStorage.setItem("gameHub_playerName",st)},[st]),Le.useEffect(()=>{const W=localStorage.getItem("investigation_roomId");W&&(y(W),c(W))},[]),Le.useEffect(()=>((async()=>{if(typeof __initial_auth_token<"u"&&__initial_auth_token)try{await yw(zc,__initial_auth_token)}catch{await p_(zc)}else await p_(zc)})(),Ew(zc,J=>e(J))),[]),Le.useEffect(()=>{m?.phase==="WITNESS_HUNT"?(ne(!0),Ee(!0)):ne(!1)},[m?.phase]),Le.useEffect(()=>{m?.accompliceSuggestion&&Ee(!0)},[m?.accompliceSuggestion]),Le.useEffect(()=>{if(!d||!s)return;const W=Ht(qt,"artifacts",Xt,"public","data","rooms",d),J=Sv(W,ie=>{if(ie.exists()){const ae=ie.data();if(!ae.players.find(Rt=>Rt.id===s.uid)){localStorage.removeItem("investigation_roomId"),y(null),a("menu"),_(null),F("You were removed from the room.");return}_({id:ie.id,...ae}),ae.status==="playing"||ae.status==="finished"?a("game"):a("lobby"),ae.status==="lobby"&&(I(!1),C(null),Tt(!1)),ae.status==="playing"&&ae.phase==="INVESTIGATION"&&ae.players.filter(gn=>gn.role!=="DETECTIVE"&&gn.badge===!0).length===0&&!ae.activeAccusation&&ae.hostId===s.uid&&Ji()}else localStorage.removeItem("investigation_roomId"),y(null),a("menu"),F("Room closed by host.")});return()=>J()},[d,s]),Le.useEffect(()=>{const W=Sv(Ht(qt,"game_hub_settings","config"),J=>{J.exists()&&J.data()[BI]?.maintenance?re(!0):re(!1)});return()=>W()},[]);const Ji=async W=>{let J=[{text:"All badges used. Murderer Escapes!",type:"danger"}];await hn(Ht(qt,"artifacts",Xt,"public","data","rooms",d),{phase:"GAME_OVER_BAD",logs:Mn(...J)})},Ai=(W,J)=>{D({title:W,message:J,type:"alert"})},Ns=(W,J,ie)=>{D({title:W,message:J,type:"confirm",onConfirm:ie})},Zi=()=>D(null),Yn=async()=>{if(!s||!st.trim())return F("Enter nickname.");w(!0);const W="123456789ABCDEFGHIJKLMNPQRSTUVWXYZ";let J="";for(let ae=0;ae<6;ae++)J+=W.charAt(Math.floor(Math.random()*W.length));localStorage.setItem("investigation_roomId",J);const ie={roomId:J,hostId:s.uid,players:[{id:s.uid,name:st,role:null,means:[],clues:[],badge:!0,ready:!0}],status:"lobby",settings:{useAccomplice:!1,useWitness:!1},logs:[],accusations:[],nextRoundRequests:[],replayRequests:[],readyPlayers:[],activeAccusation:null};try{await tI(Ht(qt,"artifacts",Xt,"public","data","rooms",J),ie),y(J),c(J)}catch{F("Failed to create room.")}w(!1)},Dr=async()=>{if(!s||!o||!st.trim())return F("Enter details.");w(!0);try{const W=Ht(qt,"artifacts",Xt,"public","data","rooms",o.toUpperCase()),J=await eI(W);if(!J.exists())throw new Error("Room not found.");const ie=J.data();if(ie.players.length>=10)throw new Error("Room full.");if(ie.status!=="lobby")throw new Error("Game started.");ie.players.find(Te=>Te.id===s.uid)||await hn(W,{players:Mn({id:s.uid,name:st,role:null,means:[],clues:[],badge:!0,ready:!0})}),localStorage.setItem("investigation_roomId",o.toUpperCase()),y(o.toUpperCase())}catch(W){F(W.message)}w(!1)},wi=async W=>{if(!m||m.hostId!==s.uid)return;const J=m.settings?.[W]||!1;await hn(Ht(qt,"artifacts",Xt,"public","data","rooms",d),{[`settings.${W}`]:!J})},Ds=async()=>{if(!d||!s||!m)return;localStorage.removeItem("investigation_roomId");const W=Ht(qt,"artifacts",Xt,"public","data","rooms",d);try{if(m.hostId===s.uid)await Tv(W);else{const J=m.players.filter(ie=>ie.id!==s.uid);J.length===0?await Tv(W):await hn(W,{players:J})}}catch(J){console.error("Error leaving room:",J)}y(null),a("menu"),_(null),Z(!1)},Or=async W=>{if(!m||m.hostId!==s.uid)return;const J=m.players.filter(ie=>ie.id!==W);await hn(Ht(qt,"artifacts",Xt,"public","data","rooms",d),{players:J})},xt=()=>{const W=m.roomId,J=()=>{_e(!0),setTimeout(()=>_e(!1),2e3),triggerFeedback&&triggerFeedback("neutral","COPIED!","",tm)};try{navigator.clipboard.writeText(W),J()}catch{const ae=document.createElement("textarea");ae.value=W,document.body.appendChild(ae),ae.select(),document.execCommand("copy"),document.body.removeChild(ae),J()}},St=async()=>{if(!m||m.hostId!==s.uid)return;const W=m.players.map(J=>({...J,role:null,means:[],clues:[],badge:!0,ready:!0}));await hn(Ht(qt,"artifacts",Xt,"public","data","rooms",d),{status:"lobby",phase:null,solution:null,activeTiles:null,logs:[],players:W,round:1,accusations:[],successfulSolvers:[],accompliceSuggestion:null,murdererGuess:null,nextRoundRequests:[],replayRequests:[],readyPlayers:[],activeAccusation:null})},Xn=async()=>{if(m.players.length<4)return F("Need 4+ players.");const W=m.players.length;let J=["DETECTIVE","MURDERER"];for(W>=6&&m.settings?.useAccomplice&&J.push("ACCOMPLICE"),W>=5&&m.settings?.useWitness&&J.push("WITNESS");J.length<W;)J.push("INVESTIGATOR");J=rl(J);const ie=rl([...HI]),ae=rl([...qI]),Te=m.players.map((ft,yt)=>{if(J[yt]==="DETECTIVE")return{...ft,role:J[yt],means:[],clues:[],badge:!1};const Ze=[],ue=[];for(let Oe=0;Oe<4;Oe++)Ze.push(ie.pop());for(let Oe=0;Oe<4;Oe++)ue.push(ae.pop());return{...ft,role:J[yt],means:Ze,clues:ue,badge:!0}}),Rt=rl([...Bc.MAIN])[0],gn=rl([...Bc.SUBORDINATE]).slice(0,4),Jt=[{...Bc.FIXED,id:"cause",selected:null},{...Rt,id:"main",selected:null},...gn.map((ft,yt)=>({...ft,id:`scene_${yt}`,selected:null}))];await hn(Ht(qt,"artifacts",Xt,"public","data","rooms",d),{status:"playing",phase:"PRE_GAME_MURDER",players:Te,activeTiles:Jt,solution:null,round:1,logs:Mn({text:"Game Started. Planning Phase...",type:"neutral"}),accusations:[],nextRoundRequests:[],readyPlayers:[],replayRequests:[],activeAccusation:null})},Ol=async()=>{if(m.readyPlayers?.includes(s.uid))return;const W=[...m.readyPlayers||[],s.uid],J=m.players.length===W.length;let ie={readyPlayers:W};J&&(ie.phase="MURDERER_SELECT",ie.logs=Mn({text:"Everyone Ready. Murderer is choosing...",type:"danger"})),await hn(Ht(qt,"artifacts",Xt,"public","data","rooms",d),ie)},pa=async(W,J)=>{await hn(Ht(qt,"artifacts",Xt,"public","data","rooms",d),{solution:{means:W,clue:J,murdererId:s.uid},phase:"DETECTIVE_TURN",logs:Mn({text:"Crime Committed. Detective is analyzing evidence...",type:"danger"})})},rn=async(W,J)=>{const ie=[...m.activeTiles];ie[W].selected=J,await hn(Ht(qt,"artifacts",Xt,"public","data","rooms",d),{activeTiles:ie})},es=async()=>{if(!m.activeTiles.every(J=>J.selected!==null))return Ai("Incomplete","Select an option for every tile!");await hn(Ht(qt,"artifacts",Xt,"public","data","rooms",d),{phase:"INVESTIGATION",logs:Mn({text:`Round ${m.round} Clues Revealed! Investigators, submit your files when ready.`,type:"info"}),nextRoundRequests:[]})},Mr=async()=>{m.nextRoundRequests?.includes(s.uid)||await hn(Ht(qt,"artifacts",Xt,"public","data","rooms",d),{nextRoundRequests:Mn(s.uid)})},Vr=async W=>{if(W<2)return Ai("Invalid Action","You cannot replace the Cause of Death or Main Location tile.");if(m.round>=3)return;const J=m.activeTiles.map(Rt=>Rt.title),ie=Bc.SUBORDINATE.filter(Rt=>!J.includes(Rt.title)),ae=rl(ie)[0],Te=[...m.activeTiles];Te[W]={...ae,id:`scene_r${m.round+1}_${W}`,selected:null},await hn(Ht(qt,"artifacts",Xt,"public","data","rooms",d),{phase:"DETECTIVE_TURN",round:m.round+1,activeTiles:Te,logs:Mn({text:`Round ${m.round+1} Begins. Detective is updating a clue...`,type:"neutral"})}),Tt(!1)},xi=async()=>{if(!me)return;const{targetId:W,means:J,clue:ie}=me,ae=m.players.findIndex(yt=>yt.id===s.uid),Te=[...m.players];Te[ae].badge=!1;const Rt=m.solution,gn=W===Rt.murdererId&&J===Rt.means&&ie===Rt.clue,Jt={solverId:s.uid,solverName:Te[ae].name,targetId:W,means:J,clue:ie,isCorrect:gn,continueVotes:[]},ft=m.nextRoundRequests||[];ft.includes(s.uid)||ft.push(s.uid),await hn(Ht(qt,"artifacts",Xt,"public","data","rooms",d),{players:Te,accusations:Mn(Jt),activeAccusation:Jt,nextRoundRequests:ft,logs:Mn({text:`${Te[ae].name} submitted a case file.`,type:"neutral"})}),I(!1),C(null)},Ml=async()=>{if(!m.activeAccusation)return;const W=m.activeAccusation.continueVotes||[];if(W.includes(s.uid))return;const J=[...W,s.uid],ie=m.players.length===J.length;let ae={"activeAccusation.continueVotes":J};ie&&(ae.activeAccusation=null,m.activeAccusation.isCorrect?m.settings?.useWitness?(ae.phase="WITNESS_HUNT",ae.successfulSolvers=[m.activeAccusation.solverId],ae.logs=Mn({text:"CORRECT! But Murderer can steal win by finding Witness.",type:"warning"})):(ae.phase="GAME_OVER_GOOD",ae.successfulSolvers=[m.activeAccusation.solverId],ae.logs=Mn({text:"CORRECT! Investigators Win!",type:"success"})):ae.logs=Mn({text:`${m.activeAccusation.solverName} was WRONG. Game Continues.`,type:"danger"})),await hn(Ht(qt,"artifacts",Xt,"public","data","rooms",d),ae)},ya=async W=>{await hn(Ht(qt,"artifacts",Xt,"public","data","rooms",d),{accompliceSuggestion:W})},_a=async W=>{const J=m.players.find(Te=>Te.id===W);let ie="GAME_OVER_GOOD",ae=[];J.role==="WITNESS"?(ie="GAME_OVER_BAD",ae.push({text:`Murderer identified the Witness (${J.name})! Murderer Wins!`,type:"danger"})):(ie="GAME_OVER_GOOD",ae.push({text:"Murderer guessed wrong! Investigators Win!",type:"success"})),await hn(Ht(qt,"artifacts",Xt,"public","data","rooms",d),{phase:ie,logs:Mn(...ae)})};if(te)return E.jsx("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:E.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[E.jsx(SI,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),E.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),E.jsx("p",{className:"text-gray-400",children:"Crime scene sealed. Forensics team is sweeping the area."})]})});if(!s)return E.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center text-green-500 animate-pulse",children:"Unfolding clues..."});if(d&&!m&&!M)return E.jsxs("div",{className:"min-h-screen bg-zinc-950 flex flex-col items-center justify-center text-white p-4",children:[E.jsx(Hc,{}),E.jsxs("div",{className:"bg-zinc-900/80 backdrop-blur p-8 rounded-2xl border border-zinc-700 shadow-2xl flex flex-col items-center gap-4 animate-in fade-in zoom-in duration-300",children:[E.jsx(RI,{size:48,className:"text-green-500 animate-spin"}),E.jsxs("div",{className:"text-center",children:[E.jsx("h2",{className:"text-xl font-bold",children:"Reconnecting..."}),E.jsx("p",{className:"text-zinc-400 text-sm",children:"Resuming your session"})]})]})]});if(i==="menu")return E.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[E.jsx(Hc,{}),Ae&&E.jsx(nm,{onClose:()=>Ve(!1)}),E.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[E.jsx(vh,{size:64,className:"text-green-500 mx-auto mb-4 animate-bounce drop-shadow-[0_0_15px_rgba(34,197,94,0.5)]"}),E.jsx("h1",{className:"text-3xl sm:text-5xl md:text-6xl font-black text-transparent bg-clip-text bg-linear-to-b from-green-300 to-green-600 font-serif tracking-widest drop-shadow-md wrap-break-word max-w-full",children:"INVESTIGATION"}),E.jsx("p",{className:"text-gray-400 tracking-[0.3em] uppercase mt-2",children:"Murder Mystery"})]}),E.jsxs("div",{className:"bg-gray-900/80 backdrop-blur border border-gray-700 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10 animate-in slide-in-from-bottom-10 duration-700 delay-100",children:[M&&E.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-sm border border-red-800",children:M}),E.jsx("input",{className:"w-full bg-black/50 border border-gray-600 p-3 rounded mb-4 text-white placeholder-gray-500 focus:border-green-500 outline-none transition-colors",placeholder:"Your Codename",value:st,onChange:W=>ht(W.target.value)}),E.jsxs("button",{onClick:Yn,disabled:S,className:"w-full bg-linear-to-r from-green-700 to-green-600 hover:from-green-600 hover:to-green-500 p-4 rounded font-bold mb-4 flex items-center justify-center gap-2 border border-green-500/30 shadow-[0_0_15px_rgba(34,197,94,0.2)] transition-all",children:[E.jsx(hr,{size:20})," Create Case File"]}),E.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[E.jsx("input",{className:"w-full sm:flex-1 bg-black/50 border border-gray-600 p-3 rounded text-white placeholder-gray-500 uppercase font-mono tracking-wider focus:border-green-500 outline-none",placeholder:"ROOM CODE",value:o,onChange:W=>c(W.target.value.toUpperCase())}),E.jsx("button",{onClick:Dr,disabled:S,className:"w-full sm:w-auto bg-gray-800 hover:bg-gray-700 border border-gray-600 px-6 py-3 rounded font-bold transition-colors",children:"Join"})]}),E.jsxs("button",{onClick:()=>Ve(!0),className:"w-full text-sm text-gray-400 hover:text-white flex items-center justify-center gap-2 py-2",children:[E.jsx(wv,{size:16})," Penal Codes"]})]}),E.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Inspired by Deception: Murder in Hongkong. A tribute game.",E.jsx("br",{}),"Developed by ",E.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",E.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-emerald-500 underline hover:text-emerald-600",children:"GAMEHUB"})," ","for more games."]})]});if(i==="lobby"&&m){const W=m.hostId===s.uid,J=m.players.length;return E.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-6 relative pb-16",children:[E.jsx(Hc,{}),E.jsx(FI,{}),Ae&&E.jsx(nm,{onClose:()=>Ve(!1)}),q&&E.jsx(Nv,{onCancel:()=>Z(!1),onConfirm:Ds,isHost:W}),E.jsxs("div",{className:"z-10 w-full max-w-lg bg-gray-800/90 p-8 rounded-2xl border border-gray-700 shadow-2xl mb-4",children:[E.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-gray-700 pb-4",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-lg md:text-xl text-green-500 font-bold uppercase",children:"Case File"}),E.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[E.jsx("div",{className:"text-2xl md:text-3xl font-mono text-white font-black",children:m.roomId}),E.jsxs("div",{className:"relative",children:[E.jsx("button",{onClick:xt,className:"p-2 hover:bg-white/10 rounded-full transition-colors text-gray-400 hover:text-white",children:se?E.jsx(tm,{size:16,className:"text-green-500"}):E.jsx(gI,{size:16})}),se&&E.jsx("div",{className:"absolute left-full ml-2 top-1/2 -translate-y-1/2 bg-green-500 text-black text-xs font-bold px-2 py-1 rounded shadow-lg animate-fade-in-up whitespace-nowrap",children:"Copied!"})]})]})]}),E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[E.jsx(iT,{size:16})," ",J,"/10"]}),E.jsx("button",{onClick:()=>Z(!0),className:"p-2 bg-red-900/50 hover:bg-red-900 rounded text-red-300",title:"Leave Room",children:E.jsx(Cv,{size:16})})]})]}),E.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-xl border border-gray-700 flex justify-between items-center mb-6",children:[E.jsxs("div",{className:"flex items-center gap-2 text-gray-300 font-bold",children:[E.jsx(DI,{size:18})," Settings"]}),E.jsxs("div",{className:"flex gap-4",children:[J>=6&&E.jsxs("label",{className:`flex items-center gap-2 cursor-pointer ${!W&&"opacity-50 pointer-events-none"}`,children:[E.jsx("input",{type:"checkbox",checked:m.settings?.useAccomplice||!1,onChange:()=>wi("useAccomplice"),className:"w-4 h-4 accent-green-500 rounded"}),E.jsx("span",{className:"text-sm",children:"Accomp."})]}),J>=5&&E.jsxs("label",{className:`flex items-center gap-2 cursor-pointer ${!W&&"opacity-50 pointer-events-none"}`,children:[E.jsx("input",{type:"checkbox",checked:m.settings?.useWitness||!1,onChange:()=>wi("useWitness"),className:"w-4 h-4 accent-green-500 rounded"}),E.jsx("span",{className:"text-sm",children:"Witness"})]}),J<5&&E.jsx("span",{className:"text-xs text-gray-500",children:"Need 5+ players for extra roles"})]})]}),E.jsxs("div",{className:"space-y-3 mb-8",children:[m.players.map(ie=>E.jsxs("div",{className:"flex items-center justify-between bg-gray-900 p-4 rounded border border-gray-700",children:[E.jsx("div",{className:"flex items-center gap-3",children:E.jsxs("span",{className:`font-bold ${ie.id===s.uid?"text-green-500":"text-gray-300"}`,children:[ie.name," ",ie.id===m.hostId&&""]})}),E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsxs("span",{className:"text-green-600 flex items-center gap-1 text-sm",children:[E.jsx(tm,{size:14})," Ready"]}),W&&ie.id!==s.uid&&E.jsx("button",{onClick:()=>Or(ie.id),className:"text-red-900 hover:text-red-500 transition-colors",children:E.jsx(kI,{size:16})})]})]},ie.id)),m.players.length<4&&E.jsx("div",{className:"text-center text-gray-500 animate-pulse italic",children:"Waiting for more investigators..."})]}),W?E.jsx("button",{onClick:Xn,disabled:m.players.length<4,className:`w-full py-4 rounded-xl font-bold text-lg shadow-lg transition-all ${m.players.length<4?"bg-gray-700 cursor-not-allowed text-gray-500":"bg-green-700 hover:bg-green-600 text-white shadow-green-900/30"}`,children:"Start Investigation"}):E.jsx("div",{className:"text-center text-green-500/80 font-serif mb-2",children:"Waiting for Host to start..."})]}),E.jsx("div",{className:"fixed bottom-0 left-0 w-full",children:E.jsx(Iv,{})})]})}if(i==="game"&&m){const W=m.players.find(ue=>ue.id===s.uid);if(!W)return E.jsx("div",{onClick:()=>window.location.reload(),className:"p-10 text-white cursor-pointer",children:"You were removed. Click to reload."});let J={};if(J[W.id]=W.role,W.role==="DETECTIVE"&&m.players.forEach(ue=>J[ue.id]=ue.role),W.role==="MURDERER"){const ue=m.players.find(Oe=>Oe.role==="ACCOMPLICE");ue&&(J[ue.id]="ACCOMPLICE")}if(W.role==="ACCOMPLICE"){const ue=m.players.find(Oe=>Oe.role==="MURDERER");ue&&(J[ue.id]="MURDERER")}W.role==="WITNESS"&&m.players.forEach(ue=>{ue.role==="MURDERER"&&(J[ue.id]="MURDERER")});const ie=W.role==="DETECTIVE",ae=W.role==="MURDERER",Te=W.role==="ACCOMPLICE",Rt=m.accusations?.find(ue=>ue.solverId===s.uid),gn=(ue,Oe,he)=>{const Qt=m.phase==="INVESTIGATION";ie||!W.badge||!Qt||C(Nt=>{if(Nt?.targetId!==ue)return{targetId:ue,[Oe]:he,[Oe==="means"?"clue":"means"]:null};const dt={...Nt};return dt[Oe]===he?dt[Oe]=null:dt[Oe]=he,dt})};let Jt="INVESTIGATION",ft=vh,yt="text-green-500",Ze=null;if(m.phase==="PRE_GAME_MURDER"?(Jt="PRE-GAME",ft=vg,yt="text-blue-400"):m.phase==="MURDERER_SELECT"?ae||Te?(Jt="MURDER PHASE",ft=bh,yt="text-red-500"):ie?(Jt="DETECTIVE",ft=Eh,yt="text-blue-500"):(Jt="NIGHT PHASE",ft=Rv,yt="text-slate-500"):m.phase.includes("GAME_OVER")&&(Jt="CASE CLOSED",ft=hr,yt="text-yellow-500"),m.phase==="PRE_GAME_MURDER"){const ue=m.readyPlayers?.includes(s.uid);Ze=E.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden",children:[E.jsxs("div",{className:"bg-slate-800/50 p-2 flex justify-between items-center border-b border-slate-700",children:[E.jsx("span",{className:"text-xs text-slate-400 font-bold uppercase",children:"Review Roles & Cards"}),E.jsx("button",{onClick:Ol,disabled:ue,className:`px-4 py-1.5 rounded-full font-bold text-sm transition-all ${ue?"bg-green-600 text-white cursor-default":"bg-blue-600 hover:bg-blue-500 text-white shadow-lg animate-pulse"}`,children:ue?"Waiting...":"Ready"})]}),E.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 max-w-7xl mx-auto pb-20",children:m.players.map(Oe=>{const he=Oe.id===s.uid,Qt=J[Oe.id]||Oe.role==="DETECTIVE";return E.jsxs("div",{className:`relative bg-slate-900 border rounded-xl overflow-hidden shadow-lg ${he?"border-blue-500/50":"border-slate-800"}`,children:[E.jsx("div",{className:"p-2 bg-slate-800/80 flex justify-between items-center border-b border-slate-700",children:E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:`font-bold text-sm ${he?"text-blue-400":"text-slate-200"}`,children:Oe.name}),Qt&&E.jsx(Dv,{role:Oe.role})]})}),E.jsxs("div",{className:"p-2 grid grid-cols-2 gap-2",children:[E.jsxs("div",{className:"space-y-1",children:[E.jsx("div",{className:"text-[10px] uppercase font-bold text-red-900 mb-1",children:"Murder Weapon"}),Oe.means.map(Nt=>E.jsxs("div",{className:"p-1.5 rounded bg-slate-800 border border-red-900/30 flex flex-col items-center justify-center text-center gap-1 min-h-[50px] shadow-sm",children:[_n(Nt),E.jsx("span",{className:"text-[9px] font-bold text-red-200 leading-tight line-clamp-2",children:Nt})]},Nt))]}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("div",{className:"text-[10px] uppercase font-bold text-blue-900 mb-1",children:"Evidence on Site"}),Oe.clues.map(Nt=>E.jsxs("div",{className:"p-1.5 rounded bg-slate-800 border border-blue-900/30 flex flex-col items-center justify-center text-center gap-1 min-h-[50px] shadow-sm",children:[_n(Nt),E.jsx("span",{className:"text-[9px] font-bold text-blue-200 leading-tight line-clamp-2",children:Nt})]},Nt))]})]})]},Oe.id)})})})]})}else if(m.phase==="MURDERER_SELECT")ae||Te?Ze=E.jsxs("div",{className:"flex-1 flex flex-col items-center pt-8 px-4 overflow-y-auto",children:[E.jsx("h1",{className:"text-3xl font-black text-red-500 mb-2",children:"COMMIT THE CRIME"}),E.jsx("p",{className:"text-red-200 mb-6 max-w-md text-center",children:ae?"Select 1 Murder Weapon and 1 Evidence.":"Helping Murderer select..."}),ae&&E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 w-full max-w-4xl pb-32",children:[E.jsxs("div",{className:"bg-red-900/30 p-4 rounded-xl border border-red-800",children:[E.jsxs("h3",{className:"text-red-400 font-bold mb-2 flex items-center gap-2 text-sm",children:[E.jsx(bI,{size:16})," WEAPON"]}),E.jsx("div",{className:"grid grid-cols-2 gap-2",children:W.means.map(ue=>E.jsxs("button",{onClick:()=>C({...me,means:ue}),className:`p-2 rounded-lg border flex flex-col items-center justify-center gap-1 min-h-[80px] ${me?.means===ue?"bg-red-600 border-white text-white":"bg-red-900/50 border-red-700 text-red-200"}`,children:[_n(ue),E.jsx("span",{className:"text-xs font-bold leading-tight",children:ue})]},ue))})]}),E.jsxs("div",{className:"bg-blue-900/30 p-4 rounded-xl border border-blue-800",children:[E.jsxs("h3",{className:"text-blue-400 font-bold mb-2 flex items-center gap-2 text-sm",children:[E.jsx(Eh,{size:16})," EVIDENCE"]}),E.jsx("div",{className:"grid grid-cols-2 gap-2",children:W.clues.map(ue=>E.jsxs("button",{onClick:()=>C({...me,clue:ue}),className:`p-2 rounded-lg border flex flex-col items-center justify-center gap-1 min-h-[80px] ${me?.clue===ue?"bg-blue-600 border-white text-white":"bg-blue-900/50 border-blue-700 text-blue-200"}`,children:[_n(ue),E.jsx("span",{className:"text-xs font-bold leading-tight",children:ue})]},ue))})]})]}),ae&&E.jsx("div",{className:"fixed bottom-12 left-0 w-full p-4 flex justify-center z-40 pointer-events-none",children:E.jsx("button",{disabled:!me?.means||!me?.clue,onClick:()=>pa(me.means,me.clue),className:"w-full max-w-md bg-white text-red-900 px-8 py-3 rounded-full font-black text-lg hover:scale-105 disabled:opacity-50 pointer-events-auto shadow-2xl",children:"CONFIRM KILL"})})]}):ie?Ze=E.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-8",children:[E.jsx("h2",{className:"text-3xl font-bold text-blue-400 mb-4",children:"Awaiting The Crime..."}),E.jsxs("div",{className:"animate-pulse bg-slate-800 p-6 rounded-xl max-w-lg",children:[E.jsx("p",{className:"text-slate-300",children:"The Murderer is choosing the Weapon and Evidence."}),E.jsx("p",{className:"text-slate-500 text-sm mt-4",children:"Study the cards while you wait."})]})]}):Ze=E.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-8",children:[E.jsx(Rv,{size:64,className:"text-slate-700 mb-6 mx-auto"}),E.jsx("h2",{className:"text-4xl font-black text-slate-500 mb-4",children:"EYES CLOSED"}),E.jsx("p",{className:"text-slate-600",children:"The Murder is taking place..."})]});else{const ue=ie&&m.phase==="DETECTIVE_TURN",Oe=m.players.filter(he=>he.role!=="DETECTIVE").every(he=>{const Qt=m.nextRoundRequests?.includes(he.id),Nt=m.accusations?.some(dt=>dt.solverId===he.id);return Qt||Nt});Ze=E.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden",children:[E.jsx("div",{className:"bg-slate-800/80 p-2 flex justify-center md:hidden border-b border-slate-700 shrink-0",children:E.jsxs("button",{onClick:()=>Ge(!ge),className:"text-xs font-bold text-slate-400 flex items-center gap-1",children:[ge?"Hide Clues":"Show Clues"," ",ge?E.jsx(xv,{size:12}):E.jsx(hI,{size:12})]})}),ge&&E.jsx("div",{className:"bg-slate-900/50 p-2 overflow-x-auto border-b border-slate-800 shrink-0",children:E.jsx("div",{className:"flex gap-2 min-w-max mx-auto px-2",children:m.activeTiles.map((he,Qt)=>E.jsxs("div",{onClick:()=>{Qe&&ie&&Qt>=2&&Vr(Qt)},className:`w-40 bg-slate-800 rounded-lg border-2 flex flex-col relative shadow-lg transition-all ${Qe&&Qt>=2&&ie?"border-red-500 cursor-pointer hover:bg-red-900/20 scale-105":ie&&ue&&"hover:border-blue-500/50"} ${he.selected===null?"border-slate-700":"border-slate-600"} ${Qe&&Qt<2&&"opacity-50"}`,children:[Qe&&Qt>=2&&ie&&E.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 z-10 text-red-500 font-bold",children:E.jsx(Eg,{size:32})}),E.jsx("div",{className:`p-1.5 text-center font-bold text-[10px] uppercase tracking-wider text-white truncate ${he.type==="purple"?"bg-purple-900":he.type==="green"?"bg-emerald-900":"bg-slate-700"}`,children:he.title}),E.jsx("div",{className:"p-1.5 space-y-0.5",children:he.options.map((Nt,dt)=>{const jn=he.selected===dt;return E.jsxs("div",{onClick:ts=>{ts.stopPropagation(),ie&&ue&&rn(Qt,dt)},className:`text-[10px] px-1.5 py-1 rounded cursor-pointer flex justify-between items-center transition-colors ${jn?"bg-red-600 text-white font-bold shadow-md ring-1 ring-red-400":ie&&ue?"hover:bg-slate-700 text-slate-300":"text-slate-500 opacity-50"}`,children:[E.jsx("span",{className:"truncate",children:Nt}),jn&&E.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full ml-1 shrink-0"})]},dt)})})]},he.id))})}),E.jsxs("div",{className:"bg-slate-900 relative z-30 shadow-xl p-2 flex justify-between items-center border-b border-slate-800 shrink-0",children:[E.jsxs("div",{className:"text-center",children:[E.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold block",children:"Round"}),E.jsxs("span",{className:"text-sm font-bold text-white",children:[m.round,"/3"]})]}),E.jsxs("div",{className:"flex gap-2",children:[ie&&ue&&E.jsx("button",{onClick:es,className:"bg-green-600 hover:bg-green-500 text-white px-3 py-1.5 rounded text-xs font-bold shadow-lg animate-pulse",children:"Confirm"}),m.phase==="INVESTIGATION"&&ie&&m.round<3&&E.jsxs("button",{disabled:!Oe,onClick:()=>Tt(!Qe),className:`${Qe?"bg-red-500 animate-pulse":Oe?"bg-blue-600":"bg-slate-700 opacity-50 cursor-not-allowed"} hover:brightness-110 text-white px-3 py-1.5 rounded text-xs font-bold shadow-lg transition-colors flex items-center gap-1`,children:[Qe?"Select Tile":"Next Rnd",!Oe&&E.jsxs("span",{className:"text-[10px] bg-black/30 px-1 rounded",children:[m.nextRoundRequests?.length||0,"/",m.players.length-1]})]}),m.phase==="INVESTIGATION"&&!ie&&!Rt&&!m.nextRoundRequests?.includes(s.uid)&&m.round<3&&E.jsx("button",{onClick:Mr,className:"bg-blue-600 hover:bg-blue-500 text-white px-3 py-1.5 rounded text-xs font-bold shadow-lg",children:"Request Clue Change"}),m.phase==="INVESTIGATION"&&!ie&&m.nextRoundRequests?.includes(s.uid)&&E.jsx("div",{className:"text-[10px] text-green-400 font-bold bg-green-900/30 px-2 py-1 rounded border border-green-800",children:"Ready"})]})]}),E.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-transparent relative z-10",children:E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 max-w-7xl mx-auto pb-32",children:m.players.map(he=>{const Qt=he.id===s.uid,Nt=J[he.id]||he.role==="DETECTIVE"||m.phase.includes("GAME_OVER"),dt=me?.targetId===he.id,jn=m.accompliceSuggestion===he.id,ts=Rt?.targetId===he.id,Zt=m.accusations?.find($e=>$e.solverId===he.id),kr=m.phase==="WITNESS_HUNT"&&!Q&&(Te||ae)&&he.role!=="DETECTIVE"&&he.role!=="MURDERER"&&he.role!=="ACCOMPLICE";return E.jsxs("div",{onClick:()=>{m.phase==="INVESTIGATION"&&!ie&&W.badge&&C({targetId:he.id,means:null,clue:null})},className:`relative bg-slate-900 border rounded-xl overflow-hidden shadow-lg transition-all ${Qt?"border-blue-500/30 ring-1 ring-blue-900/50":"border-slate-800"} ${m.phase==="WITNESS_HUNT"&&jn&&ae?"ring-4 ring-yellow-500 scale-105":""} ${ts?"border-yellow-500/50 ring-1 ring-yellow-500/30":""}`,children:[E.jsxs("div",{className:"p-2 bg-slate-800/80 flex justify-between items-center border-b border-slate-700",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:`font-bold text-sm ${Qt?"text-blue-400":"text-slate-200"}`,children:he.name}),Nt&&E.jsx(Dv,{role:he.role})]}),he.badge&&he.role!=="DETECTIVE"&&E.jsx(hr,{size:14,className:"text-yellow-500",fill:"currentColor"}),!he.badge&&he.role!=="DETECTIVE"&&E.jsx("div",{className:"text-[10px] text-slate-600 font-bold uppercase",children:"Submitted"})]}),E.jsxs("div",{className:"p-2 grid grid-cols-2 gap-2",children:[E.jsxs("div",{className:"space-y-1",children:[E.jsx("div",{className:"text-[10px] uppercase font-bold text-red-900 mb-1",children:"Weapon"}),he.means.map($e=>{const ci=dt&&me.means===$e,Un=ts&&Rt.means===$e,Os=(ie||Te||ae)&&m.solution?.means===$e&&m.solution?.murdererId===he.id;return E.jsxs("div",{onClick:Tn=>{Tn.stopPropagation(),he.id!==s.uid&&gn(he.id,"means",$e)},className:`p-1.5 rounded-md border flex flex-col items-center justify-center text-center cursor-pointer transition-all active:scale-95 touch-manipulation min-h-[60px] shadow-sm ${ci?"bg-red-600 text-white font-bold shadow-md scale-105 border border-white":Un?"bg-red-900/40 text-red-200 border border-yellow-500/50 shadow-inner":Os?"bg-purple-900/80 text-white border-2 border-purple-400 animate-pulse":"bg-slate-800 text-red-200 border border-red-900/30 hover:bg-red-900/20 hover:border-red-500"} ${he.id===s.uid&&"opacity-50 cursor-not-allowed"}`,children:[_n($e),E.jsx("span",{className:"text-[10px] font-bold leading-tight line-clamp-2 w-full",children:$e})]},$e)})]}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("div",{className:"text-[10px] uppercase font-bold text-blue-900 mb-1",children:"Evidence"}),he.clues.map($e=>{const ci=dt&&me.clue===$e,Un=ts&&Rt.clue===$e,Os=(ie||Te||ae)&&m.solution?.clue===$e&&m.solution?.murdererId===he.id;return E.jsxs("div",{onClick:Tn=>{Tn.stopPropagation(),he.id!==s.uid&&gn(he.id,"clue",$e)},className:`p-1.5 rounded-md border flex flex-col items-center justify-center text-center cursor-pointer transition-all active:scale-95 touch-manipulation min-h-[60px] shadow-sm ${ci?"bg-blue-600 text-white font-bold shadow-md scale-105 border border-white":Un?"bg-blue-900/40 text-blue-200 border border-yellow-500/50 shadow-inner":Os?"bg-purple-900/80 text-white border-2 border-purple-400 animate-pulse":"bg-slate-800 text-blue-200 border border-blue-900/30 hover:bg-blue-900/20 hover:border-blue-500"} ${he.id===s.uid&&"opacity-50 cursor-not-allowed"}`,children:[_n($e),E.jsx("span",{className:"text-[10px] font-bold leading-tight line-clamp-2 w-full",children:$e})]},$e)})]})]}),m.phase==="WITNESS_HUNT"&&jn&&(Te||ae)&&E.jsx("div",{className:"absolute inset-0 bg-yellow-500/30 pointer-events-none flex items-center justify-center z-20",children:E.jsx("div",{className:`bg-yellow-500 text-black px-3 py-1.5 rounded-lg font-black text-xs shadow-xl border-2 border-black transform -rotate-6 ${ae?"animate-pulse scale-110":""}`,children:Te?"YOU SUGGESTED":"ACCOMPLICE'S PICK"})}),Zt&&E.jsxs("div",{className:`mx-2 mb-2 border-2 rounded-lg p-2 text-center relative overflow-hidden ${(m.phase==="WITNESS_HUNT"||m.phase.includes("GAME_OVER_GOOD"))&&Zt.isCorrect?"border-green-500 bg-green-950/40":"border-red-500 bg-red-950/40"}`,children:[E.jsx("div",{className:`absolute top-0 left-0 w-full h-1 ${(m.phase==="WITNESS_HUNT"||m.phase.includes("GAME_OVER_GOOD"))&&Zt.isCorrect?"bg-green-500":"bg-red-500"}`}),E.jsx("div",{className:`text-[10px] font-black uppercase tracking-widest mb-1 ${(m.phase==="WITNESS_HUNT"||m.phase.includes("GAME_OVER_GOOD"))&&Zt.isCorrect?"text-green-400":"text-red-400"}`,children:(m.phase==="WITNESS_HUNT"||m.phase.includes("GAME_OVER_GOOD"))&&Zt.isCorrect?"SUCCESSFUL":"FAILED"}),E.jsxs("div",{className:"text-xs text-slate-200 mb-1",children:["Suspected:"," ",E.jsx("span",{className:"font-bold text-white text-sm",children:m.players.find($e=>$e.id===Zt.targetId)?.name})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[E.jsxs("div",{className:"border rounded px-1 py-0.5 text-[10px] truncate flex items-center justify-center gap-1 bg-black/40 border-slate-600",children:[_n(Zt.means),Zt.means]}),E.jsxs("div",{className:"border rounded px-1 py-0.5 text-[10px] truncate flex items-center justify-center gap-1 bg-black/40 border-slate-600",children:[_n(Zt.clue),Zt.clue]})]})]}),kr&&E.jsxs("div",{className:"p-2 pt-0 mt-auto sticky bottom-0 bg-slate-900/95 backdrop-blur-sm border-t border-slate-700 -mx-px -mb-px rounded-b-xl z-30",children:[Te&&E.jsxs("button",{onClick:$e=>{$e.stopPropagation(),ya(he.id)},className:"w-full bg-yellow-500 hover:bg-yellow-400 text-black font-bold py-2 px-4 rounded-lg text-xs flex items-center justify-center gap-2 shadow-lg",children:[E.jsx(Cm,{size:14})," Suggest"]}),ae&&E.jsxs("button",{onClick:$e=>{if($e.stopPropagation(),m.settings?.useAccomplice&&!m.accompliceSuggestion){Ai("Wait!","Wait for Accomplice!");return}Ns("Eliminate Witness?",`End game by guessing ${he.name}?`,()=>_a(he.id))},className:"w-full bg-red-600 hover:bg-red-500 text-white font-bold py-2 px-4 rounded-lg text-xs flex items-center justify-center gap-2 shadow-lg animate-pulse",children:[E.jsx(yI,{size:14})," ELIMINATE"]})]}),dt&&(me.means||me.clue)&&m.phase==="INVESTIGATION"&&E.jsx("div",{className:"p-2 pt-0 mt-auto sticky bottom-0 bg-slate-900/95 backdrop-blur-sm border-t border-slate-700 -mx-px -mb-px rounded-b-xl z-10",children:E.jsxs("button",{onClick:$e=>{$e.stopPropagation(),I(!0)},className:"w-full bg-yellow-500 hover:bg-yellow-400 text-black font-bold py-2 px-4 rounded-lg text-xs flex items-center justify-center gap-2 shadow-lg animate-in slide-in-from-bottom-2 fade-in transition-transform active:scale-95",children:[E.jsx(hr,{size:14})," Review"]})})]},he.id)})})})]})}return E.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100 font-sans flex flex-col relative overflow-hidden pb-12",children:[E.jsx(Hc,{}),Ae&&E.jsx(nm,{onClose:()=>Ve(!1)}),q&&E.jsx(Nv,{onConfirm:Ds,onCancel:()=>Z(!1),isHost:m.hostId===s.uid,onReturnToLobby:()=>{St(),Z(!1)}}),j&&E.jsx(KI,{logs:m.logs,onClose:()=>x(!1)}),A&&me&&E.jsx("div",{className:"fixed inset-0 top-14 bg-black/90 z-150 flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl w-full max-w-lg p-6 shadow-2xl max-h-[90vh] overflow-y-auto",children:[E.jsxs("h3",{className:"text-2xl font-black text-yellow-500 mb-4 flex items-center gap-2",children:[E.jsx(hr,{})," SUBMIT CASE FILE"]}),E.jsxs("div",{className:"space-y-4 mb-8",children:[E.jsxs("div",{className:"bg-slate-800 p-4 rounded-lg",children:[E.jsx("div",{className:"text-xs text-slate-500 uppercase",children:"Suspect"}),E.jsx("div",{className:"text-xl font-bold text-white",children:m.players.find(ue=>ue.id===me.targetId)?.name})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("div",{className:"text-xs text-slate-500 uppercase mb-1",children:"Murder Weapon"}),me.means?E.jsxs("div",{className:"p-3 bg-red-900/50 border border-red-600 rounded text-red-100 font-bold text-center text-sm flex items-center justify-center gap-2",children:[_n(me.means),me.means]}):E.jsx("div",{className:"p-3 bg-slate-800 border border-slate-700 border-dashed rounded text-slate-500 text-center text-xs",children:"Select Weapon"})]}),E.jsxs("div",{children:[E.jsx("div",{className:"text-xs text-slate-500 uppercase mb-1",children:"Evidence"}),me.clue?E.jsxs("div",{className:"p-3 bg-blue-900/50 border border-blue-600 rounded text-blue-100 font-bold text-center text-sm flex items-center justify-center gap-2",children:[_n(me.clue),me.clue]}):E.jsx("div",{className:"p-3 bg-slate-800 border border-slate-700 border-dashed rounded text-slate-500 text-center text-xs",children:"Select Evidence"})]})]})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsx("button",{onClick:()=>I(!1),className:"py-3 rounded-lg font-bold text-slate-400 hover:bg-slate-800",children:"Cancel"}),E.jsx("button",{disabled:!me.means||!me.clue,onClick:xi,className:"bg-yellow-600 hover:bg-yellow-500 text-black py-3 rounded-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed",children:"CONFIRM"})]})]})}),ke&&E.jsx("div",{className:"fixed inset-0 top-14 bg-black/90 z-150 flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6 max-w-sm w-full text-center shadow-2xl",children:[E.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:ke.title}),E.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:ke.message}),E.jsxs("div",{className:`grid ${ke.type==="confirm"?"grid-cols-2":"grid-cols-1"} gap-3`,children:[ke.type==="confirm"&&E.jsx("button",{onClick:Zi,className:"bg-slate-700 hover:bg-slate-600 text-white py-3 rounded font-bold",children:"Cancel"}),E.jsx("button",{onClick:()=>{ke.onConfirm&&ke.onConfirm(),Zi()},className:"bg-blue-600 hover:bg-blue-500 text-white py-3 rounded font-bold",children:"OK"})]})]})}),m.activeAccusation&&E.jsx("div",{className:"fixed inset-0 top-14 bg-black/95 z-150 flex items-center justify-center p-4",children:E.jsxs("div",{className:`max-w-lg w-full p-6 rounded-2xl border-4 shadow-2xl text-center ${m.activeAccusation.isCorrect?"bg-green-900/90 border-green-500":"bg-red-900/90 border-red-500"}`,children:[E.jsx("h2",{className:"text-3xl font-black text-white mb-2 uppercase tracking-widest",children:m.activeAccusation.isCorrect?"CASE SOLVED!":"WRONG ACCUSATION"}),E.jsxs("div",{className:"bg-black/30 p-4 rounded-xl mb-6 text-left",children:[E.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-2 items-center mb-1",children:[E.jsx("span",{className:"text-sm text-gray-400 font-bold",children:"Accuser:"}),E.jsx("span",{className:"text-white font-bold",children:m.activeAccusation.solverName})]}),E.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-2 items-center mb-4",children:[E.jsx("span",{className:"text-sm text-gray-400 font-bold",children:"Suspect:"}),E.jsx("span",{className:"text-xl text-white font-black",children:m.players.find(ue=>ue.id===m.activeAccusation.targetId)?.name})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{className:"bg-red-900/30 border border-red-500/30 p-2 rounded text-center",children:[E.jsx("div",{className:"text-[10px] text-red-300 uppercase font-bold mb-1",children:"Weapon"}),E.jsxs("div",{className:"text-white font-bold text-sm flex items-center justify-center gap-1",children:[_n(m.activeAccusation.means),m.activeAccusation.means]})]}),E.jsxs("div",{className:"bg-blue-900/30 border border-blue-500/30 p-2 rounded text-center",children:[E.jsx("div",{className:"text-[10px] text-blue-300 uppercase font-bold mb-1",children:"Evidence"}),E.jsxs("div",{className:"text-white font-bold text-sm flex items-center justify-center gap-1",children:[_n(m.activeAccusation.clue),m.activeAccusation.clue]})]})]})]}),E.jsxs("div",{className:"flex flex-col items-center gap-3",children:[E.jsxs("div",{className:"text-xs uppercase font-bold text-white/50",children:["Waiting for players:"," ",m.activeAccusation.continueVotes?.length||0,"/",m.players.length]}),E.jsxs("button",{onClick:Ml,disabled:m.activeAccusation.continueVotes?.includes(s.uid),className:`px-8 py-3 rounded-full font-bold text-lg transition-all flex items-center gap-2 ${m.activeAccusation.continueVotes?.includes(s.uid)?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-white text-black hover:scale-105 shadow-xl"}`,children:[m.activeAccusation.continueVotes?.includes(s.uid)?"WAITING...":"CONTINUE"," ",E.jsx(xv,{className:"rotate-90"})]})]})]})}),m.phase==="WITNESS_HUNT"&&Q&&E.jsx("div",{className:"fixed inset-0 top-14 z-150 flex flex-col items-center justify-center p-4 bg-black/80",children:ae||Te?E.jsxs("div",{className:"bg-red-950 border-2 border-red-500 p-6 rounded-xl shadow-2xl text-center max-w-lg animate-in fade-in zoom-in duration-300",children:[E.jsx("h2",{className:"text-2xl md:text-3xl font-black text-red-500 mb-2",children:"YOU HAVE BEEN CAUGHT!"}),E.jsx("p",{className:"text-red-100 text-base md:text-lg mb-4",children:Te?"Help the Murderer find the Witness.":"Identify the Witness to steal the win."}),ae&&m.settings?.useAccomplice&&(m.accompliceSuggestion?E.jsxs("div",{className:"bg-green-900/40 p-3 rounded border border-green-500 mb-4 animate-bounce",children:[E.jsxs("div",{className:"font-bold text-green-400 text-sm mb-1 uppercase",children:[E.jsx(Cm,{size:14,className:"inline mr-1"})," Target Confirmed"]}),"Accomplice suggests:"," ",E.jsx("span",{className:"text-white font-black text-lg block mt-1",children:m.players.find(ue=>ue.id===m.accompliceSuggestion)?.name})]}):E.jsxs("div",{className:"bg-black/40 p-3 rounded border border-red-500/50 mb-4 animate-pulse",children:[E.jsxs("div",{className:"font-bold text-yellow-400 text-sm mb-1 uppercase",children:[E.jsx(UI,{size:14,className:"inline mr-1"})," Hold Fire"]}),"Waiting for Accomplice suggestion..."]})),E.jsx("button",{onClick:()=>ne(!1),className:"mt-4 bg-white text-red-900 px-8 py-3 rounded-full font-black uppercase text-sm hover:scale-105 transition-transform shadow-xl",children:"Select Witness"})]}):E.jsxs("div",{className:"bg-slate-900/95 border-2 border-yellow-500 p-6 rounded-xl shadow-2xl text-center max-w-lg animate-in fade-in zoom-in duration-300",children:[E.jsx("h2",{className:"text-3xl font-black text-yellow-500 mb-2",children:"CRIME SOLVED!"}),E.jsx("p",{className:"text-slate-200 text-lg mb-4",children:"The Investigators found the solution. However..."}),E.jsx("div",{className:"text-xl font-bold text-red-400 mb-4 animate-pulse",children:"THE MURDERER IS HUNTING FOR THE WITNESS"}),E.jsx("p",{className:"text-slate-400 text-sm",children:"If the Murderer identifies the Witness correctly, the Bad Guys steal the win."})]})}),m.phase==="GAME_OVER_GOOD"&&E.jsxs("div",{className:"fixed inset-0 top-14 bg-blue-900/95 z-150 flex flex-col items-center justify-center p-6 text-center overflow-y-auto",children:[E.jsx(hr,{size:96,className:"text-yellow-400 mb-6 shadow-xl shrink-0"}),E.jsx("h1",{className:"text-4xl md:text-6xl font-black text-white mb-4",children:"INVESTIGATORS WIN"}),E.jsxs("p",{className:"text-blue-200 text-lg md:text-xl max-w-lg mb-8",children:["Solved by:"," ",E.jsx("span",{className:"text-yellow-400 font-bold",children:(m.successfulSolvers||[]).map(ue=>m.players.find(Oe=>Oe.id===ue)?.name).join(", ")})]}),E.jsxs("div",{className:"bg-white/10 p-6 rounded-xl border border-white/20 mb-8 w-full max-w-md backdrop-blur-md",children:[E.jsx("div",{className:"text-sm uppercase tracking-widest text-blue-300 mb-6 font-bold",children:"The Solution"}),E.jsxs("div",{className:"flex justify-center gap-4 mb-6",children:[E.jsxs("div",{className:"bg-slate-900/80 border-2 border-red-500/50 p-4 rounded-xl flex flex-col items-center justify-center w-32 h-36 shadow-2xl",children:[E.jsx("div",{className:"scale-150 mb-2",children:_n(m.solution.means)}),E.jsx("div",{className:"text-sm font-bold text-white leading-tight",children:m.solution.means})]}),E.jsx("div",{className:"flex items-center text-white/50",children:E.jsx("span",{className:"text-2xl font-black",children:"+"})}),E.jsxs("div",{className:"bg-slate-900/80 border-2 border-blue-500/50 p-4 rounded-xl flex flex-col items-center justify-center w-32 h-36 shadow-2xl",children:[E.jsx("div",{className:"scale-150 mb-2",children:_n(m.solution.clue)}),E.jsx("div",{className:"text-sm font-bold text-white leading-tight",children:m.solution.clue})]})]}),E.jsxs("div",{className:"text-lg text-blue-200 bg-black/20 p-2 rounded-lg inline-block px-6",children:["Culprit:"," ",E.jsx("span",{className:"text-white font-black",children:m.players.find(ue=>ue.id===m.solution.murdererId)?.name})]})]}),m.hostId===s.uid&&E.jsxs("div",{className:"flex gap-4",children:[E.jsx("button",{onClick:Xn,className:"bg-green-600 hover:bg-green-500 text-white px-8 py-3 rounded-full font-bold shadow-lg",children:"New Game"}),E.jsx("button",{onClick:St,className:"bg-slate-700 hover:bg-slate-600 text-white px-8 py-3 rounded-full font-bold shadow-lg",children:"Lobby"})]})]}),m.phase==="GAME_OVER_BAD"&&E.jsxs("div",{className:"fixed inset-0 top-14 bg-red-950/95 z-150 flex flex-col items-center justify-center p-6 text-center overflow-y-auto",children:[E.jsx(bh,{size:96,className:"text-red-500 mb-6 shadow-xl shrink-0"}),E.jsx("h1",{className:"text-4xl md:text-6xl font-black text-white mb-4",children:"MURDERER WINS"}),E.jsx("p",{className:"text-red-200 text-lg md:text-xl max-w-lg mb-8",children:"The investigation failed or the witness was silenced."}),E.jsxs("div",{className:"bg-white/10 p-6 rounded-xl border border-white/20 mb-8 w-full max-w-md backdrop-blur-md",children:[E.jsx("div",{className:"text-sm uppercase tracking-widest text-red-300 mb-6 font-bold",children:"The Solution"}),E.jsxs("div",{className:"flex justify-center gap-4 mb-6",children:[E.jsxs("div",{className:"bg-slate-900/80 border-2 border-red-500/50 p-4 rounded-xl flex flex-col items-center justify-center w-32 h-36 shadow-2xl",children:[E.jsx("div",{className:"scale-150 mb-2",children:_n(m.solution.means)}),E.jsx("div",{className:"text-sm font-bold text-white leading-tight",children:m.solution.means})]}),E.jsx("div",{className:"flex items-center text-white/50",children:E.jsx("span",{className:"text-2xl font-black",children:"+"})}),E.jsxs("div",{className:"bg-slate-900/80 border-2 border-blue-500/50 p-4 rounded-xl flex flex-col items-center justify-center w-32 h-36 shadow-2xl",children:[E.jsx("div",{className:"scale-150 mb-2",children:_n(m.solution.clue)}),E.jsx("div",{className:"text-sm font-bold text-white leading-tight",children:m.solution.clue})]})]}),E.jsxs("div",{className:"text-lg text-red-200 bg-black/20 p-2 rounded-lg inline-block px-6",children:["Culprit:"," ",E.jsx("span",{className:"text-white font-black",children:m.players.find(ue=>ue.id===m.solution.murdererId)?.name})]})]}),m.hostId===s.uid&&E.jsxs("div",{className:"flex gap-4",children:[E.jsx("button",{onClick:Xn,className:"bg-green-600 hover:bg-green-500 text-white px-8 py-3 rounded-full font-bold shadow-lg",children:"New Game"}),E.jsx("button",{onClick:St,className:"bg-slate-700 hover:bg-slate-600 text-white px-8 py-3 rounded-full font-bold shadow-lg",children:"Lobby"})]})]}),E.jsxs("div",{className:"h-14 bg-slate-900/90 border-b border-slate-800 flex items-center justify-between px-4 z-160 sticky top-0 backdrop-blur-md shrink-0 shadow-md",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(ft,{size:20,className:yt}),E.jsx("span",{className:`font-black uppercase tracking-tight text-lg hidden md:block ${yt}`,children:Jt}),E.jsx("span",{className:`font-black uppercase tracking-tight text-sm md:hidden ${yt}`,children:Jt==="INVESTIGATION"?"INV.":Jt})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:()=>x(!j),className:`p-2 rounded-full ${j?"bg-green-900 text-green-400":"text-gray-400 hover:bg-gray-800"}`,children:E.jsx(nT,{size:18})}),E.jsx("button",{onClick:()=>Ve(!0),className:"p-2 text-slate-400 hover:bg-slate-800 rounded-full",children:E.jsx(wv,{size:18})}),E.jsx("button",{onClick:()=>Z(!0),className:"p-2 text-red-400 hover:bg-red-900/20 rounded-full",children:E.jsx(Cv,{size:18})})]})]}),Ze,E.jsx("div",{className:"fixed bottom-0 left-0 w-full z-50",children:E.jsx(Iv,{})})]})}return null}K1.createRoot(document.getElementById("root")).render(E.jsx(Le.StrictMode,{children:E.jsx(QI,{})}));
