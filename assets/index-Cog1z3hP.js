(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function b1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Od={exports:{}},Io={};var M0;function T1(){if(M0)return Io;M0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return Io.Fragment=e,Io.jsx=i,Io.jsxs=i,Io}var V0;function S1(){return V0||(V0=1,Od.exports=T1()),Od.exports}var b=S1(),Md={exports:{}},we={};var k0;function A1(){if(k0)return we;k0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.iterator;function F(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ne=Object.assign,ee={};function _e(O,Y,ie){this.props=O,this.context=Y,this.refs=ee,this.updater=ie||J}_e.prototype.isReactComponent={},_e.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},_e.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Re(){}Re.prototype=_e.prototype;function be(O,Y,ie){this.props=O,this.context=Y,this.refs=ee,this.updater=ie||J}var ge=be.prototype=new Re;ge.constructor=be,ne(ge,_e.prototype),ge.isPureReactComponent=!0;var Xe=Array.isArray;function Be(){}var I={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(O,Y,ie){var le=ie.ref;return{$$typeof:r,type:O,key:Y,ref:le!==void 0?le:null,props:ie}}function V(O,Y){return C(O.type,Y,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function k(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ie){return Y[ie]})}var x=/\/+/g;function lt(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):Y.toString(36)}function mt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Be,Be):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,Y,ie,le,ve){var Ce=typeof O;(Ce==="undefined"||Ce==="boolean")&&(O=null);var Oe=!1;if(O===null)Oe=!0;else switch(Ce){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(O.$$typeof){case r:case e:Oe=!0;break;case E:return Oe=O._init,H(Oe(O._payload),Y,ie,le,ve)}}if(Oe)return ve=ve(O),Oe=le===""?"."+lt(O,0):le,Xe(ve)?(ie="",Oe!=null&&(ie=Oe.replace(x,"$&/")+"/"),H(ve,Y,ie,"",function(Wi){return Wi})):ve!=null&&(N(ve)&&(ve=V(ve,ie+(ve.key==null||O&&O.key===ve.key?"":(""+ve.key).replace(x,"$&/")+"/")+Oe)),Y.push(ve)),1;Oe=0;var It=le===""?".":le+":";if(Xe(O))for(var ot=0;ot<O.length;ot++)le=O[ot],Ce=It+lt(le,ot),Oe+=H(le,Y,ie,Ce,ve);else if(ot=F(O),typeof ot=="function")for(O=ot.call(O),ot=0;!(le=O.next()).done;)le=le.value,Ce=It+lt(le,ot++),Oe+=H(le,Y,ie,Ce,ve);else if(Ce==="object"){if(typeof O.then=="function")return H(mt(O),Y,ie,le,ve);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function se(O,Y,ie){if(O==null)return O;var le=[],ve=0;return H(O,le,"","",function(Ce){return Y.call(ie,Ce,ve++)}),le}function ce(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(ie){(O._status===0||O._status===-1)&&(O._status=1,O._result=ie)},function(ie){(O._status===0||O._status===-1)&&(O._status=2,O._result=ie)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Me=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Fe={map:se,forEach:function(O,Y,ie){se(O,function(){Y.apply(this,arguments)},ie)},count:function(O){var Y=0;return se(O,function(){Y++}),Y},toArray:function(O){return se(O,function(Y){return Y})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return we.Activity=A,we.Children=Fe,we.Component=_e,we.Fragment=i,we.Profiler=o,we.PureComponent=be,we.StrictMode=a,we.Suspense=y,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,we.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},we.cache=function(O){return function(){return O.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(O,Y,ie){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var le=ne({},O.props),ve=O.key;if(Y!=null)for(Ce in Y.key!==void 0&&(ve=""+Y.key),Y)!w.call(Y,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&Y.ref===void 0||(le[Ce]=Y[Ce]);var Ce=arguments.length-2;if(Ce===1)le.children=ie;else if(1<Ce){for(var Oe=Array(Ce),It=0;It<Ce;It++)Oe[It]=arguments[It+2];le.children=Oe}return C(O.type,ve,le)},we.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},we.createElement=function(O,Y,ie){var le,ve={},Ce=null;if(Y!=null)for(le in Y.key!==void 0&&(Ce=""+Y.key),Y)w.call(Y,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ve[le]=Y[le]);var Oe=arguments.length-2;if(Oe===1)ve.children=ie;else if(1<Oe){for(var It=Array(Oe),ot=0;ot<Oe;ot++)It[ot]=arguments[ot+2];ve.children=It}if(O&&O.defaultProps)for(le in Oe=O.defaultProps,Oe)ve[le]===void 0&&(ve[le]=Oe[le]);return C(O,Ce,ve)},we.createRef=function(){return{current:null}},we.forwardRef=function(O){return{$$typeof:p,render:O}},we.isValidElement=N,we.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:ce}},we.memo=function(O,Y){return{$$typeof:_,type:O,compare:Y===void 0?null:Y}},we.startTransition=function(O){var Y=I.T,ie={};I.T=ie;try{var le=O(),ve=I.S;ve!==null&&ve(ie,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Be,Me)}catch(Ce){Me(Ce)}finally{Y!==null&&ie.types!==null&&(Y.types=ie.types),I.T=Y}},we.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},we.use=function(O){return I.H.use(O)},we.useActionState=function(O,Y,ie){return I.H.useActionState(O,Y,ie)},we.useCallback=function(O,Y){return I.H.useCallback(O,Y)},we.useContext=function(O){return I.H.useContext(O)},we.useDebugValue=function(){},we.useDeferredValue=function(O,Y){return I.H.useDeferredValue(O,Y)},we.useEffect=function(O,Y){return I.H.useEffect(O,Y)},we.useEffectEvent=function(O){return I.H.useEffectEvent(O)},we.useId=function(){return I.H.useId()},we.useImperativeHandle=function(O,Y,ie){return I.H.useImperativeHandle(O,Y,ie)},we.useInsertionEffect=function(O,Y){return I.H.useInsertionEffect(O,Y)},we.useLayoutEffect=function(O,Y){return I.H.useLayoutEffect(O,Y)},we.useMemo=function(O,Y){return I.H.useMemo(O,Y)},we.useOptimistic=function(O,Y){return I.H.useOptimistic(O,Y)},we.useReducer=function(O,Y,ie){return I.H.useReducer(O,Y,ie)},we.useRef=function(O){return I.H.useRef(O)},we.useState=function(O){return I.H.useState(O)},we.useSyncExternalStore=function(O,Y,ie){return I.H.useSyncExternalStore(O,Y,ie)},we.useTransition=function(){return I.H.useTransition()},we.version="19.2.0",we}var j0;function wm(){return j0||(j0=1,Md.exports=A1()),Md.exports}var Ye=wm();const w1=b1(Ye);var Vd={exports:{}},No={},kd={exports:{}},jd={};var U0;function x1(){return U0||(U0=1,(function(r){function e(H,se){var ce=H.length;H.push(se);e:for(;0<ce;){var Me=ce-1>>>1,Fe=H[Me];if(0<o(Fe,se))H[Me]=se,H[ce]=Fe,ce=Me;else break e}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var se=H[0],ce=H.pop();if(ce!==se){H[0]=ce;e:for(var Me=0,Fe=H.length,O=Fe>>>1;Me<O;){var Y=2*(Me+1)-1,ie=H[Y],le=Y+1,ve=H[le];if(0>o(ie,ce))le<Fe&&0>o(ve,ie)?(H[Me]=ve,H[le]=ce,Me=le):(H[Me]=ie,H[Y]=ce,Me=Y);else if(le<Fe&&0>o(ve,ce))H[Me]=ve,H[le]=ce,Me=le;else break e}}return se}function o(H,se){var ce=H.sortIndex-se.sortIndex;return ce!==0?ce:H.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],_=[],E=1,A=null,M=3,F=!1,J=!1,ne=!1,ee=!1,_e=typeof setTimeout=="function"?setTimeout:null,Re=typeof clearTimeout=="function"?clearTimeout:null,be=typeof setImmediate<"u"?setImmediate:null;function ge(H){for(var se=i(_);se!==null;){if(se.callback===null)a(_);else if(se.startTime<=H)a(_),se.sortIndex=se.expirationTime,e(y,se);else break;se=i(_)}}function Xe(H){if(ne=!1,ge(H),!J)if(i(y)!==null)J=!0,Be||(Be=!0,k());else{var se=i(_);se!==null&&mt(Xe,se.startTime-H)}}var Be=!1,I=-1,w=5,C=-1;function V(){return ee?!0:!(r.unstable_now()-C<w)}function N(){if(ee=!1,Be){var H=r.unstable_now();C=H;var se=!0;try{e:{J=!1,ne&&(ne=!1,Re(I),I=-1),F=!0;var ce=M;try{t:{for(ge(H),A=i(y);A!==null&&!(A.expirationTime>H&&V());){var Me=A.callback;if(typeof Me=="function"){A.callback=null,M=A.priorityLevel;var Fe=Me(A.expirationTime<=H);if(H=r.unstable_now(),typeof Fe=="function"){A.callback=Fe,ge(H),se=!0;break t}A===i(y)&&a(y),ge(H)}else a(y);A=i(y)}if(A!==null)se=!0;else{var O=i(_);O!==null&&mt(Xe,O.startTime-H),se=!1}}break e}finally{A=null,M=ce,F=!1}se=void 0}}finally{se?k():Be=!1}}}var k;if(typeof be=="function")k=function(){be(N)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,lt=x.port2;x.port1.onmessage=N,k=function(){lt.postMessage(null)}}else k=function(){_e(N,0)};function mt(H,se){I=_e(function(){H(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(H){switch(M){case 1:case 2:case 3:var se=3;break;default:se=M}var ce=M;M=se;try{return H()}finally{M=ce}},r.unstable_requestPaint=function(){ee=!0},r.unstable_runWithPriority=function(H,se){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ce=M;M=H;try{return se()}finally{M=ce}},r.unstable_scheduleCallback=function(H,se,ce){var Me=r.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Me+ce:Me):ce=Me,H){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return Fe=ce+Fe,H={id:E++,callback:se,priorityLevel:H,startTime:ce,expirationTime:Fe,sortIndex:-1},ce>Me?(H.sortIndex=ce,e(_,H),i(y)===null&&H===i(_)&&(ne?(Re(I),I=-1):ne=!0,mt(Xe,ce-Me))):(H.sortIndex=Fe,e(y,H),J||F||(J=!0,Be||(Be=!0,k()))),H},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(H){var se=M;return function(){var ce=M;M=se;try{return H.apply(this,arguments)}finally{M=ce}}}})(jd)),jd}var L0;function R1(){return L0||(L0=1,kd.exports=x1()),kd.exports}var Ud={exports:{}},pn={};var P0;function C1(){if(P0)return pn;P0=1;var r=wm();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,_,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:y,containerInfo:_,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,pn.createPortal=function(y,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(y,_,null,E)},pn.flushSync=function(y){var _=d.T,E=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=E,a.d.f()}},pn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},pn.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},pn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var E=_.as,A=p(E,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,F=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:M,fetchPriority:F}):E==="script"&&a.d.X(y,{crossOrigin:A,integrity:M,fetchPriority:F,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},pn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},pn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,A=p(E,_.crossOrigin);a.d.L(y,E,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},pn.preloadModule=function(y,_){if(typeof y=="string")if(_){var E=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},pn.requestFormReset=function(y){a.d.r(y)},pn.unstable_batchedUpdates=function(y,_){return y(_)},pn.useFormState=function(y,_,E){return d.H.useFormState(y,_,E)},pn.useFormStatus=function(){return d.H.useHostTransitionStatus()},pn.version="19.2.0",pn}var z0;function I1(){if(z0)return Ud.exports;z0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Ud.exports=C1(),Ud.exports}var B0;function N1(){if(B0)return No;B0=1;var r=R1(),e=wm(),i=I1();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),t;if(f===l)return y(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var g=!1,T=h.child;T;){if(T===s){g=!0,s=h,l=f;break}if(T===l){g=!0,l=h,s=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===s){g=!0,s=f,l=h;break}if(T===l){g=!0,l=f,s=h;break}T=T.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,M=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),_e=Symbol.for("react.profiler"),Re=Symbol.for("react.consumer"),be=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),Xe=Symbol.for("react.suspense"),Be=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function lt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ne:return"Fragment";case _e:return"Profiler";case ee:return"StrictMode";case Xe:return"Suspense";case Be:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J:return"Portal";case be:return t.displayName||"Context";case Re:return(t._context.displayName||"Context")+".Consumer";case ge:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:lt(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return lt(t(n))}catch{}}return null}var mt=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Me=[],Fe=-1;function O(t){return{current:t}}function Y(t){0>Fe||(t.current=Me[Fe],Me[Fe]=null,Fe--)}function ie(t,n){Fe++,Me[Fe]=t.current,t.current=n}var le=O(null),ve=O(null),Ce=O(null),Oe=O(null);function It(t,n){switch(ie(Ce,n),ie(ve,t),ie(le,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?n0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=n0(n),t=i0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(le),ie(le,t)}function ot(){Y(le),Y(ve),Y(Ce)}function Wi(t){t.memoizedState!==null&&ie(Oe,t);var n=le.current,s=i0(n,t.type);n!==s&&(ie(ve,t),ie(le,s))}function Vs(t){ve.current===t&&(Y(le),Y(ve)),Oe.current===t&&(Y(Oe),wo._currentValue=ce)}var Zi,Ji;function Fn(t){if(Zi===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Zi=n&&n[1]||"",Ji=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zi+t+Ji}var ks=!1;function es(t,n){if(!t||ks)return"";ks=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var z=q}Reflect.construct(t,[],X)}else{try{X.call()}catch(q){z=q}t.call(X.prototype)}}else{try{throw Error()}catch(q){z=q}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var R=g.split(`
`),P=T.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===P.length)for(l=R.length-1,h=P.length-1;1<=l&&0<=h&&R[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==P[h]){var G=`
`+R[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=h);break}}}finally{ks=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Fn(s):""}function Mr(t,n){switch(t.tag){case 26:case 27:case 5:return Fn(t.type);case 16:return Fn("Lazy");case 13:return t.child!==n&&n!==null?Fn("Suspense Fallback"):Fn("Suspense");case 19:return Fn("SuspenseList");case 0:case 15:return es(t.type,!1);case 11:return es(t.type.render,!1);case 1:return es(t.type,!0);case 31:return Fn("Activity");default:return""}}function Vr(t){try{var n="",s=null;do n+=Mr(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var wt=Object.prototype.hasOwnProperty,Nt=r.unstable_scheduleCallback,Ei=r.unstable_cancelCallback,Nl=r.unstable_shouldYield,ga=r.unstable_requestPaint,rn=r.unstable_now,ts=r.unstable_getCurrentPriorityLevel,kr=r.unstable_ImmediatePriority,ns=r.unstable_UserBlockingPriority,Z=r.unstable_NormalPriority,re=r.unstable_LowPriority,ae=r.unstable_IdlePriority,de=r.log,Je=r.unstable_setDisableYieldValue,ht=null,ft=null;function xt(t){if(typeof de=="function"&&Je(t),ft&&typeof ft.setStrictMode=="function")try{ft.setStrictMode(ht,t)}catch{}}var qe=Math.clz32?Math.clz32:Qn,gt=Math.log,gn=Math.LN2;function Qn(t){return t>>>=0,t===0?32:31-(gt(t)/gn|0)|0}var jt=256,bi=262144,K=4194304;function Se(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function bt(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=Se(l):(g&=T,g!==0?h=Se(g):s||(s=T&~t,s!==0&&(h=Se(s))))):(T=l&~f,T!==0?h=Se(T):g!==0?h=Se(g):s||(s=l&~t,s!==0&&(h=Se(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function dt(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ut(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ti(){var t=K;return K<<=1,(K&62914560)===0&&(K=4194304),t}function Dt(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function is(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ut(t,n,s,l,h,f){var g=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,R=t.expirationTimes,P=t.hiddenUpdates;for(s=g&~s;0<s;){var G=31-qe(s),X=1<<G;T[G]=0,R[G]=-1;var z=P[G];if(z!==null)for(P[G]=null,G=0;G<z.length;G++){var q=z[G];q!==null&&(q.lane&=-536870913)}s&=~X}l!==0&&Vn(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Vn(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-qe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function li(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-qe(s),h=1<<l;h&n|t[l]&n&&(t[l]|=n),s&=~h}}function ss(t,n){var s=n&-n;return s=(s&42)!==0?1:oi(s),(s&(t.suspendedLanes|n))!==0?0:s}function oi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function rs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ou(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:x0(t.type))}function ui(t,n){var s=se.p;try{return se.p=t,n()}finally{se.p=s}}var ci=Math.random().toString(36).slice(2),Lt="__reactFiber$"+ci,en="__reactProps$"+ci,Si="__reactContainer$"+ci,pa="__reactEvents$"+ci,Uh="__reactListeners$"+ci,uu="__reactHandles$"+ci,cu="__reactResources$"+ci,Ai="__reactMarker$"+ci;function ya(t){delete t[Lt],delete t[en],delete t[pa],delete t[Uh],delete t[uu]}function wi(t){var n=t[Lt];if(n)return n;for(var s=t.parentNode;s;){if(n=s[Si]||s[Lt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=c0(t);t!==null;){if(s=t[Lt])return s;t=c0(t)}return n}t=s,s=t.parentNode}return null}function Kn(t){if(t=t[Lt]||t[Si]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function kn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function xi(t){var n=t[cu];return n||(n=t[cu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Pt(t){t[Ai]=!0}var Dl=new Set,Ol={};function Ri(t,n){Ci(t,n),Ci(t+"Capture",n)}function Ci(t,n){for(Ol[t]=n,t=0;t<n.length;t++)Dl.add(n[t])}var Ml=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vl={},kl={};function hu(t){return wt.call(kl,t)?!0:wt.call(Vl,t)?!1:Ml.test(t)?kl[t]=!0:(Vl[t]=!0,!1)}function _a(t,n,s){if(hu(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function jn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function zt(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function js(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function jl(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function et(t){if(!t._valueTracker){var n=js(t)?"checked":"value";t._valueTracker=jl(t,n,""+t[n])}}function jr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=js(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function Ii(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ur=/[\n"\\]/g;function An(t){return t.replace(Ur,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function va(t,n,s,l,h,f,g,T){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+tn(n)):t.value!==""+tn(n)&&(t.value=""+tn(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Ul(t,g,tn(n)):s!=null?Ul(t,g,tn(s)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+tn(T):t.removeAttribute("name")}function fu(t,n,s,l,h,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){et(t);return}s=s!=null?""+tn(s):"",n=n!=null?""+tn(n):s,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),et(t)}function Ul(t,n,s){n==="number"&&Ii(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Us(t,n,s,l){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+tn(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function du(t,n,s){if(n!=null&&(n=""+tn(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+tn(s):""}function Ls(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(mt(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=tn(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),et(t)}function wn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var mu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ll(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||mu.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function Pl(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&Ll(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Ll(t,f,n[f])}function Ea(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ps=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(t){return Ps.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function hi(){}var zl=null;function Yn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zs=null,Ni=null;function Lr(t){var n=Kn(t);if(n&&(t=n.stateNode)){var s=t[en]||null;e:switch(t=n.stateNode,n.type){case"input":if(va(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+An(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var h=l[en]||null;if(!h)throw Error(a(90));va(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&jr(l)}break e;case"textarea":du(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&Us(t,!!s.multiple,n,!1)}}}var Ta=!1;function Bs(t,n,s){if(Ta)return t(n,s);Ta=!0;try{var l=t(n);return l}finally{if(Ta=!1,(zs!==null||Ni!==null)&&(oc(),zs&&(n=zs,t=Ni,Ni=zs=null,Lr(n),t)))for(n=0;n<t.length;n++)Lr(t[n])}}function fi(t,n){var s=t.stateNode;if(s===null)return null;var l=s[en]||null;if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pr=!1;if(Xn)try{var it={};Object.defineProperty(it,"passive",{get:function(){Pr=!0}}),window.addEventListener("test",it,it),window.removeEventListener("test",it,it)}catch{Pr=!1}var Di=null,Bl=null,zr=null;function ql(){if(zr)return zr;var t,n=Bl,s=n.length,l,h="value"in Di?Di.value:Di.textContent,f=h.length;for(t=0;t<s&&n[t]===h[t];t++);var g=s-t;for(l=1;l<=g&&n[s-l]===h[f-l];l++);return zr=h.slice(t,1<l?1-l:void 0)}function Br(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function as(){return!0}function di(){return!1}function an(t){function n(s,l,h,f,g){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?as:di,this.isPropagationStopped=di,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=as)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=as)},persist:function(){},isPersistent:as}),n}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oi=an(ls),qs=A({},ls,{view:0,detail:0}),Hl=an(qs),Hs,Sa,Mi,Aa=A({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mi&&(Mi&&t.type==="mousemove"?(Hs=t.screenX-Mi.screenX,Sa=t.screenY-Mi.screenY):Sa=Hs=0,Mi=t),Hs)},movementY:function(t){return"movementY"in t?t.movementY:Sa}}),Gl=an(Aa),qr=A({},Aa,{dataTransfer:0}),pu=an(qr),yu=A({},qs,{relatedTarget:0}),Hr=an(yu),Fl=A({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),_u=an(Fl),wa=A({},ls,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vu=an(wa),Eu=A({},ls,{data:0}),Vi=an(Eu),bu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Su[t])?!!n[t]:!1}function Gs(){return Au}var bn=A({},qs,{key:function(t){if(t.key){var n=bu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Br(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Tu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gs,charCode:function(t){return t.type==="keypress"?Br(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Br(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wu=an(bn),xu=A({},Aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),os=an(xu),u=A({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gs}),m=an(u),v=A({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=an(v),U=A({},Aa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=an(U),te=A({},ls,{newState:0,oldState:0}),Ie=an(te),Ot=[9,13,27,32],$e=Xn&&"CompositionEvent"in window,vt=null;Xn&&"documentMode"in document&&(vt=document.documentMode);var $n=Xn&&"TextEvent"in window&&!vt,ki=Xn&&(!$e||vt&&8<vt&&11>=vt),mi=" ",gi=!1;function Gr(t,n){switch(t){case"keyup":return Ot.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ra=!1;function Fb(t,n){switch(t){case"compositionend":return xa(n);case"keypress":return n.which!==32?null:(gi=!0,mi);case"textInput":return t=n.data,t===mi&&gi?null:t;default:return null}}function Qb(t,n){if(Ra)return t==="compositionend"||!$e&&Gr(t,n)?(t=ql(),zr=Bl=Di=null,Ra=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ki&&n.locale!=="ko"?null:n.data;default:return null}}var Kb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Kb[t.type]:n==="textarea"}function mg(t,n,s,l){zs?Ni?Ni.push(l):Ni=[l]:zs=l,n=gc(n,"onChange"),0<n.length&&(s=new Oi("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var Ql=null,Kl=null;function Yb(t){$y(t,0)}function Ru(t){var n=kn(t);if(jr(n))return t}function gg(t,n){if(t==="change")return n}var pg=!1;if(Xn){var Lh;if(Xn){var Ph="oninput"in document;if(!Ph){var yg=document.createElement("div");yg.setAttribute("oninput","return;"),Ph=typeof yg.oninput=="function"}Lh=Ph}else Lh=!1;pg=Lh&&(!document.documentMode||9<document.documentMode)}function _g(){Ql&&(Ql.detachEvent("onpropertychange",vg),Kl=Ql=null)}function vg(t){if(t.propertyName==="value"&&Ru(Kl)){var n=[];mg(n,Kl,t,Yn(t)),Bs(Yb,n)}}function Xb(t,n,s){t==="focusin"?(_g(),Ql=n,Kl=s,Ql.attachEvent("onpropertychange",vg)):t==="focusout"&&_g()}function $b(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ru(Kl)}function Wb(t,n){if(t==="click")return Ru(n)}function Zb(t,n){if(t==="input"||t==="change")return Ru(n)}function Jb(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Un=typeof Object.is=="function"?Object.is:Jb;function Yl(t,n){if(Un(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!wt.call(n,h)||!Un(t[h],n[h]))return!1}return!0}function Eg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bg(t,n){var s=Eg(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Eg(s)}}function Tg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Tg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Sg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ii(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=Ii(t.document)}return n}function zh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var eT=Xn&&"documentMode"in document&&11>=document.documentMode,Ca=null,Bh=null,Xl=null,qh=!1;function Ag(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;qh||Ca==null||Ca!==Ii(l)||(l=Ca,"selectionStart"in l&&zh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xl&&Yl(Xl,l)||(Xl=l,l=gc(Bh,"onSelect"),0<l.length&&(n=new Oi("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=Ca)))}function Fr(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Ia={animationend:Fr("Animation","AnimationEnd"),animationiteration:Fr("Animation","AnimationIteration"),animationstart:Fr("Animation","AnimationStart"),transitionrun:Fr("Transition","TransitionRun"),transitionstart:Fr("Transition","TransitionStart"),transitioncancel:Fr("Transition","TransitionCancel"),transitionend:Fr("Transition","TransitionEnd")},Hh={},wg={};Xn&&(wg=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function Qr(t){if(Hh[t])return Hh[t];if(!Ia[t])return t;var n=Ia[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in wg)return Hh[t]=n[s];return t}var xg=Qr("animationend"),Rg=Qr("animationiteration"),Cg=Qr("animationstart"),tT=Qr("transitionrun"),nT=Qr("transitionstart"),iT=Qr("transitioncancel"),Ig=Qr("transitionend"),Ng=new Map,Gh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gh.push("scrollEnd");function pi(t,n){Ng.set(t,n),Ri(n,[t])}var Cu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Wn=[],Na=0,Fh=0;function Iu(){for(var t=Na,n=Fh=Na=0;n<t;){var s=Wn[n];Wn[n++]=null;var l=Wn[n];Wn[n++]=null;var h=Wn[n];Wn[n++]=null;var f=Wn[n];if(Wn[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&Dg(s,h,f)}}function Nu(t,n,s,l){Wn[Na++]=t,Wn[Na++]=n,Wn[Na++]=s,Wn[Na++]=l,Fh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Qh(t,n,s,l){return Nu(t,n,s,l),Du(t)}function Kr(t,n){return Nu(t,null,null,n),Du(t)}function Dg(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-qe(s),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function Du(t){if(50<_o)throw _o=0,nd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Da={};function sT(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(t,n,s,l){return new sT(t,n,s,l)}function Kh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function us(t,n){var s=t.alternate;return s===null?(s=Ln(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Og(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ou(t,n,s,l,h,f){var g=0;if(l=t,typeof t=="function")Kh(t)&&(g=1);else if(typeof t=="string")g=u1(t,s,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Ln(31,s,n,h),t.elementType=C,t.lanes=f,t;case ne:return Yr(s.children,h,f,n);case ee:g=8,h|=24;break;case _e:return t=Ln(12,s,n,h|2),t.elementType=_e,t.lanes=f,t;case Xe:return t=Ln(13,s,n,h),t.elementType=Xe,t.lanes=f,t;case Be:return t=Ln(19,s,n,h),t.elementType=Be,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case be:g=10;break e;case Re:g=9;break e;case ge:g=11;break e;case I:g=14;break e;case w:g=16,l=null;break e}g=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Ln(g,s,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Yr(t,n,s,l){return t=Ln(7,t,l,n),t.lanes=s,t}function Yh(t,n,s){return t=Ln(6,t,null,n),t.lanes=s,t}function Mg(t){var n=Ln(18,null,null,0);return n.stateNode=t,n}function Xh(t,n,s){return n=Ln(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Vg=new WeakMap;function Zn(t,n){if(typeof t=="object"&&t!==null){var s=Vg.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Vr(n)},Vg.set(t,n),n)}return{value:t,source:n,stack:Vr(n)}}var Oa=[],Ma=0,Mu=null,$l=0,Jn=[],ei=0,Fs=null,ji=1,Ui="";function cs(t,n){Oa[Ma++]=$l,Oa[Ma++]=Mu,Mu=t,$l=n}function kg(t,n,s){Jn[ei++]=ji,Jn[ei++]=Ui,Jn[ei++]=Fs,Fs=t;var l=ji;t=Ui;var h=32-qe(l)-1;l&=~(1<<h),s+=1;var f=32-qe(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,ji=1<<32-qe(n)+h|s<<h|l,Ui=f+t}else ji=1<<f|s<<h|l,Ui=t}function $h(t){t.return!==null&&(cs(t,1),kg(t,1,0))}function Wh(t){for(;t===Mu;)Mu=Oa[--Ma],Oa[Ma]=null,$l=Oa[--Ma],Oa[Ma]=null;for(;t===Fs;)Fs=Jn[--ei],Jn[ei]=null,Ui=Jn[--ei],Jn[ei]=null,ji=Jn[--ei],Jn[ei]=null}function jg(t,n){Jn[ei++]=ji,Jn[ei++]=Ui,Jn[ei++]=Fs,ji=n.id,Ui=n.overflow,Fs=t}var ln=null,pt=null,He=!1,Qs=null,ti=!1,Zh=Error(a(519));function Ks(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wl(Zn(n,t)),Zh}function Ug(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[Lt]=t,n[en]=l,s){case"dialog":ke("cancel",n),ke("close",n);break;case"iframe":case"object":case"embed":ke("load",n);break;case"video":case"audio":for(s=0;s<Eo.length;s++)ke(Eo[s],n);break;case"source":ke("error",n);break;case"img":case"image":case"link":ke("error",n),ke("load",n);break;case"details":ke("toggle",n);break;case"input":ke("invalid",n),fu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ke("invalid",n);break;case"textarea":ke("invalid",n),Ls(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||e0(n.textContent,s)?(l.popover!=null&&(ke("beforetoggle",n),ke("toggle",n)),l.onScroll!=null&&ke("scroll",n),l.onScrollEnd!=null&&ke("scrollend",n),l.onClick!=null&&(n.onclick=hi),n=!0):n=!1,n||Ks(t,!0)}function Lg(t){for(ln=t.return;ln;)switch(ln.tag){case 5:case 31:case 13:ti=!1;return;case 27:case 3:ti=!0;return;default:ln=ln.return}}function Va(t){if(t!==ln)return!1;if(!He)return Lg(t),He=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||yd(t.type,t.memoizedProps)),s=!s),s&&pt&&Ks(t),Lg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));pt=u0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));pt=u0(t)}else n===27?(n=pt,lr(t.type)?(t=Td,Td=null,pt=t):pt=n):pt=ln?ii(t.stateNode.nextSibling):null;return!0}function Xr(){pt=ln=null,He=!1}function Jh(){var t=Qs;return t!==null&&(In===null?In=t:In.push.apply(In,t),Qs=null),t}function Wl(t){Qs===null?Qs=[t]:Qs.push(t)}var ef=O(null),$r=null,hs=null;function Ys(t,n,s){ie(ef,n._currentValue),n._currentValue=s}function fs(t){t._currentValue=ef.current,Y(ef)}function tf(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function nf(t,n,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var R=0;R<n.length;R++)if(T.context===n[R]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),tf(f.return,s,t),l||(g=null);break e}f=T.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),tf(g,s,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ka(t,n,s,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var T=h.type;Un(h.pendingProps.value,g.value)||(t!==null?t.push(T):t=[T])}}else if(h===Oe.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(wo):t=[wo])}h=h.return}t!==null&&nf(n,t,s,l),n.flags|=262144}function Vu(t){for(t=t.firstContext;t!==null;){if(!Un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Wr(t){$r=t,hs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function on(t){return Pg($r,t)}function ku(t,n){return $r===null&&Wr(t),Pg(t,n)}function Pg(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},hs===null){if(t===null)throw Error(a(308));hs=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else hs=hs.next=n;return s}var rT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},aT=r.unstable_scheduleCallback,lT=r.unstable_NormalPriority,Bt={$$typeof:be,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sf(){return{controller:new rT,data:new Map,refCount:0}}function Zl(t){t.refCount--,t.refCount===0&&aT(lT,function(){t.controller.abort()})}var Jl=null,rf=0,ja=0,Ua=null;function oT(t,n){if(Jl===null){var s=Jl=[];rf=0,ja=od(),Ua={status:"pending",value:void 0,then:function(l){s.push(l)}}}return rf++,n.then(zg,zg),n}function zg(){if(--rf===0&&Jl!==null){Ua!==null&&(Ua.status="fulfilled");var t=Jl;Jl=null,ja=0,Ua=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function uT(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Bg=H.S;H.S=function(t,n){Ay=rn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&oT(t,n),Bg!==null&&Bg(t,n)};var Zr=O(null);function af(){var t=Zr.current;return t!==null?t:ct.pooledCache}function ju(t,n){n===null?ie(Zr,Zr.current):ie(Zr,n.pool)}function qg(){var t=af();return t===null?null:{parent:Bt._currentValue,pool:t}}var La=Error(a(460)),lf=Error(a(474)),Uu=Error(a(542)),Lu={then:function(){}};function Hg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Gg(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(hi,hi),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Qg(t),t;default:if(typeof n.status=="string")n.then(hi,hi);else{if(t=ct,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Qg(t),t}throw ea=n,La}}function Jr(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(ea=s,La):s}}var ea=null;function Fg(){if(ea===null)throw Error(a(459));var t=ea;return ea=null,t}function Qg(t){if(t===La||t===Uu)throw Error(a(483))}var Pa=null,eo=0;function Pu(t){var n=eo;return eo+=1,Pa===null&&(Pa=[]),Gg(Pa,t,n)}function to(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function zu(t,n){throw n.$$typeof===M?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Kg(t){function n(j,D){if(t){var L=j.deletions;L===null?(j.deletions=[D],j.flags|=16):L.push(D)}}function s(j,D){if(!t)return null;for(;D!==null;)n(j,D),D=D.sibling;return null}function l(j){for(var D=new Map;j!==null;)j.key!==null?D.set(j.key,j):D.set(j.index,j),j=j.sibling;return D}function h(j,D){return j=us(j,D),j.index=0,j.sibling=null,j}function f(j,D,L){return j.index=L,t?(L=j.alternate,L!==null?(L=L.index,L<D?(j.flags|=67108866,D):L):(j.flags|=67108866,D)):(j.flags|=1048576,D)}function g(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function T(j,D,L,Q){return D===null||D.tag!==6?(D=Yh(L,j.mode,Q),D.return=j,D):(D=h(D,L),D.return=j,D)}function R(j,D,L,Q){var me=L.type;return me===ne?G(j,D,L.props.children,Q,L.key):D!==null&&(D.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===w&&Jr(me)===D.type)?(D=h(D,L.props),to(D,L),D.return=j,D):(D=Ou(L.type,L.key,L.props,null,j.mode,Q),to(D,L),D.return=j,D)}function P(j,D,L,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==L.containerInfo||D.stateNode.implementation!==L.implementation?(D=Xh(L,j.mode,Q),D.return=j,D):(D=h(D,L.children||[]),D.return=j,D)}function G(j,D,L,Q,me){return D===null||D.tag!==7?(D=Yr(L,j.mode,Q,me),D.return=j,D):(D=h(D,L),D.return=j,D)}function X(j,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Yh(""+D,j.mode,L),D.return=j,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case F:return L=Ou(D.type,D.key,D.props,null,j.mode,L),to(L,D),L.return=j,L;case J:return D=Xh(D,j.mode,L),D.return=j,D;case w:return D=Jr(D),X(j,D,L)}if(mt(D)||k(D))return D=Yr(D,j.mode,L,null),D.return=j,D;if(typeof D.then=="function")return X(j,Pu(D),L);if(D.$$typeof===be)return X(j,ku(j,D),L);zu(j,D)}return null}function z(j,D,L,Q){var me=D!==null?D.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return me!==null?null:T(j,D,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case F:return L.key===me?R(j,D,L,Q):null;case J:return L.key===me?P(j,D,L,Q):null;case w:return L=Jr(L),z(j,D,L,Q)}if(mt(L)||k(L))return me!==null?null:G(j,D,L,Q,null);if(typeof L.then=="function")return z(j,D,Pu(L),Q);if(L.$$typeof===be)return z(j,D,ku(j,L),Q);zu(j,L)}return null}function q(j,D,L,Q,me){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return j=j.get(L)||null,T(D,j,""+Q,me);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:return j=j.get(Q.key===null?L:Q.key)||null,R(D,j,Q,me);case J:return j=j.get(Q.key===null?L:Q.key)||null,P(D,j,Q,me);case w:return Q=Jr(Q),q(j,D,L,Q,me)}if(mt(Q)||k(Q))return j=j.get(L)||null,G(D,j,Q,me,null);if(typeof Q.then=="function")return q(j,D,L,Pu(Q),me);if(Q.$$typeof===be)return q(j,D,L,ku(D,Q),me);zu(D,Q)}return null}function ue(j,D,L,Q){for(var me=null,Qe=null,he=D,De=D=0,Ue=null;he!==null&&De<L.length;De++){he.index>De?(Ue=he,he=null):Ue=he.sibling;var Ke=z(j,he,L[De],Q);if(Ke===null){he===null&&(he=Ue);break}t&&he&&Ke.alternate===null&&n(j,he),D=f(Ke,D,De),Qe===null?me=Ke:Qe.sibling=Ke,Qe=Ke,he=Ue}if(De===L.length)return s(j,he),He&&cs(j,De),me;if(he===null){for(;De<L.length;De++)he=X(j,L[De],Q),he!==null&&(D=f(he,D,De),Qe===null?me=he:Qe.sibling=he,Qe=he);return He&&cs(j,De),me}for(he=l(he);De<L.length;De++)Ue=q(he,j,De,L[De],Q),Ue!==null&&(t&&Ue.alternate!==null&&he.delete(Ue.key===null?De:Ue.key),D=f(Ue,D,De),Qe===null?me=Ue:Qe.sibling=Ue,Qe=Ue);return t&&he.forEach(function(fr){return n(j,fr)}),He&&cs(j,De),me}function ye(j,D,L,Q){if(L==null)throw Error(a(151));for(var me=null,Qe=null,he=D,De=D=0,Ue=null,Ke=L.next();he!==null&&!Ke.done;De++,Ke=L.next()){he.index>De?(Ue=he,he=null):Ue=he.sibling;var fr=z(j,he,Ke.value,Q);if(fr===null){he===null&&(he=Ue);break}t&&he&&fr.alternate===null&&n(j,he),D=f(fr,D,De),Qe===null?me=fr:Qe.sibling=fr,Qe=fr,he=Ue}if(Ke.done)return s(j,he),He&&cs(j,De),me;if(he===null){for(;!Ke.done;De++,Ke=L.next())Ke=X(j,Ke.value,Q),Ke!==null&&(D=f(Ke,D,De),Qe===null?me=Ke:Qe.sibling=Ke,Qe=Ke);return He&&cs(j,De),me}for(he=l(he);!Ke.done;De++,Ke=L.next())Ke=q(he,j,De,Ke.value,Q),Ke!==null&&(t&&Ke.alternate!==null&&he.delete(Ke.key===null?De:Ke.key),D=f(Ke,D,De),Qe===null?me=Ke:Qe.sibling=Ke,Qe=Ke);return t&&he.forEach(function(E1){return n(j,E1)}),He&&cs(j,De),me}function at(j,D,L,Q){if(typeof L=="object"&&L!==null&&L.type===ne&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case F:e:{for(var me=L.key;D!==null;){if(D.key===me){if(me=L.type,me===ne){if(D.tag===7){s(j,D.sibling),Q=h(D,L.props.children),Q.return=j,j=Q;break e}}else if(D.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===w&&Jr(me)===D.type){s(j,D.sibling),Q=h(D,L.props),to(Q,L),Q.return=j,j=Q;break e}s(j,D);break}else n(j,D);D=D.sibling}L.type===ne?(Q=Yr(L.props.children,j.mode,Q,L.key),Q.return=j,j=Q):(Q=Ou(L.type,L.key,L.props,null,j.mode,Q),to(Q,L),Q.return=j,j=Q)}return g(j);case J:e:{for(me=L.key;D!==null;){if(D.key===me)if(D.tag===4&&D.stateNode.containerInfo===L.containerInfo&&D.stateNode.implementation===L.implementation){s(j,D.sibling),Q=h(D,L.children||[]),Q.return=j,j=Q;break e}else{s(j,D);break}else n(j,D);D=D.sibling}Q=Xh(L,j.mode,Q),Q.return=j,j=Q}return g(j);case w:return L=Jr(L),at(j,D,L,Q)}if(mt(L))return ue(j,D,L,Q);if(k(L)){if(me=k(L),typeof me!="function")throw Error(a(150));return L=me.call(L),ye(j,D,L,Q)}if(typeof L.then=="function")return at(j,D,Pu(L),Q);if(L.$$typeof===be)return at(j,D,ku(j,L),Q);zu(j,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,D!==null&&D.tag===6?(s(j,D.sibling),Q=h(D,L),Q.return=j,j=Q):(s(j,D),Q=Yh(L,j.mode,Q),Q.return=j,j=Q),g(j)):s(j,D)}return function(j,D,L,Q){try{eo=0;var me=at(j,D,L,Q);return Pa=null,me}catch(he){if(he===La||he===Uu)throw he;var Qe=Ln(29,he,null,j.mode);return Qe.lanes=Q,Qe.return=j,Qe}finally{}}}var ta=Kg(!0),Yg=Kg(!1),Xs=!1;function of(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function $s(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ws(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(We&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Du(t),Dg(t,null,s),n}return Nu(t,l,n,s),Du(t)}function no(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,li(t,s)}}function cf(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var hf=!1;function io(){if(hf){var t=Ua;if(t!==null)throw t}}function so(t,n,s,l){hf=!1;var h=t.updateQueue;Xs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,P=R.next;R.next=null,g===null?f=P:g.next=P,g=R;var G=t.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==g&&(T===null?G.firstBaseUpdate=P:T.next=P,G.lastBaseUpdate=R))}if(f!==null){var X=h.baseState;g=0,G=P=R=null,T=f;do{var z=T.lane&-536870913,q=z!==T.lane;if(q?(je&z)===z:(l&z)===z){z!==0&&z===ja&&(hf=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ue=t,ye=T;z=n;var at=s;switch(ye.tag){case 1:if(ue=ye.payload,typeof ue=="function"){X=ue.call(at,X,z);break e}X=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ye.payload,z=typeof ue=="function"?ue.call(at,X,z):ue,z==null)break e;X=A({},X,z);break e;case 2:Xs=!0}}z=T.callback,z!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(P=G=q,R=X):G=G.next=q,g|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(R=X),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),nr|=g,t.lanes=g,t.memoizedState=X}}function Xg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function $g(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Xg(s[t],n)}var za=O(null),Bu=O(0);function Wg(t,n){t=bs,ie(Bu,t),ie(za,n),bs=t|n.baseLanes}function ff(){ie(Bu,bs),ie(za,za.current)}function df(){bs=Bu.current,Y(za),Y(Bu)}var Pn=O(null),ni=null;function Zs(t){var n=t.alternate;ie(Mt,Mt.current&1),ie(Pn,t),ni===null&&(n===null||za.current!==null||n.memoizedState!==null)&&(ni=t)}function mf(t){ie(Mt,Mt.current),ie(Pn,t),ni===null&&(ni=t)}function Zg(t){t.tag===22?(ie(Mt,Mt.current),ie(Pn,t),ni===null&&(ni=t)):Js()}function Js(){ie(Mt,Mt.current),ie(Pn,Pn.current)}function zn(t){Y(Pn),ni===t&&(ni=null),Y(Mt)}var Mt=O(0);function qu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Ed(s)||bd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ds=0,Ne=null,st=null,qt=null,Hu=!1,Ba=!1,na=!1,Gu=0,ro=0,qa=null,cT=0;function Rt(){throw Error(a(321))}function gf(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!Un(t[s],n[s]))return!1;return!0}function pf(t,n,s,l,h,f){return ds=f,Ne=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?kp:Df,na=!1,f=s(l,h),na=!1,Ba&&(f=ep(n,s,l,h)),Jg(t),f}function Jg(t){H.H=oo;var n=st!==null&&st.next!==null;if(ds=0,qt=st=Ne=null,Hu=!1,ro=0,qa=null,n)throw Error(a(300));t===null||Ht||(t=t.dependencies,t!==null&&Vu(t)&&(Ht=!0))}function ep(t,n,s,l){Ne=t;var h=0;do{if(Ba&&(qa=null),ro=0,Ba=!1,25<=h)throw Error(a(301));if(h+=1,qt=st=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=jp,f=n(s,l)}while(Ba);return f}function hT(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?ao(n):n,t=t.useState()[0],(st!==null?st.memoizedState:null)!==t&&(Ne.flags|=1024),n}function yf(){var t=Gu!==0;return Gu=0,t}function _f(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function vf(t){if(Hu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Hu=!1}ds=0,qt=st=Ne=null,Ba=!1,ro=Gu=0,qa=null}function Tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Ne.memoizedState=qt=t:qt=qt.next=t,qt}function Vt(){if(st===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var n=qt===null?Ne.memoizedState:qt.next;if(n!==null)qt=n,st=t;else{if(t===null)throw Ne.alternate===null?Error(a(467)):Error(a(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},qt===null?Ne.memoizedState=qt=t:qt=qt.next=t}return qt}function Fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ao(t){var n=ro;return ro+=1,qa===null&&(qa=[]),t=Gg(qa,t,n),n=Ne,(qt===null?n.memoizedState:qt.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?kp:Df),t}function Qu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ao(t);if(t.$$typeof===be)return on(t)}throw Error(a(438,String(t)))}function Ef(t){var n=null,s=Ne.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Fu(),Ne.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=V;return n.index++,s}function ms(t,n){return typeof n=="function"?n(t):n}function Ku(t){var n=Vt();return bf(n,st,t)}function bf(t,n,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=g=null,R=null,P=n,G=!1;do{var X=P.lane&-536870913;if(X!==P.lane?(je&X)===X:(ds&X)===X){var z=P.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),X===ja&&(G=!0);else if((ds&z)===z){P=P.next,z===ja&&(G=!0);continue}else X={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(T=R=X,g=f):R=R.next=X,Ne.lanes|=z,nr|=z;X=P.action,na&&s(f,X),f=P.hasEagerState?P.eagerState:s(f,X)}else z={lane:X,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(T=R=z,g=f):R=R.next=z,Ne.lanes|=X,nr|=X;P=P.next}while(P!==null&&P!==n);if(R===null?g=f:R.next=T,!Un(f,t.memoizedState)&&(Ht=!0,G&&(s=Ua,s!==null)))throw s;t.memoizedState=f,t.baseState=g,t.baseQueue=R,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Tf(t){var n=Vt(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);Un(f,n.memoizedState)||(Ht=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function tp(t,n,s){var l=Ne,h=Vt(),f=He;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!Un((st||h).memoizedState,s);if(g&&(h.memoizedState=s,Ht=!0),h=h.queue,wf(sp.bind(null,l,h,t),[t]),h.getSnapshot!==n||g||qt!==null&&qt.memoizedState.tag&1){if(l.flags|=2048,Ha(9,{destroy:void 0},ip.bind(null,l,h,s,n),null),ct===null)throw Error(a(349));f||(ds&127)!==0||np(l,n,s)}return s}function np(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Ne.updateQueue,n===null?(n=Fu(),Ne.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function ip(t,n,s,l){n.value=s,n.getSnapshot=l,rp(n)&&ap(t)}function sp(t,n,s){return s(function(){rp(n)&&ap(t)})}function rp(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!Un(t,s)}catch{return!0}}function ap(t){var n=Kr(t,2);n!==null&&Nn(n,t,2)}function Sf(t){var n=Tn();if(typeof t=="function"){var s=t;if(t=s(),na){xt(!0);try{s()}finally{xt(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:t},n}function lp(t,n,s,l){return t.baseState=s,bf(t,st,typeof l=="function"?l:ms)}function fT(t,n,s,l,h){if($u(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,op(n,f)):(f.next=s.next,n.pending=s.next=f)}}function op(t,n){var s=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var T=s(h,l),R=H.S;R!==null&&R(g,T),up(t,n,T)}catch(P){Af(t,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=s(h,l),up(t,n,f)}catch(P){Af(t,n,P)}}function up(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){cp(t,n,l)},function(l){return Af(t,n,l)}):cp(t,n,s)}function cp(t,n,s){n.status="fulfilled",n.value=s,hp(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,op(t,s)))}function Af(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,hp(n),n=n.next;while(n!==l)}t.action=null}function hp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function fp(t,n){return n}function dp(t,n){if(He){var s=ct.formState;if(s!==null){e:{var l=Ne;if(He){if(pt){t:{for(var h=pt,f=ti;h.nodeType!==8;){if(!f){h=null;break t}if(h=ii(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){pt=ii(h.nextSibling),l=h.data==="F!";break e}}Ks(l)}l=!1}l&&(n=s[0])}}return s=Tn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fp,lastRenderedState:n},s.queue=l,s=Op.bind(null,Ne,l),l.dispatch=s,l=Sf(!1),f=Nf.bind(null,Ne,!1,l.queue),l=Tn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,s=fT.bind(null,Ne,h,f,s),h.dispatch=s,l.memoizedState=t,[n,s,!1]}function mp(t){var n=Vt();return gp(n,st,t)}function gp(t,n,s){if(n=bf(t,n,fp)[0],t=Ku(ms)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=ao(n)}catch(g){throw g===La?Uu:g}else l=n;n=Vt();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Ne.flags|=2048,Ha(9,{destroy:void 0},dT.bind(null,h,s),null)),[l,f,t]}function dT(t,n){t.action=n}function pp(t){var n=Vt(),s=st;if(s!==null)return gp(n,s,t);Vt(),n=n.memoizedState,s=Vt();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function Ha(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=Ne.updateQueue,n===null&&(n=Fu(),Ne.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function yp(){return Vt().memoizedState}function Yu(t,n,s,l){var h=Tn();Ne.flags|=t,h.memoizedState=Ha(1|n,{destroy:void 0},s,l===void 0?null:l)}function Xu(t,n,s,l){var h=Vt();l=l===void 0?null:l;var f=h.memoizedState.inst;st!==null&&l!==null&&gf(l,st.memoizedState.deps)?h.memoizedState=Ha(n,f,s,l):(Ne.flags|=t,h.memoizedState=Ha(1|n,f,s,l))}function _p(t,n){Yu(8390656,8,t,n)}function wf(t,n){Xu(2048,8,t,n)}function mT(t){Ne.flags|=4;var n=Ne.updateQueue;if(n===null)n=Fu(),Ne.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function vp(t){var n=Vt().memoizedState;return mT({ref:n,nextImpl:t}),function(){if((We&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Ep(t,n){return Xu(4,2,t,n)}function bp(t,n){return Xu(4,4,t,n)}function Tp(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Sp(t,n,s){s=s!=null?s.concat([t]):null,Xu(4,4,Tp.bind(null,n,t),s)}function xf(){}function Ap(t,n){var s=Vt();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&gf(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function wp(t,n){var s=Vt();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&gf(n,l[1]))return l[0];if(l=t(),na){xt(!0);try{t()}finally{xt(!1)}}return s.memoizedState=[l,n],l}function Rf(t,n,s){return s===void 0||(ds&1073741824)!==0&&(je&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=xy(),Ne.lanes|=t,nr|=t,s)}function xp(t,n,s,l){return Un(s,n)?s:za.current!==null?(t=Rf(t,s,l),Un(t,n)||(Ht=!0),t):(ds&42)===0||(ds&1073741824)!==0&&(je&261930)===0?(Ht=!0,t.memoizedState=s):(t=xy(),Ne.lanes|=t,nr|=t,n)}function Rp(t,n,s,l,h){var f=se.p;se.p=f!==0&&8>f?f:8;var g=H.T,T={};H.T=T,Nf(t,!1,n,s);try{var R=h(),P=H.S;if(P!==null&&P(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=uT(R,l);lo(t,n,G,Hn(t))}else lo(t,n,l,Hn(t))}catch(X){lo(t,n,{then:function(){},status:"rejected",reason:X},Hn())}finally{se.p=f,g!==null&&T.types!==null&&(g.types=T.types),H.T=g}}function gT(){}function Cf(t,n,s,l){if(t.tag!==5)throw Error(a(476));var h=Cp(t).queue;Rp(t,h,n,ce,s===null?gT:function(){return Ip(t),s(l)})}function Cp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:ce},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Ip(t){var n=Cp(t);n.next===null&&(n=t.alternate.memoizedState),lo(t,n.next.queue,{},Hn())}function If(){return on(wo)}function Np(){return Vt().memoizedState}function Dp(){return Vt().memoizedState}function pT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=Hn();t=$s(s);var l=Ws(n,t,s);l!==null&&(Nn(l,n,s),no(l,n,s)),n={cache:sf()},t.payload=n;return}n=n.return}}function yT(t,n,s){var l=Hn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},$u(t)?Mp(n,s):(s=Qh(t,n,s,l),s!==null&&(Nn(s,t,l),Vp(s,n,l)))}function Op(t,n,s){var l=Hn();lo(t,n,s,l)}function lo(t,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if($u(t))Mp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,s);if(h.hasEagerState=!0,h.eagerState=T,Un(T,g))return Nu(t,n,h,0),ct===null&&Iu(),!1}catch{}finally{}if(s=Qh(t,n,h,l),s!==null)return Nn(s,t,l),Vp(s,n,l),!0}return!1}function Nf(t,n,s,l){if(l={lane:2,revertLane:od(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},$u(t)){if(n)throw Error(a(479))}else n=Qh(t,s,l,2),n!==null&&Nn(n,t,2)}function $u(t){var n=t.alternate;return t===Ne||n!==null&&n===Ne}function Mp(t,n){Ba=Hu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Vp(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,li(t,s)}}var oo={readContext:on,use:Qu,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useLayoutEffect:Rt,useInsertionEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useSyncExternalStore:Rt,useId:Rt,useHostTransitionStatus:Rt,useFormState:Rt,useActionState:Rt,useOptimistic:Rt,useMemoCache:Rt,useCacheRefresh:Rt};oo.useEffectEvent=Rt;var kp={readContext:on,use:Qu,useCallback:function(t,n){return Tn().memoizedState=[t,n===void 0?null:n],t},useContext:on,useEffect:_p,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Yu(4194308,4,Tp.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Yu(4194308,4,t,n)},useInsertionEffect:function(t,n){Yu(4,2,t,n)},useMemo:function(t,n){var s=Tn();n=n===void 0?null:n;var l=t();if(na){xt(!0);try{t()}finally{xt(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=Tn();if(s!==void 0){var h=s(n);if(na){xt(!0);try{s(n)}finally{xt(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=yT.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var n=Tn();return t={current:t},n.memoizedState=t},useState:function(t){t=Sf(t);var n=t.queue,s=Op.bind(null,Ne,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:xf,useDeferredValue:function(t,n){var s=Tn();return Rf(s,t,n)},useTransition:function(){var t=Sf(!1);return t=Rp.bind(null,Ne,t.queue,!0,!1),Tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=Ne,h=Tn();if(He){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ct===null)throw Error(a(349));(je&127)!==0||np(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,_p(sp.bind(null,l,f,t),[t]),l.flags|=2048,Ha(9,{destroy:void 0},ip.bind(null,l,f,s,n),null),s},useId:function(){var t=Tn(),n=ct.identifierPrefix;if(He){var s=Ui,l=ji;s=(l&~(1<<32-qe(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Gu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=cT++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:If,useFormState:dp,useActionState:dp,useOptimistic:function(t){var n=Tn();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Nf.bind(null,Ne,!0,s),s.dispatch=n,[t,n]},useMemoCache:Ef,useCacheRefresh:function(){return Tn().memoizedState=pT.bind(null,Ne)},useEffectEvent:function(t){var n=Tn(),s={impl:t};return n.memoizedState=s,function(){if((We&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Df={readContext:on,use:Qu,useCallback:Ap,useContext:on,useEffect:wf,useImperativeHandle:Sp,useInsertionEffect:Ep,useLayoutEffect:bp,useMemo:wp,useReducer:Ku,useRef:yp,useState:function(){return Ku(ms)},useDebugValue:xf,useDeferredValue:function(t,n){var s=Vt();return xp(s,st.memoizedState,t,n)},useTransition:function(){var t=Ku(ms)[0],n=Vt().memoizedState;return[typeof t=="boolean"?t:ao(t),n]},useSyncExternalStore:tp,useId:Np,useHostTransitionStatus:If,useFormState:mp,useActionState:mp,useOptimistic:function(t,n){var s=Vt();return lp(s,st,t,n)},useMemoCache:Ef,useCacheRefresh:Dp};Df.useEffectEvent=vp;var jp={readContext:on,use:Qu,useCallback:Ap,useContext:on,useEffect:wf,useImperativeHandle:Sp,useInsertionEffect:Ep,useLayoutEffect:bp,useMemo:wp,useReducer:Tf,useRef:yp,useState:function(){return Tf(ms)},useDebugValue:xf,useDeferredValue:function(t,n){var s=Vt();return st===null?Rf(s,t,n):xp(s,st.memoizedState,t,n)},useTransition:function(){var t=Tf(ms)[0],n=Vt().memoizedState;return[typeof t=="boolean"?t:ao(t),n]},useSyncExternalStore:tp,useId:Np,useHostTransitionStatus:If,useFormState:pp,useActionState:pp,useOptimistic:function(t,n){var s=Vt();return st!==null?lp(s,st,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Ef,useCacheRefresh:Dp};jp.useEffectEvent=vp;function Of(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:A({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Mf={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=Hn(),h=$s(l);h.payload=n,s!=null&&(h.callback=s),n=Ws(t,h,l),n!==null&&(Nn(n,t,l),no(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=Hn(),h=$s(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Ws(t,h,l),n!==null&&(Nn(n,t,l),no(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Hn(),l=$s(s);l.tag=2,n!=null&&(l.callback=n),n=Ws(t,l,s),n!==null&&(Nn(n,t,s),no(n,t,s))}};function Up(t,n,s,l,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Yl(s,l)||!Yl(h,f):!0}function Lp(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Mf.enqueueReplaceState(n,n.state,null)}function ia(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=A({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function Pp(t){Cu(t)}function zp(t){console.error(t)}function Bp(t){Cu(t)}function Wu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function qp(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Vf(t,n,s){return s=$s(s),s.tag=3,s.payload={element:null},s.callback=function(){Wu(t,n)},s}function Hp(t){return t=$s(t),t.tag=3,t}function Gp(t,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){qp(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){qp(n,s,l),typeof h!="function"&&(ir===null?ir=new Set([this]):ir.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function _T(t,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&ka(n,s,h,!0),s=Pn.current,s!==null){switch(s.tag){case 31:case 13:return ni===null?uc():s.alternate===null&&Ct===0&&(Ct=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Lu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),rd(t,l,h)),!1;case 22:return s.flags|=65536,l===Lu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),rd(t,l,h)),!1}throw Error(a(435,s.tag))}return rd(t,l,h),uc(),!1}if(He)return n=Pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Zh&&(t=Error(a(422),{cause:l}),Wl(Zn(t,s)))):(l!==Zh&&(n=Error(a(423),{cause:l}),Wl(Zn(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Zn(l,s),h=Vf(t.stateNode,l,h),cf(t,h),Ct!==4&&(Ct=2)),!1;var f=Error(a(520),{cause:l});if(f=Zn(f,s),yo===null?yo=[f]:yo.push(f),Ct!==4&&(Ct=2),n===null)return!0;l=Zn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Vf(s.stateNode,l,t),cf(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ir===null||!ir.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Hp(h),Gp(h,t,s,l),cf(s,h),!1}s=s.return}while(s!==null);return!1}var kf=Error(a(461)),Ht=!1;function un(t,n,s,l){n.child=t===null?Yg(n,null,s,l):ta(n,t.child,s,l)}function Fp(t,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var T in l)T!=="ref"&&(g[T]=l[T])}else g=l;return Wr(n),l=pf(t,n,s,g,f,h),T=yf(),t!==null&&!Ht?(_f(t,n,h),gs(t,n,h)):(He&&T&&$h(n),n.flags|=1,un(t,n,l,h),n.child)}function Qp(t,n,s,l,h){if(t===null){var f=s.type;return typeof f=="function"&&!Kh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Kp(t,n,f,l,h)):(t=Ou(s.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Hf(t,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Yl,s(g,l)&&t.ref===n.ref)return gs(t,n,h)}return n.flags|=1,t=us(f,l),t.ref=n.ref,t.return=n,n.child=t}function Kp(t,n,s,l,h){if(t!==null){var f=t.memoizedProps;if(Yl(f,l)&&t.ref===n.ref)if(Ht=!1,n.pendingProps=l=f,Hf(t,h))(t.flags&131072)!==0&&(Ht=!0);else return n.lanes=t.lanes,gs(t,n,h)}return jf(t,n,s,l,h)}function Yp(t,n,s,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Xp(t,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&ju(n,f!==null?f.cachePool:null),f!==null?Wg(n,f):ff(),Zg(n);else return l=n.lanes=536870912,Xp(t,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(ju(n,f.cachePool),Wg(n,f),Js(),n.memoizedState=null):(t!==null&&ju(n,null),ff(),Js());return un(t,n,h,s),n.child}function uo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Xp(t,n,s,l,h){var f=af();return f=f===null?null:{parent:Bt._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&ju(n,null),ff(),Zg(n),t!==null&&ka(t,n,l,!0),n.childLanes=h,null}function Zu(t,n){return n=ec({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function $p(t,n,s){return ta(n,t.child,null,s),t=Zu(n,n.pendingProps),t.flags|=2,zn(n),n.memoizedState=null,t}function vT(t,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(He){if(l.mode==="hidden")return t=Zu(n,l),n.lanes=536870912,uo(null,t);if(mf(n),(t=pt)?(t=o0(t,ti),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Fs!==null?{id:ji,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},s=Mg(t),s.return=n,n.child=s,ln=n,pt=null)):t=null,t===null)throw Ks(n);return n.lanes=536870912,null}return Zu(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(mf(n),h)if(n.flags&256)n.flags&=-257,n=$p(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ht||ka(t,n,s,!1),h=(s&t.childLanes)!==0,Ht||h){if(l=ct,l!==null&&(g=ss(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Kr(t,g),Nn(l,t,g),kf;uc(),n=$p(t,n,s)}else t=f.treeContext,pt=ii(g.nextSibling),ln=n,He=!0,Qs=null,ti=!1,t!==null&&jg(n,t),n=Zu(n,l),n.flags|=4096;return n}return t=us(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Ju(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function jf(t,n,s,l,h){return Wr(n),s=pf(t,n,s,l,void 0,h),l=yf(),t!==null&&!Ht?(_f(t,n,h),gs(t,n,h)):(He&&l&&$h(n),n.flags|=1,un(t,n,s,h),n.child)}function Wp(t,n,s,l,h,f){return Wr(n),n.updateQueue=null,s=ep(n,l,s,h),Jg(t),l=yf(),t!==null&&!Ht?(_f(t,n,f),gs(t,n,f)):(He&&l&&$h(n),n.flags|=1,un(t,n,s,f),n.child)}function Zp(t,n,s,l,h){if(Wr(n),n.stateNode===null){var f=Da,g=s.contextType;typeof g=="object"&&g!==null&&(f=on(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Mf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},of(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?on(g):Da,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Of(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Mf.enqueueReplaceState(f,f.state,null),so(n,l,f,h),io(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,R=ia(s,T);f.props=R;var P=f.context,G=s.contextType;g=Da,typeof G=="object"&&G!==null&&(g=on(G));var X=s.getDerivedStateFromProps;G=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||P!==g)&&Lp(n,f,l,g),Xs=!1;var z=n.memoizedState;f.state=z,so(n,l,f,h),io(),P=n.memoizedState,T||z!==P||Xs?(typeof X=="function"&&(Of(n,s,X,l),P=n.memoizedState),(R=Xs||Up(n,s,R,l,z,P,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=g,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,uf(t,n),g=n.memoizedProps,G=ia(s,g),f.props=G,X=n.pendingProps,z=f.context,P=s.contextType,R=Da,typeof P=="object"&&P!==null&&(R=on(P)),T=s.getDerivedStateFromProps,(P=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||z!==R)&&Lp(n,f,l,R),Xs=!1,z=n.memoizedState,f.state=z,so(n,l,f,h),io();var q=n.memoizedState;g!==X||z!==q||Xs||t!==null&&t.dependencies!==null&&Vu(t.dependencies)?(typeof T=="function"&&(Of(n,s,T,l),q=n.memoizedState),(G=Xs||Up(n,s,G,l,z,q,R)||t!==null&&t.dependencies!==null&&Vu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=R,l=G):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Ju(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ta(n,t.child,null,h),n.child=ta(n,null,s,h)):un(t,n,s,h),n.memoizedState=f.state,t=n.child):t=gs(t,n,h),t}function Jp(t,n,s,l){return Xr(),n.flags|=256,un(t,n,s,l),n.child}var Uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lf(t){return{baseLanes:t,cachePool:qg()}}function Pf(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=qn),t}function ey(t,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Mt.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(He){if(h?Zs(n):Js(),(t=pt)?(t=o0(t,ti),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Fs!==null?{id:ji,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},s=Mg(t),s.return=n,n.child=s,ln=n,pt=null)):t=null,t===null)throw Ks(n);return bd(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Js(),h=n.mode,T=ec({mode:"hidden",children:T},h),l=Yr(l,h,s,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=Lf(s),l.childLanes=Pf(t,g,s),n.memoizedState=Uf,uo(null,l)):(Zs(n),zf(n,T))}var R=t.memoizedState;if(R!==null&&(T=R.dehydrated,T!==null)){if(f)n.flags&256?(Zs(n),n.flags&=-257,n=Bf(t,n,s)):n.memoizedState!==null?(Js(),n.child=t.child,n.flags|=128,n=null):(Js(),T=l.fallback,h=n.mode,l=ec({mode:"visible",children:l.children},h),T=Yr(T,h,s,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,ta(n,t.child,null,s),l=n.child,l.memoizedState=Lf(s),l.childLanes=Pf(t,g,s),n.memoizedState=Uf,n=uo(null,l));else if(Zs(n),bd(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var P=g.dgst;g=P,l=Error(a(419)),l.stack="",l.digest=g,Wl({value:l,source:null,stack:null}),n=Bf(t,n,s)}else if(Ht||ka(t,n,s,!1),g=(s&t.childLanes)!==0,Ht||g){if(g=ct,g!==null&&(l=ss(g,s),l!==0&&l!==R.retryLane))throw R.retryLane=l,Kr(t,l),Nn(g,t,l),kf;Ed(T)||uc(),n=Bf(t,n,s)}else Ed(T)?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,pt=ii(T.nextSibling),ln=n,He=!0,Qs=null,ti=!1,t!==null&&jg(n,t),n=zf(n,l.children),n.flags|=4096);return n}return h?(Js(),T=l.fallback,h=n.mode,R=t.child,P=R.sibling,l=us(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,P!==null?T=us(P,T):(T=Yr(T,h,s,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,uo(null,l),l=n.child,T=t.child.memoizedState,T===null?T=Lf(s):(h=T.cachePool,h!==null?(R=Bt._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=qg(),T={baseLanes:T.baseLanes|s,cachePool:h}),l.memoizedState=T,l.childLanes=Pf(t,g,s),n.memoizedState=Uf,uo(t.child,l)):(Zs(n),s=t.child,t=s.sibling,s=us(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=s,n.memoizedState=null,s)}function zf(t,n){return n=ec({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ec(t,n){return t=Ln(22,t,null,n),t.lanes=0,t}function Bf(t,n,s){return ta(n,t.child,null,s),t=zf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ty(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),tf(t.return,n,s)}function qf(t,n,s,l,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function ny(t,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=Mt.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,ie(Mt,g),un(t,n,l,s),l=He?$l:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ty(t,s,n);else if(t.tag===19)ty(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&qu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),qf(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&qu(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}qf(n,!0,s,null,f,l);break;case"together":qf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function gs(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),nr|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(ka(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=us(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=us(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Hf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Vu(t)))}function ET(t,n,s){switch(n.tag){case 3:It(n,n.stateNode.containerInfo),Ys(n,Bt,t.memoizedState.cache),Xr();break;case 27:case 5:Wi(n);break;case 4:It(n,n.stateNode.containerInfo);break;case 10:Ys(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,mf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Zs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?ey(t,n,s):(Zs(n),t=gs(t,n,s),t!==null?t.sibling:null);Zs(n);break;case 19:var h=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(ka(t,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return ny(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(Mt,Mt.current),l)break;return null;case 22:return n.lanes=0,Yp(t,n,s,n.pendingProps);case 24:Ys(n,Bt,t.memoizedState.cache)}return gs(t,n,s)}function iy(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ht=!0;else{if(!Hf(t,s)&&(n.flags&128)===0)return Ht=!1,ET(t,n,s);Ht=(t.flags&131072)!==0}else Ht=!1,He&&(n.flags&1048576)!==0&&kg(n,$l,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Jr(n.elementType),n.type=t,typeof t=="function")Kh(t)?(l=ia(t,l),n.tag=1,n=Zp(null,n,t,l,s)):(n.tag=0,n=jf(null,n,t,l,s));else{if(t!=null){var h=t.$$typeof;if(h===ge){n.tag=11,n=Fp(null,n,t,l,s);break e}else if(h===I){n.tag=14,n=Qp(null,n,t,l,s);break e}}throw n=lt(t)||t,Error(a(306,n,""))}}return n;case 0:return jf(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=ia(l,n.pendingProps),Zp(t,n,l,h,s);case 3:e:{if(It(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,uf(t,n),so(n,l,null,s);var g=n.memoizedState;if(l=g.cache,Ys(n,Bt,l),l!==f.cache&&nf(n,[Bt],s,!0),io(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Jp(t,n,l,s);break e}else if(l!==h){h=Zn(Error(a(424)),n),Wl(h),n=Jp(t,n,l,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(pt=ii(t.firstChild),ln=n,He=!0,Qs=null,ti=!0,s=Yg(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Xr(),l===h){n=gs(t,n,s);break e}un(t,n,l,s)}n=n.child}return n;case 26:return Ju(t,n),t===null?(s=m0(n.type,null,n.pendingProps,null))?n.memoizedState=s:He||(s=n.type,t=n.pendingProps,l=pc(Ce.current).createElement(s),l[Lt]=n,l[en]=t,cn(l,s,t),Pt(l),n.stateNode=l):n.memoizedState=m0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Wi(n),t===null&&He&&(l=n.stateNode=h0(n.type,n.pendingProps,Ce.current),ln=n,ti=!0,h=pt,lr(n.type)?(Td=h,pt=ii(l.firstChild)):pt=h),un(t,n,n.pendingProps.children,s),Ju(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&He&&((h=l=pt)&&(l=$T(l,n.type,n.pendingProps,ti),l!==null?(n.stateNode=l,ln=n,pt=ii(l.firstChild),ti=!1,h=!0):h=!1),h||Ks(n)),Wi(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,yd(h,f)?l=null:g!==null&&yd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=pf(t,n,hT,null,null,s),wo._currentValue=h),Ju(t,n),un(t,n,l,s),n.child;case 6:return t===null&&He&&((t=s=pt)&&(s=WT(s,n.pendingProps,ti),s!==null?(n.stateNode=s,ln=n,pt=null,t=!0):t=!1),t||Ks(n)),null;case 13:return ey(t,n,s);case 4:return It(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ta(n,null,l,s):un(t,n,l,s),n.child;case 11:return Fp(t,n,n.type,n.pendingProps,s);case 7:return un(t,n,n.pendingProps,s),n.child;case 8:return un(t,n,n.pendingProps.children,s),n.child;case 12:return un(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Ys(n,n.type,l.value),un(t,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Wr(n),h=on(h),l=l(h),n.flags|=1,un(t,n,l,s),n.child;case 14:return Qp(t,n,n.type,n.pendingProps,s);case 15:return Kp(t,n,n.type,n.pendingProps,s);case 19:return ny(t,n,s);case 31:return vT(t,n,s);case 22:return Yp(t,n,s,n.pendingProps);case 24:return Wr(n),l=on(Bt),t===null?(h=af(),h===null&&(h=ct,f=sf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},of(n),Ys(n,Bt,h)):((t.lanes&s)!==0&&(uf(t,n),so(n,null,null,s),io()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ys(n,Bt,l)):(l=f.cache,Ys(n,Bt,l),l!==h.cache&&nf(n,[Bt],s,!0))),un(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ps(t){t.flags|=4}function Gf(t,n,s,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Ny())t.flags|=8192;else throw ea=Lu,lf}else t.flags&=-16777217}function sy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!v0(n))if(Ny())t.flags|=8192;else throw ea=Lu,lf}function tc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ti():536870912,t.lanes|=n,Ka|=n)}function co(t,n){if(!He)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function yt(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function bT(t,n,s){var l=n.pendingProps;switch(Wh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(n),null;case 1:return yt(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),fs(Bt),ot(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Va(n)?ps(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Jh())),yt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(ps(n),f!==null?(yt(n),sy(n,f)):(yt(n),Gf(n,h,null,l,s))):f?f!==t.memoizedState?(ps(n),yt(n),sy(n,f)):(yt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&ps(n),yt(n),Gf(n,h,t,l,s)),null;case 27:if(Vs(n),s=Ce.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ps(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return yt(n),null}t=le.current,Va(n)?Ug(n):(t=h0(h,l,s),n.stateNode=t,ps(n))}return yt(n),null;case 5:if(Vs(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ps(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return yt(n),null}if(f=le.current,Va(n))Ug(n);else{var g=pc(Ce.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[Lt]=n,f[en]=l;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(cn(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ps(n)}}return yt(n),Gf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&ps(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Ce.current,Va(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,h=ln,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Lt]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||e0(t.nodeValue,s)),t||Ks(n,!0)}else t=pc(t).createTextNode(l),t[Lt]=n,n.stateNode=t}return yt(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=Va(n),s!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Lt]=n}else Xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;yt(n),t=!1}else s=Jh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(zn(n),n):(zn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return yt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Va(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Lt]=n}else Xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;yt(n),h=!1}else h=Jh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(zn(n),n):(zn(n),null)}return zn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),tc(n,n.updateQueue),yt(n),null);case 4:return ot(),t===null&&fd(n.stateNode.containerInfo),yt(n),null;case 10:return fs(n.type),yt(n),null;case 19:if(Y(Mt),l=n.memoizedState,l===null)return yt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)co(l,!1);else{if(Ct!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=qu(t),f!==null){for(n.flags|=128,co(l,!1),t=f.updateQueue,n.updateQueue=t,tc(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Og(s,t),s=s.sibling;return ie(Mt,Mt.current&1|2),He&&cs(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&rn()>ac&&(n.flags|=128,h=!0,co(l,!1),n.lanes=4194304)}else{if(!h)if(t=qu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,tc(n,t),co(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!He)return yt(n),null}else 2*rn()-l.renderingStartTime>ac&&s!==536870912&&(n.flags|=128,h=!0,co(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=rn(),t.sibling=null,s=Mt.current,ie(Mt,h?s&1|2:s&1),He&&cs(n,l.treeForkCount),t):(yt(n),null);case 22:case 23:return zn(n),df(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(yt(n),n.subtreeFlags&6&&(n.flags|=8192)):yt(n),s=n.updateQueue,s!==null&&tc(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&Y(Zr),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),fs(Bt),yt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function TT(t,n){switch(Wh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return fs(Bt),ot(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Vs(n),null;case 31:if(n.memoizedState!==null){if(zn(n),n.alternate===null)throw Error(a(340));Xr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(zn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Xr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(Mt),null;case 4:return ot(),null;case 10:return fs(n.type),null;case 22:case 23:return zn(n),df(),t!==null&&Y(Zr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return fs(Bt),null;case 25:return null;default:return null}}function ry(t,n){switch(Wh(n),n.tag){case 3:fs(Bt),ot();break;case 26:case 27:case 5:Vs(n);break;case 4:ot();break;case 31:n.memoizedState!==null&&zn(n);break;case 13:zn(n);break;case 19:Y(Mt);break;case 10:fs(n.type);break;case 22:case 23:zn(n),df(),t!==null&&Y(Zr);break;case 24:fs(Bt)}}function ho(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==h)}}catch(T){nt(n,n.return,T)}}function er(t,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var g=l.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,h=n;var R=s,P=T;try{P()}catch(G){nt(h,R,G)}}}l=l.next}while(l!==f)}}catch(G){nt(n,n.return,G)}}function ay(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{$g(n,s)}catch(l){nt(t,t.return,l)}}}function ly(t,n,s){s.props=ia(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){nt(t,n,l)}}function fo(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){nt(t,n,h)}}function Li(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){nt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){nt(t,n,h)}else s.current=null}function oy(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){nt(t,t.return,h)}}function Ff(t,n,s){try{var l=t.stateNode;GT(l,t.type,s,n),l[en]=n}catch(h){nt(t,t.return,h)}}function uy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&lr(t.type)||t.tag===4}function Qf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||uy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&lr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kf(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=hi));else if(l!==4&&(l===27&&lr(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Kf(t,n,s),t=t.sibling;t!==null;)Kf(t,n,s),t=t.sibling}function nc(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&lr(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(nc(t,n,s),t=t.sibling;t!==null;)nc(t,n,s),t=t.sibling}function cy(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);cn(n,l,s),n[Lt]=t,n[en]=s}catch(f){nt(t,t.return,f)}}var ys=!1,Gt=!1,Yf=!1,hy=typeof WeakSet=="function"?WeakSet:Set,nn=null;function ST(t,n){if(t=t.containerInfo,gd=Sc,t=Sg(t),zh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var g=0,T=-1,R=-1,P=0,G=0,X=t,z=null;t:for(;;){for(var q;X!==s||h!==0&&X.nodeType!==3||(T=g+h),X!==f||l!==0&&X.nodeType!==3||(R=g+l),X.nodeType===3&&(g+=X.nodeValue.length),(q=X.firstChild)!==null;)z=X,X=q;for(;;){if(X===t)break t;if(z===s&&++P===h&&(T=g),z===f&&++G===l&&(R=g),(q=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=q}s=T===-1||R===-1?null:{start:T,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(pd={focusedElem:t,selectionRange:s},Sc=!1,nn=n;nn!==null;)if(n=nn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,nn=t;else for(;nn!==null;){switch(n=nn,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var ue=ia(s.type,h);t=l.getSnapshotBeforeUpdate(ue,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){nt(s,s.return,ye)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)vd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":vd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,nn=t;break}nn=n.return}}function fy(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:vs(t,s),l&4&&ho(5,s);break;case 1:if(vs(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(g){nt(s,s.return,g)}else{var h=ia(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){nt(s,s.return,g)}}l&64&&ay(s),l&512&&fo(s,s.return);break;case 3:if(vs(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{$g(t,n)}catch(g){nt(s,s.return,g)}}break;case 27:n===null&&l&4&&cy(s);case 26:case 5:vs(t,s),n===null&&l&4&&oy(s),l&512&&fo(s,s.return);break;case 12:vs(t,s);break;case 31:vs(t,s),l&4&&gy(t,s);break;case 13:vs(t,s),l&4&&py(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=OT.bind(null,s),ZT(t,s))));break;case 22:if(l=s.memoizedState!==null||ys,!l){n=n!==null&&n.memoizedState!==null||Gt,h=ys;var f=Gt;ys=l,(Gt=n)&&!f?Es(t,s,(s.subtreeFlags&8772)!==0):vs(t,s),ys=h,Gt=f}break;case 30:break;default:vs(t,s)}}function dy(t){var n=t.alternate;n!==null&&(t.alternate=null,dy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ya(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Et=null,xn=!1;function _s(t,n,s){for(s=s.child;s!==null;)my(t,n,s),s=s.sibling}function my(t,n,s){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(ht,s)}catch{}switch(s.tag){case 26:Gt||Li(s,n),_s(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Gt||Li(s,n);var l=Et,h=xn;lr(s.type)&&(Et=s.stateNode,xn=!1),_s(t,n,s),To(s.stateNode),Et=l,xn=h;break;case 5:Gt||Li(s,n);case 6:if(l=Et,h=xn,Et=null,_s(t,n,s),Et=l,xn=h,Et!==null)if(xn)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(s.stateNode)}catch(f){nt(s,n,f)}else try{Et.removeChild(s.stateNode)}catch(f){nt(s,n,f)}break;case 18:Et!==null&&(xn?(t=Et,a0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),tl(t)):a0(Et,s.stateNode));break;case 4:l=Et,h=xn,Et=s.stateNode.containerInfo,xn=!0,_s(t,n,s),Et=l,xn=h;break;case 0:case 11:case 14:case 15:er(2,s,n),Gt||er(4,s,n),_s(t,n,s);break;case 1:Gt||(Li(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&ly(s,n,l)),_s(t,n,s);break;case 21:_s(t,n,s);break;case 22:Gt=(l=Gt)||s.memoizedState!==null,_s(t,n,s),Gt=l;break;default:_s(t,n,s)}}function gy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{tl(t)}catch(s){nt(n,n.return,s)}}}function py(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{tl(t)}catch(s){nt(n,n.return,s)}}function AT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new hy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new hy),n;default:throw Error(a(435,t.tag))}}function ic(t,n){var s=AT(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=MT.bind(null,t,l);l.then(h,h)}})}function Rn(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=t,g=n,T=g;e:for(;T!==null;){switch(T.tag){case 27:if(lr(T.type)){Et=T.stateNode,xn=!1;break e}break;case 5:Et=T.stateNode,xn=!1;break e;case 3:case 4:Et=T.stateNode.containerInfo,xn=!0;break e}T=T.return}if(Et===null)throw Error(a(160));my(f,g,h),Et=null,xn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)yy(n,t),n=n.sibling}var yi=null;function yy(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Rn(n,t),Cn(t),l&4&&(er(3,t,t.return),ho(3,t),er(5,t,t.return));break;case 1:Rn(n,t),Cn(t),l&512&&(Gt||s===null||Li(s,s.return)),l&64&&ys&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=yi;if(Rn(n,t),Cn(t),l&512&&(Gt||s===null||Li(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ai]||f[Lt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),cn(f,l,s),f[Lt]=t,Pt(f),l=f;break e;case"link":var g=y0("link","href",h).get(l+(s.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(T,1);break t}}f=h.createElement(l),cn(f,l,s),h.head.appendChild(f);break;case"meta":if(g=y0("meta","content",h).get(l+(s.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(T,1);break t}}f=h.createElement(l),cn(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Lt]=t,Pt(f),l=f}t.stateNode=l}else _0(h,t.type,t.stateNode);else t.stateNode=p0(h,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?_0(h,t.type,t.stateNode):p0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ff(t,t.memoizedProps,s.memoizedProps)}break;case 27:Rn(n,t),Cn(t),l&512&&(Gt||s===null||Li(s,s.return)),s!==null&&l&4&&Ff(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Rn(n,t),Cn(t),l&512&&(Gt||s===null||Li(s,s.return)),t.flags&32){h=t.stateNode;try{wn(h,"")}catch(ue){nt(t,t.return,ue)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Ff(t,h,s!==null?s.memoizedProps:h)),l&1024&&(Yf=!0);break;case 6:if(Rn(n,t),Cn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(ue){nt(t,t.return,ue)}}break;case 3:if(vc=null,h=yi,yi=yc(n.containerInfo),Rn(n,t),yi=h,Cn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{tl(n.containerInfo)}catch(ue){nt(t,t.return,ue)}Yf&&(Yf=!1,_y(t));break;case 4:l=yi,yi=yc(t.stateNode.containerInfo),Rn(n,t),Cn(t),yi=l;break;case 12:Rn(n,t),Cn(t);break;case 31:Rn(n,t),Cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ic(t,l)));break;case 13:Rn(n,t),Cn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(rc=rn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ic(t,l)));break;case 22:h=t.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,P=ys,G=Gt;if(ys=P||h,Gt=G||R,Rn(n,t),Gt=G,ys=P,Cn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||R||ys||Gt||sa(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=R.stateNode;var X=R.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ue){nt(R,R.return,ue)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(ue){nt(R,R.return,ue)}}}else if(n.tag===18){if(s===null){R=n;try{var q=R.stateNode;h?l0(q,!0):l0(R.stateNode,!1)}catch(ue){nt(R,R.return,ue)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,ic(t,s))));break;case 19:Rn(n,t),Cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ic(t,l)));break;case 30:break;case 21:break;default:Rn(n,t),Cn(t)}}function Cn(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(uy(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Qf(t);nc(t,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(wn(g,""),s.flags&=-33);var T=Qf(t);nc(t,T,g);break;case 3:case 4:var R=s.stateNode.containerInfo,P=Qf(t);Kf(t,P,R);break;default:throw Error(a(161))}}catch(G){nt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function _y(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;_y(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function vs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)fy(t,n.alternate,n),n=n.sibling}function sa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:er(4,n,n.return),sa(n);break;case 1:Li(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&ly(n,n.return,s),sa(n);break;case 27:To(n.stateNode);case 26:case 5:Li(n,n.return),sa(n);break;case 22:n.memoizedState===null&&sa(n);break;case 30:sa(n);break;default:sa(n)}t=t.sibling}}function Es(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Es(h,f,s),ho(4,f);break;case 1:if(Es(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){nt(l,l.return,P)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Xg(R[h],T)}catch(P){nt(l,l.return,P)}}s&&g&64&&ay(f),fo(f,f.return);break;case 27:cy(f);case 26:case 5:Es(h,f,s),s&&l===null&&g&4&&oy(f),fo(f,f.return);break;case 12:Es(h,f,s);break;case 31:Es(h,f,s),s&&g&4&&gy(h,f);break;case 13:Es(h,f,s),s&&g&4&&py(h,f);break;case 22:f.memoizedState===null&&Es(h,f,s),fo(f,f.return);break;case 30:break;default:Es(h,f,s)}n=n.sibling}}function Xf(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Zl(s))}function $f(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Zl(t))}function _i(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)vy(t,n,s,l),n=n.sibling}function vy(t,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:_i(t,n,s,l),h&2048&&ho(9,n);break;case 1:_i(t,n,s,l);break;case 3:_i(t,n,s,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Zl(t)));break;case 12:if(h&2048){_i(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){nt(n,n.return,R)}}else _i(t,n,s,l);break;case 31:_i(t,n,s,l);break;case 13:_i(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?_i(t,n,s,l):mo(t,n):f._visibility&2?_i(t,n,s,l):(f._visibility|=2,Ga(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Xf(g,n);break;case 24:_i(t,n,s,l),h&2048&&$f(n.alternate,n);break;default:_i(t,n,s,l)}}function Ga(t,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,T=s,R=l,P=g.flags;switch(g.tag){case 0:case 11:case 15:Ga(f,g,T,R,h),ho(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?Ga(f,g,T,R,h):mo(f,g):(G._visibility|=2,Ga(f,g,T,R,h)),h&&P&2048&&Xf(g.alternate,g);break;case 24:Ga(f,g,T,R,h),h&&P&2048&&$f(g.alternate,g);break;default:Ga(f,g,T,R,h)}n=n.sibling}}function mo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,h=l.flags;switch(l.tag){case 22:mo(s,l),h&2048&&Xf(l.alternate,l);break;case 24:mo(s,l),h&2048&&$f(l.alternate,l);break;default:mo(s,l)}n=n.sibling}}var go=8192;function Fa(t,n,s){if(t.subtreeFlags&go)for(t=t.child;t!==null;)Ey(t,n,s),t=t.sibling}function Ey(t,n,s){switch(t.tag){case 26:Fa(t,n,s),t.flags&go&&t.memoizedState!==null&&c1(s,yi,t.memoizedState,t.memoizedProps);break;case 5:Fa(t,n,s);break;case 3:case 4:var l=yi;yi=yc(t.stateNode.containerInfo),Fa(t,n,s),yi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=go,go=16777216,Fa(t,n,s),go=l):Fa(t,n,s));break;default:Fa(t,n,s)}}function by(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function po(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];nn=l,Sy(l,t)}by(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ty(t),t=t.sibling}function Ty(t){switch(t.tag){case 0:case 11:case 15:po(t),t.flags&2048&&er(9,t,t.return);break;case 3:po(t);break;case 12:po(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,sc(t)):po(t);break;default:po(t)}}function sc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];nn=l,Sy(l,t)}by(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:er(8,n,n.return),sc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,sc(n));break;default:sc(n)}t=t.sibling}}function Sy(t,n){for(;nn!==null;){var s=nn;switch(s.tag){case 0:case 11:case 15:er(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Zl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,nn=l;else e:for(s=t;nn!==null;){l=nn;var h=l.sibling,f=l.return;if(dy(l),l===s){nn=null;break e}if(h!==null){h.return=f,nn=h;break e}nn=f}}}var wT={getCacheForType:function(t){var n=on(Bt),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return on(Bt).controller.signal}},xT=typeof WeakMap=="function"?WeakMap:Map,We=0,ct=null,Ve=null,je=0,tt=0,Bn=null,tr=!1,Qa=!1,Wf=!1,bs=0,Ct=0,nr=0,ra=0,Zf=0,qn=0,Ka=0,yo=null,In=null,Jf=!1,rc=0,Ay=0,ac=1/0,lc=null,ir=null,Yt=0,sr=null,Ya=null,Ts=0,ed=0,td=null,wy=null,_o=0,nd=null;function Hn(){return(We&2)!==0&&je!==0?je&-je:H.T!==null?od():ou()}function xy(){if(qn===0)if((je&536870912)===0||He){var t=bi;bi<<=1,(bi&3932160)===0&&(bi=262144),qn=t}else qn=536870912;return t=Pn.current,t!==null&&(t.flags|=32),qn}function Nn(t,n,s){(t===ct&&(tt===2||tt===9)||t.cancelPendingCommit!==null)&&(Xa(t,0),rr(t,je,qn,!1)),is(t,s),((We&2)===0||t!==ct)&&(t===ct&&((We&2)===0&&(ra|=s),Ct===4&&rr(t,je,qn,!1)),Pi(t))}function Ry(t,n,s){if((We&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||dt(t,n),h=l?IT(t,n):sd(t,n,!0),f=l;do{if(h===0){Qa&&!l&&rr(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!RT(s)){h=sd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var T=t;h=yo;var R=T.current.memoizedState.isDehydrated;if(R&&(Xa(T,g).flags|=256),g=sd(T,g,!1),g!==2){if(Wf&&!R){T.errorRecoveryDisabledLanes|=f,ra|=f,h=4;break e}f=In,In=h,f!==null&&(In===null?In=f:In.push.apply(In,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Xa(t,0),rr(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:rr(l,n,qn,!tr);break e;case 2:In=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=rc+300-rn(),10<h)){if(rr(l,n,qn,!tr),bt(l,0,!0)!==0)break e;Ts=n,l.timeoutHandle=s0(Cy.bind(null,l,s,In,lc,Jf,n,qn,ra,Ka,tr,f,"Throttled",-0,0),h);break e}Cy(l,s,In,lc,Jf,n,qn,ra,Ka,tr,f,null,-0,0)}}break}while(!0);Pi(t)}function Cy(t,n,s,l,h,f,g,T,R,P,G,X,z,q){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hi},Ey(n,f,X);var ue=(f&62914560)===f?rc-rn():(f&4194048)===f?Ay-rn():0;if(ue=h1(X,ue),ue!==null){Ts=f,t.cancelPendingCommit=ue(jy.bind(null,t,n,f,s,l,h,g,T,R,G,X,null,z,q)),rr(t,f,g,!P);return}}jy(t,n,f,s,l,h,g,T,R)}function RT(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!Un(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function rr(t,n,s,l){n&=~Zf,n&=~ra,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-qe(h),g=1<<f;l[f]=-1,h&=~g}s!==0&&Vn(t,s,n)}function oc(){return(We&6)===0?(vo(0),!1):!0}function id(){if(Ve!==null){if(tt===0)var t=Ve.return;else t=Ve,hs=$r=null,vf(t),Pa=null,eo=0,t=Ve;for(;t!==null;)ry(t.alternate,t),t=t.return;Ve=null}}function Xa(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,KT(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Ts=0,id(),ct=t,Ve=s=us(t.current,null),je=n,tt=0,Bn=null,tr=!1,Qa=dt(t,n),Wf=!1,Ka=qn=Zf=ra=nr=Ct=0,In=yo=null,Jf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-qe(l),f=1<<h;n|=t[h],l&=~f}return bs=n,Iu(),s}function Iy(t,n){Ne=null,H.H=oo,n===La||n===Uu?(n=Fg(),tt=3):n===lf?(n=Fg(),tt=4):tt=n===kf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Bn=n,Ve===null&&(Ct=1,Wu(t,Zn(n,t.current)))}function Ny(){var t=Pn.current;return t===null?!0:(je&4194048)===je?ni===null:(je&62914560)===je||(je&536870912)!==0?t===ni:!1}function Dy(){var t=H.H;return H.H=oo,t===null?oo:t}function Oy(){var t=H.A;return H.A=wT,t}function uc(){Ct=4,tr||(je&4194048)!==je&&Pn.current!==null||(Qa=!0),(nr&134217727)===0&&(ra&134217727)===0||ct===null||rr(ct,je,qn,!1)}function sd(t,n,s){var l=We;We|=2;var h=Dy(),f=Oy();(ct!==t||je!==n)&&(lc=null,Xa(t,n)),n=!1;var g=Ct;e:do try{if(tt!==0&&Ve!==null){var T=Ve,R=Bn;switch(tt){case 8:id(),g=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(n=!0);var P=tt;if(tt=0,Bn=null,$a(t,T,R,P),s&&Qa){g=0;break e}break;default:P=tt,tt=0,Bn=null,$a(t,T,R,P)}}CT(),g=Ct;break}catch(G){Iy(t,G)}while(!0);return n&&t.shellSuspendCounter++,hs=$r=null,We=l,H.H=h,H.A=f,Ve===null&&(ct=null,je=0,Iu()),g}function CT(){for(;Ve!==null;)My(Ve)}function IT(t,n){var s=We;We|=2;var l=Dy(),h=Oy();ct!==t||je!==n?(lc=null,ac=rn()+500,Xa(t,n)):Qa=dt(t,n);e:do try{if(tt!==0&&Ve!==null){n=Ve;var f=Bn;t:switch(tt){case 1:tt=0,Bn=null,$a(t,n,f,1);break;case 2:case 9:if(Hg(f)){tt=0,Bn=null,Vy(n);break}n=function(){tt!==2&&tt!==9||ct!==t||(tt=7),Pi(t)},f.then(n,n);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:Hg(f)?(tt=0,Bn=null,Vy(n)):(tt=0,Bn=null,$a(t,n,f,7));break;case 5:var g=null;switch(Ve.tag){case 26:g=Ve.memoizedState;case 5:case 27:var T=Ve;if(g?v0(g):T.stateNode.complete){tt=0,Bn=null;var R=T.sibling;if(R!==null)Ve=R;else{var P=T.return;P!==null?(Ve=P,cc(P)):Ve=null}break t}}tt=0,Bn=null,$a(t,n,f,5);break;case 6:tt=0,Bn=null,$a(t,n,f,6);break;case 8:id(),Ct=6;break e;default:throw Error(a(462))}}NT();break}catch(G){Iy(t,G)}while(!0);return hs=$r=null,H.H=l,H.A=h,We=s,Ve!==null?0:(ct=null,je=0,Iu(),Ct)}function NT(){for(;Ve!==null&&!Nl();)My(Ve)}function My(t){var n=iy(t.alternate,t,bs);t.memoizedProps=t.pendingProps,n===null?cc(t):Ve=n}function Vy(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Wp(s,n,n.pendingProps,n.type,void 0,je);break;case 11:n=Wp(s,n,n.pendingProps,n.type.render,n.ref,je);break;case 5:vf(n);default:ry(s,n),n=Ve=Og(n,bs),n=iy(s,n,bs)}t.memoizedProps=t.pendingProps,n===null?cc(t):Ve=n}function $a(t,n,s,l){hs=$r=null,vf(n),Pa=null,eo=0;var h=n.return;try{if(_T(t,h,n,s,je)){Ct=1,Wu(t,Zn(s,t.current)),Ve=null;return}}catch(f){if(h!==null)throw Ve=h,f;Ct=1,Wu(t,Zn(s,t.current)),Ve=null;return}n.flags&32768?(He||l===1?t=!0:Qa||(je&536870912)!==0?t=!1:(tr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ky(n,t)):cc(n)}function cc(t){var n=t;do{if((n.flags&32768)!==0){ky(n,tr);return}t=n.return;var s=bT(n.alternate,n,bs);if(s!==null){Ve=s;return}if(n=n.sibling,n!==null){Ve=n;return}Ve=n=t}while(n!==null);Ct===0&&(Ct=5)}function ky(t,n){do{var s=TT(t.alternate,t);if(s!==null){s.flags&=32767,Ve=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=s}while(t!==null);Ct=6,Ve=null}function jy(t,n,s,l,h,f,g,T,R){t.cancelPendingCommit=null;do hc();while(Yt!==0);if((We&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Fh,ut(t,s,f,g,T,R),t===ct&&(Ve=ct=null,je=0),Ya=n,sr=t,Ts=s,ed=f,td=h,wy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,VT(Z,function(){return By(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,h=se.p,se.p=2,g=We,We|=4;try{ST(t,n,s)}finally{We=g,se.p=h,H.T=l}}Yt=1,Uy(),Ly(),Py()}}function Uy(){if(Yt===1){Yt=0;var t=sr,n=Ya,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var l=se.p;se.p=2;var h=We;We|=4;try{yy(n,t);var f=pd,g=Sg(t.containerInfo),T=f.focusedElem,R=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&Tg(T.ownerDocument.documentElement,T)){if(R!==null&&zh(T)){var P=R.start,G=R.end;if(G===void 0&&(G=P),"selectionStart"in T)T.selectionStart=P,T.selectionEnd=Math.min(G,T.value.length);else{var X=T.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var q=z.getSelection(),ue=T.textContent.length,ye=Math.min(R.start,ue),at=R.end===void 0?ye:Math.min(R.end,ue);!q.extend&&ye>at&&(g=at,at=ye,ye=g);var j=bg(T,ye),D=bg(T,at);if(j&&D&&(q.rangeCount!==1||q.anchorNode!==j.node||q.anchorOffset!==j.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var L=X.createRange();L.setStart(j.node,j.offset),q.removeAllRanges(),ye>at?(q.addRange(L),q.extend(D.node,D.offset)):(L.setEnd(D.node,D.offset),q.addRange(L))}}}}for(X=[],q=T;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var Q=X[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Sc=!!gd,pd=gd=null}finally{We=h,se.p=l,H.T=s}}t.current=n,Yt=2}}function Ly(){if(Yt===2){Yt=0;var t=sr,n=Ya,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var l=se.p;se.p=2;var h=We;We|=4;try{fy(t,n.alternate,n)}finally{We=h,se.p=l,H.T=s}}Yt=3}}function Py(){if(Yt===4||Yt===3){Yt=0,ga();var t=sr,n=Ya,s=Ts,l=wy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Yt=5:(Yt=0,Ya=sr=null,zy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ir=null),rs(s),n=n.stateNode,ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(ht,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,h=se.p,se.p=2,H.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var T=l[g];f(T.value,{componentStack:T.stack})}}finally{H.T=n,se.p=h}}(Ts&3)!==0&&hc(),Pi(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===nd?_o++:(_o=0,nd=t):_o=0,vo(0)}}function zy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Zl(n)))}function hc(){return Uy(),Ly(),Py(),By()}function By(){if(Yt!==5)return!1;var t=sr,n=ed;ed=0;var s=rs(Ts),l=H.T,h=se.p;try{se.p=32>s?32:s,H.T=null,s=td,td=null;var f=sr,g=Ts;if(Yt=0,Ya=sr=null,Ts=0,(We&6)!==0)throw Error(a(331));var T=We;if(We|=4,Ty(f.current),vy(f,f.current,g,s),We=T,vo(0,!1),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(ht,f)}catch{}return!0}finally{se.p=h,H.T=l,zy(t,n)}}function qy(t,n,s){n=Zn(s,n),n=Vf(t.stateNode,n,2),t=Ws(t,n,2),t!==null&&(is(t,2),Pi(t))}function nt(t,n,s){if(t.tag===3)qy(t,t,s);else for(;n!==null;){if(n.tag===3){qy(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ir===null||!ir.has(l))){t=Zn(s,t),s=Hp(2),l=Ws(n,s,2),l!==null&&(Gp(s,l,n,t),is(l,2),Pi(l));break}}n=n.return}}function rd(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new xT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(Wf=!0,h.add(s),t=DT.bind(null,t,n,s),n.then(t,t))}function DT(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,ct===t&&(je&s)===s&&(Ct===4||Ct===3&&(je&62914560)===je&&300>rn()-rc?(We&2)===0&&Xa(t,0):Zf|=s,Ka===je&&(Ka=0)),Pi(t)}function Hy(t,n){n===0&&(n=Ti()),t=Kr(t,n),t!==null&&(is(t,n),Pi(t))}function OT(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Hy(t,s)}function MT(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Hy(t,s)}function VT(t,n){return Nt(t,n)}var fc=null,Wa=null,ad=!1,dc=!1,ld=!1,ar=0;function Pi(t){t!==Wa&&t.next===null&&(Wa===null?fc=Wa=t:Wa=Wa.next=t),dc=!0,ad||(ad=!0,jT())}function vo(t,n){if(!ld&&dc){ld=!0;do for(var s=!1,l=fc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-qe(42|t)+1)-1,f&=h&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Ky(l,f))}else f=je,f=bt(l,l===ct?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||dt(l,f)||(s=!0,Ky(l,f));l=l.next}while(s);ld=!1}}function kT(){Gy()}function Gy(){dc=ad=!1;var t=0;ar!==0&&QT()&&(t=ar);for(var n=rn(),s=null,l=fc;l!==null;){var h=l.next,f=Fy(l,n);f===0?(l.next=null,s===null?fc=h:s.next=h,h===null&&(Wa=s)):(s=l,(t!==0||(f&3)!==0)&&(dc=!0)),l=h}Yt!==0&&Yt!==5||vo(t),ar!==0&&(ar=0)}function Fy(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-qe(f),T=1<<g,R=h[g];R===-1?((T&s)===0||(T&l)!==0)&&(h[g]=Ut(T,n)):R<=n&&(t.expiredLanes|=T),f&=~T}if(n=ct,s=je,s=bt(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(tt===2||tt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ei(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||dt(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&Ei(l),rs(s)){case 2:case 8:s=ns;break;case 32:s=Z;break;case 268435456:s=ae;break;default:s=Z}return l=Qy.bind(null,t),s=Nt(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&Ei(l),t.callbackPriority=2,t.callbackNode=null,2}function Qy(t,n){if(Yt!==0&&Yt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(hc()&&t.callbackNode!==s)return null;var l=je;return l=bt(t,t===ct?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Ry(t,l,n),Fy(t,rn()),t.callbackNode!=null&&t.callbackNode===s?Qy.bind(null,t):null)}function Ky(t,n){if(hc())return null;Ry(t,n,!0)}function jT(){YT(function(){(We&6)!==0?Nt(kr,kT):Gy()})}function od(){if(ar===0){var t=ja;t===0&&(t=jt,jt<<=1,(jt&261888)===0&&(jt=256)),ar=t}return ar}function Yy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ba(""+t)}function Xy(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function UT(t,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=Yy((h[en]||null).action),g=l.submitter;g&&(n=(n=g[en]||null)?Yy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new Oi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ar!==0){var R=g?Xy(h,g):new FormData(h);Cf(s,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(T.preventDefault(),R=g?Xy(h,g):new FormData(h),Cf(s,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var ud=0;ud<Gh.length;ud++){var cd=Gh[ud],LT=cd.toLowerCase(),PT=cd[0].toUpperCase()+cd.slice(1);pi(LT,"on"+PT)}pi(xg,"onAnimationEnd"),pi(Rg,"onAnimationIteration"),pi(Cg,"onAnimationStart"),pi("dblclick","onDoubleClick"),pi("focusin","onFocus"),pi("focusout","onBlur"),pi(tT,"onTransitionRun"),pi(nT,"onTransitionStart"),pi(iT,"onTransitionCancel"),pi(Ig,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Eo));function $y(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var T=l[g],R=T.instance,P=T.currentTarget;if(T=T.listener,R!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=P;try{f(h)}catch(G){Cu(G)}h.currentTarget=null,f=R}else for(g=0;g<l.length;g++){if(T=l[g],R=T.instance,P=T.currentTarget,T=T.listener,R!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=P;try{f(h)}catch(G){Cu(G)}h.currentTarget=null,f=R}}}}function ke(t,n){var s=n[pa];s===void 0&&(s=n[pa]=new Set);var l=t+"__bubble";s.has(l)||(Wy(n,t,2,!1),s.add(l))}function hd(t,n,s){var l=0;n&&(l|=4),Wy(s,t,l,n)}var mc="_reactListening"+Math.random().toString(36).slice(2);function fd(t){if(!t[mc]){t[mc]=!0,Dl.forEach(function(s){s!=="selectionchange"&&(zT.has(s)||hd(s,!1,t),hd(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[mc]||(n[mc]=!0,hd("selectionchange",!1,n))}}function Wy(t,n,s,l){switch(x0(n)){case 2:var h=m1;break;case 8:h=g1;break;default:h=Rd}s=h.bind(null,n,s,t),h=void 0,!Pr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function dd(t,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var T=l.stateNode.containerInfo;if(T===h)break;if(g===4)for(g=l.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;T!==null;){if(g=wi(T),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){l=f=g;continue e}T=T.parentNode}}l=l.return}Bs(function(){var P=f,G=Yn(s),X=[];e:{var z=Ng.get(t);if(z!==void 0){var q=Oi,ue=t;switch(t){case"keypress":if(Br(s)===0)break e;case"keydown":case"keyup":q=wu;break;case"focusin":ue="focus",q=Hr;break;case"focusout":ue="blur",q=Hr;break;case"beforeblur":case"afterblur":q=Hr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Gl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case xg:case Rg:case Cg:q=_u;break;case Ig:q=S;break;case"scroll":case"scrollend":q=Hl;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=os;break;case"toggle":case"beforetoggle":q=Ie}var ye=(n&4)!==0,at=!ye&&(t==="scroll"||t==="scrollend"),j=ye?z!==null?z+"Capture":null:z;ye=[];for(var D=P,L;D!==null;){var Q=D;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||j===null||(Q=fi(D,j),Q!=null&&ye.push(bo(D,Q,L))),at)break;D=D.return}0<ye.length&&(z=new q(z,ue,null,s,G),X.push({event:z,listeners:ye}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",z&&s!==zl&&(ue=s.relatedTarget||s.fromElement)&&(wi(ue)||ue[Si]))break e;if((q||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,q?(ue=s.relatedTarget||s.toElement,q=P,ue=ue?wi(ue):null,ue!==null&&(at=c(ue),ye=ue.tag,ue!==at||ye!==5&&ye!==27&&ye!==6)&&(ue=null)):(q=null,ue=P),q!==ue)){if(ye=Gl,Q="onMouseLeave",j="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(ye=os,Q="onPointerLeave",j="onPointerEnter",D="pointer"),at=q==null?z:kn(q),L=ue==null?z:kn(ue),z=new ye(Q,D+"leave",q,s,G),z.target=at,z.relatedTarget=L,Q=null,wi(G)===P&&(ye=new ye(j,D+"enter",ue,s,G),ye.target=L,ye.relatedTarget=at,Q=ye),at=Q,q&&ue)t:{for(ye=BT,j=q,D=ue,L=0,Q=j;Q;Q=ye(Q))L++;Q=0;for(var me=D;me;me=ye(me))Q++;for(;0<L-Q;)j=ye(j),L--;for(;0<Q-L;)D=ye(D),Q--;for(;L--;){if(j===D||D!==null&&j===D.alternate){ye=j;break t}j=ye(j),D=ye(D)}ye=null}else ye=null;q!==null&&Zy(X,z,q,ye,!1),ue!==null&&at!==null&&Zy(X,at,ue,ye,!0)}}e:{if(z=P?kn(P):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var Qe=gg;else if(dg(z))if(pg)Qe=Zb;else{Qe=$b;var he=Xb}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&Ea(P.elementType)&&(Qe=gg):Qe=Wb;if(Qe&&(Qe=Qe(t,P))){mg(X,Qe,s,G);break e}he&&he(t,z,P),t==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&Ul(z,"number",z.value)}switch(he=P?kn(P):window,t){case"focusin":(dg(he)||he.contentEditable==="true")&&(Ca=he,Bh=P,Xl=null);break;case"focusout":Xl=Bh=Ca=null;break;case"mousedown":qh=!0;break;case"contextmenu":case"mouseup":case"dragend":qh=!1,Ag(X,s,G);break;case"selectionchange":if(eT)break;case"keydown":case"keyup":Ag(X,s,G)}var De;if($e)e:{switch(t){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Ra?Gr(t,s)&&(Ue="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ue="onCompositionStart");Ue&&(ki&&s.locale!=="ko"&&(Ra||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Ra&&(De=ql()):(Di=G,Bl="value"in Di?Di.value:Di.textContent,Ra=!0)),he=gc(P,Ue),0<he.length&&(Ue=new Vi(Ue,t,null,s,G),X.push({event:Ue,listeners:he}),De?Ue.data=De:(De=xa(s),De!==null&&(Ue.data=De)))),(De=$n?Fb(t,s):Qb(t,s))&&(Ue=gc(P,"onBeforeInput"),0<Ue.length&&(he=new Vi("onBeforeInput","beforeinput",null,s,G),X.push({event:he,listeners:Ue}),he.data=De)),UT(X,t,P,s,G)}$y(X,n)})}function bo(t,n,s){return{instance:t,listener:n,currentTarget:s}}function gc(t,n){for(var s=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=fi(t,s),h!=null&&l.unshift(bo(t,h,f)),h=fi(t,n),h!=null&&l.push(bo(t,h,f))),t.tag===3)return l;t=t.return}return[]}function BT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Zy(t,n,s,l,h){for(var f=n._reactName,g=[];s!==null&&s!==l;){var T=s,R=T.alternate,P=T.stateNode;if(T=T.tag,R!==null&&R===l)break;T!==5&&T!==26&&T!==27||P===null||(R=P,h?(P=fi(s,f),P!=null&&g.unshift(bo(s,P,R))):h||(P=fi(s,f),P!=null&&g.push(bo(s,P,R)))),s=s.return}g.length!==0&&t.push({event:n,listeners:g})}var qT=/\r\n?/g,HT=/\u0000|\uFFFD/g;function Jy(t){return(typeof t=="string"?t:""+t).replace(qT,`
`).replace(HT,"")}function e0(t,n){return n=Jy(n),Jy(t)===n}function rt(t,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||wn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&wn(t,""+l);break;case"className":jn(t,"class",l);break;case"tabIndex":jn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":jn(t,s,l);break;case"style":Pl(t,l,f);break;case"data":if(n!=="object"){jn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=ba(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&rt(t,n,"name",h.name,h,null),rt(t,n,"formEncType",h.formEncType,h,null),rt(t,n,"formMethod",h.formMethod,h,null),rt(t,n,"formTarget",h.formTarget,h,null)):(rt(t,n,"encType",h.encType,h,null),rt(t,n,"method",h.method,h,null),rt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=ba(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=hi);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=ba(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":ke("beforetoggle",t),ke("toggle",t),_a(t,"popover",l);break;case"xlinkActuate":zt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":zt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":zt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":zt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":zt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":zt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":zt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":zt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":zt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":_a(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=gu.get(s)||s,_a(t,s,l))}}function md(t,n,s,l,h,f){switch(s){case"style":Pl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?wn(t,l):(typeof l=="number"||typeof l=="bigint")&&wn(t,""+l);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=hi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ol.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=t[en]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):_a(t,s,l)}}}function cn(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:rt(t,n,f,g,s,null)}}h&&rt(t,n,"srcSet",s.srcSet,s,null),l&&rt(t,n,"src",s.src,s,null);return;case"input":ke("invalid",t);var T=f=g=h=null,R=null,P=null;for(l in s)if(s.hasOwnProperty(l)){var G=s[l];if(G!=null)switch(l){case"name":h=G;break;case"type":g=G;break;case"checked":R=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:rt(t,n,l,G,s,null)}}fu(t,f,T,R,P,g,h,!1);return;case"select":ke("invalid",t),l=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":l=T;default:rt(t,n,h,T,s,null)}n=f,s=g,t.multiple=!!l,n!=null?Us(t,!!l,n,!1):s!=null&&Us(t,!!l,s,!0);return;case"textarea":ke("invalid",t),f=h=l=null;for(g in s)if(s.hasOwnProperty(g)&&(T=s[g],T!=null))switch(g){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:rt(t,n,g,T,s,null)}Ls(t,l,h,f);return;case"option":for(R in s)if(s.hasOwnProperty(R)&&(l=s[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:rt(t,n,R,l,s,null)}return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(l=0;l<Eo.length;l++)ke(Eo[l],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(l=s[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:rt(t,n,P,l,s,null)}return;default:if(Ea(n)){for(G in s)s.hasOwnProperty(G)&&(l=s[G],l!==void 0&&md(t,n,G,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&rt(t,n,T,l,s,null))}function GT(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,T=null,R=null,P=null,G=null;for(q in s){var X=s[q];if(s.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=X;default:l.hasOwnProperty(q)||rt(t,n,q,null,l,X)}}for(var z in l){var q=l[z];if(X=s[z],l.hasOwnProperty(z)&&(q!=null||X!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":P=q;break;case"defaultChecked":G=q;break;case"value":g=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==X&&rt(t,n,z,q,l,X)}}va(t,g,T,R,P,G,f,h);return;case"select":q=g=T=z=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:l.hasOwnProperty(f)||rt(t,n,f,null,l,R)}for(h in l)if(f=l[h],R=s[h],l.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==R&&rt(t,n,h,f,l,R)}n=T,s=g,l=q,z!=null?Us(t,!!s,z,!1):!!l!=!!s&&(n!=null?Us(t,!!s,n,!0):Us(t,!!s,s?[]:"",!1));return;case"textarea":q=z=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:rt(t,n,T,null,l,h)}for(g in l)if(h=l[g],f=s[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&rt(t,n,g,h,l,f)}du(t,z,q);return;case"option":for(var ue in s)if(z=s[ue],s.hasOwnProperty(ue)&&z!=null&&!l.hasOwnProperty(ue))switch(ue){case"selected":t.selected=!1;break;default:rt(t,n,ue,null,l,z)}for(R in l)if(z=l[R],q=s[R],l.hasOwnProperty(R)&&z!==q&&(z!=null||q!=null))switch(R){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:rt(t,n,R,z,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in s)z=s[ye],s.hasOwnProperty(ye)&&z!=null&&!l.hasOwnProperty(ye)&&rt(t,n,ye,null,l,z);for(P in l)if(z=l[P],q=s[P],l.hasOwnProperty(P)&&z!==q&&(z!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:rt(t,n,P,z,l,q)}return;default:if(Ea(n)){for(var at in s)z=s[at],s.hasOwnProperty(at)&&z!==void 0&&!l.hasOwnProperty(at)&&md(t,n,at,void 0,l,z);for(G in l)z=l[G],q=s[G],!l.hasOwnProperty(G)||z===q||z===void 0&&q===void 0||md(t,n,G,z,l,q);return}}for(var j in s)z=s[j],s.hasOwnProperty(j)&&z!=null&&!l.hasOwnProperty(j)&&rt(t,n,j,null,l,z);for(X in l)z=l[X],q=s[X],!l.hasOwnProperty(X)||z===q||z==null&&q==null||rt(t,n,X,z,l,q)}function t0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function FT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,g=h.initiatorType,T=h.duration;if(f&&T&&t0(g)){for(g=0,T=h.responseEnd,l+=1;l<s.length;l++){var R=s[l],P=R.startTime;if(P>T)break;var G=R.transferSize,X=R.initiatorType;G&&t0(X)&&(R=R.responseEnd,g+=G*(R<T?1:(T-P)/(R-P)))}if(--l,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var gd=null,pd=null;function pc(t){return t.nodeType===9?t:t.ownerDocument}function n0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function i0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function yd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var _d=null;function QT(){var t=window.event;return t&&t.type==="popstate"?t===_d?!1:(_d=t,!0):(_d=null,!1)}var s0=typeof setTimeout=="function"?setTimeout:void 0,KT=typeof clearTimeout=="function"?clearTimeout:void 0,r0=typeof Promise=="function"?Promise:void 0,YT=typeof queueMicrotask=="function"?queueMicrotask:typeof r0<"u"?function(t){return r0.resolve(null).then(t).catch(XT)}:s0;function XT(t){setTimeout(function(){throw t})}function lr(t){return t==="head"}function a0(t,n){var s=n,l=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(h),tl(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")To(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,To(s);for(var f=s.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[Ai]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&To(t.ownerDocument.body);s=h}while(s);tl(n)}function l0(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function vd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":vd(s),ya(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function $T(t,n,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ai])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ii(t.nextSibling),t===null)break}return null}function WT(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=ii(t.nextSibling),t===null))return null;return t}function o0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ii(t.nextSibling),t===null))return null;return t}function Ed(t){return t.data==="$?"||t.data==="$~"}function bd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function ZT(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ii(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Td=null;function u0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return ii(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function c0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function h0(t,n,s){switch(n=pc(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function To(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ya(t)}var si=new Map,f0=new Set;function yc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ss=se.d;se.d={f:JT,r:e1,D:t1,C:n1,L:i1,m:s1,X:a1,S:r1,M:l1};function JT(){var t=Ss.f(),n=oc();return t||n}function e1(t){var n=Kn(t);n!==null&&n.tag===5&&n.type==="form"?Ip(n):Ss.r(t)}var Za=typeof document>"u"?null:document;function d0(t,n,s){var l=Za;if(l&&typeof n=="string"&&n){var h=An(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),f0.has(h)||(f0.add(h),t={rel:t,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),cn(n,"link",t),Pt(n),l.head.appendChild(n)))}}function t1(t){Ss.D(t),d0("dns-prefetch",t,null)}function n1(t,n){Ss.C(t,n),d0("preconnect",t,n)}function i1(t,n,s){Ss.L(t,n,s);var l=Za;if(l&&t&&n){var h='link[rel="preload"][as="'+An(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+An(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+An(s.imageSizes)+'"]')):h+='[href="'+An(t)+'"]';var f=h;switch(n){case"style":f=Ja(t);break;case"script":f=el(t)}si.has(f)||(t=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),si.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(So(f))||n==="script"&&l.querySelector(Ao(f))||(n=l.createElement("link"),cn(n,"link",t),Pt(n),l.head.appendChild(n)))}}function s1(t,n){Ss.m(t,n);var s=Za;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+An(l)+'"][href="'+An(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=el(t)}if(!si.has(f)&&(t=A({rel:"modulepreload",href:t},n),si.set(f,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ao(f)))return}l=s.createElement("link"),cn(l,"link",t),Pt(l),s.head.appendChild(l)}}}function r1(t,n,s){Ss.S(t,n,s);var l=Za;if(l&&t){var h=xi(l).hoistableStyles,f=Ja(t);n=n||"default";var g=h.get(f);if(!g){var T={loading:0,preload:null};if(g=l.querySelector(So(f)))T.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},s),(s=si.get(f))&&Sd(t,s);var R=g=l.createElement("link");Pt(R),cn(R,"link",t),R._p=new Promise(function(P,G){R.onload=P,R.onerror=G}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,_c(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:T},h.set(f,g)}}}function a1(t,n){Ss.X(t,n);var s=Za;if(s&&t){var l=xi(s).hoistableScripts,h=el(t),f=l.get(h);f||(f=s.querySelector(Ao(h)),f||(t=A({src:t,async:!0},n),(n=si.get(h))&&Ad(t,n),f=s.createElement("script"),Pt(f),cn(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function l1(t,n){Ss.M(t,n);var s=Za;if(s&&t){var l=xi(s).hoistableScripts,h=el(t),f=l.get(h);f||(f=s.querySelector(Ao(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=si.get(h))&&Ad(t,n),f=s.createElement("script"),Pt(f),cn(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function m0(t,n,s,l){var h=(h=Ce.current)?yc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ja(s.href),s=xi(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ja(s.href);var f=xi(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(So(t)))&&!f._p&&(g.instance=f,g.state.loading=5),si.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},si.set(t,s),f||o1(h,t,s,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=el(s),s=xi(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ja(t){return'href="'+An(t)+'"'}function So(t){return'link[rel="stylesheet"]['+t+"]"}function g0(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function o1(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),cn(n,"link",s),Pt(n),t.head.appendChild(n))}function el(t){return'[src="'+An(t)+'"]'}function Ao(t){return"script[async]"+t}function p0(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+An(s.href)+'"]');if(l)return n.instance=l,Pt(l),l;var h=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Pt(l),cn(l,"style",h),_c(l,s.precedence,t),n.instance=l;case"stylesheet":h=Ja(s.href);var f=t.querySelector(So(h));if(f)return n.state.loading|=4,n.instance=f,Pt(f),f;l=g0(s),(h=si.get(h))&&Sd(l,h),f=(t.ownerDocument||t).createElement("link"),Pt(f);var g=f;return g._p=new Promise(function(T,R){g.onload=T,g.onerror=R}),cn(f,"link",l),n.state.loading|=4,_c(f,s.precedence,t),n.instance=f;case"script":return f=el(s.src),(h=t.querySelector(Ao(f)))?(n.instance=h,Pt(h),h):(l=s,(h=si.get(f))&&(l=A({},s),Ad(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Pt(h),cn(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,_c(l,s.precedence,t));return n.instance}function _c(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var T=l[g];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Sd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Ad(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var vc=null;function y0(t,n,s){if(vc===null){var l=new Map,h=vc=new Map;h.set(s,l)}else h=vc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[Ai]||f[Lt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var T=l.get(g);T?T.push(f):l.set(g,[f])}}return l}function _0(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function u1(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function v0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function c1(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ja(l.href),f=n.querySelector(So(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Ec.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,Pt(f);return}f=n.ownerDocument||n,l=g0(l),(h=si.get(h))&&Sd(l,h),f=f.createElement("link"),Pt(f);var g=f;g._p=new Promise(function(T,R){g.onload=T,g.onerror=R}),cn(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Ec.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var wd=0;function h1(t,n){return t.stylesheets&&t.count===0&&Tc(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&Tc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&wd===0&&(wd=62500*FT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Tc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>wd?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Ec(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var bc=null;function Tc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,bc=new Map,n.forEach(f1,t),bc=null,Ec.call(t))}function f1(t,n){if(!(n.state.loading&4)){var s=bc.get(t);if(s)var l=s.get(null);else{s=new Map,bc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,h),s.set(g,h),this.count++,l=Ec.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var wo={$$typeof:be,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function d1(t,n,s,l,h,f,g,T,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dt(0),this.hiddenUpdates=Dt(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function E0(t,n,s,l,h,f,g,T,R,P,G,X){return t=new d1(t,n,s,g,R,P,G,X,T),n=1,f===!0&&(n|=24),f=Ln(3,null,null,n),t.current=f,f.stateNode=t,n=sf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},of(f),t}function b0(t){return t?(t=Da,t):Da}function T0(t,n,s,l,h,f){h=b0(h),l.context===null?l.context=h:l.pendingContext=h,l=$s(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Ws(t,l,n),s!==null&&(Nn(s,t,n),no(s,t,n))}function S0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function xd(t,n){S0(t,n),(t=t.alternate)&&S0(t,n)}function A0(t){if(t.tag===13||t.tag===31){var n=Kr(t,67108864);n!==null&&Nn(n,t,67108864),xd(t,67108864)}}function w0(t){if(t.tag===13||t.tag===31){var n=Hn();n=oi(n);var s=Kr(t,n);s!==null&&Nn(s,t,n),xd(t,n)}}var Sc=!0;function m1(t,n,s,l){var h=H.T;H.T=null;var f=se.p;try{se.p=2,Rd(t,n,s,l)}finally{se.p=f,H.T=h}}function g1(t,n,s,l){var h=H.T;H.T=null;var f=se.p;try{se.p=8,Rd(t,n,s,l)}finally{se.p=f,H.T=h}}function Rd(t,n,s,l){if(Sc){var h=Cd(l);if(h===null)dd(t,n,l,Ac,s),R0(t,l);else if(y1(h,t,n,s,l))l.stopPropagation();else if(R0(t,l),n&4&&-1<p1.indexOf(t)){for(;h!==null;){var f=Kn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Se(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var R=1<<31-qe(g);T.entanglements[1]|=R,g&=~R}Pi(f),(We&6)===0&&(ac=rn()+500,vo(0))}}break;case 31:case 13:T=Kr(f,2),T!==null&&Nn(T,f,2),oc(),xd(f,2)}if(f=Cd(l),f===null&&dd(t,n,l,Ac,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else dd(t,n,l,null,s)}}function Cd(t){return t=Yn(t),Id(t)}var Ac=null;function Id(t){if(Ac=null,t=wi(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=p(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ac=t,null}function x0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ts()){case kr:return 2;case ns:return 8;case Z:case re:return 32;case ae:return 268435456;default:return 32}default:return 32}}var Nd=!1,or=null,ur=null,cr=null,xo=new Map,Ro=new Map,hr=[],p1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function R0(t,n){switch(t){case"focusin":case"focusout":or=null;break;case"dragenter":case"dragleave":ur=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":xo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ro.delete(n.pointerId)}}function Co(t,n,s,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Kn(n),n!==null&&A0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function y1(t,n,s,l,h){switch(n){case"focusin":return or=Co(or,t,n,s,l,h),!0;case"dragenter":return ur=Co(ur,t,n,s,l,h),!0;case"mouseover":return cr=Co(cr,t,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return xo.set(f,Co(xo.get(f)||null,t,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Ro.set(f,Co(Ro.get(f)||null,t,n,s,l,h)),!0}return!1}function C0(t){var n=wi(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,ui(t.priority,function(){w0(s)});return}}else if(n===31){if(n=p(s),n!==null){t.blockedOn=n,ui(t.priority,function(){w0(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Cd(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);zl=l,s.target.dispatchEvent(l),zl=null}else return n=Kn(s),n!==null&&A0(n),t.blockedOn=s,!1;n.shift()}return!0}function I0(t,n,s){wc(t)&&s.delete(n)}function _1(){Nd=!1,or!==null&&wc(or)&&(or=null),ur!==null&&wc(ur)&&(ur=null),cr!==null&&wc(cr)&&(cr=null),xo.forEach(I0),Ro.forEach(I0)}function xc(t,n){t.blockedOn===n&&(t.blockedOn=null,Nd||(Nd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,_1)))}var Rc=null;function N0(t){Rc!==t&&(Rc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Rc===t&&(Rc=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Id(l||s)===null)continue;break}var f=Kn(s);f!==null&&(t.splice(n,3),n-=3,Cf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function tl(t){function n(R){return xc(R,t)}or!==null&&xc(or,t),ur!==null&&xc(ur,t),cr!==null&&xc(cr,t),xo.forEach(n),Ro.forEach(n);for(var s=0;s<hr.length;s++){var l=hr[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<hr.length&&(s=hr[0],s.blockedOn===null);)C0(s),s.blockedOn===null&&hr.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],g=h[en]||null;if(typeof f=="function")g||N0(s);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[en]||null)T=g.formAction;else if(Id(h)!==null)continue}else T=g.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),N0(s)}}}function D0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Dd(t){this._internalRoot=t}Cc.prototype.render=Dd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=Hn();T0(s,l,t,n,null,null)},Cc.prototype.unmount=Dd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;T0(t.current,2,null,t,null,null),oc(),n[Si]=null}};function Cc(t){this._internalRoot=t}Cc.prototype.unstable_scheduleHydration=function(t){if(t){var n=ou();t={blockedOn:null,target:t,priority:n};for(var s=0;s<hr.length&&n!==0&&n<hr[s].priority;s++);hr.splice(s,0,t),s===0&&C0(t)}};var O0=e.version;if(O0!=="19.2.0")throw Error(a(527,O0,"19.2.0"));se.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var v1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{ht=Ic.inject(v1),ft=Ic}catch{}}return No.createRoot=function(t,n){if(!o(t))throw Error(a(299));var s=!1,l="",h=Pp,f=zp,g=Bp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=E0(t,1,!1,null,null,s,l,null,h,f,g,D0),t[Si]=n.current,fd(t),new Dd(n)},No.hydrateRoot=function(t,n,s){if(!o(t))throw Error(a(299));var l=!1,h="",f=Pp,g=zp,T=Bp,R=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=E0(t,1,!0,n,s??null,l,h,R,f,g,T,D0),n.context=b0(null),s=n.current,l=Hn(),l=oi(l),h=$s(l),h.callback=null,Ws(s,h,l),s=l,n.current.lanes=s,is(n,s),Pi(n),t[Si]=n.current,fd(t),new Cc(n)},No.version="19.2.0",No}var q0;function D1(){if(q0)return Vd.exports;q0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Vd.exports=N1(),Vd.exports}var O1=D1();const M1=()=>{};var H0={};const Ev=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},V1=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],p=r[i++],y=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},bv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,p=d?r[o+1]:0,y=o+2<r.length,_=y?r[o+2]:0,E=c>>2,A=(c&3)<<4|p>>4;let M=(p&15)<<2|_>>6,F=_&63;y||(F=64,d||(M=64)),a.push(i[E],i[A],i[M],i[F])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Ev(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):V1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],p=o<r.length?i[r.charAt(o)]:0;++o;const _=o<r.length?i[r.charAt(o)]:64;++o;const A=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||p==null||_==null||A==null)throw new k1;const M=c<<2|p>>4;if(a.push(M),_!==64){const F=p<<4&240|_>>2;if(a.push(F),A!==64){const J=_<<6&192|A;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class k1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const j1=function(r){const e=Ev(r);return bv.encodeByteArray(e,!0)},$c=function(r){return j1(r).replace(/\./g,"")},Tv=function(r){try{return bv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function U1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const L1=()=>U1().__FIREBASE_DEFAULTS__,P1=()=>{if(typeof process>"u"||typeof H0>"u")return;const r=H0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},z1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Tv(r[1]);return e&&JSON.parse(e)},ph=()=>{try{return M1()||L1()||P1()||z1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Sv=r=>ph()?.emulatorHosts?.[r],B1=r=>{const e=Sv(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Av=()=>ph()?.config,wv=r=>ph()?.[`_${r}`];class q1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function Sl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xv(r){return(await fetch(r,{credentials:"include"})).ok}function H1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[$c(JSON.stringify(i)),$c(JSON.stringify(d)),""].join(".")}const ko={};function G1(){const r={prod:[],emulator:[]};for(const e of Object.keys(ko))ko[e]?r.emulator.push(e):r.prod.push(e);return r}function F1(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let G0=!1;function Rv(r,e){if(typeof window>"u"||typeof document>"u"||!Sl(window.location.host)||ko[r]===e||ko[r]||G0)return;ko[r]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=G1().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function y(M,F){M.setAttribute("width","24"),M.setAttribute("id",F),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{G0=!0,d()},M}function E(M,F){M.setAttribute("id",F),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function A(){const M=F1(a),F=i("text"),J=document.getElementById(F)||document.createElement("span"),ne=i("learnmore"),ee=document.getElementById(ne)||document.createElement("a"),_e=i("preprendIcon"),Re=document.getElementById(_e)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const be=M.element;p(be),E(ee,ne);const ge=_();y(Re,_e),be.append(Re,J,ee,ge),document.body.appendChild(be)}c?(J.innerText="Preview backend disconnected.",Re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Q1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function K1(){const r=ph()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Y1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function X1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function $1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function W1(){const r=En();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Z1(){return!K1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function J1(){try{return typeof indexedDB=="object"}catch{return!1}}function eS(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const tS="FirebaseError";class Ms extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=tS,Object.setPrototypeOf(this,Ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xo.prototype.create)}}class Xo{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?nS(c,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Ms(o,p,a)}}function nS(r,e){return r.replace(iS,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const iS=/\{\$([^}]+)}/g;function sS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ar(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=e[o];if(F0(c)&&F0(d)){if(!Ar(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function F0(r){return r!==null&&typeof r=="object"}function $o(r){const e=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function rS(r,e){const i=new aS(r,e);return i.subscribe.bind(i)}class aS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");lS(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Ld),o.error===void 0&&(o.error=Ld),o.complete===void 0&&(o.complete=Ld);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lS(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function Ld(){}function Sn(r){return r&&r._delegate?r._delegate:r}class ua{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const aa="[DEFAULT]";class oS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new q1;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cS(e))try{this.getOrInitializeService({instanceIdentifier:aa})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=aa){return this.instances.has(e)}getOptions(e=aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:uS(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=aa){return this.component?this.component.multipleInstances?e:aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uS(r){return r===aa?void 0:r}function cS(r){return r.instantiationMode==="EAGER"}class hS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new oS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Le;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Le||(Le={}));const fS={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},dS=Le.INFO,mS={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},gS=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=mS[e];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xm{constructor(e){this.name=e,this._logLevel=dS,this._logHandler=gS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const pS=(r,e)=>e.some(i=>r instanceof i);let Q0,K0;function yS(){return Q0||(Q0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _S(){return K0||(K0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Cv=new WeakMap,Jd=new WeakMap,Iv=new WeakMap,Pd=new WeakMap,Rm=new WeakMap;function vS(r){const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(vr(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Cv.set(i,r)}).catch(()=>{}),Rm.set(e,r),e}function ES(r){if(Jd.has(r))return;const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Jd.set(r,e)}let em={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Jd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Iv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return vr(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function bS(r){em=r(em)}function TS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(zd(this),e,...i);return Iv.set(a,e.sort?e.sort():[e]),vr(a)}:_S().includes(r)?function(...e){return r.apply(zd(this),e),vr(Cv.get(this))}:function(...e){return vr(r.apply(zd(this),e))}}function SS(r){return typeof r=="function"?TS(r):(r instanceof IDBTransaction&&ES(r),pS(r,yS())?new Proxy(r,em):r)}function vr(r){if(r instanceof IDBRequest)return vS(r);if(Pd.has(r))return Pd.get(r);const e=SS(r);return e!==r&&(Pd.set(r,e),Rm.set(e,r)),e}const zd=r=>Rm.get(r);function AS(r,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,e),p=vr(d);return a&&d.addEventListener("upgradeneeded",y=>{a(vr(d.result),y.oldVersion,y.newVersion,vr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const wS=["get","getKey","getAll","getAllKeys","count"],xS=["put","add","delete","clear"],Bd=new Map;function Y0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Bd.get(e))return Bd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=xS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||wS.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,o?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),o&&y.done]))[0]};return Bd.set(e,c),c}bS(r=>({...r,get:(e,i,a)=>Y0(e,i)||r.get(e,i,a),has:(e,i)=>!!Y0(e,i)||r.has(e,i)}));class RS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(CS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function CS(r){return r.getComponent()?.type==="VERSION"}const tm="@firebase/app",X0="0.14.6";const Rs=new xm("@firebase/app"),IS="@firebase/app-compat",NS="@firebase/analytics-compat",DS="@firebase/analytics",OS="@firebase/app-check-compat",MS="@firebase/app-check",VS="@firebase/auth",kS="@firebase/auth-compat",jS="@firebase/database",US="@firebase/data-connect",LS="@firebase/database-compat",PS="@firebase/functions",zS="@firebase/functions-compat",BS="@firebase/installations",qS="@firebase/installations-compat",HS="@firebase/messaging",GS="@firebase/messaging-compat",FS="@firebase/performance",QS="@firebase/performance-compat",KS="@firebase/remote-config",YS="@firebase/remote-config-compat",XS="@firebase/storage",$S="@firebase/storage-compat",WS="@firebase/firestore",ZS="@firebase/ai",JS="@firebase/firestore-compat",eA="firebase",tA="12.6.0";const nm="[DEFAULT]",nA={[tm]:"fire-core",[IS]:"fire-core-compat",[DS]:"fire-analytics",[NS]:"fire-analytics-compat",[MS]:"fire-app-check",[OS]:"fire-app-check-compat",[VS]:"fire-auth",[kS]:"fire-auth-compat",[jS]:"fire-rtdb",[US]:"fire-data-connect",[LS]:"fire-rtdb-compat",[PS]:"fire-fn",[zS]:"fire-fn-compat",[BS]:"fire-iid",[qS]:"fire-iid-compat",[HS]:"fire-fcm",[GS]:"fire-fcm-compat",[FS]:"fire-perf",[QS]:"fire-perf-compat",[KS]:"fire-rc",[YS]:"fire-rc-compat",[XS]:"fire-gcs",[$S]:"fire-gcs-compat",[WS]:"fire-fst",[JS]:"fire-fst-compat",[ZS]:"fire-vertex","fire-js":"fire-js",[eA]:"fire-js-all"};const Wc=new Map,iA=new Map,im=new Map;function $0(r,e){try{r.container.addComponent(e)}catch(i){Rs.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function ml(r){const e=r.name;if(im.has(e))return Rs.debug(`There were multiple attempts to register component ${e}.`),!1;im.set(e,r);for(const i of Wc.values())$0(i,r);for(const i of iA.values())$0(i,r);return!0}function Cm(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function ri(r){return r==null?!1:r.settings!==void 0}const sA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Er=new Xo("app","Firebase",sA);class rA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Er.create("app-deleted",{appName:this._name})}}const Al=tA;function Nv(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:nm,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Er.create("bad-app-name",{appName:String(o)});if(i||(i=Av()),!i)throw Er.create("no-options");const c=Wc.get(o);if(c){if(Ar(i,c.options)&&Ar(a,c.config))return c;throw Er.create("duplicate-app",{appName:o})}const d=new hS(o);for(const y of im.values())d.addComponent(y);const p=new rA(i,a,d);return Wc.set(o,p),p}function Dv(r=nm){const e=Wc.get(r);if(!e&&r===nm&&Av())return Nv();if(!e)throw Er.create("no-app",{appName:r});return e}function br(r,e,i){let a=nA[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rs.warn(d.join(" "));return}ml(new ua(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const aA="firebase-heartbeat-database",lA=1,Bo="firebase-heartbeat-store";let qd=null;function Ov(){return qd||(qd=AS(aA,lA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Bo)}catch(i){console.warn(i)}}}}).catch(r=>{throw Er.create("idb-open",{originalErrorMessage:r.message})})),qd}async function oA(r){try{const i=(await Ov()).transaction(Bo),a=await i.objectStore(Bo).get(Mv(r));return await i.done,a}catch(e){if(e instanceof Ms)Rs.warn(e.message);else{const i=Er.create("idb-get",{originalErrorMessage:e?.message});Rs.warn(i.message)}}}async function W0(r,e){try{const a=(await Ov()).transaction(Bo,"readwrite");await a.objectStore(Bo).put(e,Mv(r)),await a.done}catch(i){if(i instanceof Ms)Rs.warn(i.message);else{const a=Er.create("idb-set",{originalErrorMessage:i?.message});Rs.warn(a.message)}}}function Mv(r){return`${r.name}!${r.options.appId}`}const uA=1024,cA=30;class hA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new dA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Z0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>cA){const o=mA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Rs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Z0(),{heartbeatsToSend:i,unsentEntries:a}=fA(this._heartbeatsCache.heartbeats),o=$c(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Rs.warn(e),""}}}function Z0(){return new Date().toISOString().substring(0,10)}function fA(r,e=uA){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),J0(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),J0(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class dA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return J1()?eS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await oA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return W0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return W0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function J0(r){return $c(JSON.stringify({version:2,heartbeats:r})).length}function mA(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}function gA(r){ml(new ua("platform-logger",e=>new RS(e),"PRIVATE")),ml(new ua("heartbeat",e=>new hA(e),"PRIVATE")),br(tm,X0,r),br(tm,X0,"esm2020"),br("fire-js","")}gA("");var pA="firebase",yA="12.6.0";br(pA,yA,"app");function Vv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _A=Vv,kv=new Xo("auth","Firebase",Vv());const Zc=new xm("@firebase/auth");function vA(r,...e){Zc.logLevel<=Le.WARN&&Zc.warn(`Auth (${Al}): ${r}`,...e)}function zc(r,...e){Zc.logLevel<=Le.ERROR&&Zc.error(`Auth (${Al}): ${r}`,...e)}function Cs(r,...e){throw Im(r,...e)}function Bi(r,...e){return Im(r,...e)}function jv(r,e,i){const a={..._A(),[e]:i};return new Xo("auth","Firebase",a).create(e,{appName:r.name})}function xs(r){return jv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Im(r,...e){if(typeof r!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return kv.create(r,...e)}function Te(r,e,...i){if(!r)throw Im(e,...i)}function As(r){const e="INTERNAL ASSERTION FAILED: "+r;throw zc(e),new Error(e)}function Is(r,e){r||As(e)}function sm(){return typeof self<"u"&&self.location?.href||""}function EA(){return e_()==="http:"||e_()==="https:"}function e_(){return typeof self<"u"&&self.location?.protocol||null}function bA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(EA()||X1()||"connection"in navigator)?navigator.onLine:!0}function TA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Wo{constructor(e,i){this.shortDelay=e,this.longDelay=i,Is(i>e,"Short delay should be less than long delay!"),this.isMobile=Q1()||$1()}get(){return bA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Nm(r,e){Is(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Uv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;As("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;As("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;As("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const SA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const AA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wA=new Wo(3e4,6e4);function Zo(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function wl(r,e,i,a,o={}){return Lv(r,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const p=$o({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:e,headers:y,...c};return Y1()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&Sl(r.emulatorConfig.host)&&(_.credentials="include"),Uv.fetch()(await Pv(r,r.config.apiHost,i,p),_)})}async function Lv(r,e,i){r._canInitEmulator=!1;const a={...SA,...e};try{const o=new xA(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Nc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Nc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw Nc(r,"user-disabled",d);const E=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw jv(r,E,_);Cs(r,E)}}catch(o){if(o instanceof Ms)throw o;Cs(r,"network-request-failed",{message:String(o)})}}async function Dm(r,e,i,a,o={}){const c=await wl(r,e,i,a,o);return"mfaPendingCredential"in c&&Cs(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function Pv(r,e,i,a){const o=`${e}${i}?${a}`,c=r,d=c.config.emulator?Nm(r.config,o):`${r.config.apiScheme}://${o}`;return AA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class xA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Bi(this.auth,"network-request-failed")),wA.get())})}}function Nc(r,e,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Bi(r,e,a);return o.customData._tokenResponse=i,o}async function RA(r,e){return wl(r,"POST","/v1/accounts:delete",e)}async function Jc(r,e){return wl(r,"POST","/v1/accounts:lookup",e)}function jo(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function CA(r,e=!1){const i=Sn(r),a=await i.getIdToken(e),o=Om(a);Te(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:jo(Hd(o.auth_time)),issuedAtTime:jo(Hd(o.iat)),expirationTime:jo(Hd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Hd(r){return Number(r)*1e3}function Om(r){const[e,i,a]=r.split(".");if(e===void 0||i===void 0||a===void 0)return zc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Tv(i);return o?JSON.parse(o):(zc("Failed to decode base64 JWT payload"),null)}catch(o){return zc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function t_(r){const e=Om(r);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function qo(r,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Ms&&IA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function IA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class NA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class rm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=jo(this.lastLoginAt),this.creationTime=jo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function eh(r){const e=r.auth,i=await r.getIdToken(),a=await qo(r,Jc(e,{idToken:i}));Te(a?.users.length,e,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?zv(o.providerUserInfo):[],d=OA(r.providerData,c),p=r.isAnonymous,y=!(r.email&&o.passwordHash)&&!d?.length,_=p?y:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new rm(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(r,E)}async function DA(r){const e=Sn(r);await eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function OA(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function zv(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function MA(r,e){const i=await Lv(r,{},async()=>{const a=$o({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await Pv(r,o,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return r.emulatorConfig&&Sl(r.emulatorConfig.host)&&(y.credentials="include"),Uv.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function VA(r,e){return wl(r,"POST","/v2/accounts:revokeToken",Zo(r,e))}class ul{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):t_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const i=t_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await MA(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new ul;return a&&(Te(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(Te(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Te(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ul,this.toJSON())}_performRefresh(){return As("not implemented")}}function dr(r,e){Te(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class vi{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new NA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new rm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await qo(this,this.stsTokenManager.getToken(this.auth,e));return Te(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return CA(this,e)}reload(){return DA(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new vi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await eh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ri(this.auth.app))return Promise.reject(xs(this.auth));const e=await this.getIdToken();return await qo(this,RA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:A,emailVerified:M,isAnonymous:F,providerData:J,stsTokenManager:ne}=i;Te(A&&ne,e,"internal-error");const ee=ul.fromJSON(this.name,ne);Te(typeof A=="string",e,"internal-error"),dr(a,e.name),dr(o,e.name),Te(typeof M=="boolean",e,"internal-error"),Te(typeof F=="boolean",e,"internal-error"),dr(c,e.name),dr(d,e.name),dr(p,e.name),dr(y,e.name),dr(_,e.name),dr(E,e.name);const _e=new vi({uid:A,auth:e,email:o,emailVerified:M,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:ee,createdAt:_,lastLoginAt:E});return J&&Array.isArray(J)&&(_e.providerData=J.map(Re=>({...Re}))),y&&(_e._redirectEventId=y),_e}static async _fromIdTokenResponse(e,i,a=!1){const o=new ul;o.updateFromServerResponse(i);const c=new vi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await eh(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];Te(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?zv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new ul;p.updateFromIdToken(a);const y=new vi({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new rm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const n_=new Map;function ws(r){Is(r instanceof Function,"Expected a class definition");let e=n_.get(r);return e?(Is(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,n_.set(r,e),e)}class Bv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Bv.type="NONE";const i_=Bv;function Bc(r,e,i){return`firebase:${r}:${e}:${i}`}class cl{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Bc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Bc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Jc(this.auth,{idToken:e}).catch(()=>{});return i?vi._fromGetAccountInfoResponse(this.auth,i,e):null}return vi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new cl(ws(i_),e,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||ws(i_);const d=Bc(a,e.config.apiKey,e.name);let p=null;for(const _ of i)try{const E=await _._get(d);if(E){let A;if(typeof E=="string"){const M=await Jc(e,{idToken:E}).catch(()=>{});if(!M)break;A=await vi._fromGetAccountInfoResponse(e,M,E)}else A=vi._fromJSON(e,E);_!==c&&(p=A),c=_;break}}catch{}const y=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new cl(c,e,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new cl(c,e,a))}}function s_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Fv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Kv(e))return"Blackberry";if(Yv(e))return"Webos";if(Hv(e))return"Safari";if((e.includes("chrome/")||Gv(e))&&!e.includes("edge/"))return"Chrome";if(Qv(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function qv(r=En()){return/firefox\//i.test(r)}function Hv(r=En()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Gv(r=En()){return/crios\//i.test(r)}function Fv(r=En()){return/iemobile/i.test(r)}function Qv(r=En()){return/android/i.test(r)}function Kv(r=En()){return/blackberry/i.test(r)}function Yv(r=En()){return/webos/i.test(r)}function Mm(r=En()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function kA(r=En()){return Mm(r)&&!!window.navigator?.standalone}function jA(){return W1()&&document.documentMode===10}function Xv(r=En()){return Mm(r)||Qv(r)||Yv(r)||Kv(r)||/windows phone/i.test(r)||Fv(r)}function $v(r,e=[]){let i;switch(r){case"Browser":i=s_(En());break;case"Worker":i=`${s_(En())}-${r}`;break;default:i=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Al}/${a}`}class UA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,p)=>{try{const y=e(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function LA(r,e={}){return wl(r,"GET","/v2/passwordPolicy",Zo(r,e))}const PA=6;class zA{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??PA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class BA{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new r_(this),this.idTokenSubscription=new r_(this),this.beforeStateQueue=new UA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ws(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await cl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Jc(this,{idToken:e}),a=await vi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ri(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await eh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ri(this.app))return Promise.reject(xs(this));const i=e?Sn(e):null;return i&&Te(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ri(this.app)?Promise.reject(xs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ri(this.app)?Promise.reject(xs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ws(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await LA(this),i=new zA(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xo("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await VA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ws(e)||this._popupRedirectResolver;Te(i,this,"argument-error"),this.redirectPersistenceManager=await cl.create(this,[ws(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,a,o);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$v(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&vA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Jo(r){return Sn(r)}class r_{constructor(e){this.auth=e,this.observer=null,this.addObserver=rS(i=>this.observer=i)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Vm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qA(r){Vm=r}function HA(r){return Vm.loadJS(r)}function GA(){return Vm.gapiScript}function FA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function QA(r,e){const i=Cm(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Ar(c,e??{}))return o;Cs(o,"already-initialized")}return i.initialize({options:e})}function KA(r,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ws);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function YA(r,e,i){const a=Jo(r);Te(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=Wv(e),{host:d,port:p}=XA(e),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},E=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Te(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Te(Ar(_,a.config.emulator)&&Ar(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,Sl(d)?(xv(`${c}//${d}${y}`),Rv("Auth",!0)):$A()}function Wv(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function XA(r){const e=Wv(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:a_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:a_(d)}}}function a_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function $A(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Zv{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return As("not implemented")}_getIdTokenResponse(e){return As("not implemented")}_linkToIdToken(e,i){return As("not implemented")}_getReauthenticationResolver(e){return As("not implemented")}}async function hl(r,e){return Dm(r,"POST","/v1/accounts:signInWithIdp",Zo(r,e))}const WA="http://localhost";class ca extends Zv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ca(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Cs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new ca(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return hl(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,hl(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,hl(e,i)}buildRequest(){const e={requestUri:WA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=$o(i)}return e}}class Jv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class eu extends Jv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class mr extends eu{constructor(){super("facebook.com")}static credential(e){return ca._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mr.credential(e.oauthAccessToken)}catch{return null}}}mr.FACEBOOK_SIGN_IN_METHOD="facebook.com";mr.PROVIDER_ID="facebook.com";class gr extends eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ca._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return gr.credential(i,a)}catch{return null}}}gr.GOOGLE_SIGN_IN_METHOD="google.com";gr.PROVIDER_ID="google.com";class pr extends eu{constructor(){super("github.com")}static credential(e){return ca._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pr.credential(e.oauthAccessToken)}catch{return null}}}pr.GITHUB_SIGN_IN_METHOD="github.com";pr.PROVIDER_ID="github.com";class yr extends eu{constructor(){super("twitter.com")}static credential(e,i){return ca._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return yr.credential(i,a)}catch{return null}}}yr.TWITTER_SIGN_IN_METHOD="twitter.com";yr.PROVIDER_ID="twitter.com";async function ZA(r,e){return Dm(r,"POST","/v1/accounts:signUp",Zo(r,e))}class Ns{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await vi._fromIdTokenResponse(e,a,o),d=l_(a);return new Ns({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=l_(a);return new Ns({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function l_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function JA(r){if(ri(r.app))return Promise.reject(xs(r));const e=Jo(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Ns({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await ZA(e,{returnSecureToken:!0}),a=await Ns._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class th extends Ms{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,th.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new th(e,i,a,o)}}function eE(r,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?th._fromErrorAndOperation(r,c,e,a):c})}async function ew(r,e,i=!1){const a=await qo(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return Ns._forOperation(r,"link",a)}async function tw(r,e,i=!1){const{auth:a}=r;if(ri(a.app))return Promise.reject(xs(a));const o="reauthenticate";try{const c=await qo(r,eE(a,o,e,r),i);Te(c.idToken,a,"internal-error");const d=Om(c.idToken);Te(d,a,"internal-error");const{sub:p}=d;return Te(r.uid===p,a,"user-mismatch"),Ns._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Cs(a,"user-mismatch"),c}}async function nw(r,e,i=!1){if(ri(r.app))return Promise.reject(xs(r));const a="signIn",o=await eE(r,a,e),c=await Ns._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}async function iw(r,e){return Dm(r,"POST","/v1/accounts:signInWithCustomToken",Zo(r,e))}async function sw(r,e){if(ri(r.app))return Promise.reject(xs(r));const i=Jo(r),a=await iw(i,{token:e,returnSecureToken:!0}),o=await Ns._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function rw(r,e,i,a){return Sn(r).onIdTokenChanged(e,i,a)}function aw(r,e,i){return Sn(r).beforeAuthStateChanged(e,i)}function lw(r,e,i,a){return Sn(r).onAuthStateChanged(e,i,a)}const nh="__sak";class tE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(nh,"1"),this.storage.removeItem(nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const ow=1e3,uw=10;class nE extends tE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Xv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);jA()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,uw):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},ow)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}nE.type="LOCAL";const cw=nE;class iE extends tE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}iE.type="SESSION";const sE=iE;function hw(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new yh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await hw(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yh.receivers=[];function km(r="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return r+i}class fw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=km("",20);o.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(A){const M=A;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(E),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function qi(){return window}function dw(r){qi().location.href=r}function rE(){return typeof qi().WorkerGlobalScope<"u"&&typeof qi().importScripts=="function"}async function mw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gw(){return navigator?.serviceWorker?.controller||null}function pw(){return rE()?self:null}const aE="firebaseLocalStorageDb",yw=1,ih="firebaseLocalStorage",lE="fbase_key";class tu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function _h(r,e){return r.transaction([ih],e?"readwrite":"readonly").objectStore(ih)}function _w(){const r=indexedDB.deleteDatabase(aE);return new tu(r).toPromise()}function am(){const r=indexedDB.open(aE,yw);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(ih,{keyPath:lE})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(ih)?e(a):(a.close(),await _w(),e(await am()))})})}async function o_(r,e,i){const a=_h(r,!0).put({[lE]:e,value:i});return new tu(a).toPromise()}async function vw(r,e){const i=_h(r,!1).get(e),a=await new tu(i).toPromise();return a===void 0?null:a.value}function u_(r,e){const i=_h(r,!0).delete(e);return new tu(i).toPromise()}const Ew=800,bw=3;class oE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await am(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>bw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yh._getInstance(pw()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await mw(),!this.activeServiceWorker)return;this.sender=new fw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await am();return await o_(e,nh,"1"),await u_(e,nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>o_(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>vw(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>u_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=_h(o,!1).getAll();return new tu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ew)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oE.type="LOCAL";const Tw=oE;new Wo(3e4,6e4);function Sw(r,e){return e?ws(e):(Te(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class jm extends Zv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return hl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return hl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function Aw(r){return nw(r.auth,new jm(r),r.bypassAuthState)}function ww(r){const{auth:e,user:i}=r;return Te(i,e,"internal-error"),tw(i,new jm(r),r.bypassAuthState)}async function xw(r){const{auth:e,user:i}=r;return Te(i,e,"internal-error"),ew(i,new jm(r),r.bypassAuthState)}class uE{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Aw;case"linkViaPopup":case"linkViaRedirect":return xw;case"reauthViaPopup":case"reauthViaRedirect":return ww;default:Cs(this.auth,"internal-error")}}resolve(e){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Rw=new Wo(2e3,1e4);class ol extends uE{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,ol.currentPopupAction&&ol.currentPopupAction.cancel(),ol.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Is(this.filter.length===1,"Popup operations only handle one event");const e=km();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ol.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Rw.get())};e()}}ol.currentPopupAction=null;const Cw="pendingRedirect",qc=new Map;class Iw extends uE{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=qc.get(this.auth._key());if(!e){try{const a=await Nw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}qc.set(this.auth._key(),e)}return this.bypassAuthState||qc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Nw(r,e){const i=Mw(e),a=Ow(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function Dw(r,e){qc.set(r._key(),e)}function Ow(r){return ws(r._redirectPersistence)}function Mw(r){return Bc(Cw,r.config.apiKey,r.name)}async function Vw(r,e,i=!1){if(ri(r.app))return Promise.reject(xs(r));const a=Jo(r),o=Sw(a,e),d=await new Iw(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const kw=600*1e3;class jw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Uw(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!cE(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Bi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kw&&this.cachedEventUids.clear(),this.cachedEventUids.has(c_(e))}saveEventToCache(e){this.cachedEventUids.add(c_(e)),this.lastProcessedEventTime=Date.now()}}function c_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function cE({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function Uw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cE(r);default:return!1}}async function Lw(r,e={}){return wl(r,"GET","/v1/projects",e)}const Pw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zw=/^https?/;async function Bw(r){if(r.config.emulator)return;const{authorizedDomains:e}=await Lw(r);for(const i of e)try{if(qw(i))return}catch{}Cs(r,"unauthorized-domain")}function qw(r){const e=sm(),{protocol:i,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!zw.test(i))return!1;if(Pw.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const Hw=new Wo(3e4,6e4);function h_(){const r=qi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Gw(r){return new Promise((e,i)=>{function a(){h_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{h_(),i(Bi(r,"network-request-failed"))},timeout:Hw.get()})}if(qi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(qi().gapi?.load)a();else{const o=FA("iframefcb");return qi()[o]=()=>{gapi.load?a():i(Bi(r,"network-request-failed"))},HA(`${GA()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Hc=null,e})}let Hc=null;function Fw(r){return Hc=Hc||Gw(r),Hc}const Qw=new Wo(5e3,15e3),Kw="__/auth/iframe",Yw="emulator/auth/iframe",Xw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$w=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ww(r){const e=r.config;Te(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?Nm(e,Yw):`https://${r.config.authDomain}/${Kw}`,a={apiKey:e.apiKey,appName:r.name,v:Al},o=$w.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${$o(a).slice(1)}`}async function Zw(r){const e=await Fw(r),i=qi().gapi;return Te(i,r,"internal-error"),e.open({where:document.body,url:Ww(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Xw,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Bi(r,"network-request-failed"),p=qi().setTimeout(()=>{c(d)},Qw.get());function y(){qi().clearTimeout(p),o(a)}a.ping(y).then(y,()=>{c(d)})}))}const Jw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ex=500,tx=600,nx="_blank",ix="http://localhost";class f_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sx(r,e,i,a=ex,o=tx){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...Jw,width:a.toString(),height:o.toString(),top:c,left:d},_=En().toLowerCase();i&&(p=Gv(_)?nx:i),qv(_)&&(e=e||ix,y.scrollbars="yes");const E=Object.entries(y).reduce((M,[F,J])=>`${M}${F}=${J},`,"");if(kA(_)&&p!=="_self")return rx(e||"",p),new f_(null);const A=window.open(e||"",p,E);Te(A,r,"popup-blocked");try{A.focus()}catch{}return new f_(A)}function rx(r,e){const i=document.createElement("a");i.href=r,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const ax="__/auth/handler",lx="emulator/auth/handler",ox=encodeURIComponent("fac");async function d_(r,e,i,a,o,c){Te(r.config.authDomain,r,"auth-domain-config-required"),Te(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:Al,eventId:o};if(e instanceof Jv){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",sS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))d[E]=A}if(e instanceof eu){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(d.scopes=E.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const y=await r._getAppCheckToken(),_=y?`#${ox}=${encodeURIComponent(y)}`:"";return`${ux(r)}?${$o(p).slice(1)}${_}`}function ux({config:r}){return r.emulator?Nm(r,lx):`https://${r.authDomain}/${ax}`}const Gd="webStorageSupport";class cx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sE,this._completeRedirectFn=Vw,this._overrideRedirectResult=Dw}async _openPopup(e,i,a,o){Is(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await d_(e,i,a,sm(),o);return sx(e,c,km())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await d_(e,i,a,sm(),o);return dw(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Is(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await Zw(e),a=new jw(e);return i.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Gd,{type:Gd},o=>{const c=o?.[0]?.[Gd];c!==void 0&&i(!!c),Cs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Bw(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return Xv()||Hv()||Mm()}}const hx=cx;var m_="@firebase/auth",g_="1.11.1";class fx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function dx(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mx(r){ml(new ua("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;Te(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$v(r)},_=new BA(a,o,c,y);return KA(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),ml(new ua("auth-internal",e=>{const i=Jo(e.getProvider("auth").getImmediate());return(a=>new fx(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),br(m_,g_,dx(r)),br(m_,g_,"esm2020")}const gx=300,px=wv("authIdTokenMaxAge")||gx;let p_=null;const yx=r=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>px)return;const o=i?.token;p_!==o&&(p_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function _x(r=Dv()){const e=Cm(r,"auth");if(e.isInitialized())return e.getImmediate();const i=QA(r,{popupRedirectResolver:hx,persistence:[Tw,cw,sE]}),a=wv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=yx(c.toString());aw(i,d,()=>d(i.currentUser)),rw(i,p=>d(p))}}const o=Sv("auth");return o&&YA(i,`http://${o}`),i}function vx(){return document.getElementsByTagName("head")?.[0]??document}qA({loadJS(r){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const c=Bi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",vx().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mx("Browser");var y_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Tr,hE;(function(){var r;function e(I,w){function C(){}C.prototype=w.prototype,I.F=w.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(V,N,k){for(var x=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)x[lt-2]=arguments[lt];return w.prototype[N].apply(V,x)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,w,C){C||(C=0);const V=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)V[N]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(N=0;N<16;++N)V[N]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=I.g[0],C=I.g[1],N=I.g[2];let k=I.g[3],x;x=w+(k^C&(N^k))+V[0]+3614090360&4294967295,w=C+(x<<7&4294967295|x>>>25),x=k+(N^w&(C^N))+V[1]+3905402710&4294967295,k=w+(x<<12&4294967295|x>>>20),x=N+(C^k&(w^C))+V[2]+606105819&4294967295,N=k+(x<<17&4294967295|x>>>15),x=C+(w^N&(k^w))+V[3]+3250441966&4294967295,C=N+(x<<22&4294967295|x>>>10),x=w+(k^C&(N^k))+V[4]+4118548399&4294967295,w=C+(x<<7&4294967295|x>>>25),x=k+(N^w&(C^N))+V[5]+1200080426&4294967295,k=w+(x<<12&4294967295|x>>>20),x=N+(C^k&(w^C))+V[6]+2821735955&4294967295,N=k+(x<<17&4294967295|x>>>15),x=C+(w^N&(k^w))+V[7]+4249261313&4294967295,C=N+(x<<22&4294967295|x>>>10),x=w+(k^C&(N^k))+V[8]+1770035416&4294967295,w=C+(x<<7&4294967295|x>>>25),x=k+(N^w&(C^N))+V[9]+2336552879&4294967295,k=w+(x<<12&4294967295|x>>>20),x=N+(C^k&(w^C))+V[10]+4294925233&4294967295,N=k+(x<<17&4294967295|x>>>15),x=C+(w^N&(k^w))+V[11]+2304563134&4294967295,C=N+(x<<22&4294967295|x>>>10),x=w+(k^C&(N^k))+V[12]+1804603682&4294967295,w=C+(x<<7&4294967295|x>>>25),x=k+(N^w&(C^N))+V[13]+4254626195&4294967295,k=w+(x<<12&4294967295|x>>>20),x=N+(C^k&(w^C))+V[14]+2792965006&4294967295,N=k+(x<<17&4294967295|x>>>15),x=C+(w^N&(k^w))+V[15]+1236535329&4294967295,C=N+(x<<22&4294967295|x>>>10),x=w+(N^k&(C^N))+V[1]+4129170786&4294967295,w=C+(x<<5&4294967295|x>>>27),x=k+(C^N&(w^C))+V[6]+3225465664&4294967295,k=w+(x<<9&4294967295|x>>>23),x=N+(w^C&(k^w))+V[11]+643717713&4294967295,N=k+(x<<14&4294967295|x>>>18),x=C+(k^w&(N^k))+V[0]+3921069994&4294967295,C=N+(x<<20&4294967295|x>>>12),x=w+(N^k&(C^N))+V[5]+3593408605&4294967295,w=C+(x<<5&4294967295|x>>>27),x=k+(C^N&(w^C))+V[10]+38016083&4294967295,k=w+(x<<9&4294967295|x>>>23),x=N+(w^C&(k^w))+V[15]+3634488961&4294967295,N=k+(x<<14&4294967295|x>>>18),x=C+(k^w&(N^k))+V[4]+3889429448&4294967295,C=N+(x<<20&4294967295|x>>>12),x=w+(N^k&(C^N))+V[9]+568446438&4294967295,w=C+(x<<5&4294967295|x>>>27),x=k+(C^N&(w^C))+V[14]+3275163606&4294967295,k=w+(x<<9&4294967295|x>>>23),x=N+(w^C&(k^w))+V[3]+4107603335&4294967295,N=k+(x<<14&4294967295|x>>>18),x=C+(k^w&(N^k))+V[8]+1163531501&4294967295,C=N+(x<<20&4294967295|x>>>12),x=w+(N^k&(C^N))+V[13]+2850285829&4294967295,w=C+(x<<5&4294967295|x>>>27),x=k+(C^N&(w^C))+V[2]+4243563512&4294967295,k=w+(x<<9&4294967295|x>>>23),x=N+(w^C&(k^w))+V[7]+1735328473&4294967295,N=k+(x<<14&4294967295|x>>>18),x=C+(k^w&(N^k))+V[12]+2368359562&4294967295,C=N+(x<<20&4294967295|x>>>12),x=w+(C^N^k)+V[5]+4294588738&4294967295,w=C+(x<<4&4294967295|x>>>28),x=k+(w^C^N)+V[8]+2272392833&4294967295,k=w+(x<<11&4294967295|x>>>21),x=N+(k^w^C)+V[11]+1839030562&4294967295,N=k+(x<<16&4294967295|x>>>16),x=C+(N^k^w)+V[14]+4259657740&4294967295,C=N+(x<<23&4294967295|x>>>9),x=w+(C^N^k)+V[1]+2763975236&4294967295,w=C+(x<<4&4294967295|x>>>28),x=k+(w^C^N)+V[4]+1272893353&4294967295,k=w+(x<<11&4294967295|x>>>21),x=N+(k^w^C)+V[7]+4139469664&4294967295,N=k+(x<<16&4294967295|x>>>16),x=C+(N^k^w)+V[10]+3200236656&4294967295,C=N+(x<<23&4294967295|x>>>9),x=w+(C^N^k)+V[13]+681279174&4294967295,w=C+(x<<4&4294967295|x>>>28),x=k+(w^C^N)+V[0]+3936430074&4294967295,k=w+(x<<11&4294967295|x>>>21),x=N+(k^w^C)+V[3]+3572445317&4294967295,N=k+(x<<16&4294967295|x>>>16),x=C+(N^k^w)+V[6]+76029189&4294967295,C=N+(x<<23&4294967295|x>>>9),x=w+(C^N^k)+V[9]+3654602809&4294967295,w=C+(x<<4&4294967295|x>>>28),x=k+(w^C^N)+V[12]+3873151461&4294967295,k=w+(x<<11&4294967295|x>>>21),x=N+(k^w^C)+V[15]+530742520&4294967295,N=k+(x<<16&4294967295|x>>>16),x=C+(N^k^w)+V[2]+3299628645&4294967295,C=N+(x<<23&4294967295|x>>>9),x=w+(N^(C|~k))+V[0]+4096336452&4294967295,w=C+(x<<6&4294967295|x>>>26),x=k+(C^(w|~N))+V[7]+1126891415&4294967295,k=w+(x<<10&4294967295|x>>>22),x=N+(w^(k|~C))+V[14]+2878612391&4294967295,N=k+(x<<15&4294967295|x>>>17),x=C+(k^(N|~w))+V[5]+4237533241&4294967295,C=N+(x<<21&4294967295|x>>>11),x=w+(N^(C|~k))+V[12]+1700485571&4294967295,w=C+(x<<6&4294967295|x>>>26),x=k+(C^(w|~N))+V[3]+2399980690&4294967295,k=w+(x<<10&4294967295|x>>>22),x=N+(w^(k|~C))+V[10]+4293915773&4294967295,N=k+(x<<15&4294967295|x>>>17),x=C+(k^(N|~w))+V[1]+2240044497&4294967295,C=N+(x<<21&4294967295|x>>>11),x=w+(N^(C|~k))+V[8]+1873313359&4294967295,w=C+(x<<6&4294967295|x>>>26),x=k+(C^(w|~N))+V[15]+4264355552&4294967295,k=w+(x<<10&4294967295|x>>>22),x=N+(w^(k|~C))+V[6]+2734768916&4294967295,N=k+(x<<15&4294967295|x>>>17),x=C+(k^(N|~w))+V[13]+1309151649&4294967295,C=N+(x<<21&4294967295|x>>>11),x=w+(N^(C|~k))+V[4]+4149444226&4294967295,w=C+(x<<6&4294967295|x>>>26),x=k+(C^(w|~N))+V[11]+3174756917&4294967295,k=w+(x<<10&4294967295|x>>>22),x=N+(w^(k|~C))+V[2]+718787259&4294967295,N=k+(x<<15&4294967295|x>>>17),x=C+(k^(N|~w))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(N+(x<<21&4294967295|x>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+k&4294967295}a.prototype.v=function(I,w){w===void 0&&(w=I.length);const C=w-this.blockSize,V=this.C;let N=this.h,k=0;for(;k<w;){if(N==0)for(;k<=C;)o(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<w;)if(V[N++]=I.charCodeAt(k++),N==this.blockSize){o(this,V),N=0;break}}else for(;k<w;)if(V[N++]=I[k++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=w},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;w=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=w&255,w/=256;for(this.v(I),I=Array(16),w=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)I[w++]=this.g[C]>>>V&255;return I};function c(I,w){var C=p;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=w(I)}function d(I,w){this.h=w;const C=[];let V=!0;for(let N=I.length-1;N>=0;N--){const k=I[N]|0;V&&k==w||(C[N]=k,V=!1)}this.g=C}var p={};function y(I){return-128<=I&&I<128?c(I,function(w){return new d([w|0],w<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return A;if(I<0)return ee(_(-I));const w=[];let C=1;for(let V=0;I>=C;V++)w[V]=I/C|0,C*=4294967296;return new d(w,0)}function E(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return ee(E(I.substring(1),w));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(w,8));let V=A;for(let k=0;k<I.length;k+=8){var N=Math.min(8,I.length-k);const x=parseInt(I.substring(k,k+N),w);N<8?(N=_(Math.pow(w,N)),V=V.j(N).add(_(x))):(V=V.j(C),V=V.add(_(x)))}return V}var A=y(0),M=y(1),F=y(16777216);r=d.prototype,r.m=function(){if(ne(this))return-ee(this).m();let I=0,w=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);I+=(V>=0?V:4294967296+V)*w,w*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(J(this))return"0";if(ne(this))return"-"+ee(this).toString(I);const w=_(Math.pow(I,6));var C=this;let V="";for(;;){const N=ge(C,w).g;C=_e(C,N.j(w));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=N,J(C))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function J(I){if(I.h!=0)return!1;for(let w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function ne(I){return I.h==-1}r.l=function(I){return I=_e(this,I),ne(I)?-1:J(I)?0:1};function ee(I){const w=I.g.length,C=[];for(let V=0;V<w;V++)C[V]=~I.g[V];return new d(C,~I.h).add(M)}r.abs=function(){return ne(this)?ee(this):this},r.add=function(I){const w=Math.max(this.g.length,I.g.length),C=[];let V=0;for(let N=0;N<=w;N++){let k=V+(this.i(N)&65535)+(I.i(N)&65535),x=(k>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);V=x>>>16,k&=65535,x&=65535,C[N]=x<<16|k}return new d(C,C[C.length-1]&-2147483648?-1:0)};function _e(I,w){return I.add(ee(w))}r.j=function(I){if(J(this)||J(I))return A;if(ne(this))return ne(I)?ee(this).j(ee(I)):ee(ee(this).j(I));if(ne(I))return ee(this.j(ee(I)));if(this.l(F)<0&&I.l(F)<0)return _(this.m()*I.m());const w=this.g.length+I.g.length,C=[];for(var V=0;V<2*w;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<I.g.length;N++){const k=this.i(V)>>>16,x=this.i(V)&65535,lt=I.i(N)>>>16,mt=I.i(N)&65535;C[2*V+2*N]+=x*mt,Re(C,2*V+2*N),C[2*V+2*N+1]+=k*mt,Re(C,2*V+2*N+1),C[2*V+2*N+1]+=x*lt,Re(C,2*V+2*N+1),C[2*V+2*N+2]+=k*lt,Re(C,2*V+2*N+2)}for(I=0;I<w;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=w;I<2*w;I++)C[I]=0;return new d(C,0)};function Re(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function be(I,w){this.g=I,this.h=w}function ge(I,w){if(J(w))throw Error("division by zero");if(J(I))return new be(A,A);if(ne(I))return w=ge(ee(I),w),new be(ee(w.g),ee(w.h));if(ne(w))return w=ge(I,ee(w)),new be(ee(w.g),w.h);if(I.g.length>30){if(ne(I)||ne(w))throw Error("slowDivide_ only works with positive integers.");for(var C=M,V=w;V.l(I)<=0;)C=Xe(C),V=Xe(V);var N=Be(C,1),k=Be(V,1);for(V=Be(V,2),C=Be(C,2);!J(V);){var x=k.add(V);x.l(I)<=0&&(N=N.add(C),k=x),V=Be(V,1),C=Be(C,1)}return w=_e(I,N.j(w)),new be(N,w)}for(N=A;I.l(w)>=0;){for(C=Math.max(1,Math.floor(I.m()/w.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=_(C),x=k.j(w);ne(x)||x.l(I)>0;)C-=V,k=_(C),x=k.j(w);J(k)&&(k=M),N=N.add(k),I=_e(I,x)}return new be(N,I)}r.B=function(I){return ge(this,I).h},r.and=function(I){const w=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)&I.i(V);return new d(C,this.h&I.h)},r.or=function(I){const w=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)|I.i(V);return new d(C,this.h|I.h)},r.xor=function(I){const w=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)^I.i(V);return new d(C,this.h^I.h)};function Xe(I){const w=I.g.length+1,C=[];for(let V=0;V<w;V++)C[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(C,I.h)}function Be(I,w){const C=w>>5;w%=32;const V=I.g.length-C,N=[];for(let k=0;k<V;k++)N[k]=w>0?I.i(k+C)>>>w|I.i(k+C+1)<<32-w:I.i(k+C);return new d(N,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,hE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=E,Tr=d}).apply(typeof y_<"u"?y_:typeof self<"u"?self:typeof window<"u"?window:{});var Dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var fE,Do,dE,Gc,lm,mE,gE,pE;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dc=="object"&&Dc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var v=a;u=u.split(".");for(var S=0;S<u.length-1;S++){var U=u[S];if(!(U in v))break e;v=v[U]}u=u[u.length-1],S=v[u],m=m(S),m!=S&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&v.push([S,m[S]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function E(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(S,U,B){for(var te=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)te[Ie-2]=arguments[Ie];return m.prototype[U].apply(S,te)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let S=0;S<m;S++)v[S]=u[S];return v}return[]}function J(u,m){for(let S=1;S<arguments.length;S++){const U=arguments[S];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const B=U.length||0;u.length=v+B;for(let te=0;te<B;te++)u[v+te]=U[te]}else u.push(U)}}class ne{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ee(u){d.setTimeout(()=>{throw u},0)}function _e(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Re{constructor(){this.h=this.g=null}add(m,v){const S=be.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var be=new ne(()=>new ge,u=>u.reset());class ge{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Xe,Be=!1,I=new Re,w=()=>{const u=Promise.resolve(void 0);Xe=()=>{u.then(C)}};function C(){for(var u;u=_e();){try{u.h.call(u.g)}catch(v){ee(v)}var m=be;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Be=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function lt(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(lt,N),lt.prototype.init=function(u,m){const v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&lt.Z.h.call(this)},lt.prototype.h=function(){lt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var mt="closure_listenable_"+(Math.random()*1e6|0),H=0;function se(u,m,v,S,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=U,this.key=++H,this.da=this.fa=!1}function ce(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Me(u,m,v){for(const S in u)m.call(v,u[S],S,u)}function Fe(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(u,m){let v,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(v in S)u[v]=S[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function le(u){this.src=u,this.g={},this.h=0}le.prototype.add=function(u,m,v,S,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const te=Ce(u,m,S,U);return te>-1?(m=u[te],v||(m.fa=!1)):(m=new se(m,this.src,B,!!S,U),m.fa=v,u.push(m)),m};function ve(u,m){const v=m.type;if(v in u.g){var S=u.g[v],U=Array.prototype.indexOf.call(S,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(S,U,1),B&&(ce(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ce(u,m,v,S){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==S)return U}return-1}var Oe="closure_lm_"+(Math.random()*1e6|0),It={};function ot(u,m,v,S,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ot(u,m[B],v,S,U);return null}return v=Vr(v),u&&u[mt]?u.J(m,v,p(S)?!!S.capture:!1,U):Wi(u,m,v,!1,S,U)}function Wi(u,m,v,S,U,B){if(!m)throw Error("Invalid event type");const te=p(U)?!!U.capture:!!U;let Ie=es(u);if(Ie||(u[Oe]=Ie=new le(u)),v=Ie.add(m,v,S,te,B),v.proxy)return v;if(S=Vs(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)k||(U=te),U===void 0&&(U=!1),u.addEventListener(m.toString(),S,U);else if(u.attachEvent)u.attachEvent(Fn(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Vs(){function u(v){return m.call(u.src,u.listener,v)}const m=ks;return u}function Zi(u,m,v,S,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)Zi(u,m[B],v,S,U);else S=p(S)?!!S.capture:!!S,v=Vr(v),u&&u[mt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Ce(m,v,S,U),v>-1&&(ce(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=es(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ce(m,v,S,U)),(v=u>-1?m[u]:null)&&Ji(v))}function Ji(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[mt])ve(m.i,u);else{var v=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(v,S,u.capture):m.detachEvent?m.detachEvent(Fn(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=es(m))?(ve(v,u),v.h==0&&(v.src=null,m[Oe]=null)):ce(u)}}}function Fn(u){return u in It?It[u]:It[u]="on"+u}function ks(u,m){if(u.da)u=!0;else{m=new lt(m,this);const v=u.listener,S=u.ha||u.src;u.fa&&Ji(u),u=v.call(S,m)}return u}function es(u){return u=u[Oe],u instanceof le?u:null}var Mr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Vr(u){return typeof u=="function"?u:(u[Mr]||(u[Mr]=function(m){return u.handleEvent(m)}),u[Mr])}function wt(){V.call(this),this.i=new le(this),this.M=this,this.G=null}A(wt,V),wt.prototype[mt]=!0,wt.prototype.removeEventListener=function(u,m,v,S){Zi(this,u,m,v,S)};function Nt(u,m){var v,S=u.G;if(S)for(v=[];S;S=S.G)v.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var U=m;m=new N(S,u),ie(m,U)}U=!0;let B,te;if(v)for(te=v.length-1;te>=0;te--)B=m.g=v[te],U=Ei(B,S,!0,m)&&U;if(B=m.g=u,U=Ei(B,S,!0,m)&&U,U=Ei(B,S,!1,m)&&U,v)for(te=0;te<v.length;te++)B=m.g=v[te],U=Ei(B,S,!1,m)&&U}wt.prototype.N=function(){if(wt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let S=0;S<v.length;S++)ce(v[S]);delete u.g[m],u.h--}}this.G=null},wt.prototype.J=function(u,m,v,S){return this.i.add(String(u),m,!1,v,S)},wt.prototype.K=function(u,m,v,S){return this.i.add(String(u),m,!0,v,S)};function Ei(u,m,v,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const te=m[B];if(te&&!te.da&&te.capture==v){const Ie=te.listener,Ot=te.ha||te.src;te.fa&&ve(u.i,te),U=Ie.call(Ot,S)!==!1&&U}}return U&&!S.defaultPrevented}function Nl(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ga(u){u.g=Nl(()=>{u.g=null,u.i&&(u.i=!1,ga(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class rn extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ga(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ts(u){V.call(this),this.h=u,this.g={}}A(ts,V);var kr=[];function ns(u){Me(u.g,function(m,v){this.g.hasOwnProperty(v)&&Ji(m)},u),u.g={}}ts.prototype.N=function(){ts.Z.N.call(this),ns(this)},ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Z=d.JSON.stringify,re=d.JSON.parse,ae=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function de(){}function Je(){}var ht={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ft(){N.call(this,"d")}A(ft,N);function xt(){N.call(this,"c")}A(xt,N);var qe={},gt=null;function gn(){return gt=gt||new wt}qe.Ia="serverreachability";function Qn(u){N.call(this,qe.Ia,u)}A(Qn,N);function jt(u){const m=gn();Nt(m,new Qn(m))}qe.STAT_EVENT="statevent";function bi(u,m){N.call(this,qe.STAT_EVENT,u),this.stat=m}A(bi,N);function K(u){const m=gn();Nt(m,new bi(m,u))}qe.Ja="timingevent";function Se(u,m){N.call(this,qe.Ja,u),this.size=m}A(Se,N);function bt(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function dt(){this.g=!0}dt.prototype.ua=function(){this.g=!1};function Ut(u,m,v,S,U,B){u.info(function(){if(u.g)if(B){var te="",Ie=B.split("&");for(let $e=0;$e<Ie.length;$e++){var Ot=Ie[$e].split("=");if(Ot.length>1){const vt=Ot[0];Ot=Ot[1];const $n=vt.split("_");te=$n.length>=2&&$n[1]=="type"?te+(vt+"="+Ot+"&"):te+(vt+"=redacted&")}}}else te=null;else te=B;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+m+`
`+v+`
`+te})}function Ti(u,m,v,S,U,B,te){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+m+`
`+v+`
`+B+" "+te})}function Dt(u,m,v,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+ut(u,v)+(S?" "+S:"")})}function is(u,m){u.info(function(){return"TIMEOUT: "+m})}dt.prototype.info=function(){};function ut(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var U=S[0];if(U!="noop"&&U!="stop"&&U!="close")for(let te=1;te<S.length;te++)S[te]=""}}}}return Z(B)}catch{return m}}var Vn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},li={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ss;function oi(){}A(oi,de),oi.prototype.g=function(){return new XMLHttpRequest},ss=new oi;function rs(u){return encodeURIComponent(String(u))}function ou(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ui(u,m,v,S){this.j=u,this.i=m,this.l=v,this.S=S||1,this.V=new ts(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ci}function ci(){this.i=null,this.g="",this.h=!1}var Lt={},en={};function Si(u,m,v){u.M=1,u.A=jr(zt(m)),u.u=v,u.R=!0,pa(u,null)}function pa(u,m){u.F=Date.now(),Ai(u),u.B=zt(u.A);var v=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),Ea(v.i,"t",S),u.C=0,v=u.j.L,u.h=new ci,u.g=Su(u.j,v?m:null,!u.u),u.P>0&&(u.O=new rn(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,S=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(kr[0]=U.toString()),U=kr);for(let B=0;B<U.length;B++){const te=ot(v,U[B],S||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),jt(),Ut(u.i,u.v,u.B,u.l,u.S,u.u)}ui.prototype.ba=function(u){u=u.target;const m=this.O;m&&di(u)==3?m.j():this.Y(u)},ui.prototype.Y=function(u){try{if(u==this.g)e:{const Ie=di(this.g),Ot=this.g.ya(),$e=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||an(this.g)))){this.K||Ie!=4||Ot==7||(Ot==8||$e<=0?jt(3):jt(2)),wi(this);var m=this.g.ca();this.X=m;var v=Uh(this);if(this.o=m==200,Ti(this.i,this.v,this.B,this.l,this.S,Ie,m),this.o){if(this.U&&!this.L){t:{if(this.g){var S,U=this.g;if((S=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(S)){var B=S;break t}}B=null}if(u=B)Dt(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xi(this,u);else{this.o=!1,this.m=3,K(12),kn(this),Kn(this);break e}}if(this.R){u=!0;let vt;for(;!this.K&&this.C<v.length;)if(vt=cu(this,v),vt==en){Ie==4&&(this.m=4,K(14),u=!1),Dt(this.i,this.l,null,"[Incomplete Response]");break}else if(vt==Lt){this.m=4,K(15),Dt(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Dt(this.i,this.l,vt,null),xi(this,vt);if(uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||v.length!=0||this.h.h||(this.m=1,K(16),u=!1),this.o=this.o&&u,!u)Dt(this.i,this.l,v,"[Invalid Chunked Response]"),kn(this),Kn(this);else if(v.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Fl(te),te.P=!0,K(11))}}else Dt(this.i,this.l,v,null),xi(this,v);Ie==4&&kn(this),this.o&&!this.K&&(Ie==4?vu(this.j,this):(this.o=!1,Ai(this)))}else ls(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,K(12)):(this.m=0,K(13)),kn(this),Kn(this)}}}catch{}finally{}};function Uh(u){if(!uu(u))return u.g.la();const m=an(u.g);if(m==="")return"";let v="";const S=m.length,U=di(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return kn(u),Kn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<S;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(U&&B==S-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function uu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function cu(u,m){var v=u.C,S=m.indexOf(`
`,v);return S==-1?en:(v=Number(m.substring(v,S)),isNaN(v)?Lt:(S+=1,S+v>m.length?en:(m=m.slice(S,S+v),u.C=S+v,m)))}ui.prototype.cancel=function(){this.K=!0,kn(this)};function Ai(u){u.T=Date.now()+u.H,ya(u,u.H)}function ya(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=bt(_(u.aa,u),m)}function wi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ui.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(is(this.i,this.B),this.M!=2&&(jt(),K(17)),kn(this),this.m=2,Kn(this)):ya(this,this.T-u)};function Kn(u){u.j.I==0||u.K||vu(u.j,u)}function kn(u){wi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,ns(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function xi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ci(v.h,u))){if(!u.L&&Ci(v.h,u)&&v.I==3){try{var S=v.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)wa(v),Hs(v);else break e;Hr(v),K(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=bt(_(v.Va,v),6e3));Ri(v.h)<=1&&v.ta&&(v.ta=void 0)}else Vi(v,11)}else if((u.L||v.g==u)&&wa(v),!x(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let $e=U[m];const vt=$e[0];if(!(vt<=v.K))if(v.K=vt,$e=$e[1],v.I==2)if($e[0]=="c"){v.M=$e[1],v.ba=$e[2];const $n=$e[3];$n!=null&&(v.ka=$n,v.j.info("VER="+v.ka));const ki=$e[4];ki!=null&&(v.za=ki,v.j.info("SVER="+v.za));const mi=$e[5];mi!=null&&typeof mi=="number"&&mi>0&&(S=1.5*mi,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const gi=u.g;if(gi){const Gr=gi.g?gi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gr){var B=S.h;B.g||Gr.indexOf("spdy")==-1&&Gr.indexOf("quic")==-1&&Gr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Ml(B,B.h),B.h=null))}if(S.G){const xa=gi.g?gi.g.getResponseHeader("X-HTTP-Session-Id"):null;xa&&(S.wa=xa,et(S.J,S.G,xa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var te=u;if(S.na=Tu(S,S.L?S.ba:null,S.W),te.L){Vl(S.h,te);var Ie=te,Ot=S.O;Ot&&(Ie.H=Ot),Ie.D&&(wi(Ie),Ai(Ie)),S.g=te}else yu(S);v.i.length>0&&Mi(v)}else $e[0]!="stop"&&$e[0]!="close"||Vi(v,7);else v.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Vi(v,7):Hl(v):$e[0]!="noop"&&v.l&&v.l.qa($e),v.A=0)}}jt(4)}catch{}}var Pt=class{constructor(u,m){this.g=u,this.map=m}};function Dl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ol(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ri(u){return u.h?1:u.g?u.g.size:0}function Ci(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ml(u,m){u.g?u.g.add(m):u.h=m}function Vl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Dl.prototype.cancel=function(){if(this.i=kl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function kl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var hu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _a(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const S=u[v].indexOf("=");let U,B=null;S>=0?(U=u[v].substring(0,S),B=u[v].substring(S+1)):U=u[v],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function jn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof jn?(this.l=u.l,tn(this,u.j),this.o=u.o,this.g=u.g,js(this,u.u),this.h=u.h,jl(this,gu(u.i)),this.m=u.m):u&&(m=String(u).match(hu))?(this.l=!1,tn(this,m[1]||"",!0),this.o=Ii(m[2]||""),this.g=Ii(m[3]||"",!0),js(this,m[4]),this.h=Ii(m[5]||"",!0),jl(this,m[6]||"",!0),this.m=Ii(m[7]||"")):(this.l=!1,this.i=new Ls(null,this.l))}jn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ur(m,va,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ur(m,va,!0),"@"),u.push(rs(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ur(v,v.charAt(0)=="/"?Ul:fu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ur(v,du)),u.join("")},jn.prototype.resolve=function(u){const m=zt(this);let v=!!u.j;v?tn(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var S=u.h;if(v)js(m,u.u);else if(v=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var U=m.h.lastIndexOf("/");U!=-1&&(S=m.h.slice(0,U+1)+S)}if(U=S,U==".."||U==".")S="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){S=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let te=0;te<U.length;){const Ie=U[te++];Ie=="."?S&&te==U.length&&B.push(""):Ie==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),S&&te==U.length&&B.push("")):(B.push(Ie),S=!0)}S=B.join("/")}else S=U}return v?m.h=S:v=u.i.toString()!=="",v?jl(m,gu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function zt(u){return new jn(u)}function tn(u,m,v){u.j=v?Ii(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function js(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function jl(u,m,v){m instanceof Ls?(u.i=m,ba(u.i,u.l)):(v||(m=Ur(m,Us)),u.i=new Ls(m,u.l))}function et(u,m,v){u.i.set(m,v)}function jr(u){return et(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ii(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ur(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,An),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function An(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var va=/[#\/\?@]/g,fu=/[#\?:]/g,Ul=/[#\?]/g,Us=/[#\?@]/g,du=/#/g;function Ls(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function wn(u){u.g||(u.g=new Map,u.h=0,u.i&&_a(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Ls.prototype,r.add=function(u,m){wn(this),this.i=null,u=Ps(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function mu(u,m){wn(u),m=Ps(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ll(u,m){return wn(u),m=Ps(u,m),u.g.has(m)}r.forEach=function(u,m){wn(this),this.g.forEach(function(v,S){v.forEach(function(U){u.call(m,U,S,this)},this)},this)};function Pl(u,m){wn(u);let v=[];if(typeof m=="string")Ll(u,m)&&(v=v.concat(u.g.get(Ps(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return wn(this),this.i=null,u=Ps(this,u),Ll(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Pl(this,u),u.length>0?String(u[0]):m):m};function Ea(u,m,v){mu(u,m),v.length>0&&(u.i=null,u.g.set(Ps(u,m),F(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var v=m[S];const U=rs(v);v=Pl(this,v);for(let B=0;B<v.length;B++){let te=U;v[B]!==""&&(te+="="+rs(v[B])),u.push(te)}}return this.i=u.join("&")};function gu(u){const m=new Ls;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ps(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ba(u,m){m&&!u.j&&(wn(u),u.i=null,u.g.forEach(function(v,S){const U=S.toLowerCase();S!=U&&(mu(this,S),Ea(this,U,v))},u)),u.j=m}function hi(u,m){const v=new dt;if(d.Image){const S=new Image;S.onload=E(Yn,v,"TestLoadImage: loaded",!0,m,S),S.onerror=E(Yn,v,"TestLoadImage: error",!1,m,S),S.onabort=E(Yn,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=E(Yn,v,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function zl(u,m){const v=new dt,S=new AbortController,U=setTimeout(()=>{S.abort(),Yn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(B=>{clearTimeout(U),B.ok?Yn(v,"TestPingServer: ok",!0,m):Yn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Yn(v,"TestPingServer: error",!1,m)})}function Yn(u,m,v,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(v)}catch{}}function zs(){this.g=new ae}function Ni(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Ni,de),Ni.prototype.g=function(){return new Lr(this.i,this.h)};function Lr(u,m){wt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Lr,wt),r=Lr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,fi(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Bs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,fi(this)),this.g&&(this.readyState=3,fi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ta(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ta(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Bs(this):fi(this),this.readyState==3&&Ta(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Bs(this))},r.Na=function(u){this.g&&(this.response=u,Bs(this))},r.ga=function(){this.g&&Bs(this)};function Bs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,fi(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function fi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Lr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Xn(u){let m="";return Me(u,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function Pr(u,m,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Xn(v),typeof u=="string"?v!=null&&rs(v):et(u,m,v))}function it(u){wt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(it,wt);var Di=/^https?$/i,Bl=["POST","PUT"];r=it.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ss.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){zr(this,B);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)v.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const B of S.keys())v.set(B,S.get(B));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Bl,m,void 0)>=0)||S||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,te]of v)this.g.setRequestHeader(B,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){zr(this,B)}};function zr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,ql(u),as(u)}function ql(u){u.A||(u.A=!0,Nt(u,"complete"),Nt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Nt(this,"complete"),Nt(this,"abort"),as(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),as(this,!0)),it.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Br(this):this.Xa())},r.Xa=function(){Br(this)};function Br(u){if(u.h&&typeof c<"u"){if(u.v&&di(u)==4)setTimeout(u.Ca.bind(u),0);else if(Nt(u,"readystatechange"),di(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var S;if(S=B===0){let te=String(u.D).match(hu)[1]||null;!te&&d.self&&d.self.location&&(te=d.self.location.protocol.slice(0,-1)),S=!Di.test(te?te.toLowerCase():"")}v=S}if(v)Nt(u,"complete"),Nt(u,"success");else{u.o=6;try{var U=di(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",ql(u)}}finally{as(u)}}}}function as(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Nt(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function di(u){return u.g?u.g.readyState:0}r.ca=function(){try{return di(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),re(m)}};function an(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ls(u){const m={};u=(u.g&&di(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(x(u[S]))continue;var v=ou(u[S]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[U]||[];m[U]=B,B.push(v)}Fe(m,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function qs(u){this.za=0,this.i=[],this.j=new dt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Oi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Oi("baseRetryDelayMs",5e3,u),this.Za=Oi("retryDelaySeedMs",1e4,u),this.Ta=Oi("forwardChannelMaxRetries",2,u),this.va=Oi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Dl(u&&u.concurrentRequestLimit),this.Ba=new zs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=qs.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,S){K(0),this.W=u,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Tu(this,null,this.W),Mi(this)};function Hl(u){if(Sa(u),u.I==3){var m=u.V++,v=zt(u.J);if(et(v,"SID",u.M),et(v,"RID",m),et(v,"TYPE","terminate"),qr(u,v),m=new ui(u,u.j,m),m.M=2,m.A=jr(zt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Su(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ai(m)}bu(u)}function Hs(u){u.g&&(Fl(u),u.g.cancel(),u.g=null)}function Sa(u){Hs(u),u.v&&(d.clearTimeout(u.v),u.v=null),wa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Mi(u){if(!Ol(u.h)&&!u.m){u.m=!0;var m=u.Ea;Xe||w(),Be||(Xe(),Be=!0),I.add(m,u),u.D=0}}function Aa(u,m){return Ri(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=bt(_(u.Ea,u,m),Eu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new ui(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),ie(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=pu(this,U,m),v=zt(this.J),et(v,"RID",u),et(v,"CVER",22),this.G&&et(v,"X-HTTP-Session-Id",this.G),qr(this,v),B&&(this.R?m="headers="+rs(Xn(B))+"&"+m:this.u&&Pr(v,this.u,B)),Ml(this.h,U),this.Ra&&et(v,"TYPE","init"),this.S?(et(v,"$req",m),et(v,"SID","null"),U.U=!0,Si(U,v,null)):Si(U,v,m),this.I=2}}else this.I==3&&(u?Gl(this,u):this.i.length==0||Ol(this.h)||Gl(this))};function Gl(u,m){var v;m?v=m.l:v=u.V++;const S=zt(u.J);et(S,"SID",u.M),et(S,"RID",v),et(S,"AID",u.K),qr(u,S),u.u&&u.o&&Pr(S,u.u,u.o),v=new ui(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=pu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ml(u.h,v),Si(v,S,m)}function qr(u,m){u.H&&Me(u.H,function(v,S){et(m,S,v)}),u.l&&Me({},function(v,S){et(m,S,v)})}function pu(u,m,v){v=Math.min(u.i.length,v);const S=u.l?_(u.l.Ka,u.l,u):null;e:{var U=u.i;let Ie=-1;for(;;){const Ot=["count="+v];Ie==-1?v>0?(Ie=U[0].g,Ot.push("ofs="+Ie)):Ie=0:Ot.push("ofs="+Ie);let $e=!0;for(let vt=0;vt<v;vt++){var B=U[vt].g;const $n=U[vt].map;if(B-=Ie,B<0)Ie=Math.max(0,U[vt].g-100),$e=!1;else try{B="req"+B+"_"||"";try{var te=$n instanceof Map?$n:Object.entries($n);for(const[ki,mi]of te){let gi=mi;p(mi)&&(gi=Z(mi)),Ot.push(B+ki+"="+encodeURIComponent(gi))}}catch(ki){throw Ot.push(B+"type="+encodeURIComponent("_badmap")),ki}}catch{S&&S($n)}}if($e){te=Ot.join("&");break e}}te=void 0}return u=u.i.splice(0,v),m.G=u,te}function yu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Xe||w(),Be||(Xe(),Be=!0),I.add(m,u),u.A=0}}function Hr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=bt(_(u.Da,u),Eu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,_u(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=bt(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,K(10),Hs(this),_u(this))};function Fl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function _u(u){u.g=new ui(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=zt(u.na);et(m,"RID","rpc"),et(m,"SID",u.M),et(m,"AID",u.K),et(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&et(m,"TO",u.ia),et(m,"TYPE","xmlhttp"),qr(u,m),u.u&&u.o&&Pr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=jr(zt(m)),v.u=null,v.R=!0,pa(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Hs(this),Hr(this),K(19))};function wa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function vu(u,m){var v=null;if(u.g==m){wa(u),Fl(u),u.g=null;var S=2}else if(Ci(u.h,m))v=m.G,Vl(u.h,m),S=1;else return;if(u.I!=0){if(m.o)if(S==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;S=gn(),Nt(S,new Se(S,v)),Mi(u)}else yu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(S==1&&Aa(u,m)||S==2&&Hr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Vi(u,5);break;case 4:Vi(u,10);break;case 3:Vi(u,6);break;default:Vi(u,2)}}}function Eu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Vi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),S=u.Ua;const U=!S;S=new jn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||tn(S,"https"),jr(S),U?hi(S.toString(),v):zl(S.toString(),v)}else K(2);u.I=0,u.l&&u.l.pa(m),bu(u),Sa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),K(2)):(this.j.info("Failed to ping google.com"),K(1))};function bu(u){if(u.I=0,u.ja=[],u.l){const m=kl(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function Tu(u,m,v){var S=v instanceof jn?zt(v):new jn(v);if(S.g!="")m&&(S.g=m+"."+S.g),js(S,S.u);else{var U=d.location;S=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new jn(null);S&&tn(B,S),m&&(B.g=m),U&&js(B,U),v&&(B.h=v),S=B}return v=u.G,m=u.wa,v&&m&&et(S,v,m),et(S,"VER",u.ka),qr(u,S),S}function Su(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new it(new Ni({ab:v})):new it(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}r=Au.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Gs(){}Gs.prototype.g=function(u,m){return new bn(u,m)};function bn(u,m){wt.call(this),this.g=new qs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new os(this)}A(bn,wt),bn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){Hl(this.g)},bn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Z(u),u=v);m.i.push(new Pt(m.Ya++,u)),m.I==3&&Mi(m)},bn.prototype.N=function(){this.g.l=null,delete this.j,Hl(this.g),delete this.g,bn.Z.N.call(this)};function wu(u){ft.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(wu,ft);function xu(){xt.call(this),this.status=1}A(xu,xt);function os(u){this.g=u}A(os,Au),os.prototype.ra=function(){Nt(this.g,"a")},os.prototype.qa=function(u){Nt(this.g,new wu(u))},os.prototype.pa=function(u){Nt(this.g,new xu)},os.prototype.oa=function(){Nt(this.g,"b")},Gs.prototype.createWebChannel=Gs.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,pE=function(){return new Gs},gE=function(){return gn()},mE=qe,lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Vn.NO_ERROR=0,Vn.TIMEOUT=8,Vn.HTTP_ERROR=6,Gc=Vn,li.COMPLETE="complete",dE=li,Je.EventType=ht,ht.OPEN="a",ht.CLOSE="b",ht.ERROR="c",ht.MESSAGE="d",wt.prototype.listen=wt.prototype.J,Do=Je,it.prototype.listenOnce=it.prototype.K,it.prototype.getLastError=it.prototype.Ha,it.prototype.getLastErrorCode=it.prototype.ya,it.prototype.getStatus=it.prototype.ca,it.prototype.getResponseJson=it.prototype.La,it.prototype.getResponseText=it.prototype.la,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Fa,fE=it}).apply(typeof Dc<"u"?Dc:typeof self<"u"?self:typeof window<"u"?window:{});const __="@firebase/firestore",v_="4.9.2";let _n=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");let xl="12.3.0";const ha=new xm("@firebase/firestore");function sl(){return ha.logLevel}function oe(r,...e){if(ha.logLevel<=Le.DEBUG){const i=e.map(Um);ha.debug(`Firestore (${xl}): ${r}`,...i)}}function Ds(r,...e){if(ha.logLevel<=Le.ERROR){const i=e.map(Um);ha.error(`Firestore (${xl}): ${r}`,...i)}}function gl(r,...e){if(ha.logLevel<=Le.WARN){const i=e.map(Um);ha.warn(`Firestore (${xl}): ${r}`,...i)}}function Um(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function Ee(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,yE(r,a,i)}function yE(r,e,i){let a=`FIRESTORE (${xl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Ds(a),new Error(a)}function Ze(r,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||yE(e,o,a)}function xe(r,e){return r}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Ms{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Sr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class _E{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ex{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(_n.UNAUTHENTICATED)))}shutdown(){}}class bx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Tx{constructor(e){this.t=e,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ze(this.o===void 0,42304);let a=this.i;const o=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new Sr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Sr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},p=y=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Sr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ze(typeof a.accessToken=="string",31837,{l:a}),new _E(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new _n(e)}}class Sx{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ax{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new Sx(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(_n.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class E_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wx{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ri(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ze(this.o===void 0,3512);const a=c=>{c.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,oe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new E_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ze(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new E_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function xx(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Lm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=xx(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function Pe(r,e){return r<e?-1:r>e?1:0}function om(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const o=r.charAt(a),c=e.charAt(a);if(o!==c)return Fd(o)===Fd(c)?Pe(o,c):Fd(o)?1:-1}return Pe(r.length,e.length)}const Rx=55296,Cx=57343;function Fd(r){const e=r.charCodeAt(0);return e>=Rx&&e<=Cx}function pl(r,e,i){return r.length===e.length&&r.every(((a,o)=>i(a,e[o])))}const b_="__name__";class zi{constructor(e,i,a){i===void 0?i=0:i>e.length&&Ee(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Ee(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return zi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof zi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=zi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Pe(e.length,i.length)}static compareSegments(e,i){const a=zi.isNumericId(e),o=zi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?zi.extractNumericId(e).compare(zi.extractNumericId(i)):om(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Tr.fromString(e.substring(4,e.length-2))}}class Tt extends zi{construct(e,i,a){return new Tt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new fe(W.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new Tt(i)}static emptyPath(){return new Tt([])}}const Ix=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends zi{construct(e,i,a){return new dn(e,i,a)}static isValidIdentifier(e){return Ix.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===b_}static keyField(){return new dn([b_])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new fe(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new fe(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new fe(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(c(),o++)}if(c(),d)throw new fe(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(i)}static emptyPath(){return new dn([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(Tt.fromString(e))}static fromName(e){return new pe(Tt.fromString(e).popFirst(5))}static empty(){return new pe(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Tt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new Tt(e.slice()))}}function Nx(r,e,i){if(!i)throw new fe(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Dx(r,e,i,a){if(e===!0&&a===!0)throw new fe(W.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function T_(r){if(!pe.isDocumentKey(r))throw new fe(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function vE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Pm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function Hi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new fe(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Pm(r);throw new fe(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Qt(r,e){const i={typeString:r};return e&&(i.value=e),i}function nu(r,e){if(!vE(r))throw new fe(W.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new fe(W.INVALID_ARGUMENT,i);return!0}const S_=-62135596800,A_=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*A_);return new _t(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new fe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new fe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<S_)throw new fe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/A_}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(nu(e,_t._jsonSchema))return new _t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-S_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:Qt("string",_t._jsonSchemaVersion),seconds:Qt("number"),nanoseconds:Qt("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new _t(0,0))}static max(){return new Ae(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ho=-1;function Ox(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(a===1e9?new _t(i+1,0):new _t(i,a));return new wr(o,pe.empty(),e)}function Mx(r){return new wr(r.readTime,r.key,Ho)}class wr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new wr(Ae.min(),pe.empty(),Ho)}static max(){return new wr(Ae.max(),pe.empty(),Ho)}}function Vx(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=pe.comparator(r.documentKey,e.documentKey),i!==0?i:Pe(r.largestBatchId,e.largestBatchId))}const kx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Rl(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==kx)throw r;oe("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,a)=>{i(e)}))}static reject(e){return new $(((i,a)=>{a(e)}))}static waitFor(e){return new $(((i,a)=>{let o=0,c=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(y=>a(y)))})),d=!0,c===o&&i()}))}static or(e){let i=$.resolve(!1);for(const a of e)i=i.next((o=>o?$.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new $(((a,o)=>{const c=e.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(e[_]).next((E=>{d[_]=E,++p,p===c&&a(d)}),(E=>o(E)))}}))}static doWhile(e,i){return new $(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function Ux(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Cl(r){return r.name==="IndexedDbTransactionError"}class vh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vh.ce=-1;const zm=-1;function Eh(r){return r==null}function sh(r){return r===0&&1/r==-1/0}function Lx(r){return typeof r=="number"&&Number.isInteger(r)&&!sh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const EE="";function Px(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=w_(e)),e=zx(r.get(i),e);return w_(e)}function zx(r,e){let i=e;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case EE:i+="";break;default:i+=c}}return i}function w_(r){return r+EE+""}function x_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Dr(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function bE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class St{constructor(e,i){this.comparator=e,this.root=i||fn.EMPTY}insert(e,i){return new St(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oc(this.root,e,this.comparator,!0)}}class Oc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??fn.RED,this.left=o??fn.EMPTY,this.right=c??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new fn(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return fn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new fn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jt{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new R_(this.data.getIterator())}getIteratorFrom(e){return new R_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Jt(this.comparator);return i.data=e,i}}class R_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Gn{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new Gn([])}unionWith(e){let i=new Jt(dn.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Gn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return pl(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class TE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class mn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new TE("Invalid base64 string: "+c):c}})(e);return new mn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new mn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const Bx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xr(r){if(Ze(!!r,39018),typeof r=="string"){let e=0;const i=Bx.exec(r);if(Ze(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:kt(r.seconds),nanos:kt(r.nanos)}}function kt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Rr(r){return typeof r=="string"?mn.fromBase64String(r):mn.fromUint8Array(r)}const SE="server_timestamp",AE="__type__",wE="__previous_value__",xE="__local_write_time__";function Bm(r){return(r?.mapValue?.fields||{})[AE]?.stringValue===SE}function bh(r){const e=r.mapValue.fields[wE];return Bm(e)?bh(e):e}function Go(r){const e=xr(r.mapValue.fields[xE].timestampValue);return new _t(e.seconds,e.nanos)}class qx{constructor(e,i,a,o,c,d,p,y,_,E){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=E}}const rh="(default)";class Fo{constructor(e,i){this.projectId=e,this.database=i||rh}static empty(){return new Fo("","")}get isDefaultDatabase(){return this.database===rh}isEqual(e){return e instanceof Fo&&e.projectId===this.projectId&&e.database===this.database}}const RE="__type__",Hx="__max__",Mc={mapValue:{}},CE="__vector__",ah="value";function Cr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Bm(r)?4:Fx(r)?9007199254740991:Gx(r)?10:11:Ee(28295,{value:r})}function Xi(r,e){if(r===e)return!0;const i=Cr(r);if(i!==Cr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Go(r).isEqual(Go(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=xr(o.timestampValue),p=xr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return Rr(o.bytesValue).isEqual(Rr(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return kt(o.geoPointValue.latitude)===kt(c.geoPointValue.latitude)&&kt(o.geoPointValue.longitude)===kt(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return kt(o.integerValue)===kt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=kt(o.doubleValue),p=kt(c.doubleValue);return d===p?sh(d)===sh(p):isNaN(d)&&isNaN(p)}return!1})(r,e);case 9:return pl(r.arrayValue.values||[],e.arrayValue.values||[],Xi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(x_(d)!==x_(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Xi(d[y],p[y])))return!1;return!0})(r,e);default:return Ee(52216,{left:r})}}function Qo(r,e){return(r.values||[]).find((i=>Xi(i,e)))!==void 0}function yl(r,e){if(r===e)return 0;const i=Cr(r),a=Cr(e);if(i!==a)return Pe(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Pe(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=kt(c.integerValue||c.doubleValue),y=kt(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,e);case 3:return C_(r.timestampValue,e.timestampValue);case 4:return C_(Go(r),Go(e));case 5:return om(r.stringValue,e.stringValue);case 6:return(function(c,d){const p=Rr(c),y=Rr(d);return p.compareTo(y)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const E=Pe(p[_],y[_]);if(E!==0)return E}return Pe(p.length,y.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Pe(kt(c.latitude),kt(d.latitude));return p!==0?p:Pe(kt(c.longitude),kt(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return I_(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[ah]?.arrayValue,E=y[ah]?.arrayValue,A=Pe(_?.values?.length||0,E?.values?.length||0);return A!==0?A:I_(_,E)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Mc.mapValue&&d===Mc.mapValue)return 0;if(c===Mc.mapValue)return 1;if(d===Mc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},E=Object.keys(_);y.sort(),E.sort();for(let A=0;A<y.length&&A<E.length;++A){const M=om(y[A],E[A]);if(M!==0)return M;const F=yl(p[y[A]],_[E[A]]);if(F!==0)return F}return Pe(y.length,E.length)})(r.mapValue,e.mapValue);default:throw Ee(23264,{he:i})}}function C_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Pe(r,e);const i=xr(r),a=xr(e),o=Pe(i.seconds,a.seconds);return o!==0?o:Pe(i.nanos,a.nanos)}function I_(r,e){const i=r.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=yl(i[o],a[o]);if(c)return c}return Pe(i.length,a.length)}function _l(r){return um(r)}function um(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=xr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Rr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return pe.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=um(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${um(i.fields[d])}`;return o+"}"})(r.mapValue):Ee(61005,{value:r})}function Fc(r){switch(Cr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bh(r);return e?16+Fc(e):16;case 5:return 2*r.stringValue.length;case 6:return Rr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Fc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return Dr(a.fields,((c,d)=>{o+=c.length+Fc(d)})),o})(r.mapValue);default:throw Ee(13486,{value:r})}}function cm(r){return!!r&&"integerValue"in r}function qm(r){return!!r&&"arrayValue"in r}function N_(r){return!!r&&"nullValue"in r}function D_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Qc(r){return!!r&&"mapValue"in r}function Gx(r){return(r?.mapValue?.fields||{})[RE]?.stringValue===CE}function Uo(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Dr(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Uo(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Uo(r.arrayValue.values[i]);return e}return{...r}}function Fx(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Hx}class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Qc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uo(i)}setAll(e){let i=dn.emptyPath(),a={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,o),a={},o=[],i=p.popLast()}d?a[p.lastSegment()]=Uo(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());Qc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Xi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Qc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Dr(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new Mn(Uo(this.value))}}function IE(r){const e=[];return Dr(r.fields,((i,a)=>{const o=new dn([i]);if(Qc(a)){const c=IE(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Gn(e)}class vn{constructor(e,i,a,o,c,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new vn(e,0,Ae.min(),Ae.min(),Ae.min(),Mn.empty(),0)}static newFoundDocument(e,i,a,o){return new vn(e,1,i,Ae.min(),a,o,0)}static newNoDocument(e,i){return new vn(e,2,i,Ae.min(),Ae.min(),Mn.empty(),0)}static newUnknownDocument(e,i){return new vn(e,3,i,Ae.min(),Ae.min(),Mn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class lh{constructor(e,i){this.position=e,this.inclusive=i}}function O_(r,e,i){let a=0;for(let o=0;o<r.position.length;o++){const c=e[o],d=r.position[o];if(c.field.isKeyField()?a=pe.comparator(pe.fromName(d.referenceValue),i.key):a=yl(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function M_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Xi(r.position[i],e.position[i]))return!1;return!0}class oh{constructor(e,i="asc"){this.field=e,this.dir=i}}function Qx(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class NE{}class Zt extends NE{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new Yx(e,i,a):i==="array-contains"?new Wx(e,a):i==="in"?new Zx(e,a):i==="not-in"?new Jx(e,a):i==="array-contains-any"?new e2(e,a):new Zt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new Xx(e,a):new $x(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(yl(i,this.value)):i!==null&&Cr(this.value)===Cr(i)&&this.matchesComparison(yl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $i extends NE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new $i(e,i)}matches(e){return DE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function DE(r){return r.op==="and"}function OE(r){return Kx(r)&&DE(r)}function Kx(r){for(const e of r.filters)if(e instanceof $i)return!1;return!0}function hm(r){if(r instanceof Zt)return r.field.canonicalString()+r.op.toString()+_l(r.value);if(OE(r))return r.filters.map((e=>hm(e))).join(",");{const e=r.filters.map((i=>hm(i))).join(",");return`${r.op}(${e})`}}function ME(r,e){return r instanceof Zt?(function(a,o){return o instanceof Zt&&a.op===o.op&&a.field.isEqual(o.field)&&Xi(a.value,o.value)})(r,e):r instanceof $i?(function(a,o){return o instanceof $i&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,p)=>c&&ME(d,o.filters[p])),!0):!1})(r,e):void Ee(19439)}function VE(r){return r instanceof Zt?(function(i){return`${i.field.canonicalString()} ${i.op} ${_l(i.value)}`})(r):r instanceof $i?(function(i){return i.op.toString()+" {"+i.getFilters().map(VE).join(" ,")+"}"})(r):"Filter"}class Yx extends Zt{constructor(e,i,a){super(e,i,a),this.key=pe.fromName(a.referenceValue)}matches(e){const i=pe.comparator(e.key,this.key);return this.matchesComparison(i)}}class Xx extends Zt{constructor(e,i){super(e,"in",i),this.keys=kE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class $x extends Zt{constructor(e,i){super(e,"not-in",i),this.keys=kE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function kE(r,e){return(e.arrayValue?.values||[]).map((i=>pe.fromName(i.referenceValue)))}class Wx extends Zt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return qm(i)&&Qo(i.arrayValue,this.value)}}class Zx extends Zt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Qo(this.value.arrayValue,i)}}class Jx extends Zt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Qo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Qo(this.value.arrayValue,i)}}class e2 extends Zt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!qm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Qo(this.value.arrayValue,a)))}}class t2{constructor(e,i=null,a=[],o=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function V_(r,e=null,i=[],a=[],o=null,c=null,d=null){return new t2(r,e,i,a,o,c,d)}function Hm(r){const e=xe(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>hm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Eh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>_l(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>_l(a))).join(",")),e.Te=i}return e.Te}function Gm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Qx(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!ME(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!M_(r.startAt,e.startAt)&&M_(r.endAt,e.endAt)}function fm(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Th{constructor(e,i=null,a=[],o=[],c=null,d="F",p=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function n2(r,e,i,a,o,c,d,p){return new Th(r,e,i,a,o,c,d,p)}function Sh(r){return new Th(r)}function k_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function i2(r){return r.collectionGroup!==null}function Lo(r){const e=xe(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Jt(dn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new oh(c,a))})),i.has(dn.keyField().canonicalString())||e.Ie.push(new oh(dn.keyField(),a))}return e.Ie}function Gi(r){const e=xe(r);return e.Ee||(e.Ee=s2(e,Lo(r))),e.Ee}function s2(r,e){if(r.limitType==="F")return V_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new oh(o.field,c)}));const i=r.endAt?new lh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new lh(r.startAt.position,r.startAt.inclusive):null;return V_(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function dm(r,e,i){return new Th(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Ah(r,e){return Gm(Gi(r),Gi(e))&&r.limitType===e.limitType}function jE(r){return`${Hm(Gi(r))}|lt:${r.limitType}`}function rl(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>VE(o))).join(", ")}]`),Eh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>_l(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>_l(o))).join(",")),`Target(${a})`})(Gi(r))}; limitType=${r.limitType})`}function wh(r,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):pe.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,e)&&(function(a,o){for(const c of Lo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(d,p,y){const _=O_(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,Lo(a),o)||a.endAt&&!(function(d,p,y){const _=O_(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,Lo(a),o))})(r,e)}function r2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function UE(r){return(e,i)=>{let a=!1;for(const o of Lo(r)){const c=a2(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function a2(r,e,i){const a=r.field.isKeyField()?pe.comparator(e.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?yl(y,_):Ee(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Ee(19790,{direction:r.dir})}}class da{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Dr(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return bE(this.inner)}size(){return this.innerSize}}const l2=new St(pe.comparator);function Os(){return l2}const LE=new St(pe.comparator);function Oo(...r){let e=LE;for(const i of r)e=e.insert(i.key,i);return e}function PE(r){let e=LE;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function la(){return Po()}function zE(){return Po()}function Po(){return new da((r=>r.toString()),((r,e)=>r.isEqual(e)))}const o2=new St(pe.comparator),u2=new Jt(pe.comparator);function ze(...r){let e=u2;for(const i of r)e=e.add(i);return e}const c2=new Jt(Pe);function h2(){return c2}function Fm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sh(e)?"-0":e}}function BE(r){return{integerValue:""+r}}function f2(r,e){return Lx(e)?BE(e):Fm(r,e)}class xh{constructor(){this._=void 0}}function d2(r,e,i){return r instanceof uh?(function(o,c){const d={fields:{[AE]:{stringValue:SE},[xE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Bm(c)&&(c=bh(c)),c&&(d.fields[wE]=c),{mapValue:d}})(i,e):r instanceof vl?HE(r,e):r instanceof Ko?GE(r,e):(function(o,c){const d=qE(o,c),p=j_(d)+j_(o.Ae);return cm(d)&&cm(o.Ae)?BE(p):Fm(o.serializer,p)})(r,e)}function m2(r,e,i){return r instanceof vl?HE(r,e):r instanceof Ko?GE(r,e):i}function qE(r,e){return r instanceof ch?(function(a){return cm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class uh extends xh{}class vl extends xh{constructor(e){super(),this.elements=e}}function HE(r,e){const i=FE(e);for(const a of r.elements)i.some((o=>Xi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Ko extends xh{constructor(e){super(),this.elements=e}}function GE(r,e){let i=FE(e);for(const a of r.elements)i=i.filter((o=>!Xi(o,a)));return{arrayValue:{values:i}}}class ch extends xh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function j_(r){return kt(r.integerValue||r.doubleValue)}function FE(r){return qm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class g2{constructor(e,i){this.field=e,this.transform=i}}function p2(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof vl&&o instanceof vl||a instanceof Ko&&o instanceof Ko?pl(a.elements,o.elements,Xi):a instanceof ch&&o instanceof ch?Xi(a.Ae,o.Ae):a instanceof uh&&o instanceof uh})(r.transform,e.transform)}class y2{constructor(e,i){this.version=e,this.transformResults=i}}class Fi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Fi}static exists(e){return new Fi(void 0,e)}static updateTime(e){return new Fi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Rh{}function QE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new YE(r.key,Fi.none()):new iu(r.key,r.data,Fi.none());{const i=r.data,a=Mn.empty();let o=new Jt(dn.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new Or(r.key,a,new Gn(o.toArray()),Fi.none())}}function _2(r,e,i){r instanceof iu?(function(o,c,d){const p=o.value.clone(),y=L_(o.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,i):r instanceof Or?(function(o,c,d){if(!Kc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=L_(o.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(KE(o)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function zo(r,e,i,a){return r instanceof iu?(function(c,d,p,y){if(!Kc(c.precondition,d))return p;const _=c.value.clone(),E=P_(c.fieldTransforms,y,d);return _.setAll(E),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,a):r instanceof Or?(function(c,d,p,y){if(!Kc(c.precondition,d))return p;const _=P_(c.fieldTransforms,y,d),E=d.data;return E.setAll(KE(c)),E.setAll(_),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,e,i,a):(function(c,d,p){return Kc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,e,i)}function v2(r,e){let i=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),c=qE(a.transform,o||null);c!=null&&(i===null&&(i=Mn.empty()),i.set(a.field,c))}return i||null}function U_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&pl(a,o,((c,d)=>p2(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class iu extends Rh{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Or extends Rh{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function KE(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function L_(r,e,i){const a=new Map;Ze(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,p=e.data.field(c.field);a.set(c.field,m2(d,p,i[o]))}return a}function P_(r,e,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,d2(c,d,e))}return a}class YE extends Rh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class E2 extends Rh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class b2{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&_2(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=zo(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=zo(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=zE();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const y=QE(d,p);y!==null&&a.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(Ae.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),ze())}isEqual(e){return this.batchId===e.batchId&&pl(this.mutations,e.mutations,((i,a)=>U_(i,a)))&&pl(this.baseMutations,e.baseMutations,((i,a)=>U_(i,a)))}}class Qm{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){Ze(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return o2})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Qm(e,i,a,o)}}class T2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class S2{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ft,Ge;function A2(r){switch(r){case W.OK:return Ee(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function XE(r){if(r===void 0)return Ds("GRPC error has no .code"),W.UNKNOWN;switch(r){case Ft.OK:return W.OK;case Ft.CANCELLED:return W.CANCELLED;case Ft.UNKNOWN:return W.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return W.INTERNAL;case Ft.UNAVAILABLE:return W.UNAVAILABLE;case Ft.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Ft.NOT_FOUND:return W.NOT_FOUND;case Ft.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Ft.ABORTED:return W.ABORTED;case Ft.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Ft.DATA_LOSS:return W.DATA_LOSS;default:return Ee(39323,{code:r})}}(Ge=Ft||(Ft={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";function w2(){return new TextEncoder}const x2=new Tr([4294967295,4294967295],0);function z_(r){const e=w2().encode(r),i=new hE;return i.update(e),new Uint8Array(i.digest())}function B_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Tr([i,a],0),new Tr([o,c],0)]}class Km{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Mo(`Invalid padding: ${i}`);if(a<0)throw new Mo(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Mo(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Mo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Tr.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(Tr.fromNumber(a)));return o.compare(x2)===1&&(o=new Tr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=z_(e),[a,o]=B_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Km(c,o,i);return a.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=z_(e),[a,o]=B_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Mo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ch{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,su.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Ch(Ae.min(),o,new St(Pe),Os(),ze())}}class su{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new su(a,i,ze(),ze(),ze())}}class Yc{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class $E{constructor(e,i){this.targetId=e,this.Ce=i}}class WE{constructor(e,i,a=mn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class q_{constructor(){this.ve=0,this.Fe=H_(),this.Me=mn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),i=ze(),a=ze();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:Ee(38017,{changeType:c})}})),new su(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=H_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class R2{constructor(e){this.Ge=e,this.ze=new Map,this.je=Os(),this.Je=Vc(),this.He=Vc(),this.Ye=new St(Pe)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(fm(c))if(a===0){const d=new pe(c.path);this.et(i,d,vn.newNoDocument(d,Ae.min()))}else Ze(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(e),y=p?this.ct(p,e,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=Rr(a).toUint8Array()}catch(y){if(y instanceof TE)return gl("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Km(d,o,c)}catch(y){return gl(y instanceof Mo?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&fm(p.target)){const y=new pe(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,vn.newNoDocument(y,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=ze();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Ch(e,i,this.Ye,this.je,a);return this.je=Os(),this.Je=Vc(),this.He=Vc(),this.Ye=new St(Pe),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new q_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Jt(Pe),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Jt(Pe),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||oe("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new q_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Vc(){return new St(pe.comparator)}function H_(){return new St(pe.comparator)}const C2={asc:"ASCENDING",desc:"DESCENDING"},I2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},N2={and:"AND",or:"OR"};class D2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function mm(r,e){return r.useProto3Json||Eh(e)?e:{value:e}}function hh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function O2(r,e){return hh(r,e.toTimestamp())}function Qi(r){return Ze(!!r,49232),Ae.fromTimestamp((function(i){const a=xr(i);return new _t(a.seconds,a.nanos)})(r))}function Ym(r,e){return gm(r,e).canonicalString()}function gm(r,e){const i=(function(o){return new Tt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function JE(r){const e=Tt.fromString(r);return Ze(sb(e),10190,{key:e.toString()}),e}function pm(r,e){return Ym(r.databaseId,e.path)}function Qd(r,e){const i=JE(e);if(i.get(1)!==r.databaseId.projectId)throw new fe(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new fe(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new pe(tb(i))}function eb(r,e){return Ym(r.databaseId,e)}function M2(r){const e=JE(r);return e.length===4?Tt.emptyPath():tb(e)}function ym(r){return new Tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function tb(r){return Ze(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function G_(r,e,i){return{name:pm(r,e),fields:i.value.mapValue.fields}}function V2(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ee(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,E){return _.useProto3Json?(Ze(E===void 0||typeof E=="string",58123),mn.fromBase64String(E||"")):(Ze(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),mn.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(_){const E=_.code===void 0?W.UNKNOWN:XE(_.code);return new fe(E,_.message||"")})(d);i=new WE(a,o,c,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Qd(r,a.document.name),c=Qi(a.document.updateTime),d=a.document.createTime?Qi(a.document.createTime):Ae.min(),p=new Mn({mapValue:{fields:a.document.fields}}),y=vn.newFoundDocument(o,c,d,p),_=a.targetIds||[],E=a.removedTargetIds||[];i=new Yc(_,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Qd(r,a.document),c=a.readTime?Qi(a.readTime):Ae.min(),d=vn.newNoDocument(o,c),p=a.removedTargetIds||[];i=new Yc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Qd(r,a.document),c=a.removedTargetIds||[];i=new Yc([],c,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new S2(o,c),p=a.targetId;i=new $E(p,d)}}return i}function k2(r,e){let i;if(e instanceof iu)i={update:G_(r,e.key,e.value)};else if(e instanceof YE)i={delete:pm(r,e.key)};else if(e instanceof Or)i={update:G_(r,e.key,e.data),updateMask:G2(e.fieldMask)};else{if(!(e instanceof E2))return Ee(16599,{Vt:e.type});i={verify:pm(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof uh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof vl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ko)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ch)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Ee(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:O2(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ee(27497)})(r,e.precondition)),i}function j2(r,e){return r&&r.length>0?(Ze(e!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?Qi(o.updateTime):Qi(c);return d.isEqual(Ae.min())&&(d=Qi(c)),new y2(d,o.transformResults||[])})(i,e)))):[]}function U2(r,e){return{documents:[eb(r,e.path)]}}function L2(r,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=eb(r,o);const c=(function(_){if(_.length!==0)return ib($i.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((E=>(function(M){return{field:al(M.field),direction:B2(M.dir)}})(E)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=mm(r,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function P2(r){let e=M2(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Ze(a===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=(function(A){const M=nb(A);return M instanceof $i&&OE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((M=>(function(J){return new oh(ll(J.field),(function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let M;return M=typeof A=="object"?A.value:A,Eh(M)?null:M})(i.limit));let y=null;i.startAt&&(y=(function(A){const M=!!A.before,F=A.values||[];return new lh(F,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const M=!A.before,F=A.values||[];return new lh(F,M)})(i.endAt)),n2(e,o,d,c,p,"F",y,_)}function z2(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function nb(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ll(i.unaryFilter.field);return Zt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=ll(i.unaryFilter.field);return Zt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ll(i.unaryFilter.field);return Zt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ll(i.unaryFilter.field);return Zt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Zt.create(ll(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return $i.create(i.compositeFilter.filters.map((a=>nb(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(i.compositeFilter.op))})(r):Ee(30097,{filter:r})}function B2(r){return C2[r]}function q2(r){return I2[r]}function H2(r){return N2[r]}function al(r){return{fieldPath:r.canonicalString()}}function ll(r){return dn.fromServerFormat(r.fieldPath)}function ib(r){return r instanceof Zt?(function(i){if(i.op==="=="){if(D_(i.value))return{unaryFilter:{field:al(i.field),op:"IS_NAN"}};if(N_(i.value))return{unaryFilter:{field:al(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(D_(i.value))return{unaryFilter:{field:al(i.field),op:"IS_NOT_NAN"}};if(N_(i.value))return{unaryFilter:{field:al(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:al(i.field),op:q2(i.op),value:i.value}}})(r):r instanceof $i?(function(i){const a=i.getFilters().map((o=>ib(o)));return a.length===1?a[0]:{compositeFilter:{op:H2(i.op),filters:a}}})(r):Ee(54877,{filter:r})}function G2(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function sb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class _r{constructor(e,i,a,o,c=Ae.min(),d=Ae.min(),p=mn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new _r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class F2{constructor(e){this.yt=e}}function Q2(r){const e=P2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?dm(e,e.limit,"L"):e}class K2{constructor(){this.Cn=new Y2}addToCollectionParentIndex(e,i){return this.Cn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(wr.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(wr.min())}updateCollectionGroup(e,i,a){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class Y2{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Jt(Tt.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Jt(Tt.comparator)).toArray()}}const F_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rb=41943040;class On{static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(rb,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);class El{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new El(0)}static cr(){return new El(-1)}}const Q_="LruGarbageCollector",X2=1048576;function K_([r,e],[i,a]){const o=Pe(r,i);return o===0?Pe(e,a):o}class $2{constructor(e){this.Ir=e,this.buffer=new Jt(K_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();K_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class W2{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(Q_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Cl(i)?oe(Q_,"Ignoring IndexedDB error during garbage collection: ",i):await Rl(i)}await this.Vr(3e5)}))}}class Z2{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(vh.ce);const a=new $2(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(F_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),F_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,c,d,p,y,_;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(a=A,p=Date.now(),this.removeTargets(e,a,i)))).next((A=>(c=A,y=Date.now(),this.removeOrphanedDocuments(e,a)))).next((A=>(_=Date.now(),sl()<=Le.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${A} documents in `+(_-y)+`ms
Total Duration: ${_-E}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A}))))}}function J2(r,e){return new Z2(r,e)}class eR{constructor(){this.changes=new da((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class tR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class nR{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&zo(a.mutation,o,Gn.empty(),_t.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,ze()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=ze()){const o=la();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=Oo();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=la();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,ze())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,a,o){let c=Os();const d=Po(),p=(function(){return Po()})();return i.forEach(((y,_)=>{const E=a.get(_.key);o.has(_.key)&&(E===void 0||E.mutation instanceof Or)?c=c.insert(_.key,_):E!==void 0?(d.set(_.key,E.mutation.getFieldMask()),zo(E.mutation,_,E.mutation.getFieldMask(),_t.now())):d.set(_.key,Gn.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((_,E)=>d.set(_,E))),i.forEach(((_,E)=>p.set(_,new tR(E,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,i){const a=Po();let o=new St(((d,p)=>d-p)),c=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let E=a.get(y)||Gn.empty();E=p.applyToLocalView(_,E),a.set(y,E);const A=(o.get(p.batchId)||ze()).add(y);o=o.insert(p.batchId,A)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,E=y.value,A=zE();E.forEach((M=>{if(!c.has(M)){const F=QE(i.get(M),a.get(M));F!==null&&A.set(M,F),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,A))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return pe.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):i2(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):$.resolve(la());let p=Ho,y=c;return d.next((_=>$.forEach(_,((E,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(E)?$.resolve():this.remoteDocumentCache.getEntry(e,E).next((M=>{y=y.insert(E,M)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,y,_,ze()))).next((E=>({batchId:p,changes:PE(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pe(i)).next((a=>{let o=Oo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=Oo();return this.indexManager.getCollectionParents(e,c).next((p=>$.forEach(p,(y=>{const _=(function(A,M){return new Th(M,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((E=>{E.forEach(((A,M)=>{d=d.insert(A,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((y,_)=>{const E=_.getKey();d.get(E)===null&&(d=d.insert(E,vn.newInvalidDocument(E)))}));let p=Oo();return d.forEach(((y,_)=>{const E=c.get(y);E!==void 0&&zo(E.mutation,_,Gn.empty(),_t.now()),wh(i,_)&&(p=p.insert(y,_))})),p}))}}class iR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Qi(o.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:Q2(o.bundledQuery),readTime:Qi(o.readTime)}})(i)),$.resolve()}}class sR{constructor(){this.overlays=new St(pe.comparator),this.qr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const a=la();return $.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.St(e,i,c)})),$.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(e,i,a){const o=la(),c=i.length+1,d=new pe(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&o.set(y.getKey(),y)}return $.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new St(((_,E)=>_-E));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let E=c.get(_.largestBatchId);E===null&&(E=la(),c=c.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const p=la(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,E)=>p.set(_,E))),!(p.size()>=o)););return $.resolve(p)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new T2(i,a));let c=this.qr.get(i);c===void 0&&(c=ze(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class rR{constructor(){this.sessionToken=mn.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}class Xm{constructor(){this.Qr=new Jt(sn.$r),this.Ur=new Jt(sn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new sn(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new sn(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new pe(new Tt([])),a=new sn(i,e),o=new sn(i,e+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new pe(new Tt([])),a=new sn(i,e),o=new sn(i,e+1);let c=ze();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new sn(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class sn{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return pe.comparator(e.key,i.key)||Pe(e.Yr,i.Yr)}static Kr(e,i){return Pe(e.Yr,i.Yr)||pe.comparator(e.key,i.key)}}class aR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Jt(sn.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new b2(c,i,a,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new sn(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?zm:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new sn(i,0),o=new sn(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const p=this.Xr(d.Yr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Jt(Pe);return i.forEach((o=>{const c=new sn(o,0),d=new sn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;pe.isDocumentKey(c)||(c=c.child(""));const d=new sn(new pe(c),0);let p=new Jt(Pe);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(p=p.add(y.Yr)),!0)}),d),$.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Ze(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(o=>{const c=new sn(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new sn(i,0),o=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class lR{constructor(e){this.ri=e,this.docs=(function(){return new St(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():vn.newInvalidDocument(i))}getEntries(e,i){let a=Os();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():vn.newInvalidDocument(o))})),$.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=Os();const d=i.path,p=new pe(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:E}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Vx(Mx(E),a)<=0||(o.has(E.key)||wh(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,i,a,o){Ee(9500)}ii(e,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new oR(this)}getSize(e){return $.resolve(this.size)}}class oR extends eR{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class uR{constructor(e){this.persistence=e,this.si=new da((i=>Hm(i)),Gm),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new Xm,this.targetCount=0,this.ai=El.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new El(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.Pr(i),$.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),$.waitFor(c).next((()=>o))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(e,i){return $.resolve(this._i.containsKey(i))}}class ab{constructor(e,i){this.ui={},this.overlays={},this.ci=new vh(0),this.li=!1,this.li=!0,this.hi=new rR,this.referenceDelegate=e(this),this.Pi=new uR(this),this.indexManager=new K2,this.remoteDocumentCache=(function(o){return new lR(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new F2(i),this.Ii=new iR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new sR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new aR(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){oe("MemoryPersistence","Starting transaction:",e);const o=new cR(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class cR extends jx{constructor(e){super(),this.currentSequenceNumber=e}}class $m{constructor(e){this.persistence=e,this.Ri=new Xm,this.Vi=null}static mi(e){return new $m(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const o=pe.fromPath(a);return this.gi(e,o).next((c=>{c||i.removeEntry(o,Ae.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class fh{constructor(e,i){this.persistence=e,this.pi=new da((a=>Px(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=J2(this,i)}static mi(e,i){return new fh(e,i)}Ei(){}di(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return $.forEach(this.pi,((a,o)=>this.br(e,a,o).next((c=>c?$.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((p=>{p||(a++,c.removeEntry(d,Ae.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Fc(e.data.value)),i}br(e,i,a){return $.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return $.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Wm{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=ze(),o=ze();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Wm(e,i.fromCache,a,o)}}class hR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class fR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Z1()?8:Ux(En())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new hR;return this.Ss(e,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>c.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(sl()<=Le.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",rl(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(sl()<=Le.DEBUG&&oe("QueryEngine","Query:",rl(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(sl()<=Le.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",rl(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gi(i))):$.resolve())}ys(e,i){if(k_(i))return $.resolve(null);let a=Gi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=dm(i,null,"F"),a=Gi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=ze(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(e,dm(i,null,"F")):this.vs(e,_,i,y)}))))})))))}ws(e,i,a,o){return k_(i)||o.isEqual(Ae.min())?$.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?$.resolve(null):(sl()<=Le.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),rl(i)),this.vs(e,d,i,Ox(o,Ho)).next((p=>p)))}))}Ds(e,i){let a=new Jt(UE(e));return i.forEach(((o,c)=>{wh(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,a){return sl()<=Le.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",rl(i)),this.ps.getDocumentsMatchingQuery(e,i,wr.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Zm="LocalStore",dR=3e8;class mR{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new St(Pe),this.xs=new da((c=>Hm(c)),Gm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function gR(r,e,i,a){return new mR(r,e,i,a)}async function lb(r,e){const i=xe(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=ze();for(const _ of o){d.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}for(const _ of c){p.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function pR(r,e){const i=xe(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,E){const A=_.batch,M=A.keys();let F=$.resolve();return M.forEach((J=>{F=F.next((()=>E.getEntry(y,J))).next((ne=>{const ee=_.docVersions.get(J);Ze(ee!==null,48541),ne.version.compareTo(ee)<0&&(A.applyToRemoteDocument(ne,_),ne.isValidDocument()&&(ne.setReadTime(_.commitVersion),E.addEntry(ne)))}))})),F.next((()=>p.mutationQueue.removeMutationBatch(y,A)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=ze();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function ob(r){const e=xe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function yR(r,e){const i=xe(r),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach(((E,A)=>{const M=o.get(A);if(!M)return;p.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,A))));let F=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?F=F.withResumeToken(mn.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):E.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(E.resumeToken,a)),o=o.insert(A,F),(function(ne,ee,_e){return ne.resumeToken.approximateByteSize()===0||ee.snapshotVersion.toMicroseconds()-ne.snapshotVersion.toMicroseconds()>=dR?!0:_e.addedDocuments.size+_e.modifiedDocuments.size+_e.removedDocuments.size>0})(M,F,E)&&p.push(i.Pi.updateTargetData(c,F))}));let y=Os(),_=ze();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),p.push(_R(c,d,e.documentUpdates).next((E=>{y=E.ks,_=E.qs}))),!a.isEqual(Ae.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(E)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=o,c)))}function _R(r,e,i){let a=ze(),o=ze();return i.forEach((c=>a=a.add(c))),e.getEntries(r,a).next((c=>{let d=Os();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),y.isNoDocument()&&y.version.isEqual(Ae.min())?(e.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(p,y)):oe(Zm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:o}}))}function vR(r,e){const i=xe(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=zm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function ER(r,e){const i=xe(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((c=>c?(o=c,$.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new _r(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function _m(r,e,i){const a=xe(r),o=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Cl(d))throw d;oe(Zm,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function Y_(r,e,i){const a=xe(r);let o=Ae.min(),c=ze();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,E){const A=xe(y),M=A.xs.get(E);return M!==void 0?$.resolve(A.Ms.get(M)):A.Pi.getTargetData(_,E)})(a,d,Gi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:Ae.min(),i?c:ze()))).next((p=>(bR(a,r2(e),p),{documents:p,Qs:c})))))}function bR(r,e,i){let a=r.Os.get(e)||Ae.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(e,a)}class X_{constructor(){this.activeTargetIds=h2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TR{constructor(){this.Mo=new X_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new X_,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class SR{Oo(e){}shutdown(){}}const $_="ConnectivityMonitor";class W_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe($_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe($_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let kc=null;function vm(){return kc===null?kc=(function(){return 268435456+Math.round(2147483648*Math.random())})():kc++,"0x"+kc.toString(16)}const Kd="RestConnection",AR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===rh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,c){const d=vm(),p=this.zo(e,i.toUriEncodedString());oe(Kd,`Sending RPC '${e}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:_}=new URL(p),E=Sl(_);return this.Jo(e,p,y,a,E).then((A=>(oe(Kd,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw gl(Kd,`RPC '${e}' ${d} failed with error: `,A,"url: ",p,"request:",a),A}))}Ho(e,i,a,o,c,d){return this.Go(e,i,a,o,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+xl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const a=AR[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class xR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const yn="WebChannelConnection";class RR extends wR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,c){const d=vm();return new Promise(((p,y)=>{const _=new fE;_.setWithCredentials(!0),_.listenOnce(dE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Gc.NO_ERROR:const A=_.getResponseJson();oe(yn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),p(A);break;case Gc.TIMEOUT:oe(yn,`RPC '${e}' ${d} timed out`),y(new fe(W.DEADLINE_EXCEEDED,"Request time out"));break;case Gc.HTTP_ERROR:const M=_.getStatus();if(oe(yn,`RPC '${e}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const J=F?.error;if(J&&J.status&&J.message){const ne=(function(_e){const Re=_e.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(Re)>=0?Re:W.UNKNOWN})(J.status);y(new fe(ne,J.message))}else y(new fe(W.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new fe(W.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{oe(yn,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(o);oe(yn,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",E,a,15)}))}T_(e,i,a){const o=vm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=pE(),p=gE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const E=c.join("");oe(yn,`Creating RPC '${e}' stream ${o}: ${E}`,y);const A=d.createWebChannel(E,y);this.I_(A);let M=!1,F=!1;const J=new xR({Yo:ee=>{F?oe(yn,`Not sending because RPC '${e}' stream ${o} is closed:`,ee):(M||(oe(yn,`Opening RPC '${e}' stream ${o} transport.`),A.open(),M=!0),oe(yn,`RPC '${e}' stream ${o} sending:`,ee),A.send(ee))},Zo:()=>A.close()}),ne=(ee,_e,Re)=>{ee.listen(_e,(be=>{try{Re(be)}catch(ge){setTimeout((()=>{throw ge}),0)}}))};return ne(A,Do.EventType.OPEN,(()=>{F||(oe(yn,`RPC '${e}' stream ${o} transport opened.`),J.o_())})),ne(A,Do.EventType.CLOSE,(()=>{F||(F=!0,oe(yn,`RPC '${e}' stream ${o} transport closed`),J.a_(),this.E_(A))})),ne(A,Do.EventType.ERROR,(ee=>{F||(F=!0,gl(yn,`RPC '${e}' stream ${o} transport errored. Name:`,ee.name,"Message:",ee.message),J.a_(new fe(W.UNAVAILABLE,"The operation could not be completed")))})),ne(A,Do.EventType.MESSAGE,(ee=>{if(!F){const _e=ee.data[0];Ze(!!_e,16349);const Re=_e,be=Re?.error||Re[0]?.error;if(be){oe(yn,`RPC '${e}' stream ${o} received error:`,be);const ge=be.status;let Xe=(function(w){const C=Ft[w];if(C!==void 0)return XE(C)})(ge),Be=be.message;Xe===void 0&&(Xe=W.INTERNAL,Be="Unknown error status: "+ge+" with message "+be.message),F=!0,J.a_(new fe(Xe,Be)),A.close()}else oe(yn,`RPC '${e}' stream ${o} received:`,_e),J.u_(_e)}})),ne(p,mE.STAT_EVENT,(ee=>{ee.stat===lm.PROXY?oe(yn,`RPC '${e}' stream ${o} detected buffering proxy`):ee.stat===lm.NOPROXY&&oe(yn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Yd(){return typeof document<"u"?document:null}function Ih(r){return new D2(r,!0)}class ub{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Z_="PersistentStream";class cb{constructor(e,i,a,o,c,d,p,y){this.Mi=e,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ub(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===W.RESOURCE_EXHAUSTED?(Ds(i.toString()),Ds("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new fe(W.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(Z_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(oe(Z_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class CR extends cb{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=V2(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Ae.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ae.min():d.readTime?Qi(d.readTime):Ae.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=ym(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=fm(y)?{documents:U2(c,y)}:{query:L2(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=ZE(c,d.resumeToken);const _=mm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Ae.min())>0){p.readTime=hh(c,d.snapshotVersion.toTimestamp());const _=mm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const a=z2(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=ym(this.serializer),i.removeTarget=e,this.q_(i)}}class IR extends cb{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=j2(e.writeResults,e.commitTime),a=Qi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=ym(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>k2(this.serializer,a)))};this.q_(i)}}class NR{}class DR extends NR{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,gm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(W.UNKNOWN,c.toString())}))}Ho(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,gm(i,a),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new fe(W.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class OR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ds(i),this.aa=!1):oe("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const fa="RemoteStore";class MR{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ma(this)&&(oe(fa,"Restarting streams for network reachability change."),await(async function(y){const _=xe(y);_.Ea.add(4),await ru(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Nh(_)})(this))}))})),this.Ra=new OR(a,o)}}async function Nh(r){if(ma(r))for(const e of r.da)await e(!0)}async function ru(r){for(const e of r.da)await e(!1)}function hb(r,e){const i=xe(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),ng(i)?tg(i):Il(i).O_()&&eg(i,e))}function Jm(r,e){const i=xe(r),a=Il(i);i.Ia.delete(e),a.O_()&&fb(i,e),i.Ia.size===0&&(a.O_()?a.L_():ma(i)&&i.Ra.set("Unknown"))}function eg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Il(r).Y_(e)}function fb(r,e){r.Va.Ue(e),Il(r).Z_(e)}function tg(r){r.Va=new R2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Il(r).start(),r.Ra.ua()}function ng(r){return ma(r)&&!Il(r).x_()&&r.Ia.size>0}function ma(r){return xe(r).Ea.size===0}function db(r){r.Va=void 0}async function VR(r){r.Ra.set("Online")}async function kR(r){r.Ia.forEach(((e,i)=>{eg(r,e)}))}async function jR(r,e){db(r),ng(r)?(r.Ra.ha(e),tg(r)):r.Ra.set("Unknown")}async function UR(r,e,i){if(r.Ra.set("Online"),e instanceof WE&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(r,e)}catch(a){oe(fa,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await dh(r,a)}else if(e instanceof Yc?r.Va.Ze(e):e instanceof $E?r.Va.st(e):r.Va.tt(e),!i.isEqual(Ae.min()))try{const a=await ob(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const E=c.Ia.get(_);E&&c.Ia.set(_,E.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const E=c.Ia.get(y);if(!E)return;c.Ia.set(y,E.withResumeToken(mn.EMPTY_BYTE_STRING,E.snapshotVersion)),fb(c,y);const A=new _r(E.target,y,_,E.sequenceNumber);eg(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){oe(fa,"Failed to raise snapshot:",a),await dh(r,a)}}async function dh(r,e,i){if(!Cl(e))throw e;r.Ea.add(1),await ru(r),r.Ra.set("Offline"),i||(i=()=>ob(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{oe(fa,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Nh(r)}))}function mb(r,e){return e().catch((i=>dh(r,i,e)))}async function Dh(r){const e=xe(r),i=Ir(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:zm;for(;LR(e);)try{const o=await vR(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,PR(e,o)}catch(o){await dh(e,o)}gb(e)&&pb(e)}function LR(r){return ma(r)&&r.Ta.length<10}function PR(r,e){r.Ta.push(e);const i=Ir(r);i.O_()&&i.X_&&i.ea(e.mutations)}function gb(r){return ma(r)&&!Ir(r).x_()&&r.Ta.length>0}function pb(r){Ir(r).start()}async function zR(r){Ir(r).ra()}async function BR(r){const e=Ir(r);for(const i of r.Ta)e.ea(i.mutations)}async function qR(r,e,i){const a=r.Ta.shift(),o=Qm.from(a,e,i);await mb(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Dh(r)}async function HR(r,e){e&&Ir(r).X_&&await(async function(a,o){if((function(d){return A2(d)&&d!==W.ABORTED})(o.code)){const c=a.Ta.shift();Ir(a).B_(),await mb(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Dh(a)}})(r,e),gb(r)&&pb(r)}async function J_(r,e){const i=xe(r);i.asyncQueue.verifyOperationInProgress(),oe(fa,"RemoteStore received new credentials");const a=ma(i);i.Ea.add(3),await ru(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Nh(i)}async function GR(r,e){const i=xe(r);e?(i.Ea.delete(2),await Nh(i)):e||(i.Ea.add(2),await ru(i),i.Ra.set("Unknown"))}function Il(r){return r.ma||(r.ma=(function(i,a,o){const c=xe(i);return c.sa(),new CR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:VR.bind(null,r),t_:kR.bind(null,r),r_:jR.bind(null,r),H_:UR.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),ng(r)?tg(r):r.Ra.set("Unknown")):(await r.ma.stop(),db(r))}))),r.ma}function Ir(r){return r.fa||(r.fa=(function(i,a,o){const c=xe(i);return c.sa(),new IR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:zR.bind(null,r),r_:HR.bind(null,r),ta:BR.bind(null,r),na:qR.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Dh(r)):(await r.fa.stop(),r.Ta.length>0&&(oe(fa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class ig{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new Sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,p=new ig(e,i,d,o,c);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sg(r,e){if(Ds("AsyncQueue",`${e}: ${r}`),Cl(r))return new fe(W.UNAVAILABLE,`${e}: ${r}`);throw r}class fl{static emptySet(e){return new fl(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||pe.comparator(i.key,a.key):(i,a)=>pe.comparator(i.key,a.key),this.keyedMap=Oo(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof fl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new fl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class ev{constructor(){this.ga=new St(pe.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class bl{constructor(e,i,a,o,c,d,p,y,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new bl(e,i,fl.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ah(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class FR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class QR{constructor(){this.queries=tv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=xe(i),c=o.queries;o.queries=tv(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new fe(W.ABORTED,"Firestore shutting down"))}}function tv(){return new da((r=>jE(r)),Ah)}async function yb(r,e){const i=xe(r);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(a=2):(c=new FR,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=sg(d,`Initialization of query '${rl(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&rg(i)}async function _b(r,e){const i=xe(r),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function KR(r,e){const i=xe(r);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(o)&&(a=!0);d.wa=o}}a&&rg(i)}function YR(r,e,i){const a=xe(r),o=a.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(e)}function rg(r){r.Ca.forEach((e=>{e.next()}))}var Em,nv;(nv=Em||(Em={})).Ma="default",nv.Cache="cache";class vb{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new bl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=bl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Em.Cache}}class Eb{constructor(e){this.key=e}}class bb{constructor(e){this.key=e}}class XR{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=UE(e),this.tu=new fl(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new ev,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,A)=>{const M=o.get(E),F=wh(this.query,A)?A:null,J=!!M&&this.mutatedKeys.has(M.key),ne=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let ee=!1;M&&F?M.data.isEqual(F.data)?J!==ne&&(a.track({type:3,doc:F}),ee=!0):this.su(M,F)||(a.track({type:2,doc:F}),ee=!0,(y&&this.eu(F,y)>0||_&&this.eu(F,_)<0)&&(p=!0)):!M&&F?(a.track({type:0,doc:F}),ee=!0):M&&!F&&(a.track({type:1,doc:M}),ee=!0,(y||_)&&(p=!0)),ee&&(F?(d=d.add(F),c=ne?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,A)=>(function(F,J){const ne=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:ee})}};return ne(F)-ne(J)})(E.type,A.type)||this.eu(E.doc,A.doc))),this.ou(a),o=o??!1;const p=i&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new bl(this.query,e.tu,c,d,e.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ev,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new bb(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new Eb(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=ze();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return bl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ag="SyncEngine";class $R{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class WR{constructor(e){this.key=e,this.hu=!1}}class ZR{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new da((p=>jE(p)),Ah),this.Iu=new Map,this.Eu=new Set,this.du=new St(pe.comparator),this.Au=new Map,this.Ru=new Xm,this.Vu={},this.mu=new Map,this.fu=El.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function JR(r,e,i=!0){const a=Rb(r);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await Tb(a,e,i,!0),o}async function eC(r,e){const i=Rb(r);await Tb(i,e,!0,!1)}async function Tb(r,e,i,a){const o=await ER(r.localStore,Gi(e)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await tC(r,e,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&hb(r.remoteStore,o),p}async function tC(r,e,i,a,o){r.pu=(A,M,F)=>(async function(ne,ee,_e,Re){let be=ee.view.ru(_e);be.Cs&&(be=await Y_(ne.localStore,ee.query,!1).then((({documents:I})=>ee.view.ru(I,be))));const ge=Re&&Re.targetChanges.get(ee.targetId),Xe=Re&&Re.targetMismatches.get(ee.targetId)!=null,Be=ee.view.applyChanges(be,ne.isPrimaryClient,ge,Xe);return sv(ne,ee.targetId,Be.au),Be.snapshot})(r,A,M,F);const c=await Y_(r.localStore,e,!0),d=new XR(e,c.Qs),p=d.ru(c.documents),y=su.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),_=d.applyChanges(p,r.isPrimaryClient,y);sv(r,i,_.au);const E=new $R(e,i,d);return r.Tu.set(e,E),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function nC(r,e,i){const a=xe(r),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!Ah(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await _m(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Jm(a.remoteStore,o.targetId),bm(a,o.targetId)})).catch(Rl)):(bm(a,o.targetId),await _m(a.localStore,o.targetId,!0))}async function iC(r,e){const i=xe(r),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Jm(i.remoteStore,a.targetId))}async function sC(r,e,i){const a=hC(r);try{const o=await(function(d,p){const y=xe(d),_=_t.now(),E=p.reduce(((F,J)=>F.add(J.key)),ze());let A,M;return y.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let J=Os(),ne=ze();return y.Ns.getEntries(F,E).next((ee=>{J=ee,J.forEach(((_e,Re)=>{Re.isValidDocument()||(ne=ne.add(_e))}))})).next((()=>y.localDocuments.getOverlayedDocuments(F,J))).next((ee=>{A=ee;const _e=[];for(const Re of p){const be=v2(Re,A.get(Re.key).overlayedDocument);be!=null&&_e.push(new Or(Re.key,be,IE(be.value.mapValue),Fi.exists(!0)))}return y.mutationQueue.addMutationBatch(F,_,_e,p)})).next((ee=>{M=ee;const _e=ee.applyToLocalDocumentSet(A,ne);return y.documentOverlayCache.saveOverlays(F,ee.batchId,_e)}))})).then((()=>({batchId:M.batchId,changes:PE(A)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new St(Pe)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,o.batchId,i),await au(a,o.changes),await Dh(a.remoteStore)}catch(o){const c=sg(o,"Failed to persist write");i.reject(c)}}async function Sb(r,e){const i=xe(r);try{const a=await yR(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ze(d.hu,14607):o.removedDocuments.size>0&&(Ze(d.hu,42227),d.hu=!1))})),await au(i,a,e)}catch(a){await Rl(a)}}function iv(r,e,i){const a=xe(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const y=xe(d);y.onlineState=p;let _=!1;y.queries.forEach(((E,A)=>{for(const M of A.Sa)M.va(p)&&(_=!0)})),_&&rg(y)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function rC(r,e,i){const a=xe(r);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new St(pe.comparator);d=d.insert(c,vn.newNoDocument(c,Ae.min()));const p=ze().add(c),y=new Ch(Ae.min(),new Map,new St(Pe),d,p);await Sb(a,y),a.du=a.du.remove(c),a.Au.delete(e),lg(a)}else await _m(a.localStore,e,!1).then((()=>bm(a,e,i))).catch(Rl)}async function aC(r,e){const i=xe(r),a=e.batch.batchId;try{const o=await pR(i.localStore,e);wb(i,a,null),Ab(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await au(i,o)}catch(o){await Rl(o)}}async function lC(r,e,i){const a=xe(r);try{const o=await(function(d,p){const y=xe(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let E;return y.mutationQueue.lookupMutationBatch(_,p).next((A=>(Ze(A!==null,37113),E=A.keys(),y.mutationQueue.removeMutationBatch(_,A)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,E,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E))).next((()=>y.localDocuments.getDocuments(_,E)))}))})(a.localStore,e);wb(a,e,i),Ab(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await au(a,o)}catch(o){await Rl(o)}}function Ab(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function wb(r,e,i){const a=xe(r);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function bm(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||xb(r,a)}))}function xb(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Jm(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),lg(r))}function sv(r,e,i){for(const a of i)a instanceof Eb?(r.Ru.addReference(a.key,e),oC(r,a)):a instanceof bb?(oe(ag,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||xb(r,a.key)):Ee(19791,{wu:a})}function oC(r,e){const i=e.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(oe(ag,"New document in limbo: "+i),r.Eu.add(a),lg(r))}function lg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new pe(Tt.fromString(e)),a=r.fu.next();r.Au.set(a,new WR(i)),r.du=r.du.insert(i,a),hb(r.remoteStore,new _r(Gi(Sh(i.path)),a,"TargetPurposeLimboResolution",vh.ce))}}async function au(r,e,i){const a=xe(r),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const E=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(_){o.push(_);const E=Wm.As(y.targetId,_);c.push(E)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(y,_){const E=xe(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>$.forEach(_,(M=>$.forEach(M.Es,(F=>E.persistence.referenceDelegate.addReference(A,M.targetId,F))).next((()=>$.forEach(M.ds,(F=>E.persistence.referenceDelegate.removeReference(A,M.targetId,F)))))))))}catch(A){if(!Cl(A))throw A;oe(Zm,"Failed to update sequence numbers: "+A)}for(const A of _){const M=A.targetId;if(!A.fromCache){const F=E.Ms.get(M),J=F.snapshotVersion,ne=F.withLastLimboFreeSnapshotVersion(J);E.Ms=E.Ms.insert(M,ne)}}})(a.localStore,c))}async function uC(r,e){const i=xe(r);if(!i.currentUser.isEqual(e)){oe(ag,"User change. New user:",e.toKey());const a=await lb(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new fe(W.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await au(i,a.Ls)}}function cC(r,e){const i=xe(r),a=i.Au.get(e);if(a&&a.hu)return ze().add(a.key);{let o=ze();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function Rb(r){const e=xe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Sb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rC.bind(null,e),e.Pu.H_=KR.bind(null,e.eventManager),e.Pu.yu=YR.bind(null,e.eventManager),e}function hC(r){const e=xe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lC.bind(null,e),e}class mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ih(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return gR(this.persistence,new fR,e.initialUser,this.serializer)}Cu(e){return new ab($m.mi,this.serializer)}Du(e){return new TR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mh.provider={build:()=>new mh};class fC extends mh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ze(this.persistence.referenceDelegate instanceof fh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new W2(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new ab((a=>fh.mi(a,i)),this.serializer)}}class Tm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>iv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=uC.bind(null,this.syncEngine),await GR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new QR})()}createDatastore(e){const i=Ih(e.databaseInfo.databaseId),a=(function(c){return new RR(c)})(e.databaseInfo);return(function(c,d,p,y){return new DR(c,d,p,y)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,p){return new MR(a,o,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>iv(this.syncEngine,i,0)),(function(){return W_.v()?new W_:new SR})())}createSyncEngine(e,i){return(function(o,c,d,p,y,_,E){const A=new ZR(o,c,d,p,y,_);return E&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=xe(i);oe(fa,"RemoteStore shutting down."),a.Ea.add(5),await ru(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Tm.provider={build:()=>new Tm};class Cb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ds("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Nr="FirestoreClient";class dC{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=_n.UNAUTHENTICATED,this.clientId=Lm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{oe(Nr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(oe(Nr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=sg(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Xd(r,e){r.asyncQueue.verifyOperationInProgress(),oe(Nr,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await lb(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function rv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await mC(r);oe(Nr,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>J_(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>J_(e.remoteStore,o))),r._onlineComponents=e}async function mC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){oe(Nr,"Using user provided OfflineComponentProvider");try{await Xd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;gl("Error using user provided cache. Falling back to memory cache: "+i),await Xd(r,new mh)}}else oe(Nr,"Using default OfflineComponentProvider"),await Xd(r,new fC(void 0));return r._offlineComponents}async function Ib(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(oe(Nr,"Using user provided OnlineComponentProvider"),await rv(r,r._uninitializedComponentsProvider._online)):(oe(Nr,"Using default OnlineComponentProvider"),await rv(r,new Tm))),r._onlineComponents}function gC(r){return Ib(r).then((e=>e.syncEngine))}async function Sm(r){const e=await Ib(r),i=e.eventManager;return i.onListen=JR.bind(null,e.syncEngine),i.onUnlisten=nC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=eC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=iC.bind(null,e.syncEngine),i}function pC(r,e,i={}){const a=new Sr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const E=new Cb({next:M=>{E.Nu(),d.enqueueAndForget((()=>_b(c,A)));const F=M.docs.has(p);!F&&M.fromCache?_.reject(new fe(W.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&y&&y.source==="server"?_.reject(new fe(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),A=new vb(Sh(p.path),E,{includeMetadataChanges:!0,qa:!0});return yb(c,A)})(await Sm(r),r.asyncQueue,e,i,a))),a.promise}function Nb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const av=new Map;const Db="firestore.googleapis.com",lv=!0;class ov{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Db,this.ssl=lv}else this.host=e.host,this.ssl=e.ssl??lv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=rb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<X2)throw new fe(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Dx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Nb(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new fe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new fe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new fe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class og{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ov({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ov(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Ex;switch(a.type){case"firstParty":return new Ax(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new fe(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=av.get(i);a&&(oe("ComponentProvider","Removing Datastore"),av.delete(i),a.terminate())})(this),Promise.resolve()}}function yC(r,e,i,a={}){r=Hi(r,og);const o=Sl(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${i}`;o&&(xv(`https://${p}`),Rv("Firestore",!0)),c.host!==Db&&c.host!==p&&gl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:o,emulatorOptions:a};if(!Ar(y,d)&&(r._setSettings(y),a.mockUserToken)){let _,E;if(typeof a.mockUserToken=="string")_=a.mockUserToken,E=_n.MOCK_USER;else{_=H1(a.mockUserToken,r._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new fe(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new _n(A)}r._authCredentials=new bx(new _E(_,E))}}class Oh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Oh(this.firestore,e,this._query)}}class Kt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}toJSON(){return{type:Kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(nu(i,Kt._jsonSchema))return new Kt(e,a||null,new pe(Tt.fromString(i.referencePath)))}}Kt._jsonSchemaVersion="firestore/documentReference/1.0",Kt._jsonSchema={type:Qt("string",Kt._jsonSchemaVersion),referencePath:Qt("string")};class Yo extends Oh{constructor(e,i,a){super(e,i,Sh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new pe(e))}withConverter(e){return new Yo(this.firestore,e,this._path)}}function Xt(r,e,...i){if(r=Sn(r),arguments.length===1&&(e=Lm.newId()),Nx("doc","path",e),r instanceof og){const a=Tt.fromString(e,...i);return T_(a),new Kt(r,null,new pe(a))}{if(!(r instanceof Kt||r instanceof Yo))throw new fe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Tt.fromString(e,...i));return T_(a),new Kt(r.firestore,r instanceof Yo?r.converter:null,new pe(a))}}const uv="AsyncQueue";class cv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ub(this,"async_queue_retry"),this._c=()=>{const a=Yd();a&&oe(uv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Yd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Yd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Sr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Cl(e))throw e;oe(uv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Ds("INTERNAL UNHANDLED ERROR: ",hv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=ig.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:hv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function hv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function fv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Tl extends og{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new cv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cv(e),this._firestoreClient=void 0,await e}}}function _C(r,e){const i=typeof r=="object"?r:Dv(),a=typeof r=="string"?r:rh,o=Cm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=B1("firestore");c&&yC(o,...c)}return o}function ug(r){if(r._terminated)throw new fe(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||vC(r),r._firestoreClient}function vC(r){const e=r._freezeSettings(),i=(function(o,c,d,p){return new qx(o,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Nb(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new dC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class ai{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ai(mn.fromBase64String(e))}catch(i){throw new fe(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ai(mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ai._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(nu(e,ai._jsonSchema))return ai.fromBase64String(e.bytes)}}ai._jsonSchemaVersion="firestore/bytes/1.0",ai._jsonSchema={type:Qt("string",ai._jsonSchemaVersion),bytes:Qt("string")};class Mh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new fe(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Vh{constructor(e){this._methodName=e}}class Ki{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new fe(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new fe(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ki._jsonSchemaVersion}}static fromJSON(e){if(nu(e,Ki._jsonSchema))return new Ki(e.latitude,e.longitude)}}Ki._jsonSchemaVersion="firestore/geoPoint/1.0",Ki._jsonSchema={type:Qt("string",Ki._jsonSchemaVersion),latitude:Qt("number"),longitude:Qt("number")};class Yi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Yi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(nu(e,Yi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Yi(e.vectorValues);throw new fe(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Yi._jsonSchemaVersion="firestore/vectorValue/1.0",Yi._jsonSchema={type:Qt("string",Yi._jsonSchemaVersion),vectorValues:Qt("object")};const EC=/^__.*__$/;class bC{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Or(e,this.data,this.fieldMask,i,this.fieldTransforms):new iu(e,this.data,i,this.fieldTransforms)}}class Ob{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Or(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Mb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:r})}}class kh{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new kh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return gh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Mb(this.Ac)&&EC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class TC{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Ih(e)}Cc(e,i,a,o=!1){return new kh({Ac:e,methodName:i,Dc:a,path:dn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vb(r){const e=r._freezeSettings(),i=Ih(r._databaseId);return new TC(r._databaseId,!!e.ignoreUndefinedProperties,i)}function SC(r,e,i,a,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,e,i,o);hg("Data must be an object, but it was:",d,a);const p=kb(a,d);let y,_;if(c.merge)y=new Gn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const A of c.mergeFields){const M=Am(e,A,i);if(!d.contains(M))throw new fe(W.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);Ub(E,M)||E.push(M)}y=new Gn(E),_=d.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,_=d.fieldTransforms;return new bC(new Mn(p),y,_)}class jh extends Vh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jh}}function AC(r,e,i){return new kh({Ac:3,Dc:e.settings.Dc,methodName:r._methodName,fc:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class cg extends Vh{constructor(e,i){super(e),this.vc=i}_toFieldTransform(e){const i=AC(this,e,!0),a=this.vc.map((c=>lu(c,i))),o=new vl(a);return new g2(e.path,o)}isEqual(e){return e instanceof cg&&Ar(this.vc,e.vc)}}function wC(r,e,i,a){const o=r.Cc(1,e,i);hg("Data must be an object, but it was:",o,a);const c=[],d=Mn.empty();Dr(a,((y,_)=>{const E=fg(e,y,i);_=Sn(_);const A=o.yc(E);if(_ instanceof jh)c.push(E);else{const M=lu(_,A);M!=null&&(c.push(E),d.set(E,M))}}));const p=new Gn(c);return new Ob(d,p,o.fieldTransforms)}function xC(r,e,i,a,o,c){const d=r.Cc(1,e,i),p=[Am(e,a,i)],y=[o];if(c.length%2!=0)throw new fe(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)p.push(Am(e,c[M])),y.push(c[M+1]);const _=[],E=Mn.empty();for(let M=p.length-1;M>=0;--M)if(!Ub(_,p[M])){const F=p[M];let J=y[M];J=Sn(J);const ne=d.yc(F);if(J instanceof jh)_.push(F);else{const ee=lu(J,ne);ee!=null&&(_.push(F),E.set(F,ee))}}const A=new Gn(_);return new Ob(E,A,d.fieldTransforms)}function lu(r,e){if(jb(r=Sn(r)))return hg("Unsupported field value:",e,r),kb(r,e);if(r instanceof Vh)return(function(a,o){if(!Mb(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const p of a){let y=lu(p,o.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,e)}return(function(a,o){if((a=Sn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return f2(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=_t.fromDate(a);return{timestampValue:hh(o.serializer,c)}}if(a instanceof _t){const c=new _t(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:hh(o.serializer,c)}}if(a instanceof Ki)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ai)return{bytesValue:ZE(o.serializer,a._byteString)};if(a instanceof Kt){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Ym(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Yi)return(function(d,p){return{mapValue:{fields:{[RE]:{stringValue:CE},[ah]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Fm(p.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Pm(a)}`)})(r,e)}function kb(r,e){const i={};return bE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Dr(r,((a,o)=>{const c=lu(o,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function jb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof _t||r instanceof Ki||r instanceof ai||r instanceof Kt||r instanceof Vh||r instanceof Yi)}function hg(r,e,i){if(!jb(i)||!vE(i)){const a=Pm(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function Am(r,e,i){if((e=Sn(e))instanceof Mh)return e._internalPath;if(typeof e=="string")return fg(r,e);throw gh("Field path arguments must be of type string or ",r,!1,void 0,i)}const RC=new RegExp("[~\\*/\\[\\]]");function fg(r,e,i){if(e.search(RC)>=0)throw gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Mh(...e.split("."))._internalPath}catch{throw gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function gh(r,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${o}`),y+=")"),new fe(W.INVALID_ARGUMENT,p+r+y)}function Ub(r,e){return r.some((i=>i.isEqual(e)))}class Lb{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new CC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Pb("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class CC extends Lb{data(){return super.data()}}function Pb(r,e){return typeof e=="string"?fg(r,e):e instanceof Mh?e._internalPath:e._delegate._internalPath}function IC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new fe(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class NC{convertValue(e,i="none"){switch(Cr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Rr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Dr(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[ah].arrayValue?.values?.map((a=>kt(a.doubleValue)));return new Yi(i)}convertGeoPoint(e){return new Ki(kt(e.latitude),kt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=bh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Go(e));default:return null}}convertTimestamp(e){const i=xr(e);return new _t(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Tt.fromString(e);Ze(sb(a),9688,{name:e});const o=new Fo(a.get(1),a.get(3)),c=new pe(a.popFirst(5));return o.isEqual(i)||Ds(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function DC(r,e,i){let a;return a=r?r.toFirestore(e):e,a}class Vo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oa extends Lb{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Xc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Pb("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=oa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}oa._jsonSchemaVersion="firestore/documentSnapshot/1.0",oa._jsonSchema={type:Qt("string",oa._jsonSchemaVersion),bundleSource:Qt("string","DocumentSnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class Xc extends oa{data(e={}){return super.data(e)}}class dl{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Vo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Xc(this._firestore,this._userDataWriter,a.key,a,new Vo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new fe(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const y=new Xc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Vo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Xc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Vo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,E=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),E=d.indexOf(p.doc.key)),{type:OC(p.type),doc:y,oldIndex:_,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=dl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Lm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function OC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}function MC(r){r=Hi(r,Kt);const e=Hi(r.firestore,Tl);return pC(ug(e),r._key).then((i=>qb(e,r,i)))}dl._jsonSchemaVersion="firestore/querySnapshot/1.0",dl._jsonSchema={type:Qt("string",dl._jsonSchemaVersion),bundleSource:Qt("string","QuerySnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class zb extends NC{constructor(e){super(),this.firestore=e}convertBytes(e){return new ai(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,i)}}function VC(r,e,i){r=Hi(r,Kt);const a=Hi(r.firestore,Tl),o=DC(r.converter,e);return Bb(a,[SC(Vb(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,Fi.none())])}function hn(r,e,i,...a){r=Hi(r,Kt);const o=Hi(r.firestore,Tl),c=Vb(o);let d;return d=typeof(e=Sn(e))=="string"||e instanceof Mh?xC(c,"updateDoc",r._key,e,i,a):wC(c,"updateDoc",r._key,e),Bb(o,[d.toMutation(r._key,Fi.exists(!0))])}function kC(r,...e){r=Sn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||fv(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(fv(e[a])){const y=e[a];e[a]=y.next?.bind(y),e[a+1]=y.error?.bind(y),e[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof Kt)d=Hi(r.firestore,Tl),p=Sh(r._key.path),c={next:y=>{e[a]&&e[a](qb(d,r,y))},error:e[a+1],complete:e[a+2]};else{const y=Hi(r,Oh);d=Hi(y.firestore,Tl),p=y._query;const _=new zb(d);c={next:E=>{e[a]&&e[a](new dl(d,_,y,E))},error:e[a+1],complete:e[a+2]},IC(r._query)}return(function(_,E,A,M){const F=new Cb(M),J=new vb(E,F,A);return _.asyncQueue.enqueueAndForget((async()=>yb(await Sm(_),J))),()=>{F.Nu(),_.asyncQueue.enqueueAndForget((async()=>_b(await Sm(_),J)))}})(ug(d),p,o,c)}function Bb(r,e){return(function(a,o){const c=new Sr;return a.asyncQueue.enqueueAndForget((async()=>sC(await gC(a),o,c))),c.promise})(ug(r),e)}function qb(r,e,i){const a=i.docs.get(e._key),o=new zb(r);return new oa(r,o,e._key,a,new Vo(i.hasPendingWrites,i.fromCache),e.converter)}function Dn(...r){return new cg("arrayUnion",r)}(function(e,i=!0){(function(o){xl=o})(Al),ml(new ua("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Tl(new Tx(a.getProvider("auth-internal")),new wx(d,a.getProvider("app-check-internal")),(function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new fe(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fo(_.options.projectId,E)})(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),br(__,v_,e),br(__,v_,"esm2020")})();const jC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),UC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),dv=r=>{const e=UC(r);return e.charAt(0).toUpperCase()+e.slice(1)},Hb=(...r)=>r.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),LC=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var PC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const zC=Ye.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...p},y)=>Ye.createElement("svg",{ref:y,...PC,width:e,height:e,stroke:r,strokeWidth:a?Number(i)*24/Number(e):i,className:Hb("lucide",o),...!c&&!LC(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,E])=>Ye.createElement(_,E)),...Array.isArray(c)?c:[c]]));const At=(r,e)=>{const i=Ye.forwardRef(({className:a,...o},c)=>Ye.createElement(zC,{ref:c,iconNode:e,className:Hb(`lucide-${jC(dv(r))}`,`lucide-${r}`,a),...o}));return i.displayName=dv(r),i};const BC=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}]],nl=At("badge",BC);const qC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],HC=At("book-open",qC);const GC=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],mv=At("briefcase",GC);const FC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],QC=At("chevron-down",FC);const KC=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],gv=At("chevron-up",KC);const YC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],XC=At("circle-check-big",YC);const $C=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],WC=At("circle-x",$C);const ZC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],JC=At("crosshair",ZC);const eI=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],tI=At("eye-off",eI);const nI=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],jc=At("eye",nI);const iI=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],sI=At("gavel",iI);const rI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],pv=At("history",rI);const aI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],lI=At("info",aI);const oI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],yv=At("log-out",oI);const uI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],_v=At("rotate-ccw",uI);const cI=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],$d=At("search",cI);const hI=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fI=At("settings",hI);const dI=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],Uc=At("skull",dI);const mI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Lc=At("target",mI);const gI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],pI=At("trash-2",gI);const yI=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Wd=At("triangle-alert",yI);const _I=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],vI=At("user",_I);const EI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],vv=At("x",EI),bI={apiKey:"AIzaSyDf86JHBvY9Y1B1x8QDbJkASmlANouEvX0",authDomain:"card-games-28729.firebaseapp.com",projectId:"card-games-28729",storageBucket:"card-games-28729.firebasestorage.app",messagingSenderId:"466779458834",appId:"1:466779458834:web:68f8deac8c018f2c6d37cb"},Gb=Nv(bI),Zd=_x(Gb),$t=_C(Gb),Wt=typeof __app_id<"u"?__app_id:"investigation-v2",TI=["Kitchen Knife","Dagger","Machete","Fire Axe","Ice Pick","Surgical Scalpel","Scissors","Broken Bottle","Katana","Blade","saw","Hammer","Baseball Bat","Golf Club","Wrench","Crowbar","Brick","Heavy Statue","Candlestick","Frying Pan","Stone","Brick","Pistol","Silenced Gun","Sniper Rifle","Shotgun","Crossbow","Rope","Wire","Necktie","Pillow","Plastic Bag","Belt","Towel","Arsenic","Cyanide Pill","Venomous Snake","Overdose Injection","Sleeping Pills","Chainsaw","Explosives","Molotov Cocktail","Electrocution","Drowning","Push from Heights","Vehicle","Trophy","Screwdriver","Garden Shears","Bare Hands","Laptop Cord","Fire","Kerosine","Lighter"],SI=["Fingerprint","Muddy Footprint","Blood Stain","Strand of Hair","Torn Fabric","Shirt Button","Sewing Thread","Wedding Ring","Wristwatch","Diamond Necklace","Broken Glasses","Leather Wallet","ID Badge","Credit Card","Grocery Receipt","Plane Ticket","Crumpled Note","Diary","Torn Photograph","City Map","USB Drive","Smartphone","Laptop","House Keys","Rare Coin","Cigarette Butt","Lighter","Matchbox","Pile of Ashes","Shard of Glass","Shattered Plate","Crushed Flower","Tree Leaf","Puddle of Water","Oil Stain","Spray Paint","Spilled Ink","Candy Wrapper","Empty Wine Bottle","Coffee Cup","Lipstick Mark","Scent of Perfume","White Powder","Bullet Casing","Tool Marks","Leather Glove","Ski Mask","Playing Card","Dice","Pocket Mirror"],Pc={FIXED:{title:"Cause of Death",type:"purple",options:["Suffocation","Severe Injury","Loss of Blood","Chemical / Sickness","Accident","Projectile / Blast"]},MAIN:[{title:"Location of Crime",type:"green",options:["Living Room","Bedroom","Kitchen / Dining","Bathroom","Balcony","Garden"]},{title:"Location of Crime",type:"green",options:["Office","Hotel","Restaurant","Pub/Bar","School","Hospital"]},{title:"Location of Crime",type:"green",options:["Vacation home","Park","Supermarket","Forest","University","Bookstore"]},{title:"Location of Crime",type:"green",options:["Playground","Classroom","Dormitory","Cafeteria","Lift","Toilet"]}],SUBORDINATE:[{title:"Duration of Crime",options:["Instantaneous","Few Seconds","Few Minutes","Under an Hour","Several Hours","Days"]},{title:"Trace at Scene",options:["Footprints","Fingerprints","Blood/Fluids","Smell/Scent","Sound/Recording","Writing/Marks"]},{title:"Weapon Type",options:["Sharp","Blunt","Toxin/Chemical","Projectile","Everyday Object","Machinery/Tool"]},{title:"Weapon Property",options:["Heavy","Lightweight","Long","Short/Small","Noisy","Silent"]},{title:"Weapon Origin",options:["Household","Industrial/Work","Medical/Chemical","Outdoor/Nature","Military/Tactical","Sports/Recreation"]},{title:"Evidence Material",options:["Fabric/Cloth","Metal","Paper/Wood","Plastic","Biological","Stone/Glass"]},{title:"Evidence Condition",options:["Broken/Damaged","New/Shiny","Old/Worn","Wet/Dirty","Burnt/Singed","Incomplete"]},{title:"Social Relation",options:["Relatives","Friends","Colleagues","Lovers","Strangers","Enemies"]},{title:"Sudden Incident",options:["Loud Shout","Heavy Thud","Bright Flash","Dead Silence","Scream","Breaking Glass"]},{title:"Motive",options:["Hatred/Revenge","Greed/Money","Love/Passion","Jealousy","Fear/Defense","Madness"]},{title:"Killer's Trait",options:["Arrogant","Cautious","Violent","Calm/Cold","Nervous","Calculating"]},{title:"Impression",options:["Natural","Artistic","Cruel","Clumsy","Professional","Bizarre"]},{title:"Noticed By Others",options:["Sound","Smell","Silhouette","Someone Running","Object Thrown","Nothing"]},{title:"Evidence Size",options:["Tiny","Small","Medium","Large","Heavy","Microscopic"]},{title:"Evidence Color",options:["Red/Purple","Blue/Green","Yellow/Orange","Black/Grey","White/Clear","Metallic"]},{title:"State of Scene",options:["Chaos / Destruction","Signs of Struggle","Perfectly Tidy","Items Missing","Staged / Artificially Arranged","Covered (Ash/Water/Dust)"]},{title:"Injury/Wounds",options:["Head / Neck","Chest / Torso","Hands / Arms","Legs / Feet","Internal Organs","No Visible Wounds"]},{title:"Assassin Hint",options:["Man","Woman","Tall","Short","Strong","Weak"]},{title:"Shape of Evidence",options:["Round/Spherical","Square/Rectangular","Long/Thin","Flat/Sheet","Irregular/Amorphous","Sharp/Pointed"]},{title:"Weapon Operation",options:["Muscle Power","Mechanism/Trigger","Chemical/Reaction","Electrical","Passive/Trap","Animal/Living"]},{title:"Evidence Domain",options:["Work/Office","Home/Domestic","Travel/Outdoor","Leisure/Hobby","Medical/Hygiene","Vice/Illegal"]},{title:"Concealability (Weapon)",options:["Pocket Size","Bag/Backpack Size","Two-Handed/Large","Not Concealable","Invisible/Internal","Disguised as Object"]},{title:"Relation to Victim (Evidence)",options:["Owned by Victim","Stolen from Victim","Gifted to Victim","Belonged to Killer","Found at Scene","Unknown Origin"]},{title:"Texture of Evidence",options:["Hard/Rigid","Soft/Flexible","Metallic/Cold","Wooden/Rough","Paper-like","Sticky/Liquid"]},{title:"Residue Left by Weapon",options:["Blood","Powder/Dust","Water/Fluid","Ash/Burn Mark","Fragments/Shards","None/Clean"]},{title:"Visibility of Injury",options:["None Visible","Small Puncture","Large Wound","Bruising/Swelling","Burns/Rash","Dismemberment/Breakage"]}]},il=r=>{let e=r.length,i;const a=[...r];for(;e!==0;)i=Math.floor(Math.random()*e),e--,[a[e],a[i]]=[a[i],a[e]];return a};function AI(){const[r,e]=Ye.useState(null),[i,a]=Ye.useState("menu"),[o,c]=Ye.useState(""),[d,p]=Ye.useState(""),[y,_]=Ye.useState(null),[E,A]=Ye.useState(null),[M,F]=Ye.useState(!1),[J,ne]=Ye.useState(""),[ee,_e]=Ye.useState(null),[Re,be]=Ye.useState(null),[ge,Xe]=Ye.useState(null),[Be,I]=Ye.useState(!1),[w,C]=Ye.useState(!1),[V,N]=Ye.useState(!1),[k,x]=Ye.useState(!1),[lt,mt]=Ye.useState(!1),[H,se]=Ye.useState(!0),[ce,Me]=Ye.useState(null),[Fe,O]=Ye.useState(!0),[Y,ie]=Ye.useState(!0),[le,ve]=Ye.useState(!1);Ye.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await sw(Zd,__initial_auth_token):await JA(Zd)})();const re=lw(Zd,ae=>e(ae));return()=>re()},[]),Ye.useEffect(()=>{E?.phase==="WITNESS_HUNT"?(O(!0),ie(!0)):O(!1)},[E?.phase]),Ye.useEffect(()=>{E?.accompliceSuggestion&&ie(!0)},[E?.accompliceSuggestion]),Ye.useEffect(()=>{if(!y||!r)return;const Z=Xt($t,"artifacts",Wt,"public","data","rooms",y),re=kC(Z,ae=>{if(ae.exists()){const de=ae.data();if(!de.players.find(ht=>ht.id===r.uid)){_(null),a("menu"),A(null),ne("You were removed from the room.");return}A({id:ae.id,...de}),de.status==="playing"||de.status==="finished"?a("game"):a("lobby"),de.status==="lobby"&&(I(!1),Xe(null),x(!1)),de.status==="playing"&&de.phase==="INVESTIGATION"&&de.players.filter(ft=>ft.role!=="DETECTIVE"&&ft.badge===!0).length===0&&!de.activeAccusation&&de.hostId===r.uid&&Ce()}else _(null),a("menu"),ne("Room closed.")},ae=>console.error(ae));return()=>re()},[y,r]);const Ce=async Z=>{let re=[{text:"All badges used. Murderer Escapes!",type:"danger"}];await hn(Xt($t,"artifacts",Wt,"public","data","rooms",y),{phase:"GAME_OVER_BAD",logs:Dn(...re)})},Oe=(Z,re)=>{Me({title:Z,message:re,type:"alert"})},It=(Z,re,ae)=>{Me({title:Z,message:re,type:"confirm",onConfirm:ae})},ot=()=>Me(null),Wi=async()=>{if(!r||!o.trim())return ne("Enter nickname.");F(!0);const Z=Math.random().toString(36).substring(2,8).toUpperCase(),re={hostId:r.uid,players:[{id:r.uid,name:o,role:null,means:[],clues:[],badge:!0,ready:!0}],status:"lobby",settings:{useAccomplice:!1,useWitness:!1},logs:[],accusations:[],nextRoundRequests:[],readyPlayers:[],activeAccusation:null};try{await VC(Xt($t,"artifacts",Wt,"public","data","rooms",Z),re),_(Z)}catch{ne("Failed to create room.")}F(!1)},Vs=async()=>{if(!r||!d||!o.trim())return ne("Enter details.");F(!0);try{const Z=Xt($t,"artifacts",Wt,"public","data","rooms",d),re=await MC(Z);if(!re.exists())throw new Error("Room not found.");const ae=re.data();if(ae.players.length>=10)throw new Error("Room full.");if(ae.status!=="lobby")throw new Error("Game started.");ae.players.find(Je=>Je.id===r.uid)||await hn(Z,{players:Dn({id:r.uid,name:o,role:null,means:[],clues:[],badge:!0,ready:!0})}),_(d)}catch(Z){ne(Z.message)}F(!1)},Zi=async Z=>{if(!E||E.hostId!==r.uid)return;const re=E.settings?.[Z]||!1;await hn(Xt($t,"artifacts",Wt,"public","data","rooms",y),{[`settings.${Z}`]:!re})},Ji=async()=>{if(!y||!r||!E)return;const Z=E.players.filter(re=>re.id!==r.uid);try{await hn(Xt($t,"artifacts",Wt,"public","data","rooms",y),{players:Z})}catch{}_(null),a("menu"),A(null),mt(!1)},Fn=async Z=>{if(!E||E.hostId!==r.uid)return;const re=E.players.filter(ae=>ae.id!==Z);await hn(Xt($t,"artifacts",Wt,"public","data","rooms",y),{players:re})},ks=async()=>{if(!E||E.hostId!==r.uid)return;const Z=E.players.map(re=>({...re,role:null,means:[],clues:[],badge:!0,ready:!0}));await hn(Xt($t,"artifacts",Wt,"public","data","rooms",y),{status:"lobby",phase:null,solution:null,activeTiles:null,logs:[],players:Z,round:1,accusations:[],successfulSolvers:[],accompliceSuggestion:null,murdererGuess:null,nextRoundRequests:[],readyPlayers:[],activeAccusation:null})},es=async()=>{if(E.players.length<4)return ne("Need 4+ players.");const Z=E.players.length;let re=["DETECTIVE","MURDERER"];for(Z>=6&&E.settings?.useAccomplice&&re.push("ACCOMPLICE"),Z>=5&&E.settings?.useWitness&&re.push("WITNESS");re.length<Z;)re.push("INVESTIGATOR");re=il(re);const ae=il([...TI]),de=il([...SI]),Je=E.players.map((qe,gt)=>{if(re[gt]==="DETECTIVE")return{...qe,role:re[gt],means:[],clues:[],badge:!1};const gn=[],Qn=[];for(let jt=0;jt<4;jt++)gn.push(ae.pop());for(let jt=0;jt<4;jt++)Qn.push(de.pop());return{...qe,role:re[gt],means:gn,clues:Qn,badge:!0}}),ht=il([...Pc.MAIN])[0],ft=il([...Pc.SUBORDINATE]).slice(0,4),xt=[{...Pc.FIXED,id:"cause",selected:null},{...ht,id:"main",selected:null},...ft.map((qe,gt)=>({...qe,id:`scene_${gt}`,selected:null}))];await hn(Xt($t,"artifacts",Wt,"public","data","rooms",y),{status:"playing",phase:"PRE_GAME_MURDER",players:Je,activeTiles:xt,solution:null,round:1,logs:Dn({text:"Game Started. Planning Phase...",type:"neutral"}),accusations:[],nextRoundRequests:[],readyPlayers:[],activeAccusation:null})},Mr=async()=>{if(E.readyPlayers?.includes(r.uid))return;const Z=[...E.readyPlayers||[],r.uid],re=E.players.length===Z.length;let ae={readyPlayers:Z};re&&(ae.phase="MURDERER_SELECT",ae.logs=Dn({text:"Everyone Ready. Murderer is choosing...",type:"danger"})),await hn(Xt($t,"artifacts",Wt,"public","data","rooms",y),ae)},Vr=async(Z,re)=>{await hn(Xt($t,"artifacts",Wt,"public","data","rooms",y),{solution:{means:Z,clue:re,murdererId:r.uid},phase:"DETECTIVE_TURN",logs:Dn({text:"Crime Committed. Detective is analyzing evidence...",type:"danger"})})},wt=async(Z,re)=>{const ae=[...E.activeTiles];ae[Z].selected=re,await hn(Xt($t,"artifacts",Wt,"public","data","rooms",y),{activeTiles:ae})},Nt=async()=>{if(!E.activeTiles.every(re=>re.selected!==null))return Oe("Incomplete","Select an option for every tile!");await hn(Xt($t,"artifacts",Wt,"public","data","rooms",y),{phase:"INVESTIGATION",logs:Dn({text:`Round ${E.round} Clues Revealed! Investigators, submit your files when ready.`,type:"info"}),nextRoundRequests:[]})},Ei=async()=>{E.nextRoundRequests?.includes(r.uid)||await hn(Xt($t,"artifacts",Wt,"public","data","rooms",y),{nextRoundRequests:Dn(r.uid)})},Nl=async Z=>{if(Z<2)return Oe("Invalid Action","You cannot replace the Cause of Death or Main Location tile.");if(E.round>=3)return;const re=E.activeTiles.map(ht=>ht.title),ae=Pc.SUBORDINATE.filter(ht=>!re.includes(ht.title)),de=il(ae)[0],Je=[...E.activeTiles];Je[Z]={...de,id:`scene_r${E.round+1}_${Z}`,selected:null},await hn(Xt($t,"artifacts",Wt,"public","data","rooms",y),{phase:"DETECTIVE_TURN",round:E.round+1,activeTiles:Je,logs:Dn({text:`Round ${E.round+1} Begins. Detective is updating a clue...`,type:"neutral"})}),x(!1)},ga=async()=>{if(!ge)return;const{targetId:Z,means:re,clue:ae}=ge,de=E.players.findIndex(gt=>gt.id===r.uid),Je=[...E.players];Je[de].badge=!1;const ht=E.solution,ft=Z===ht.murdererId&&re===ht.means&&ae===ht.clue,xt={solverId:r.uid,solverName:Je[de].name,targetId:Z,means:re,clue:ae,isCorrect:ft,continueVotes:[]},qe=E.nextRoundRequests||[];qe.includes(r.uid)||qe.push(r.uid),await hn(Xt($t,"artifacts",Wt,"public","data","rooms",y),{players:Je,accusations:Dn(xt),activeAccusation:xt,nextRoundRequests:qe,logs:Dn({text:`${Je[de].name} submitted a case file.`,type:"neutral"})}),I(!1),Xe(null)},rn=async()=>{if(!E.activeAccusation)return;const Z=E.activeAccusation.continueVotes||[];if(Z.includes(r.uid))return;const re=[...Z,r.uid],ae=E.players.length===re.length;let de={"activeAccusation.continueVotes":re};ae&&(de.activeAccusation=null,E.activeAccusation.isCorrect?E.settings?.useWitness?(de.phase="WITNESS_HUNT",de.successfulSolvers=[E.activeAccusation.solverId],de.logs=Dn({text:"CORRECT! But Murderer can steal win by finding Witness.",type:"warning"})):(de.phase="GAME_OVER_GOOD",de.successfulSolvers=[E.activeAccusation.solverId],de.logs=Dn({text:"CORRECT! Investigators Win!",type:"success"})):de.logs=Dn({text:`${E.activeAccusation.solverName} was WRONG. Game Continues.`,type:"danger"})),await hn(Xt($t,"artifacts",Wt,"public","data","rooms",y),de)},ts=async Z=>{await hn(Xt($t,"artifacts",Wt,"public","data","rooms",y),{accompliceSuggestion:Z})},kr=async Z=>{const re=E.players.find(Je=>Je.id===Z);let ae="GAME_OVER_GOOD",de=[];re.role==="WITNESS"?(ae="GAME_OVER_BAD",de.push({text:`Murderer identified the Witness (${re.name})! Murderer Wins!`,type:"danger"})):(ae="GAME_OVER_GOOD",de.push({text:"Murderer guessed wrong! Investigators Win!",type:"success"})),await hn(Xt($t,"artifacts",Wt,"public","data","rooms",y),{phase:ae,logs:Dn(...de)})},ns=({role:Z})=>{if(!Z)return null;let re="bg-gray-600",ae=vI;Z==="DETECTIVE"&&(re="bg-blue-600",ae=$d),Z==="MURDERER"&&(re="bg-red-600",ae=Uc),Z==="INVESTIGATOR"&&(re="bg-emerald-600",ae=nl),Z==="ACCOMPLICE"&&(re="bg-orange-600",ae=mv),Z==="WITNESS"&&(re="bg-indigo-600",ae=jc);const de=Z.charAt(0)+Z.slice(1).toLowerCase();return b.jsxs("div",{className:`${re} text-white px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1 shadow-sm`,children:[w1.createElement(ae,{size:12})," ",b.jsx("span",{className:"whitespace-nowrap",children:de})]})};if(!r)return b.jsx("div",{className:"h-screen bg-slate-900 text-white flex items-center justify-center",children:"Loading..."});if(i==="menu")return b.jsxs("div",{className:"min-h-screen bg-slate-900 text-slate-100 font-sans p-6 flex flex-col items-center justify-center relative overflow-hidden",children:[b.jsxs("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none",children:[b.jsx("div",{className:"absolute top-10 left-10 text-9xl",children:"?"}),b.jsx("div",{className:"absolute bottom-20 right-20 text-9xl",children:"?"}),b.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-blue-500 rounded-full blur-[128px] opacity-20"})]}),b.jsxs("div",{className:"z-10 w-full max-w-md space-y-8",children:[b.jsxs("div",{className:"text-center space-y-2",children:[b.jsx("h1",{className:"text-5xl font-black tracking-tighter text-transparent bg-clip-text bg-gradient-to-br from-blue-400 to-purple-600",children:"INVESTIGATION"}),b.jsx("p",{className:"text-slate-400 text-sm uppercase tracking-widest",children:"Murder Mystery"})]}),b.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-md border border-slate-700 p-6 rounded-2xl shadow-xl",children:[J&&b.jsxs("div",{className:"bg-red-500/20 text-red-200 p-3 rounded text-sm mb-4 flex items-center gap-2",children:[b.jsx(Wd,{size:16})," ",J]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase ml-1",children:"Codename"}),b.jsx("input",{value:o,onChange:Z=>c(Z.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:"Enter your name"})]}),b.jsxs("div",{className:"grid grid-cols-1 gap-4 pt-2",children:[b.jsxs("div",{className:"p-4 bg-slate-900/50 rounded-xl border border-slate-700 hover:border-blue-500 transition-colors group",children:[b.jsx("h3",{className:"font-bold text-blue-400 mb-2 flex items-center gap-2",children:"Join Case"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("input",{value:d,onChange:Z=>p(Z.target.value.toUpperCase()),className:"w-full bg-slate-800 border border-slate-600 rounded p-2 text-sm uppercase tracking-widest font-mono focus:border-blue-500 outline-none",placeholder:"ROOM CODE"}),b.jsx("button",{onClick:Vs,disabled:M,className:"bg-blue-600 hover:bg-blue-500 px-4 rounded font-bold transition-colors",children:"GO"})]})]}),b.jsxs("div",{className:"p-4 bg-slate-900/50 rounded-xl border border-slate-700 hover:border-purple-500 transition-colors group",children:[b.jsx("h3",{className:"font-bold text-purple-400 mb-2 flex items-center gap-2",children:"New Investigation"}),b.jsx("button",{onClick:Wi,disabled:M,className:"w-full bg-purple-600 hover:bg-purple-500 py-3 rounded-lg font-bold transition-colors shadow-lg shadow-purple-900/20",children:"Create Case File"})]}),b.jsxs("button",{onClick:()=>ve(!0),className:"w-full flex items-center justify-center gap-2 text-slate-400 hover:text-white py-2 transition-colors text-sm font-bold uppercase tracking-widest",children:[b.jsx(HC,{size:16})," How to Play"]})]})]})]})]}),le&&b.jsx("div",{className:"fixed inset-0 z-50 bg-slate-950/95 flex justify-center overflow-y-auto p-4 animate-in slide-in-from-bottom-10 fade-in duration-300",children:b.jsxs("div",{className:"w-full max-w-4xl relative",children:[b.jsx("button",{onClick:()=>ve(!1),className:"fixed top-4 right-4 md:absolute md:-right-12 md:top-0 bg-slate-800 p-2 rounded-full text-white hover:bg-slate-700 shadow-lg z-50",children:b.jsx(vv,{size:24})}),b.jsxs("div",{className:"space-y-8 pb-20 mt-12 md:mt-0",children:[b.jsxs("div",{className:"text-center space-y-2",children:[b.jsx("h2",{className:"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-600",children:"GAME GUIDE"}),b.jsx("p",{className:"text-slate-400",children:"Deduction, Deception, and Discovery"})]}),b.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl p-6 shadow-xl",children:[b.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[b.jsx(Lc,{className:"text-red-500"})," The Objective"]}),b.jsxs("p",{className:"text-slate-300 leading-relaxed",children:["A murder has been committed. The"," ",b.jsx("span",{className:"text-blue-400 font-bold",children:"Detective"})," ","knows the solution but can only communicate through vague clues. The"," ",b.jsx("span",{className:"text-green-400 font-bold",children:"Investigators"})," ","must interpret these clues to find the true"," ",b.jsx("strong",{className:"text-white",children:"Murder Weapon"})," and"," ",b.jsx("strong",{className:"text-white",children:"Evidence"})," before time runs out. Meanwhile, the"," ",b.jsx("span",{className:"text-red-400 font-bold",children:"Murderer"})," ","hides among them, trying to mislead the investigation."]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsxs("div",{className:"bg-slate-800/50 border border-blue-500/30 rounded-xl p-5",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx("div",{className:"bg-blue-600 p-1.5 rounded text-white",children:b.jsx($d,{size:16})}),b.jsx("span",{className:"font-bold text-blue-400",children:"Detective"})]}),b.jsx("p",{className:"text-sm text-slate-300",children:"Host & Guide. Knows the solution. Cannot speak about the case. Selects tile cards to give hints."})]}),b.jsxs("div",{className:"bg-slate-800/50 border border-red-500/30 rounded-xl p-5",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx("div",{className:"bg-red-600 p-1.5 rounded text-white",children:b.jsx(Uc,{size:16})}),b.jsx("span",{className:"font-bold text-red-400",children:"Murderer"})]}),b.jsx("p",{className:"text-sm text-slate-300",children:"The Culprit. Chooses the Means & Clue at the start. Hides identity and tries to sabotage the team."})]}),b.jsxs("div",{className:"bg-slate-800/50 border border-emerald-500/30 rounded-xl p-5",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx("div",{className:"bg-emerald-600 p-1.5 rounded text-white",children:b.jsx(nl,{size:16})}),b.jsx("span",{className:"font-bold text-emerald-400",children:"Investigator"})]}),b.jsx("p",{className:"text-sm text-slate-300",children:"The Team. Discusses clues and submits accusations to solve the crime."})]}),b.jsxs("div",{className:"bg-slate-800/50 border border-orange-500/30 rounded-xl p-5",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx("div",{className:"bg-orange-600 p-1.5 rounded text-white",children:b.jsx(mv,{size:16})}),b.jsx("span",{className:"font-bold text-orange-400",children:"Accomplice"})]}),b.jsx("p",{className:"text-sm text-slate-300",children:"(Optional) Knows who the Murderer is. Helps them win without getting caught."})]}),b.jsxs("div",{className:"bg-slate-800/50 border border-indigo-500/30 rounded-xl p-5 md:col-span-2",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx("div",{className:"bg-indigo-600 p-1.5 rounded text-white",children:b.jsx(jc,{size:16})}),b.jsx("span",{className:"font-bold text-indigo-400",children:"Witness"})]}),b.jsx("p",{className:"text-sm text-slate-300",children:"(Optional) Knows the Murderer but not the solution. Must help Investigators without revealing themselves. If the Murderer finds the Witness at the end, the Murderer wins!"})]})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsx("h3",{className:"text-xl font-bold text-white pl-2 border-l-4 border-purple-500",children:"How It Works"}),b.jsxs("div",{className:"flex gap-4",children:[b.jsx("div",{className:"flex-none w-8 h-8 rounded-full bg-slate-800 border border-slate-700 flex items-center justify-center font-bold text-slate-500",children:"1"}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-white",children:"The Crime"}),b.jsx("p",{className:"text-sm text-slate-400",children:"Everyone closes their eyes. The Murderer wakes up and selects 1 Means card and 1 Clue card from their hand. This becomes the solution."})]})]}),b.jsxs("div",{className:"flex gap-4",children:[b.jsx("div",{className:"flex-none w-8 h-8 rounded-full bg-slate-800 border border-slate-700 flex items-center justify-center font-bold text-slate-500",children:"2"}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-white",children:"The Investigation"}),b.jsxs("p",{className:"text-sm text-slate-400",children:[`The Detective analyzes the solution. They receive random "Scene Tiles" (e.g., Location, Weather, Victim's Clothes). The Detective selects the option on each tile that `,b.jsx("em",{children:"best relates"})," to the solution."]})]})]}),b.jsxs("div",{className:"flex gap-4",children:[b.jsx("div",{className:"flex-none w-8 h-8 rounded-full bg-slate-800 border border-slate-700 flex items-center justify-center font-bold text-slate-500",children:"3"}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-white",children:"Discussion & Rounds"}),b.jsxs("p",{className:"text-sm text-slate-400",children:[`Investigators discuss the tiles. "Why did the Detective say it was 'Noisy'? Maybe the weapon is a Gun?" `,b.jsx("br",{}),"The game lasts ",b.jsx("strong",{children:"3 Rounds"}),". In each new round, the Detective replaces one old tile with a new one to refine the clues."]})]})]}),b.jsxs("div",{className:"flex gap-4",children:[b.jsx("div",{className:"flex-none w-8 h-8 rounded-full bg-slate-800 border border-slate-700 flex items-center justify-center font-bold text-slate-500",children:"4"}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-white",children:"Accusation & Winning"}),b.jsxs("ul",{className:"text-sm text-slate-400 list-disc ml-4 mt-1 space-y-1",children:[b.jsxs("li",{children:["Investigators can spend their"," ",b.jsx("strong",{className:"text-yellow-500",children:"Badge"})," to make an accusation at any time."]}),b.jsxs("li",{children:["If ",b.jsx("strong",{children:"CORRECT"}),": Investigators Win! (Unless Murderer finds Witness)."]}),b.jsxs("li",{children:["If ",b.jsx("strong",{children:"WRONG"}),": The player loses their badge and can no longer solve."]}),b.jsxs("li",{children:["If all badges are used or rounds end without a solution: ",b.jsx("strong",{children:"Murderer Wins!"})]})]})]})]})]}),b.jsx("div",{className:"text-center pt-8",children:b.jsx("button",{onClick:()=>ve(!1),className:"bg-white text-slate-900 px-8 py-3 rounded-full font-bold hover:scale-105 transition-transform",children:"Got it, Let's Play!"})})]})]})})]});if(i==="lobby"&&E){const Z=E.hostId===r.uid,re=E.players.length;return b.jsxs("div",{className:"min-h-screen bg-slate-900 text-slate-100 p-6 flex flex-col items-center",children:[b.jsxs("div",{className:"w-full max-w-2xl space-y-6",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("div",{children:[b.jsxs("h2",{className:"text-3xl font-bold text-white",children:["Case File:"," ",b.jsx("span",{className:"font-mono text-blue-400",children:E.id})]}),b.jsx("p",{className:"text-slate-400 text-sm",children:"Waiting for investigators..."})]}),b.jsxs("button",{onClick:()=>mt(!0),className:"text-slate-500 hover:text-white flex items-center gap-1 text-sm",children:[b.jsx(yv,{size:16})," Leave"]})]}),b.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700 flex justify-between items-center",children:[b.jsxs("div",{className:"flex items-center gap-2 text-slate-300 font-bold",children:[b.jsx(fI,{size:18})," Settings"]}),b.jsxs("div",{className:"flex gap-4",children:[re>=6&&b.jsxs("label",{className:`flex items-center gap-2 cursor-pointer ${!Z&&"opacity-50 pointer-events-none"}`,children:[b.jsx("input",{type:"checkbox",checked:E.settings?.useAccomplice||!1,onChange:()=>Zi("useAccomplice"),className:"w-4 h-4 accent-purple-500 rounded"}),b.jsx("span",{className:"text-sm",children:"Accomp."})]}),re>=5&&b.jsxs("label",{className:`flex items-center gap-2 cursor-pointer ${!Z&&"opacity-50 pointer-events-none"}`,children:[b.jsx("input",{type:"checkbox",checked:E.settings?.useWitness||!1,onChange:()=>Zi("useWitness"),className:"w-4 h-4 accent-indigo-500 rounded"}),b.jsx("span",{className:"text-sm",children:"Witness"})]}),re<5&&b.jsx("span",{className:"text-xs text-slate-500",children:"Need 5+ players for extra roles"})]})]}),b.jsxs("div",{className:"bg-slate-800 rounded-2xl border border-slate-700 overflow-hidden",children:[b.jsx("div",{className:"p-4 bg-slate-800 border-b border-slate-700 flex justify-between items-center",children:b.jsxs("span",{className:"font-bold text-slate-400",children:["ROSTER (",E.players.length,"/10)"]})}),b.jsx("div",{className:"divide-y divide-slate-700",children:E.players.map(ae=>b.jsxs("div",{className:"p-4 flex items-center justify-between group",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center font-bold text-slate-400",children:ae.name[0].toUpperCase()}),b.jsxs("span",{className:ae.id===r.uid?"text-blue-400 font-bold":"text-slate-300",children:[ae.name," ",ae.id===E.hostId&&""]})]}),b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("span",{className:"text-green-500 flex items-center gap-1 text-sm",children:[b.jsx(XC,{size:14})," Ready"]}),Z&&ae.id!==r.uid&&b.jsx("button",{onClick:()=>Fn(ae.id),className:"text-red-900 group-hover:text-red-500 transition-colors p-2",children:b.jsx(pI,{size:20})})]})]},ae.id))})]}),Z&&b.jsx("button",{onClick:es,disabled:E.players.length<4,className:`w-full py-4 rounded-xl font-bold text-lg shadow-xl transition-all ${E.players.length>=4?"bg-gradient-to-r from-blue-600 to-purple-600 hover:scale-[1.02]":"bg-slate-800 text-slate-500 cursor-not-allowed"}`,children:E.players.length<4?"Need 4 Players to Start":"Distribute Roles & Start"})]}),lt&&b.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6 max-w-sm w-full text-center shadow-2xl",children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Leave Game?"}),b.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:"Are you sure? You will be removed from the lobby."}),b.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[b.jsx("button",{onClick:()=>mt(!1),className:"bg-slate-700 hover:bg-slate-600 text-white py-3 rounded font-bold",children:"Stay"}),b.jsx("button",{onClick:Ji,className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold",children:"Leave"})]})]})})]})}if(i==="game"&&E){const Z=E.players.find(K=>K.id===r.uid);if(!Z)return b.jsx("div",{onClick:()=>window.location.reload(),className:"p-10 text-white cursor-pointer",children:"You were removed. Click to reload."});let re={};if(re[Z.id]=Z.role,Z.role==="DETECTIVE"&&E.players.forEach(K=>re[K.id]=K.role),Z.role==="MURDERER"){const K=E.players.find(Se=>Se.role==="ACCOMPLICE");K&&(re[K.id]="ACCOMPLICE")}if(Z.role==="ACCOMPLICE"){const K=E.players.find(Se=>Se.role==="MURDERER");K&&(re[K.id]="MURDERER")}Z.role==="WITNESS"&&E.players.forEach(K=>{K.role==="MURDERER"&&(re[K.id]="MURDERER")});const ae=Z.role==="DETECTIVE",de=Z.role==="MURDERER",Je=Z.role==="ACCOMPLICE",ht=E.phase==="PRE_GAME_MURDER",ft=E.phase==="MURDERER_SELECT",xt=E.phase==="DETECTIVE_TURN",qe=E.phase==="INVESTIGATION",gt=E.phase==="WITNESS_HUNT",gn=E.phase==="GAME_OVER_GOOD",Qn=E.accusations?.find(K=>K.solverId===r.uid),jt=E.players.filter(K=>K.role!=="DETECTIVE").every(K=>{const Se=E.nextRoundRequests?.includes(K.id),bt=E.accusations?.some(dt=>dt.solverId===K.id);return Se||bt}),bi=(K,Se,bt)=>{ae||!Z.badge||!qe||Xe(dt=>{if(dt?.targetId!==K)return{targetId:K,[Se]:bt,[Se==="means"?"clue":"means"]:null};const Ut={...dt};return Ut[Se]===bt?Ut[Se]=null:Ut[Se]=bt,Ut})};if(ht){const K=E.readyPlayers?.includes(r.uid);return b.jsxs("div",{className:"min-h-screen bg-slate-900 text-slate-100 flex flex-col relative",children:[b.jsxs("div",{className:"bg-slate-800 p-3 shadow-lg z-20 flex justify-between items-center sticky top-0 border-b border-slate-700",children:[b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-slate-400 font-bold uppercase",children:"Pre-Game Phase"}),b.jsxs("div",{className:"text-sm font-bold text-white flex items-center gap-2",children:[b.jsx(jc,{size:16})," View Roles & Cards"]})]}),b.jsx("button",{onClick:Mr,disabled:K,className:`px-6 py-2 rounded-full font-bold text-sm transition-all ${K?"bg-green-600 text-white cursor-default":"bg-blue-600 hover:bg-blue-500 text-white shadow-lg animate-pulse"}`,children:K?"Waiting for others...":"Ready for Murder"})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-slate-950",children:b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 max-w-7xl mx-auto pb-20",children:E.players.map(Se=>{const bt=Se.id===r.uid,dt=re[Se.id]||Se.role==="DETECTIVE";return b.jsxs("div",{className:`relative bg-slate-900 border rounded-xl overflow-hidden shadow-lg ${bt?"border-blue-500/50":"border-slate-800"}`,children:[b.jsx("div",{className:"p-2 bg-slate-800/80 flex justify-between items-center border-b border-slate-700",children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:`font-bold text-sm ${bt?"text-blue-400":"text-slate-200"}`,children:Se.name}),dt&&b.jsx(ns,{role:Se.role})]})}),b.jsxs("div",{className:"p-2 grid grid-cols-2 gap-2",children:[b.jsxs("div",{className:"space-y-1",children:[b.jsx("div",{className:"text-[10px] uppercase font-bold text-red-900 mb-1",children:"Murder Weapon"}),Se.means.map(Ut=>b.jsx("div",{className:"px-2 py-1.5 rounded text-xs font-medium text-center truncate bg-slate-800 text-red-200 border border-red-900/30",children:Ut},Ut))]}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("div",{className:"text-[10px] uppercase font-bold text-blue-900 mb-1",children:"Evidence on Site"}),Se.clues.map(Ut=>b.jsx("div",{className:"px-2 py-1.5 rounded text-xs font-medium text-center truncate bg-slate-800 text-blue-200 border border-blue-900/30",children:Ut},Ut))]})]})]},Se.id)})})})]})}return ft?de||Je?b.jsxs("div",{className:"min-h-screen bg-red-950 text-white p-4 flex flex-col items-center justify-center",children:[b.jsx("h1",{className:"text-3xl md:text-4xl font-black text-red-500 mb-2",children:"COMMIT THE CRIME"}),b.jsx("p",{className:"text-red-200 mb-6 max-w-md text-center text-sm md:text-base",children:de?"Select 1 Murder Weapon and 1 Evidence.":"The Murderer is selecting the weapon and evidence. Watch closely."}),de?b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 w-full max-w-4xl flex-1 overflow-y-auto pb-20",children:[b.jsxs("div",{className:"bg-red-900/30 p-4 rounded-xl border border-red-800",children:[b.jsxs("h3",{className:"text-red-400 font-bold mb-2 flex items-center gap-2 text-sm",children:[b.jsx(sI,{size:16})," MURDER WEAPON"]}),b.jsx("div",{className:"grid grid-cols-2 gap-2",children:Z.means.map(K=>b.jsx("button",{onClick:()=>Xe({...ge,means:K}),className:`p-3 rounded border text-xs font-bold transition-all ${ge?.means===K?"bg-red-600 border-white text-white scale-105 shadow-lg":"bg-red-900/50 border-red-700 text-red-200 hover:bg-red-800"}`,children:K},K))})]}),b.jsxs("div",{className:"bg-blue-900/30 p-4 rounded-xl border border-blue-800",children:[b.jsxs("h3",{className:"text-blue-400 font-bold mb-2 flex items-center gap-2 text-sm",children:[b.jsx($d,{size:16})," EVIDENCE ON SITE"]}),b.jsx("div",{className:"grid grid-cols-2 gap-2",children:Z.clues.map(K=>b.jsx("button",{onClick:()=>Xe({...ge,clue:K}),className:`p-3 rounded border text-xs font-bold transition-all ${ge?.clue===K?"bg-blue-600 border-white text-white scale-105 shadow-lg":"bg-blue-900/50 border-blue-700 text-blue-200 hover:bg-blue-800"}`,children:K},K))})]})]}):b.jsx("div",{className:"flex-1 flex items-center justify-center",children:b.jsxs("div",{className:"bg-red-900/20 p-8 rounded-xl border border-red-500/30 animate-pulse text-center",children:[b.jsx(Uc,{size:48,className:"mx-auto text-red-500 mb-4"}),b.jsx("div",{className:"text-red-300 font-bold",children:"MURDER IN PROGRESS..."})]})}),de&&b.jsx("div",{className:"fixed bottom-0 left-0 w-full p-4 bg-red-950 border-t border-red-900 flex justify-center",children:b.jsx("button",{disabled:!ge?.means||!ge?.clue,onClick:()=>Vr(ge.means,ge.clue),className:"w-full max-w-md bg-white text-red-900 px-8 py-3 rounded-full font-black text-lg hover:scale-105 disabled:opacity-50 disabled:scale-100 transition-all shadow-2xl",children:"CONFIRM KILL"})})]}):ae?b.jsxs("div",{className:"min-h-screen bg-slate-900 text-white flex flex-col items-center justify-center p-8 text-center",children:[b.jsx("h2",{className:"text-3xl font-bold text-blue-400 mb-4",children:"Awaiting The Crime..."}),b.jsxs("div",{className:"animate-pulse bg-slate-800 p-6 rounded-xl max-w-lg",children:[b.jsx("p",{className:"text-slate-300",children:"The Murderer is choosing the Murder Weapon and Evidence."}),b.jsx("p",{className:"text-slate-500 text-sm mt-4",children:"Study everyone's cards carefully while you wait."})]})]}):b.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col items-center justify-center p-8 text-center",children:[b.jsx(tI,{size:64,className:"text-slate-700 mb-6"}),b.jsx("h2",{className:"text-4xl font-black text-slate-500 mb-4",children:"EYES CLOSED"}),b.jsx("p",{className:"text-slate-600",children:"The Murder is taking place. You will be informed once the detective finishes examining the crime scene."})]}):b.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100 font-sans flex flex-col",children:[b.jsxs("div",{className:"bg-slate-900 border-b border-slate-800 p-2 px-3 flex justify-between items-center shadow-md z-20 sticky top-0",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"font-black text-xl tracking-tighter text-blue-500",children:"INV."}),b.jsxs("div",{className:"flex flex-col leading-tight",onClick:()=>C(!w),children:[b.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold",children:"Role"}),b.jsx("div",{className:"flex items-center gap-1 cursor-pointer hover:bg-slate-800 rounded -ml-1 transition-colors",children:w?b.jsx(ns,{role:Z.role}):b.jsxs("span",{className:"text-xs font-bold text-slate-300 flex items-center",children:["Show ",b.jsx(jc,{size:10,className:"ml-1"})]})})]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("div",{className:"text-center mr-2",children:[b.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold block",children:"Rnd"}),b.jsxs("span",{className:"text-sm font-bold text-white",children:[E.round,"/3"]})]}),ae&&xt&&b.jsx("button",{onClick:Nt,className:"bg-green-600 hover:bg-green-500 text-white px-3 py-1.5 rounded text-xs font-bold shadow-lg animate-pulse",children:"Confirm"}),qe&&ae&&E.round<3&&b.jsxs("button",{disabled:!jt,onClick:()=>x(!k),className:`${k?"bg-red-500 animate-pulse":jt?"bg-blue-600":"bg-slate-700 opacity-50 cursor-not-allowed"} 
                     hover:brightness-110 text-white px-3 py-1.5 rounded text-xs font-bold shadow-lg transition-colors flex items-center gap-1`,children:[k?"Select Tile":"Next Rnd",!jt&&b.jsxs("span",{className:"text-[10px] bg-black/30 px-1 rounded",children:[E.nextRoundRequests?.length||0,"/",E.players.length-1]})]}),qe&&!ae&&!Qn&&!E.nextRoundRequests?.includes(r.uid)&&E.round<3&&b.jsx("button",{onClick:Ei,className:"bg-blue-600 hover:bg-blue-500 text-white px-3 py-1.5 rounded text-xs font-bold shadow-lg",children:"Req. Next"}),qe&&!ae&&E.nextRoundRequests?.includes(r.uid)&&b.jsx("div",{className:"text-[10px] text-green-400 font-bold bg-green-900/30 px-2 py-1 rounded border border-green-800",children:"Ready"}),b.jsx("button",{onClick:()=>N(!0),className:"p-2 hover:bg-slate-800 rounded-full text-slate-400 hover:text-white",children:b.jsx(pv,{size:18})}),b.jsx("button",{onClick:()=>mt(!0),className:"p-2 hover:bg-slate-800 rounded-full text-slate-400 hover:text-red-400",children:b.jsx(yv,{size:18})})]})]}),b.jsx("div",{className:"bg-slate-800/80 p-2 flex justify-center md:hidden border-b border-slate-700",children:b.jsxs("button",{onClick:()=>se(!H),className:"text-xs font-bold text-slate-400 flex items-center gap-1",children:[H?"Hide Clues":"Show Clues"," ",H?b.jsx(gv,{size:12}):b.jsx(QC,{size:12})]})}),H&&b.jsx("div",{className:"bg-slate-900/50 p-2 overflow-x-auto border-b border-slate-800",children:b.jsx("div",{className:"flex gap-2 min-w-max mx-auto px-2",children:E.activeTiles.map((K,Se)=>b.jsxs("div",{onClick:()=>{k&&ae&&Se>=2&&Nl(Se)},className:`w-40 bg-slate-800 rounded-lg border-2 flex flex-col relative shadow-lg transition-all
                    ${k&&Se>=2&&ae?"border-red-500 cursor-pointer hover:bg-red-900/20 scale-105":ae&&xt&&"hover:border-blue-500/50"} 
                    ${K.selected===null?"border-slate-700":"border-slate-600"}
                    ${k&&Se<2&&"opacity-50"} 
                  `,children:[k&&Se>=2&&ae&&b.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 z-10 text-red-500 font-bold",children:b.jsx(WC,{size:32})}),b.jsx("div",{className:`p-1.5 text-center font-bold text-[10px] uppercase tracking-wider text-white truncate ${K.type==="purple"?"bg-purple-900":K.type==="green"?"bg-emerald-900":"bg-slate-700"}`,children:K.title}),b.jsx("div",{className:"p-1.5 space-y-0.5",children:K.options.map((bt,dt)=>{const Ut=K.selected===dt;return b.jsxs("div",{onClick:Ti=>{Ti.stopPropagation(),ae&&xt&&wt(Se,dt)},className:`text-[10px] px-1.5 py-1 rounded cursor-pointer flex justify-between items-center transition-colors ${Ut?"bg-red-600 text-white font-bold shadow-md ring-1 ring-red-400":ae&&xt?"hover:bg-slate-700 text-slate-300":"text-slate-500 opacity-50"}`,children:[b.jsx("span",{className:"truncate",children:bt}),Ut&&b.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full ml-1 shrink-0"})]},dt)})})]},K.id))})}),b.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-slate-950 relative",children:b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 max-w-7xl mx-auto pb-20",children:E.players.map(K=>{const Se=K.id===r.uid,bt=re[K.id]||K.role==="DETECTIVE"||E.phase.includes("GAME_OVER"),dt=ge?.targetId===K.id,Ut=E.accompliceSuggestion===K.id,Ti=Qn?.targetId===K.id,Dt=E.accusations?.find(ut=>ut.solverId===K.id),is=gt&&!Fe&&(Je||de)&&K.role!=="DETECTIVE"&&K.role!=="MURDERER"&&K.role!=="ACCOMPLICE";return b.jsxs("div",{onClick:()=>{},className:`relative bg-slate-900 border rounded-xl overflow-hidden shadow-lg transition-all 
                     ${Se?"border-blue-500/30 ring-1 ring-blue-900/50":"border-slate-800"}
                     ${gt&&Ut&&de?"ring-4 ring-yellow-500 scale-105":""}
                     ${Ti?"border-yellow-500/50 ring-1 ring-yellow-500/30":""}
                   `,children:[b.jsxs("div",{className:"p-2 bg-slate-800/80 flex justify-between items-center border-b border-slate-700",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:`font-bold text-sm ${Se?"text-blue-400":"text-slate-200"}`,children:K.name}),bt&&b.jsx(ns,{role:K.role})]}),K.badge&&K.role!=="DETECTIVE"&&b.jsx(nl,{size:14,className:"text-yellow-500",fill:"currentColor"}),!K.badge&&K.role!=="DETECTIVE"&&b.jsx("div",{className:"text-[10px] text-slate-600 font-bold uppercase",children:"Submitted"})]}),b.jsxs("div",{className:"p-2 grid grid-cols-2 gap-2",children:[b.jsxs("div",{className:"space-y-1",children:[b.jsx("div",{className:"text-[10px] uppercase font-bold text-red-900 mb-1",children:"Murder Weapon"}),K.means.map(ut=>{const Vn=dt&&ge.means===ut,li=Ti&&Qn.means===ut,ss=(ae||Je||de)&&E.solution?.means===ut&&E.solution?.murdererId===K.id;return b.jsx("div",{onClick:oi=>{oi.stopPropagation(),K.id!==r.uid&&bi(K.id,"means",ut)},className:`px-2 py-2 rounded text-xs font-medium text-center truncate cursor-pointer transition-all active:scale-95 touch-manipulation min-h-[36px] flex items-center justify-center ${Vn?"bg-red-600 text-white font-bold shadow-md scale-105 border border-white":li?"bg-red-900/40 text-red-200 border border-yellow-500/50 shadow-inner":ss?"bg-purple-900/80 text-white border-2 border-purple-400 shadow-[0_0_10px_rgba(168,85,247,0.5)] animate-pulse":"bg-slate-800 text-red-200 border border-red-900/30 hover:bg-red-900/20 hover:border-red-500"} ${K.id===r.uid&&"opacity-50 cursor-not-allowed hover:bg-slate-800 hover:border-red-900/30"}`,children:ut},ut)})]}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("div",{className:"text-[10px] uppercase font-bold text-blue-900 mb-1",children:"Evidence on Site"}),K.clues.map(ut=>{const Vn=dt&&ge.clue===ut,li=Ti&&Qn.clue===ut,ss=(ae||Je||de)&&E.solution?.clue===ut&&E.solution?.murdererId===K.id;return b.jsx("div",{onClick:oi=>{oi.stopPropagation(),K.id!==r.uid&&bi(K.id,"clue",ut)},className:`px-2 py-2 rounded text-xs font-medium text-center truncate cursor-pointer transition-all active:scale-95 touch-manipulation min-h-[36px] flex items-center justify-center ${Vn?"bg-blue-600 text-white font-bold shadow-md scale-105 border border-white":li?"bg-blue-900/40 text-blue-200 border border-yellow-500/50 shadow-inner":ss?"bg-purple-900/80 text-white border-2 border-purple-400 shadow-[0_0_10px_rgba(168,85,247,0.5)] animate-pulse":"bg-slate-800 text-blue-200 border border-blue-900/30 hover:bg-blue-900/20 hover:border-blue-500"} ${K.id===r.uid&&"opacity-50 cursor-not-allowed hover:bg-slate-800 hover:border-blue-900/30"}`,children:ut},ut)})]})]}),gt&&Ut&&(Je||de)&&b.jsx("div",{className:"absolute inset-0 bg-yellow-500/30 pointer-events-none flex items-center justify-center z-20",children:b.jsx("div",{className:`bg-yellow-500 text-black px-3 py-1.5 rounded-lg font-black text-xs shadow-xl border-2 border-black transform -rotate-6 ${de?"animate-pulse scale-110":""}`,children:Je?"YOU SUGGESTED":"ACCOMPLICE'S PICK"})}),Dt&&b.jsxs("div",{className:`mx-2 mb-2 border-2 rounded-lg p-2 text-center relative overflow-hidden ${(gt||gn)&&Dt.isCorrect?"border-green-500 bg-green-950/40":"border-red-500 bg-red-950/40"}`,children:[b.jsx("div",{className:`absolute top-0 left-0 w-full h-1 ${(gt||gn)&&Dt.isCorrect?"bg-green-500":"bg-red-500"}`}),b.jsx("div",{className:`text-[10px] font-black uppercase tracking-widest mb-1 ${(gt||gn)&&Dt.isCorrect?"text-green-400":"text-red-400"}`,children:(gt||gn)&&Dt.isCorrect?"SUCCESSFUL ATTEMPT":"FAILED ATTEMPT"}),b.jsxs("div",{className:"text-xs text-slate-200 mb-1",children:["Suspected:"," ",b.jsx("span",{className:"font-bold text-white text-sm",children:E.players.find(ut=>ut.id===Dt.targetId)?.name})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[b.jsx("div",{className:`border rounded px-1 py-0.5 text-[10px] truncate ${(gt||gn)&&Dt.isCorrect?"bg-black/40 border-green-500/20 text-green-200":"bg-black/40 border-red-500/20 text-red-200"}`,children:Dt.means}),b.jsx("div",{className:`border rounded px-1 py-0.5 text-[10px] truncate ${(gt||gn)&&Dt.isCorrect?"bg-black/40 border-green-500/20 text-green-200":"bg-black/40 border-blue-500/20 text-blue-200"}`,children:Dt.clue})]})]}),is&&b.jsxs("div",{className:"p-2 pt-0 mt-auto sticky bottom-0 bg-slate-900/95 backdrop-blur-sm border-t border-slate-700 -mx-px -mb-px rounded-b-xl z-30",children:[Je&&b.jsxs("button",{onClick:ut=>{ut.stopPropagation(),ts(K.id)},className:"w-full bg-yellow-500 hover:bg-yellow-400 text-black font-bold py-2 px-4 rounded-lg text-xs flex items-center justify-center gap-2 shadow-lg animate-in slide-in-from-bottom-2 fade-in",children:[b.jsx(Lc,{size:14})," Suggest as Witness"]}),de&&b.jsxs("button",{onClick:ut=>{ut.stopPropagation();const Vn=E.settings?.useAccomplice,li=E.accompliceSuggestion;if(Vn&&!li){Oe("Wait!","Wait for your Accomplice to suggest a target first!");return}It("Eliminate Witness?",`Eliminate ${K.name} as the Witness? This ends the game.`,()=>kr(K.id))},className:"w-full bg-red-600 hover:bg-red-500 text-white font-bold py-2 px-4 rounded-lg text-xs flex items-center justify-center gap-2 shadow-lg animate-in slide-in-from-bottom-2 fade-in animate-pulse",children:[b.jsx(JC,{size:14})," ELIMINATE"]})]}),dt&&(ge.means||ge.clue)&&!gt&&b.jsx("div",{className:"p-2 pt-0 mt-auto sticky bottom-0 bg-slate-900/95 backdrop-blur-sm border-t border-slate-700 -mx-px -mb-px rounded-b-xl z-10",children:b.jsxs("button",{onClick:ut=>{ut.stopPropagation(),I(!0)},className:"w-full bg-yellow-500 hover:bg-yellow-400 text-black font-bold py-2 px-4 rounded-lg text-xs flex items-center justify-center gap-2 shadow-lg animate-in slide-in-from-bottom-2 fade-in transition-transform active:scale-95",children:[b.jsx(nl,{size:14})," Review Accusation"]})})]},K.id)})})}),V&&b.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex justify-end",children:b.jsxs("div",{className:"w-full max-w-md bg-slate-900 h-full border-l border-slate-700 flex flex-col shadow-2xl animate-in slide-in-from-right",children:[b.jsxs("div",{className:"p-4 border-b border-slate-700 flex justify-between items-center bg-slate-800",children:[b.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[b.jsx(pv,{})," Case Logs"]}),b.jsx("button",{onClick:()=>N(!1),children:b.jsx(vv,{className:"text-slate-400 hover:text-white"})})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[...E.logs||[]].reverse().map((K,Se)=>b.jsxs("div",{className:`text-sm p-3 rounded border-l-4 ${K.type==="danger"?"bg-red-900/20 border-red-500 text-red-200":K.type==="success"?"bg-green-900/20 border-green-500 text-green-200":K.type==="warning"?"bg-orange-900/20 border-orange-500 text-orange-200":"bg-slate-800 border-blue-500 text-slate-300"}`,children:[b.jsxs("div",{className:"font-mono text-[10px] opacity-50 mb-1",children:["EVENT ",E.logs.length-Se]}),K.text]},Se))})]})}),lt&&b.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6 max-w-sm w-full text-center shadow-2xl",children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Leave Game?"}),b.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:"Are you sure? You will be removed from the lobby."}),b.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[b.jsx("button",{onClick:()=>mt(!1),className:"bg-slate-700 hover:bg-slate-600 text-white py-3 rounded font-bold",children:"Stay"}),b.jsx("button",{onClick:Ji,className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold",children:"Leave"})]})]})}),ce&&b.jsx("div",{className:"fixed inset-0 bg-black/90 z-[70] flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6 max-w-sm w-full text-center shadow-2xl animate-in zoom-in-95 duration-200",children:[b.jsx("div",{className:"flex justify-center mb-4",children:ce.type==="confirm"?b.jsx(Wd,{size:48,className:"text-yellow-500"}):b.jsx(lI,{size:48,className:"text-blue-500"})}),b.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:ce.title}),b.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:ce.message}),b.jsxs("div",{className:`grid ${ce.type==="confirm"?"grid-cols-2":"grid-cols-1"} gap-3`,children:[ce.type==="confirm"&&b.jsx("button",{onClick:ot,className:"bg-slate-700 hover:bg-slate-600 text-white py-3 rounded font-bold",children:"Cancel"}),b.jsx("button",{onClick:()=>{ce.onConfirm&&ce.onConfirm(),ot()},className:`${ce.type==="confirm"?"bg-red-600 hover:bg-red-500":"bg-blue-600 hover:bg-blue-500"} text-white py-3 rounded font-bold`,children:ce.type==="confirm"?"Confirm":"OK"})]})]})}),gt&&!Fe&&de&&E.accompliceSuggestion&&Y&&b.jsx("div",{className:"fixed inset-0 z-40 flex items-start justify-center pt-20",onClick:()=>ie(!1),children:b.jsxs("div",{onClick:K=>K.stopPropagation(),className:"bg-green-900/90 border-2 border-green-500 p-4 rounded-xl shadow-2xl animate-bounce cursor-default max-w-xs text-center backdrop-blur-sm",children:[b.jsxs("div",{className:"font-bold text-green-400 text-sm mb-1 uppercase",children:[b.jsx(Lc,{size:14,className:"inline mr-1"})," Target Confirmed"]}),"Accomplice suggests:"," ",b.jsx("span",{className:"text-white font-black text-lg block mt-1",children:E.players.find(K=>K.id===E.accompliceSuggestion)?.name}),b.jsx("div",{className:"text-[10px] text-green-300 mt-2 uppercase tracking-wide",children:"Click empty space to dismiss"})]})}),Be&&ge&&b.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl w-full max-w-lg p-6 shadow-2xl max-h-[90vh] overflow-y-auto",children:[b.jsxs("h3",{className:"text-2xl font-black text-yellow-500 mb-4 flex items-center gap-2",children:[b.jsx(nl,{})," SUBMIT CASE FILE"]}),b.jsxs("div",{className:"space-y-4 mb-8",children:[b.jsxs("div",{className:"bg-slate-800 p-4 rounded-lg",children:[b.jsx("div",{className:"text-xs text-slate-500 uppercase",children:"Suspect"}),b.jsx("div",{className:"text-xl font-bold text-white",children:E.players.find(K=>K.id===ge.targetId)?.name})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-slate-500 uppercase mb-1",children:"Murder Weapon"}),ge.means?b.jsx("div",{className:"p-3 bg-red-900/50 border border-red-600 rounded text-red-100 font-bold text-center text-sm",children:ge.means}):b.jsx("div",{className:"p-3 bg-slate-800 border border-slate-700 border-dashed rounded text-slate-500 text-center text-xs",children:"Select Murder Weapon from Card"})]}),b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-slate-500 uppercase mb-1",children:"Evidence on Site"}),ge.clue?b.jsx("div",{className:"p-3 bg-blue-900/50 border border-blue-600 rounded text-blue-100 font-bold text-center text-sm",children:ge.clue}):b.jsx("div",{className:"p-3 bg-slate-800 border border-slate-700 border-dashed rounded text-slate-500 text-center text-xs",children:"Select Evidence on Site from Card"})]})]}),b.jsxs("div",{className:"bg-blue-900/20 p-3 rounded text-sm text-blue-200 text-center border border-blue-800",children:[b.jsx("div",{className:"font-bold mb-1",children:"PROCEDURE NOTE"}),"Your result will be revealed only after ",b.jsx("strong",{children:"ALL"})," ","investigators have submitted their files."]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsx("button",{onClick:()=>I(!1),className:"py-3 rounded-lg font-bold text-slate-400 hover:bg-slate-800",children:"Cancel"}),b.jsx("button",{disabled:!ge.means||!ge.clue,onClick:ga,className:"bg-yellow-600 hover:bg-yellow-500 text-black py-3 rounded-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed",children:"CONFIRM & SUBMIT"})]})]})}),E.activeAccusation&&b.jsx("div",{className:"fixed inset-0 bg-black/95 z-[60] flex items-center justify-center p-4",children:b.jsxs("div",{className:`max-w-lg w-full p-6 rounded-2xl border-4 shadow-2xl text-center ${E.activeAccusation.isCorrect?"bg-green-900/90 border-green-500":"bg-red-900/90 border-red-500"}`,children:[b.jsx("h2",{className:"text-3xl font-black text-white mb-2 uppercase tracking-widest",children:E.activeAccusation.isCorrect?"CASE SOLVED!":"WRONG ACCUSATION"}),b.jsxs("div",{className:"bg-black/30 p-4 rounded-xl mb-6 text-left",children:[b.jsx("div",{className:"text-xs uppercase font-bold text-white/50 mb-2 border-b border-white/10 pb-1",children:"The Accusation Attempt"}),b.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-2 items-center mb-1",children:[b.jsx("span",{className:"text-sm text-gray-400 font-bold",children:"Accuser:"}),b.jsx("span",{className:"text-white font-bold",children:E.activeAccusation.solverName})]}),b.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-2 items-center mb-4",children:[b.jsx("span",{className:"text-sm text-gray-400 font-bold",children:"Suspect:"}),b.jsx("span",{className:"text-xl text-white font-black",children:E.players.find(K=>K.id===E.activeAccusation.targetId)?.name})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{className:"bg-red-900/30 border border-red-500/30 p-2 rounded text-center",children:[b.jsx("div",{className:"text-[10px] text-red-300 uppercase font-bold mb-1",children:"Murder Weapon"}),b.jsx("div",{className:"text-white font-bold text-sm",children:E.activeAccusation.means})]}),b.jsxs("div",{className:"bg-blue-900/30 border border-blue-500/30 p-2 rounded text-center",children:[b.jsx("div",{className:"text-[10px] text-blue-300 uppercase font-bold mb-1",children:"Evidence on Site"}),b.jsx("div",{className:"text-white font-bold text-sm",children:E.activeAccusation.clue})]})]})]}),b.jsxs("div",{className:"flex flex-col items-center gap-3",children:[b.jsxs("div",{className:"text-xs uppercase font-bold text-white/50",children:["Waiting for players:"," ",E.activeAccusation.continueVotes?.length||0,"/",E.players.length]}),b.jsxs("button",{onClick:rn,disabled:E.activeAccusation.continueVotes?.includes(r.uid),className:`px-8 py-3 rounded-full font-bold text-lg transition-all flex items-center gap-2 ${E.activeAccusation.continueVotes?.includes(r.uid)?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-white text-black hover:scale-105 shadow-xl"}`,children:[E.activeAccusation.continueVotes?.includes(r.uid)?"WAITING...":"CONTINUE"," ",b.jsx(gv,{className:"rotate-90"})]})]})]})}),gt&&Fe&&b.jsx("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center p-4 bg-black/80",children:de||Je?b.jsxs("div",{className:"bg-red-950 border-2 border-red-500 p-6 rounded-xl shadow-2xl text-center max-w-lg animate-in fade-in zoom-in duration-300",children:[b.jsx("h2",{className:"text-2xl md:text-3xl font-black text-red-500 mb-2",children:"YOU HAVE BEEN CAUGHT!"}),b.jsx("p",{className:"text-red-100 text-base md:text-lg mb-4",children:Je?"Help the Murderer find the Witness.":"Identify the Witness to steal the win."}),de&&E.settings?.useAccomplice&&(E.accompliceSuggestion?b.jsxs("div",{className:"bg-green-900/40 p-3 rounded border border-green-500 mb-4 animate-bounce",children:[b.jsxs("div",{className:"font-bold text-green-400 text-sm mb-1 uppercase",children:[b.jsx(Lc,{size:14,className:"inline mr-1"})," Target Confirmed"]}),"Accomplice suggests:"," ",b.jsx("span",{className:"text-white font-black text-lg block mt-1",children:E.players.find(K=>K.id===E.accompliceSuggestion)?.name})]}):b.jsxs("div",{className:"bg-black/40 p-3 rounded border border-red-500/50 mb-4 animate-pulse",children:[b.jsxs("div",{className:"font-bold text-yellow-400 text-sm mb-1 uppercase",children:[b.jsx(Wd,{size:14,className:"inline mr-1"})," Hold Fire"]}),"Waiting for Accomplice suggestion..."]})),b.jsx("button",{onClick:()=>O(!1),className:"mt-4 bg-white text-red-900 px-8 py-3 rounded-full font-black uppercase text-sm hover:scale-105 transition-transform shadow-xl",children:"Select Witness"})]}):b.jsxs("div",{className:"bg-slate-900/95 border-2 border-yellow-500 p-6 rounded-xl shadow-2xl text-center max-w-lg animate-in fade-in zoom-in duration-300",children:[b.jsx("h2",{className:"text-3xl font-black text-yellow-500 mb-2",children:"CRIME SOLVED!"}),b.jsx("p",{className:"text-slate-200 text-lg mb-4",children:"The Investigators found the solution. However..."}),b.jsx("div",{className:"text-xl font-bold text-red-400 mb-4 animate-pulse",children:"THE MURDERER IS HUNTING FOR THE WITNESS"}),b.jsx("p",{className:"text-slate-400 text-sm",children:"If the Murderer identifies the Witness correctly, the Bad Guys steal the win."})]})}),E.phase==="GAME_OVER_GOOD"&&b.jsxs("div",{className:"fixed inset-0 bg-blue-900/95 z-50 flex flex-col items-center justify-center p-6 text-center",children:[b.jsx(nl,{size:96,className:"text-yellow-400 mb-6 shadow-xl"}),b.jsx("h1",{className:"text-4xl md:text-6xl font-black text-white mb-4",children:"INVESTIGATORS WIN"}),b.jsxs("p",{className:"text-blue-200 text-lg md:text-xl max-w-lg mb-8",children:["Solved by:"," ",b.jsx("span",{className:"text-yellow-400 font-bold",children:(E.successfulSolvers||[]).map(K=>E.players.find(Se=>Se.id===K)?.name).join(", ")||"The Team"})]}),b.jsxs("div",{className:"bg-white/10 p-6 rounded-xl border border-white/20 mb-8 w-full max-w-md",children:[b.jsx("div",{className:"text-sm uppercase tracking-widest text-blue-300 mb-2",children:"The Solution"}),b.jsxs("div",{className:"text-2xl md:text-3xl font-bold text-white mb-1",children:[E.solution.means," + ",E.solution.clue]}),b.jsxs("div",{className:"text-lg text-blue-200",children:["Culprit:"," ",E.players.find(K=>K.id===E.solution.murdererId)?.name]})]}),E.hostId===r.uid&&b.jsxs("button",{onClick:ks,className:"bg-white text-blue-900 px-8 py-3 rounded-full font-bold hover:scale-105 transition-transform flex items-center gap-2",children:[b.jsx(_v,{size:20})," Return to Lobby"]})]}),E.phase==="GAME_OVER_BAD"&&b.jsxs("div",{className:"fixed inset-0 bg-red-950/95 z-50 flex flex-col items-center justify-center p-6 text-center",children:[b.jsx(Uc,{size:96,className:"text-red-500 mb-6 shadow-xl"}),b.jsx("h1",{className:"text-4xl md:text-6xl font-black text-white mb-4",children:"MURDERER WINS"}),b.jsx("p",{className:"text-red-200 text-lg md:text-xl max-w-lg mb-8",children:"The investigation failed or the witness was silenced."}),b.jsxs("div",{className:"bg-white/10 p-6 rounded-xl border border-white/20 mb-8 w-full max-w-md",children:[b.jsx("div",{className:"text-sm uppercase tracking-widest text-red-300 mb-2",children:"The Solution"}),b.jsxs("div",{className:"text-2xl md:text-3xl font-bold text-white mb-1",children:[E.solution.means," + ",E.solution.clue]}),b.jsxs("div",{className:"text-lg text-red-200",children:["Culprit:"," ",E.players.find(K=>K.id===E.solution.murdererId)?.name]})]}),E.hostId===r.uid&&b.jsxs("button",{onClick:ks,className:"bg-white text-red-900 px-8 py-3 rounded-full font-bold hover:scale-105 transition-transform flex items-center gap-2",children:[b.jsx(_v,{size:20})," Return to Lobby"]})]})]})}return null}O1.createRoot(document.getElementById("root")).render(b.jsx(Ye.StrictMode,{children:b.jsx(AI,{})}));
