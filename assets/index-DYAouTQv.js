(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function C1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ud={exports:{}},Oo={};var j0;function N1(){if(j0)return Oo;j0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return Oo.Fragment=e,Oo.jsx=i,Oo.jsxs=i,Oo}var U0;function I1(){return U0||(U0=1,Ud.exports=N1()),Ud.exports}var b=I1(),Ld={exports:{}},xe={};var L0;function D1(){if(L0)return xe;L0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.iterator;function F(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ne=Object.assign,ee={};function ve(O,Y,ie){this.props=O,this.context=Y,this.refs=ee,this.updater=ie||J}ve.prototype.isReactComponent={},ve.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},ve.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Re(){}Re.prototype=ve.prototype;function Ee(O,Y,ie){this.props=O,this.context=Y,this.refs=ee,this.updater=ie||J}var ge=Ee.prototype=new Re;ge.constructor=Ee,ne(ge,ve.prototype),ge.isPureReactComponent=!0;var Xe=Array.isArray;function Be(){}var N={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function C(O,Y,ie){var le=ie.ref;return{$$typeof:r,type:O,key:Y,ref:le!==void 0?le:null,props:ie}}function V(O,Y){return C(O.type,Y,O.props)}function I(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function k(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ie){return Y[ie]})}var w=/\/+/g;function ot(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):Y.toString(36)}function ut(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Be,Be):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function q(O,Y,ie,le,pe){var Ce=typeof O;(Ce==="undefined"||Ce==="boolean")&&(O=null);var Oe=!1;if(O===null)Oe=!0;else switch(Ce){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(O.$$typeof){case r:case e:Oe=!0;break;case E:return Oe=O._init,q(Oe(O._payload),Y,ie,le,pe)}}if(Oe)return pe=pe(O),Oe=le===""?"."+ot(O,0):le,Xe(pe)?(ie="",Oe!=null&&(ie=Oe.replace(w,"$&/")+"/"),q(pe,Y,ie,"",function(Ji){return Ji})):pe!=null&&(I(pe)&&(pe=V(pe,ie+(pe.key==null||O&&O.key===pe.key?"":(""+pe.key).replace(w,"$&/")+"/")+Oe)),Y.push(pe)),1;Oe=0;var Dt=le===""?".":le+":";if(Xe(O))for(var ct=0;ct<O.length;ct++)le=O[ct],Ce=Dt+ot(le,ct),Oe+=q(le,Y,ie,Ce,pe);else if(ct=F(O),typeof ct=="function")for(O=ct.call(O),ct=0;!(le=O.next()).done;)le=le.value,Ce=Dt+ot(le,ct++),Oe+=q(le,Y,ie,Ce,pe);else if(Ce==="object"){if(typeof O.then=="function")return q(ut(O),Y,ie,le,pe);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function se(O,Y,ie){if(O==null)return O;var le=[],pe=0;return q(O,le,"","",function(Ce){return Y.call(ie,Ce,pe++)}),le}function ce(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(ie){(O._status===0||O._status===-1)&&(O._status=1,O._result=ie)},function(ie){(O._status===0||O._status===-1)&&(O._status=2,O._result=ie)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Me=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Fe={map:se,forEach:function(O,Y,ie){se(O,function(){Y.apply(this,arguments)},ie)},count:function(O){var Y=0;return se(O,function(){Y++}),Y},toArray:function(O){return se(O,function(Y){return Y})||[]},only:function(O){if(!I(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return xe.Activity=A,xe.Children=Fe,xe.Component=ve,xe.Fragment=i,xe.Profiler=o,xe.PureComponent=Ee,xe.StrictMode=a,xe.Suspense=y,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,xe.__COMPILER_RUNTIME={__proto__:null,c:function(O){return N.H.useMemoCache(O)}},xe.cache=function(O){return function(){return O.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(O,Y,ie){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var le=ne({},O.props),pe=O.key;if(Y!=null)for(Ce in Y.key!==void 0&&(pe=""+Y.key),Y)!x.call(Y,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&Y.ref===void 0||(le[Ce]=Y[Ce]);var Ce=arguments.length-2;if(Ce===1)le.children=ie;else if(1<Ce){for(var Oe=Array(Ce),Dt=0;Dt<Ce;Dt++)Oe[Dt]=arguments[Dt+2];le.children=Oe}return C(O.type,pe,le)},xe.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},xe.createElement=function(O,Y,ie){var le,pe={},Ce=null;if(Y!=null)for(le in Y.key!==void 0&&(Ce=""+Y.key),Y)x.call(Y,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(pe[le]=Y[le]);var Oe=arguments.length-2;if(Oe===1)pe.children=ie;else if(1<Oe){for(var Dt=Array(Oe),ct=0;ct<Oe;ct++)Dt[ct]=arguments[ct+2];pe.children=Dt}if(O&&O.defaultProps)for(le in Oe=O.defaultProps,Oe)pe[le]===void 0&&(pe[le]=Oe[le]);return C(O,Ce,pe)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(O){return{$$typeof:p,render:O}},xe.isValidElement=I,xe.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:ce}},xe.memo=function(O,Y){return{$$typeof:_,type:O,compare:Y===void 0?null:Y}},xe.startTransition=function(O){var Y=N.T,ie={};N.T=ie;try{var le=O(),pe=N.S;pe!==null&&pe(ie,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Be,Me)}catch(Ce){Me(Ce)}finally{Y!==null&&ie.types!==null&&(Y.types=ie.types),N.T=Y}},xe.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},xe.use=function(O){return N.H.use(O)},xe.useActionState=function(O,Y,ie){return N.H.useActionState(O,Y,ie)},xe.useCallback=function(O,Y){return N.H.useCallback(O,Y)},xe.useContext=function(O){return N.H.useContext(O)},xe.useDebugValue=function(){},xe.useDeferredValue=function(O,Y){return N.H.useDeferredValue(O,Y)},xe.useEffect=function(O,Y){return N.H.useEffect(O,Y)},xe.useEffectEvent=function(O){return N.H.useEffectEvent(O)},xe.useId=function(){return N.H.useId()},xe.useImperativeHandle=function(O,Y,ie){return N.H.useImperativeHandle(O,Y,ie)},xe.useInsertionEffect=function(O,Y){return N.H.useInsertionEffect(O,Y)},xe.useLayoutEffect=function(O,Y){return N.H.useLayoutEffect(O,Y)},xe.useMemo=function(O,Y){return N.H.useMemo(O,Y)},xe.useOptimistic=function(O,Y){return N.H.useOptimistic(O,Y)},xe.useReducer=function(O,Y,ie){return N.H.useReducer(O,Y,ie)},xe.useRef=function(O){return N.H.useRef(O)},xe.useState=function(O){return N.H.useState(O)},xe.useSyncExternalStore=function(O,Y,ie){return N.H.useSyncExternalStore(O,Y,ie)},xe.useTransition=function(){return N.H.useTransition()},xe.version="19.2.0",xe}var P0;function Cm(){return P0||(P0=1,Ld.exports=D1()),Ld.exports}var Ye=Cm();const O1=C1(Ye);var Pd={exports:{}},Mo={},zd={exports:{}},Bd={};var z0;function M1(){return z0||(z0=1,(function(r){function e(q,se){var ce=q.length;q.push(se);e:for(;0<ce;){var Me=ce-1>>>1,Fe=q[Me];if(0<o(Fe,se))q[Me]=se,q[ce]=Fe,ce=Me;else break e}}function i(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var se=q[0],ce=q.pop();if(ce!==se){q[0]=ce;e:for(var Me=0,Fe=q.length,O=Fe>>>1;Me<O;){var Y=2*(Me+1)-1,ie=q[Y],le=Y+1,pe=q[le];if(0>o(ie,ce))le<Fe&&0>o(pe,ie)?(q[Me]=pe,q[le]=ce,Me=le):(q[Me]=ie,q[Y]=ce,Me=Y);else if(le<Fe&&0>o(pe,ce))q[Me]=pe,q[le]=ce,Me=le;else break e}}return se}function o(q,se){var ce=q.sortIndex-se.sortIndex;return ce!==0?ce:q.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],_=[],E=1,A=null,M=3,F=!1,J=!1,ne=!1,ee=!1,ve=typeof setTimeout=="function"?setTimeout:null,Re=typeof clearTimeout=="function"?clearTimeout:null,Ee=typeof setImmediate<"u"?setImmediate:null;function ge(q){for(var se=i(_);se!==null;){if(se.callback===null)a(_);else if(se.startTime<=q)a(_),se.sortIndex=se.expirationTime,e(y,se);else break;se=i(_)}}function Xe(q){if(ne=!1,ge(q),!J)if(i(y)!==null)J=!0,Be||(Be=!0,k());else{var se=i(_);se!==null&&ut(Xe,se.startTime-q)}}var Be=!1,N=-1,x=5,C=-1;function V(){return ee?!0:!(r.unstable_now()-C<x)}function I(){if(ee=!1,Be){var q=r.unstable_now();C=q;var se=!0;try{e:{J=!1,ne&&(ne=!1,Re(N),N=-1),F=!0;var ce=M;try{t:{for(ge(q),A=i(y);A!==null&&!(A.expirationTime>q&&V());){var Me=A.callback;if(typeof Me=="function"){A.callback=null,M=A.priorityLevel;var Fe=Me(A.expirationTime<=q);if(q=r.unstable_now(),typeof Fe=="function"){A.callback=Fe,ge(q),se=!0;break t}A===i(y)&&a(y),ge(q)}else a(y);A=i(y)}if(A!==null)se=!0;else{var O=i(_);O!==null&&ut(Xe,O.startTime-q),se=!1}}break e}finally{A=null,M=ce,F=!1}se=void 0}}finally{se?k():Be=!1}}}var k;if(typeof Ee=="function")k=function(){Ee(I)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ot=w.port2;w.port1.onmessage=I,k=function(){ot.postMessage(null)}}else k=function(){ve(I,0)};function ut(q,se){N=ve(function(){q(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(q){switch(M){case 1:case 2:case 3:var se=3;break;default:se=M}var ce=M;M=se;try{return q()}finally{M=ce}},r.unstable_requestPaint=function(){ee=!0},r.unstable_runWithPriority=function(q,se){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ce=M;M=q;try{return se()}finally{M=ce}},r.unstable_scheduleCallback=function(q,se,ce){var Me=r.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Me+ce:Me):ce=Me,q){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return Fe=ce+Fe,q={id:E++,callback:se,priorityLevel:q,startTime:ce,expirationTime:Fe,sortIndex:-1},ce>Me?(q.sortIndex=ce,e(_,q),i(y)===null&&q===i(_)&&(ne?(Re(N),N=-1):ne=!0,ut(Xe,ce-Me))):(q.sortIndex=Fe,e(y,q),J||F||(J=!0,Be||(Be=!0,k()))),q},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(q){var se=M;return function(){var ce=M;M=se;try{return q.apply(this,arguments)}finally{M=ce}}}})(Bd)),Bd}var B0;function V1(){return B0||(B0=1,zd.exports=M1()),zd.exports}var Hd={exports:{}},pn={};var H0;function k1(){if(H0)return pn;H0=1;var r=Cm();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,_,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:y,containerInfo:_,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,pn.createPortal=function(y,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(y,_,null,E)},pn.flushSync=function(y){var _=d.T,E=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=E,a.d.f()}},pn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},pn.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},pn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var E=_.as,A=p(E,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,F=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:M,fetchPriority:F}):E==="script"&&a.d.X(y,{crossOrigin:A,integrity:M,fetchPriority:F,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},pn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},pn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,A=p(E,_.crossOrigin);a.d.L(y,E,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},pn.preloadModule=function(y,_){if(typeof y=="string")if(_){var E=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},pn.requestFormReset=function(y){a.d.r(y)},pn.unstable_batchedUpdates=function(y,_){return y(_)},pn.useFormState=function(y,_,E){return d.H.useFormState(y,_,E)},pn.useFormStatus=function(){return d.H.useHostTransitionStatus()},pn.version="19.2.0",pn}var q0;function j1(){if(q0)return Hd.exports;q0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Hd.exports=k1(),Hd.exports}var G0;function U1(){if(G0)return Mo;G0=1;var r=V1(),e=Cm(),i=j1();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),t;if(f===l)return y(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var g=!1,T=h.child;T;){if(T===s){g=!0,s=h,l=f;break}if(T===l){g=!0,l=h,s=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===s){g=!0,s=f,l=h;break}if(T===l){g=!0,l=f,s=h;break}T=T.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,M=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),ve=Symbol.for("react.profiler"),Re=Symbol.for("react.consumer"),Ee=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),Xe=Symbol.for("react.suspense"),Be=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function ot(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ne:return"Fragment";case ve:return"Profiler";case ee:return"StrictMode";case Xe:return"Suspense";case Be:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J:return"Portal";case Ee:return t.displayName||"Context";case Re:return(t._context.displayName||"Context")+".Consumer";case ge:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:ot(t.type)||"Memo";case x:n=t._payload,t=t._init;try{return ot(t(n))}catch{}}return null}var ut=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Me=[],Fe=-1;function O(t){return{current:t}}function Y(t){0>Fe||(t.current=Me[Fe],Me[Fe]=null,Fe--)}function ie(t,n){Fe++,Me[Fe]=t.current,t.current=n}var le=O(null),pe=O(null),Ce=O(null),Oe=O(null);function Dt(t,n){switch(ie(Ce,n),ie(pe,t),ie(le,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?r0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=r0(n),t=a0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(le),ie(le,t)}function ct(){Y(le),Y(pe),Y(Ce)}function Ji(t){t.memoizedState!==null&&ie(Oe,t);var n=le.current,s=a0(n,t.type);n!==s&&(ie(pe,t),ie(le,s))}function Us(t){pe.current===t&&(Y(le),Y(pe)),Oe.current===t&&(Y(Oe),Co._currentValue=ce)}var es,Ei;function Qn(t){if(es===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);es=n&&n[1]||"",Ei=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+es+t+Ei}var ts=!1;function ns(t,n){if(!t||ts)return"";ts=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var z=H}Reflect.construct(t,[],X)}else{try{X.call()}catch(H){z=H}t.call(X.prototype)}}else{try{throw Error()}catch(H){z=H}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var R=g.split(`
`),P=T.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===P.length)for(l=R.length-1,h=P.length-1;1<=l&&0<=h&&R[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==P[h]){var G=`
`+R[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=h);break}}}finally{ts=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Qn(s):""}function kr(t,n){switch(t.tag){case 26:case 27:case 5:return Qn(t.type);case 16:return Qn("Lazy");case 13:return t.child!==n&&n!==null?Qn("Suspense Fallback"):Qn("Suspense");case 19:return Qn("SuspenseList");case 0:case 15:return ns(t.type,!1);case 11:return ns(t.type.render,!1);case 1:return ns(t.type,!0);case 31:return Qn("Activity");default:return""}}function jr(t){try{var n="",s=null;do n+=kr(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var wt=Object.prototype.hasOwnProperty,Ot=r.unstable_scheduleCallback,Ti=r.unstable_cancelCallback,Ml=r.unstable_shouldYield,_a=r.unstable_requestPaint,rn=r.unstable_now,is=r.unstable_getCurrentPriorityLevel,Ur=r.unstable_ImmediatePriority,ss=r.unstable_UserBlockingPriority,Z=r.unstable_NormalPriority,re=r.unstable_LowPriority,ae=r.unstable_IdlePriority,de=r.log,Je=r.unstable_setDisableYieldValue,ft=null,dt=null;function Rt(t){if(typeof de=="function"&&Je(t),dt&&typeof dt.setStrictMode=="function")try{dt.setStrictMode(ft,t)}catch{}}var He=Math.clz32?Math.clz32:Si,gt=Math.log,gn=Math.LN2;function Si(t){return t>>>=0,t===0?32:31-(gt(t)/gn|0)|0}var Ut=256,Kn=262144,Q=4194304;function Se(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Et(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=Se(l):(g&=T,g!==0?h=Se(g):s||(s=T&~t,s!==0&&(h=Se(s))))):(T=l&~f,T!==0?h=Se(T):g!==0?h=Se(g):s||(s=l&~t,s!==0&&(h=Se(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function mt(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ct(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ai(){var t=Q;return Q<<=1,(Q&62914560)===0&&(Q=4194304),t}function Tt(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function rs(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function et(t,n,s,l,h,f){var g=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,R=t.expirationTimes,P=t.hiddenUpdates;for(s=g&~s;0<s;){var G=31-He(s),X=1<<G;T[G]=0,R[G]=-1;var z=P[G];if(z!==null)for(P[G]=null,G=0;G<z.length;G++){var H=z[G];H!==null&&(H.lane&=-536870913)}s&=~X}l!==0&&kn(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function kn(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-He(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function oi(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-He(s),h=1<<l;h&n|t[l]&n&&(t[l]|=n),s&=~h}}function as(t,n){var s=n&-n;return s=(s&42)!==0?1:ui(s),(s&(t.suspendedLanes|n))!==0?0:s}function ui(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ls(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function fu(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:N0(t.type))}function ci(t,n){var s=se.p;try{return se.p=t,n()}finally{se.p=s}}var hi=Math.random().toString(36).slice(2),Lt="__reactFiber$"+hi,en="__reactProps$"+hi,xi="__reactContainer$"+hi,va="__reactEvents$"+hi,Hh="__reactListeners$"+hi,du="__reactHandles$"+hi,mu="__reactResources$"+hi,wi="__reactMarker$"+hi;function ba(t){delete t[Lt],delete t[en],delete t[va],delete t[Hh],delete t[du]}function Ri(t){var n=t[Lt];if(n)return n;for(var s=t.parentNode;s;){if(n=s[xi]||s[Lt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=d0(t);t!==null;){if(s=t[Lt])return s;t=d0(t)}return n}t=s,s=t.parentNode}return null}function Yn(t){if(t=t[Lt]||t[xi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function jn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ci(t){var n=t[mu];return n||(n=t[mu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Pt(t){t[wi]=!0}var Vl=new Set,kl={};function Ni(t,n){Ii(t,n),Ii(t+"Capture",n)}function Ii(t,n){for(kl[t]=n,t=0;t<n.length;t++)Vl.add(n[t])}var jl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ul={},Ll={};function gu(t){return wt.call(Ll,t)?!0:wt.call(Ul,t)?!1:jl.test(t)?Ll[t]=!0:(Ul[t]=!0,!1)}function Ea(t,n,s){if(gu(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Un(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function zt(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ls(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Pl(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function tt(t){if(!t._valueTracker){var n=Ls(t)?"checked":"value";t._valueTracker=Pl(t,n,""+t[n])}}function Lr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=Ls(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function Di(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Pr=/[\n"\\]/g;function xn(t){return t.replace(Pr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ta(t,n,s,l,h,f,g,T){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+tn(n)):t.value!==""+tn(n)&&(t.value=""+tn(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?zl(t,g,tn(n)):s!=null?zl(t,g,tn(s)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+tn(T):t.removeAttribute("name")}function pu(t,n,s,l,h,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){tt(t);return}s=s!=null?""+tn(s):"",n=n!=null?""+tn(n):s,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),tt(t)}function zl(t,n,s){n==="number"&&Di(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Ps(t,n,s,l){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+tn(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function yu(t,n,s){if(n!=null&&(n=""+tn(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+tn(s):""}function zs(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(ut(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=tn(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),tt(t)}function wn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var _u=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bl(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||_u.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function Hl(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&Bl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Bl(t,f,n[f])}function Sa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Aa(t){return Bs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function fi(){}var ql=null;function Xn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hs=null,Oi=null;function zr(t){var n=Yn(t);if(n&&(t=n.stateNode)){var s=t[en]||null;e:switch(t=n.stateNode,n.type){case"input":if(Ta(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+xn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var h=l[en]||null;if(!h)throw Error(a(90));Ta(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&Lr(l)}break e;case"textarea":yu(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&Ps(t,!!s.multiple,n,!1)}}}var xa=!1;function qs(t,n,s){if(xa)return t(n,s);xa=!0;try{var l=t(n);return l}finally{if(xa=!1,(Hs!==null||Oi!==null)&&(fc(),Hs&&(n=Hs,t=Oi,Oi=Hs=null,zr(n),t)))for(n=0;n<t.length;n++)zr(t[n])}}function di(t,n){var s=t.stateNode;if(s===null)return null;var l=s[en]||null;if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Br=!1;if($n)try{var st={};Object.defineProperty(st,"passive",{get:function(){Br=!0}}),window.addEventListener("test",st,st),window.removeEventListener("test",st,st)}catch{Br=!1}var Mi=null,Gl=null,Hr=null;function Fl(){if(Hr)return Hr;var t,n=Gl,s=n.length,l,h="value"in Mi?Mi.value:Mi.textContent,f=h.length;for(t=0;t<s&&n[t]===h[t];t++);var g=s-t;for(l=1;l<=g&&n[s-l]===h[f-l];l++);return Hr=h.slice(t,1<l?1-l:void 0)}function qr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function os(){return!0}function mi(){return!1}function an(t){function n(s,l,h,f,g){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?os:mi,this.isPropagationStopped=mi,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=os)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=os)},persist:function(){},isPersistent:os}),n}var us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vi=an(us),Gs=A({},us,{view:0,detail:0}),Ql=an(Gs),Fs,wa,ki,Ra=A({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ki&&(ki&&t.type==="mousemove"?(Fs=t.screenX-ki.screenX,wa=t.screenY-ki.screenY):wa=Fs=0,ki=t),Fs)},movementY:function(t){return"movementY"in t?t.movementY:wa}}),Kl=an(Ra),Gr=A({},Ra,{dataTransfer:0}),bu=an(Gr),Eu=A({},Gs,{relatedTarget:0}),Fr=an(Eu),Yl=A({},us,{animationName:0,elapsedTime:0,pseudoElement:0}),Tu=an(Yl),Ca=A({},us,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Su=an(Ca),Au=A({},us,{data:0}),ji=an(Au),xu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Ru[t])?!!n[t]:!1}function Qs(){return Cu}var Tn=A({},Gs,{key:function(t){if(t.key){var n=xu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=qr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qs,charCode:function(t){return t.type==="keypress"?qr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Nu=an(Tn),Iu=A({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cs=an(Iu),u=A({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qs}),m=an(u),v=A({},us,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=an(v),U=A({},Ra,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=an(U),te=A({},us,{newState:0,oldState:0}),Ne=an(te),Mt=[9,13,27,32],$e=$n&&"CompositionEvent"in window,vt=null;$n&&"documentMode"in document&&(vt=document.documentMode);var Wn=$n&&"TextEvent"in window&&!vt,Ui=$n&&(!$e||vt&&8<vt&&11>=vt),gi=" ",pi=!1;function Qr(t,n){switch(t){case"keyup":return Mt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Na(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ia=!1;function ZE(t,n){switch(t){case"compositionend":return Na(n);case"keypress":return n.which!==32?null:(pi=!0,gi);case"textInput":return t=n.data,t===gi&&pi?null:t;default:return null}}function JE(t,n){if(Ia)return t==="compositionend"||!$e&&Qr(t,n)?(t=Fl(),Hr=Gl=Mi=null,Ia=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ui&&n.locale!=="ko"?null:n.data;default:return null}}var eT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!eT[t.type]:n==="textarea"}function yg(t,n,s,l){Hs?Oi?Oi.push(l):Oi=[l]:Hs=l,n=vc(n,"onChange"),0<n.length&&(s=new Vi("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var Xl=null,$l=null;function tT(t){Jy(t,0)}function Du(t){var n=jn(t);if(Lr(n))return t}function _g(t,n){if(t==="change")return n}var vg=!1;if($n){var qh;if($n){var Gh="oninput"in document;if(!Gh){var bg=document.createElement("div");bg.setAttribute("oninput","return;"),Gh=typeof bg.oninput=="function"}qh=Gh}else qh=!1;vg=qh&&(!document.documentMode||9<document.documentMode)}function Eg(){Xl&&(Xl.detachEvent("onpropertychange",Tg),$l=Xl=null)}function Tg(t){if(t.propertyName==="value"&&Du($l)){var n=[];yg(n,$l,t,Xn(t)),qs(tT,n)}}function nT(t,n,s){t==="focusin"?(Eg(),Xl=n,$l=s,Xl.attachEvent("onpropertychange",Tg)):t==="focusout"&&Eg()}function iT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Du($l)}function sT(t,n){if(t==="click")return Du(n)}function rT(t,n){if(t==="input"||t==="change")return Du(n)}function aT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Ln=typeof Object.is=="function"?Object.is:aT;function Wl(t,n){if(Ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!wt.call(n,h)||!Ln(t[h],n[h]))return!1}return!0}function Sg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ag(t,n){var s=Sg(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Sg(s)}}function xg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?xg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function wg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Di(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=Di(t.document)}return n}function Fh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var lT=$n&&"documentMode"in document&&11>=document.documentMode,Da=null,Qh=null,Zl=null,Kh=!1;function Rg(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Kh||Da==null||Da!==Di(l)||(l=Da,"selectionStart"in l&&Fh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Zl&&Wl(Zl,l)||(Zl=l,l=vc(Qh,"onSelect"),0<l.length&&(n=new Vi("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=Da)))}function Kr(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Oa={animationend:Kr("Animation","AnimationEnd"),animationiteration:Kr("Animation","AnimationIteration"),animationstart:Kr("Animation","AnimationStart"),transitionrun:Kr("Transition","TransitionRun"),transitionstart:Kr("Transition","TransitionStart"),transitioncancel:Kr("Transition","TransitionCancel"),transitionend:Kr("Transition","TransitionEnd")},Yh={},Cg={};$n&&(Cg=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function Yr(t){if(Yh[t])return Yh[t];if(!Oa[t])return t;var n=Oa[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Cg)return Yh[t]=n[s];return t}var Ng=Yr("animationend"),Ig=Yr("animationiteration"),Dg=Yr("animationstart"),oT=Yr("transitionrun"),uT=Yr("transitionstart"),cT=Yr("transitioncancel"),Og=Yr("transitionend"),Mg=new Map,Xh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xh.push("scrollEnd");function yi(t,n){Mg.set(t,n),Ni(n,[t])}var Ou=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Zn=[],Ma=0,$h=0;function Mu(){for(var t=Ma,n=$h=Ma=0;n<t;){var s=Zn[n];Zn[n++]=null;var l=Zn[n];Zn[n++]=null;var h=Zn[n];Zn[n++]=null;var f=Zn[n];if(Zn[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&Vg(s,h,f)}}function Vu(t,n,s,l){Zn[Ma++]=t,Zn[Ma++]=n,Zn[Ma++]=s,Zn[Ma++]=l,$h|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Wh(t,n,s,l){return Vu(t,n,s,l),ku(t)}function Xr(t,n){return Vu(t,null,null,n),ku(t)}function Vg(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-He(s),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function ku(t){if(50<Eo)throw Eo=0,ld=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Va={};function hT(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(t,n,s,l){return new hT(t,n,s,l)}function Zh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hs(t,n){var s=t.alternate;return s===null?(s=Pn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function kg(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function ju(t,n,s,l,h,f){var g=0;if(l=t,typeof t=="function")Zh(t)&&(g=1);else if(typeof t=="string")g=p1(t,s,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Pn(31,s,n,h),t.elementType=C,t.lanes=f,t;case ne:return $r(s.children,h,f,n);case ee:g=8,h|=24;break;case ve:return t=Pn(12,s,n,h|2),t.elementType=ve,t.lanes=f,t;case Xe:return t=Pn(13,s,n,h),t.elementType=Xe,t.lanes=f,t;case Be:return t=Pn(19,s,n,h),t.elementType=Be,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ee:g=10;break e;case Re:g=9;break e;case ge:g=11;break e;case N:g=14;break e;case x:g=16,l=null;break e}g=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Pn(g,s,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function $r(t,n,s,l){return t=Pn(7,t,l,n),t.lanes=s,t}function Jh(t,n,s){return t=Pn(6,t,null,n),t.lanes=s,t}function jg(t){var n=Pn(18,null,null,0);return n.stateNode=t,n}function ef(t,n,s){return n=Pn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ug=new WeakMap;function Jn(t,n){if(typeof t=="object"&&t!==null){var s=Ug.get(t);return s!==void 0?s:(n={value:t,source:n,stack:jr(n)},Ug.set(t,n),n)}return{value:t,source:n,stack:jr(n)}}var ka=[],ja=0,Uu=null,Jl=0,ei=[],ti=0,Ks=null,Li=1,Pi="";function fs(t,n){ka[ja++]=Jl,ka[ja++]=Uu,Uu=t,Jl=n}function Lg(t,n,s){ei[ti++]=Li,ei[ti++]=Pi,ei[ti++]=Ks,Ks=t;var l=Li;t=Pi;var h=32-He(l)-1;l&=~(1<<h),s+=1;var f=32-He(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,Li=1<<32-He(n)+h|s<<h|l,Pi=f+t}else Li=1<<f|s<<h|l,Pi=t}function tf(t){t.return!==null&&(fs(t,1),Lg(t,1,0))}function nf(t){for(;t===Uu;)Uu=ka[--ja],ka[ja]=null,Jl=ka[--ja],ka[ja]=null;for(;t===Ks;)Ks=ei[--ti],ei[ti]=null,Pi=ei[--ti],ei[ti]=null,Li=ei[--ti],ei[ti]=null}function Pg(t,n){ei[ti++]=Li,ei[ti++]=Pi,ei[ti++]=Ks,Li=n.id,Pi=n.overflow,Ks=t}var ln=null,pt=null,qe=!1,Ys=null,ni=!1,sf=Error(a(519));function Xs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw eo(Jn(n,t)),sf}function zg(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[Lt]=t,n[en]=l,s){case"dialog":ke("cancel",n),ke("close",n);break;case"iframe":case"object":case"embed":ke("load",n);break;case"video":case"audio":for(s=0;s<So.length;s++)ke(So[s],n);break;case"source":ke("error",n);break;case"img":case"image":case"link":ke("error",n),ke("load",n);break;case"details":ke("toggle",n);break;case"input":ke("invalid",n),pu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ke("invalid",n);break;case"textarea":ke("invalid",n),zs(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||i0(n.textContent,s)?(l.popover!=null&&(ke("beforetoggle",n),ke("toggle",n)),l.onScroll!=null&&ke("scroll",n),l.onScrollEnd!=null&&ke("scrollend",n),l.onClick!=null&&(n.onclick=fi),n=!0):n=!1,n||Xs(t,!0)}function Bg(t){for(ln=t.return;ln;)switch(ln.tag){case 5:case 31:case 13:ni=!1;return;case 27:case 3:ni=!0;return;default:ln=ln.return}}function Ua(t){if(t!==ln)return!1;if(!qe)return Bg(t),qe=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Td(t.type,t.memoizedProps)),s=!s),s&&pt&&Xs(t),Bg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));pt=f0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));pt=f0(t)}else n===27?(n=pt,ur(t.type)?(t=Rd,Rd=null,pt=t):pt=n):pt=ln?si(t.stateNode.nextSibling):null;return!0}function Wr(){pt=ln=null,qe=!1}function rf(){var t=Ys;return t!==null&&(In===null?In=t:In.push.apply(In,t),Ys=null),t}function eo(t){Ys===null?Ys=[t]:Ys.push(t)}var af=O(null),Zr=null,ds=null;function $s(t,n,s){ie(af,n._currentValue),n._currentValue=s}function ms(t){t._currentValue=af.current,Y(af)}function lf(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function of(t,n,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var R=0;R<n.length;R++)if(T.context===n[R]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),lf(f.return,s,t),l||(g=null);break e}f=T.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),lf(g,s,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function La(t,n,s,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var T=h.type;Ln(h.pendingProps.value,g.value)||(t!==null?t.push(T):t=[T])}}else if(h===Oe.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Co):t=[Co])}h=h.return}t!==null&&of(n,t,s,l),n.flags|=262144}function Lu(t){for(t=t.firstContext;t!==null;){if(!Ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Jr(t){Zr=t,ds=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function on(t){return Hg(Zr,t)}function Pu(t,n){return Zr===null&&Jr(t),Hg(t,n)}function Hg(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},ds===null){if(t===null)throw Error(a(308));ds=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ds=ds.next=n;return s}var fT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},dT=r.unstable_scheduleCallback,mT=r.unstable_NormalPriority,Bt={$$typeof:Ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uf(){return{controller:new fT,data:new Map,refCount:0}}function to(t){t.refCount--,t.refCount===0&&dT(mT,function(){t.controller.abort()})}var no=null,cf=0,Pa=0,za=null;function gT(t,n){if(no===null){var s=no=[];cf=0,Pa=dd(),za={status:"pending",value:void 0,then:function(l){s.push(l)}}}return cf++,n.then(qg,qg),n}function qg(){if(--cf===0&&no!==null){za!==null&&(za.status="fulfilled");var t=no;no=null,Pa=0,za=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function pT(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Gg=q.S;q.S=function(t,n){Ry=rn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&gT(t,n),Gg!==null&&Gg(t,n)};var ea=O(null);function hf(){var t=ea.current;return t!==null?t:ht.pooledCache}function zu(t,n){n===null?ie(ea,ea.current):ie(ea,n.pool)}function Fg(){var t=hf();return t===null?null:{parent:Bt._currentValue,pool:t}}var Ba=Error(a(460)),ff=Error(a(474)),Bu=Error(a(542)),Hu={then:function(){}};function Qg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Kg(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(fi,fi),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Xg(t),t;default:if(typeof n.status=="string")n.then(fi,fi);else{if(t=ht,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Xg(t),t}throw na=n,Ba}}function ta(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(na=s,Ba):s}}var na=null;function Yg(){if(na===null)throw Error(a(459));var t=na;return na=null,t}function Xg(t){if(t===Ba||t===Bu)throw Error(a(483))}var Ha=null,io=0;function qu(t){var n=io;return io+=1,Ha===null&&(Ha=[]),Kg(Ha,t,n)}function so(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Gu(t,n){throw n.$$typeof===M?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function $g(t){function n(j,D){if(t){var L=j.deletions;L===null?(j.deletions=[D],j.flags|=16):L.push(D)}}function s(j,D){if(!t)return null;for(;D!==null;)n(j,D),D=D.sibling;return null}function l(j){for(var D=new Map;j!==null;)j.key!==null?D.set(j.key,j):D.set(j.index,j),j=j.sibling;return D}function h(j,D){return j=hs(j,D),j.index=0,j.sibling=null,j}function f(j,D,L){return j.index=L,t?(L=j.alternate,L!==null?(L=L.index,L<D?(j.flags|=67108866,D):L):(j.flags|=67108866,D)):(j.flags|=1048576,D)}function g(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function T(j,D,L,K){return D===null||D.tag!==6?(D=Jh(L,j.mode,K),D.return=j,D):(D=h(D,L),D.return=j,D)}function R(j,D,L,K){var me=L.type;return me===ne?G(j,D,L.props.children,K,L.key):D!==null&&(D.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===x&&ta(me)===D.type)?(D=h(D,L.props),so(D,L),D.return=j,D):(D=ju(L.type,L.key,L.props,null,j.mode,K),so(D,L),D.return=j,D)}function P(j,D,L,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==L.containerInfo||D.stateNode.implementation!==L.implementation?(D=ef(L,j.mode,K),D.return=j,D):(D=h(D,L.children||[]),D.return=j,D)}function G(j,D,L,K,me){return D===null||D.tag!==7?(D=$r(L,j.mode,K,me),D.return=j,D):(D=h(D,L),D.return=j,D)}function X(j,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Jh(""+D,j.mode,L),D.return=j,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case F:return L=ju(D.type,D.key,D.props,null,j.mode,L),so(L,D),L.return=j,L;case J:return D=ef(D,j.mode,L),D.return=j,D;case x:return D=ta(D),X(j,D,L)}if(ut(D)||k(D))return D=$r(D,j.mode,L,null),D.return=j,D;if(typeof D.then=="function")return X(j,qu(D),L);if(D.$$typeof===Ee)return X(j,Pu(j,D),L);Gu(j,D)}return null}function z(j,D,L,K){var me=D!==null?D.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return me!==null?null:T(j,D,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case F:return L.key===me?R(j,D,L,K):null;case J:return L.key===me?P(j,D,L,K):null;case x:return L=ta(L),z(j,D,L,K)}if(ut(L)||k(L))return me!==null?null:G(j,D,L,K,null);if(typeof L.then=="function")return z(j,D,qu(L),K);if(L.$$typeof===Ee)return z(j,D,Pu(j,L),K);Gu(j,L)}return null}function H(j,D,L,K,me){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return j=j.get(L)||null,T(D,j,""+K,me);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case F:return j=j.get(K.key===null?L:K.key)||null,R(D,j,K,me);case J:return j=j.get(K.key===null?L:K.key)||null,P(D,j,K,me);case x:return K=ta(K),H(j,D,L,K,me)}if(ut(K)||k(K))return j=j.get(L)||null,G(D,j,K,me,null);if(typeof K.then=="function")return H(j,D,L,qu(K),me);if(K.$$typeof===Ee)return H(j,D,L,Pu(D,K),me);Gu(D,K)}return null}function ue(j,D,L,K){for(var me=null,Qe=null,he=D,De=D=0,Ue=null;he!==null&&De<L.length;De++){he.index>De?(Ue=he,he=null):Ue=he.sibling;var Ke=z(j,he,L[De],K);if(Ke===null){he===null&&(he=Ue);break}t&&he&&Ke.alternate===null&&n(j,he),D=f(Ke,D,De),Qe===null?me=Ke:Qe.sibling=Ke,Qe=Ke,he=Ue}if(De===L.length)return s(j,he),qe&&fs(j,De),me;if(he===null){for(;De<L.length;De++)he=X(j,L[De],K),he!==null&&(D=f(he,D,De),Qe===null?me=he:Qe.sibling=he,Qe=he);return qe&&fs(j,De),me}for(he=l(he);De<L.length;De++)Ue=H(he,j,De,L[De],K),Ue!==null&&(t&&Ue.alternate!==null&&he.delete(Ue.key===null?De:Ue.key),D=f(Ue,D,De),Qe===null?me=Ue:Qe.sibling=Ue,Qe=Ue);return t&&he.forEach(function(mr){return n(j,mr)}),qe&&fs(j,De),me}function _e(j,D,L,K){if(L==null)throw Error(a(151));for(var me=null,Qe=null,he=D,De=D=0,Ue=null,Ke=L.next();he!==null&&!Ke.done;De++,Ke=L.next()){he.index>De?(Ue=he,he=null):Ue=he.sibling;var mr=z(j,he,Ke.value,K);if(mr===null){he===null&&(he=Ue);break}t&&he&&mr.alternate===null&&n(j,he),D=f(mr,D,De),Qe===null?me=mr:Qe.sibling=mr,Qe=mr,he=Ue}if(Ke.done)return s(j,he),qe&&fs(j,De),me;if(he===null){for(;!Ke.done;De++,Ke=L.next())Ke=X(j,Ke.value,K),Ke!==null&&(D=f(Ke,D,De),Qe===null?me=Ke:Qe.sibling=Ke,Qe=Ke);return qe&&fs(j,De),me}for(he=l(he);!Ke.done;De++,Ke=L.next())Ke=H(he,j,De,Ke.value,K),Ke!==null&&(t&&Ke.alternate!==null&&he.delete(Ke.key===null?De:Ke.key),D=f(Ke,D,De),Qe===null?me=Ke:Qe.sibling=Ke,Qe=Ke);return t&&he.forEach(function(R1){return n(j,R1)}),qe&&fs(j,De),me}function lt(j,D,L,K){if(typeof L=="object"&&L!==null&&L.type===ne&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case F:e:{for(var me=L.key;D!==null;){if(D.key===me){if(me=L.type,me===ne){if(D.tag===7){s(j,D.sibling),K=h(D,L.props.children),K.return=j,j=K;break e}}else if(D.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===x&&ta(me)===D.type){s(j,D.sibling),K=h(D,L.props),so(K,L),K.return=j,j=K;break e}s(j,D);break}else n(j,D);D=D.sibling}L.type===ne?(K=$r(L.props.children,j.mode,K,L.key),K.return=j,j=K):(K=ju(L.type,L.key,L.props,null,j.mode,K),so(K,L),K.return=j,j=K)}return g(j);case J:e:{for(me=L.key;D!==null;){if(D.key===me)if(D.tag===4&&D.stateNode.containerInfo===L.containerInfo&&D.stateNode.implementation===L.implementation){s(j,D.sibling),K=h(D,L.children||[]),K.return=j,j=K;break e}else{s(j,D);break}else n(j,D);D=D.sibling}K=ef(L,j.mode,K),K.return=j,j=K}return g(j);case x:return L=ta(L),lt(j,D,L,K)}if(ut(L))return ue(j,D,L,K);if(k(L)){if(me=k(L),typeof me!="function")throw Error(a(150));return L=me.call(L),_e(j,D,L,K)}if(typeof L.then=="function")return lt(j,D,qu(L),K);if(L.$$typeof===Ee)return lt(j,D,Pu(j,L),K);Gu(j,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,D!==null&&D.tag===6?(s(j,D.sibling),K=h(D,L),K.return=j,j=K):(s(j,D),K=Jh(L,j.mode,K),K.return=j,j=K),g(j)):s(j,D)}return function(j,D,L,K){try{io=0;var me=lt(j,D,L,K);return Ha=null,me}catch(he){if(he===Ba||he===Bu)throw he;var Qe=Pn(29,he,null,j.mode);return Qe.lanes=K,Qe.return=j,Qe}finally{}}}var ia=$g(!0),Wg=$g(!1),Ws=!1;function df(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Zs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Js(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(We&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=ku(t),Vg(t,null,s),n}return Vu(t,l,n,s),ku(t)}function ro(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,oi(t,s)}}function gf(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var pf=!1;function ao(){if(pf){var t=za;if(t!==null)throw t}}function lo(t,n,s,l){pf=!1;var h=t.updateQueue;Ws=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,P=R.next;R.next=null,g===null?f=P:g.next=P,g=R;var G=t.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==g&&(T===null?G.firstBaseUpdate=P:T.next=P,G.lastBaseUpdate=R))}if(f!==null){var X=h.baseState;g=0,G=P=R=null,T=f;do{var z=T.lane&-536870913,H=z!==T.lane;if(H?(je&z)===z:(l&z)===z){z!==0&&z===Pa&&(pf=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ue=t,_e=T;z=n;var lt=s;switch(_e.tag){case 1:if(ue=_e.payload,typeof ue=="function"){X=ue.call(lt,X,z);break e}X=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=_e.payload,z=typeof ue=="function"?ue.call(lt,X,z):ue,z==null)break e;X=A({},X,z);break e;case 2:Ws=!0}}z=T.callback,z!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(P=G=H,R=X):G=G.next=H,g|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(R=X),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),sr|=g,t.lanes=g,t.memoizedState=X}}function Zg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Jg(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Zg(s[t],n)}var qa=O(null),Fu=O(0);function ep(t,n){t=Ss,ie(Fu,t),ie(qa,n),Ss=t|n.baseLanes}function yf(){ie(Fu,Ss),ie(qa,qa.current)}function _f(){Ss=Fu.current,Y(qa),Y(Fu)}var zn=O(null),ii=null;function er(t){var n=t.alternate;ie(Vt,Vt.current&1),ie(zn,t),ii===null&&(n===null||qa.current!==null||n.memoizedState!==null)&&(ii=t)}function vf(t){ie(Vt,Vt.current),ie(zn,t),ii===null&&(ii=t)}function tp(t){t.tag===22?(ie(Vt,Vt.current),ie(zn,t),ii===null&&(ii=t)):tr()}function tr(){ie(Vt,Vt.current),ie(zn,zn.current)}function Bn(t){Y(zn),ii===t&&(ii=null),Y(Vt)}var Vt=O(0);function Qu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||xd(s)||wd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var gs=0,Ie=null,rt=null,Ht=null,Ku=!1,Ga=!1,sa=!1,Yu=0,oo=0,Fa=null,yT=0;function Nt(){throw Error(a(321))}function bf(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!Ln(t[s],n[s]))return!1;return!0}function Ef(t,n,s,l,h,f){return gs=f,Ie=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=t===null||t.memoizedState===null?Lp:jf,sa=!1,f=s(l,h),sa=!1,Ga&&(f=ip(n,s,l,h)),np(t),f}function np(t){q.H=ho;var n=rt!==null&&rt.next!==null;if(gs=0,Ht=rt=Ie=null,Ku=!1,oo=0,Fa=null,n)throw Error(a(300));t===null||qt||(t=t.dependencies,t!==null&&Lu(t)&&(qt=!0))}function ip(t,n,s,l){Ie=t;var h=0;do{if(Ga&&(Fa=null),oo=0,Ga=!1,25<=h)throw Error(a(301));if(h+=1,Ht=rt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=Pp,f=n(s,l)}while(Ga);return f}function _T(){var t=q.H,n=t.useState()[0];return n=typeof n.then=="function"?uo(n):n,t=t.useState()[0],(rt!==null?rt.memoizedState:null)!==t&&(Ie.flags|=1024),n}function Tf(){var t=Yu!==0;return Yu=0,t}function Sf(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function Af(t){if(Ku){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Ku=!1}gs=0,Ht=rt=Ie=null,Ga=!1,oo=Yu=0,Fa=null}function Sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?Ie.memoizedState=Ht=t:Ht=Ht.next=t,Ht}function kt(){if(rt===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=rt.next;var n=Ht===null?Ie.memoizedState:Ht.next;if(n!==null)Ht=n,rt=t;else{if(t===null)throw Ie.alternate===null?Error(a(467)):Error(a(310));rt=t,t={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},Ht===null?Ie.memoizedState=Ht=t:Ht=Ht.next=t}return Ht}function Xu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function uo(t){var n=oo;return oo+=1,Fa===null&&(Fa=[]),t=Kg(Fa,t,n),n=Ie,(Ht===null?n.memoizedState:Ht.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?Lp:jf),t}function $u(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return uo(t);if(t.$$typeof===Ee)return on(t)}throw Error(a(438,String(t)))}function xf(t){var n=null,s=Ie.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Xu(),Ie.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=V;return n.index++,s}function ps(t,n){return typeof n=="function"?n(t):n}function Wu(t){var n=kt();return wf(n,rt,t)}function wf(t,n,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=g=null,R=null,P=n,G=!1;do{var X=P.lane&-536870913;if(X!==P.lane?(je&X)===X:(gs&X)===X){var z=P.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),X===Pa&&(G=!0);else if((gs&z)===z){P=P.next,z===Pa&&(G=!0);continue}else X={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(T=R=X,g=f):R=R.next=X,Ie.lanes|=z,sr|=z;X=P.action,sa&&s(f,X),f=P.hasEagerState?P.eagerState:s(f,X)}else z={lane:X,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(T=R=z,g=f):R=R.next=z,Ie.lanes|=X,sr|=X;P=P.next}while(P!==null&&P!==n);if(R===null?g=f:R.next=T,!Ln(f,t.memoizedState)&&(qt=!0,G&&(s=za,s!==null)))throw s;t.memoizedState=f,t.baseState=g,t.baseQueue=R,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Rf(t){var n=kt(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);Ln(f,n.memoizedState)||(qt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function sp(t,n,s){var l=Ie,h=kt(),f=qe;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!Ln((rt||h).memoizedState,s);if(g&&(h.memoizedState=s,qt=!0),h=h.queue,If(lp.bind(null,l,h,t),[t]),h.getSnapshot!==n||g||Ht!==null&&Ht.memoizedState.tag&1){if(l.flags|=2048,Qa(9,{destroy:void 0},ap.bind(null,l,h,s,n),null),ht===null)throw Error(a(349));f||(gs&127)!==0||rp(l,n,s)}return s}function rp(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Ie.updateQueue,n===null?(n=Xu(),Ie.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function ap(t,n,s,l){n.value=s,n.getSnapshot=l,op(n)&&up(t)}function lp(t,n,s){return s(function(){op(n)&&up(t)})}function op(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!Ln(t,s)}catch{return!0}}function up(t){var n=Xr(t,2);n!==null&&Dn(n,t,2)}function Cf(t){var n=Sn();if(typeof t=="function"){var s=t;if(t=s(),sa){Rt(!0);try{s()}finally{Rt(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:t},n}function cp(t,n,s,l){return t.baseState=s,wf(t,rt,typeof l=="function"?l:ps)}function vT(t,n,s,l,h){if(ec(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};q.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,hp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function hp(t,n){var s=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=q.T,g={};q.T=g;try{var T=s(h,l),R=q.S;R!==null&&R(g,T),fp(t,n,T)}catch(P){Nf(t,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),q.T=f}}else try{f=s(h,l),fp(t,n,f)}catch(P){Nf(t,n,P)}}function fp(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){dp(t,n,l)},function(l){return Nf(t,n,l)}):dp(t,n,s)}function dp(t,n,s){n.status="fulfilled",n.value=s,mp(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,hp(t,s)))}function Nf(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,mp(n),n=n.next;while(n!==l)}t.action=null}function mp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function gp(t,n){return n}function pp(t,n){if(qe){var s=ht.formState;if(s!==null){e:{var l=Ie;if(qe){if(pt){t:{for(var h=pt,f=ni;h.nodeType!==8;){if(!f){h=null;break t}if(h=si(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){pt=si(h.nextSibling),l=h.data==="F!";break e}}Xs(l)}l=!1}l&&(n=s[0])}}return s=Sn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gp,lastRenderedState:n},s.queue=l,s=kp.bind(null,Ie,l),l.dispatch=s,l=Cf(!1),f=kf.bind(null,Ie,!1,l.queue),l=Sn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,s=vT.bind(null,Ie,h,f,s),h.dispatch=s,l.memoizedState=t,[n,s,!1]}function yp(t){var n=kt();return _p(n,rt,t)}function _p(t,n,s){if(n=wf(t,n,gp)[0],t=Wu(ps)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=uo(n)}catch(g){throw g===Ba?Bu:g}else l=n;n=kt();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Ie.flags|=2048,Qa(9,{destroy:void 0},bT.bind(null,h,s),null)),[l,f,t]}function bT(t,n){t.action=n}function vp(t){var n=kt(),s=rt;if(s!==null)return _p(n,s,t);kt(),n=n.memoizedState,s=kt();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function Qa(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=Ie.updateQueue,n===null&&(n=Xu(),Ie.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function bp(){return kt().memoizedState}function Zu(t,n,s,l){var h=Sn();Ie.flags|=t,h.memoizedState=Qa(1|n,{destroy:void 0},s,l===void 0?null:l)}function Ju(t,n,s,l){var h=kt();l=l===void 0?null:l;var f=h.memoizedState.inst;rt!==null&&l!==null&&bf(l,rt.memoizedState.deps)?h.memoizedState=Qa(n,f,s,l):(Ie.flags|=t,h.memoizedState=Qa(1|n,f,s,l))}function Ep(t,n){Zu(8390656,8,t,n)}function If(t,n){Ju(2048,8,t,n)}function ET(t){Ie.flags|=4;var n=Ie.updateQueue;if(n===null)n=Xu(),Ie.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function Tp(t){var n=kt().memoizedState;return ET({ref:n,nextImpl:t}),function(){if((We&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Sp(t,n){return Ju(4,2,t,n)}function Ap(t,n){return Ju(4,4,t,n)}function xp(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function wp(t,n,s){s=s!=null?s.concat([t]):null,Ju(4,4,xp.bind(null,n,t),s)}function Df(){}function Rp(t,n){var s=kt();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&bf(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function Cp(t,n){var s=kt();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&bf(n,l[1]))return l[0];if(l=t(),sa){Rt(!0);try{t()}finally{Rt(!1)}}return s.memoizedState=[l,n],l}function Of(t,n,s){return s===void 0||(gs&1073741824)!==0&&(je&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Ny(),Ie.lanes|=t,sr|=t,s)}function Np(t,n,s,l){return Ln(s,n)?s:qa.current!==null?(t=Of(t,s,l),Ln(t,n)||(qt=!0),t):(gs&42)===0||(gs&1073741824)!==0&&(je&261930)===0?(qt=!0,t.memoizedState=s):(t=Ny(),Ie.lanes|=t,sr|=t,n)}function Ip(t,n,s,l,h){var f=se.p;se.p=f!==0&&8>f?f:8;var g=q.T,T={};q.T=T,kf(t,!1,n,s);try{var R=h(),P=q.S;if(P!==null&&P(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=pT(R,l);co(t,n,G,Gn(t))}else co(t,n,l,Gn(t))}catch(X){co(t,n,{then:function(){},status:"rejected",reason:X},Gn())}finally{se.p=f,g!==null&&T.types!==null&&(g.types=T.types),q.T=g}}function TT(){}function Mf(t,n,s,l){if(t.tag!==5)throw Error(a(476));var h=Dp(t).queue;Ip(t,h,n,ce,s===null?TT:function(){return Op(t),s(l)})}function Dp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:ce},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Op(t){var n=Dp(t);n.next===null&&(n=t.alternate.memoizedState),co(t,n.next.queue,{},Gn())}function Vf(){return on(Co)}function Mp(){return kt().memoizedState}function Vp(){return kt().memoizedState}function ST(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=Gn();t=Zs(s);var l=Js(n,t,s);l!==null&&(Dn(l,n,s),ro(l,n,s)),n={cache:uf()},t.payload=n;return}n=n.return}}function AT(t,n,s){var l=Gn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ec(t)?jp(n,s):(s=Wh(t,n,s,l),s!==null&&(Dn(s,t,l),Up(s,n,l)))}function kp(t,n,s){var l=Gn();co(t,n,s,l)}function co(t,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(ec(t))jp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,s);if(h.hasEagerState=!0,h.eagerState=T,Ln(T,g))return Vu(t,n,h,0),ht===null&&Mu(),!1}catch{}finally{}if(s=Wh(t,n,h,l),s!==null)return Dn(s,t,l),Up(s,n,l),!0}return!1}function kf(t,n,s,l){if(l={lane:2,revertLane:dd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ec(t)){if(n)throw Error(a(479))}else n=Wh(t,s,l,2),n!==null&&Dn(n,t,2)}function ec(t){var n=t.alternate;return t===Ie||n!==null&&n===Ie}function jp(t,n){Ga=Ku=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Up(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,oi(t,s)}}var ho={readContext:on,use:$u,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt};ho.useEffectEvent=Nt;var Lp={readContext:on,use:$u,useCallback:function(t,n){return Sn().memoizedState=[t,n===void 0?null:n],t},useContext:on,useEffect:Ep,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Zu(4194308,4,xp.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Zu(4194308,4,t,n)},useInsertionEffect:function(t,n){Zu(4,2,t,n)},useMemo:function(t,n){var s=Sn();n=n===void 0?null:n;var l=t();if(sa){Rt(!0);try{t()}finally{Rt(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=Sn();if(s!==void 0){var h=s(n);if(sa){Rt(!0);try{s(n)}finally{Rt(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=AT.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var n=Sn();return t={current:t},n.memoizedState=t},useState:function(t){t=Cf(t);var n=t.queue,s=kp.bind(null,Ie,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Df,useDeferredValue:function(t,n){var s=Sn();return Of(s,t,n)},useTransition:function(){var t=Cf(!1);return t=Ip.bind(null,Ie,t.queue,!0,!1),Sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=Ie,h=Sn();if(qe){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ht===null)throw Error(a(349));(je&127)!==0||rp(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Ep(lp.bind(null,l,f,t),[t]),l.flags|=2048,Qa(9,{destroy:void 0},ap.bind(null,l,f,s,n),null),s},useId:function(){var t=Sn(),n=ht.identifierPrefix;if(qe){var s=Pi,l=Li;s=(l&~(1<<32-He(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Yu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=yT++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Vf,useFormState:pp,useActionState:pp,useOptimistic:function(t){var n=Sn();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=kf.bind(null,Ie,!0,s),s.dispatch=n,[t,n]},useMemoCache:xf,useCacheRefresh:function(){return Sn().memoizedState=ST.bind(null,Ie)},useEffectEvent:function(t){var n=Sn(),s={impl:t};return n.memoizedState=s,function(){if((We&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},jf={readContext:on,use:$u,useCallback:Rp,useContext:on,useEffect:If,useImperativeHandle:wp,useInsertionEffect:Sp,useLayoutEffect:Ap,useMemo:Cp,useReducer:Wu,useRef:bp,useState:function(){return Wu(ps)},useDebugValue:Df,useDeferredValue:function(t,n){var s=kt();return Np(s,rt.memoizedState,t,n)},useTransition:function(){var t=Wu(ps)[0],n=kt().memoizedState;return[typeof t=="boolean"?t:uo(t),n]},useSyncExternalStore:sp,useId:Mp,useHostTransitionStatus:Vf,useFormState:yp,useActionState:yp,useOptimistic:function(t,n){var s=kt();return cp(s,rt,t,n)},useMemoCache:xf,useCacheRefresh:Vp};jf.useEffectEvent=Tp;var Pp={readContext:on,use:$u,useCallback:Rp,useContext:on,useEffect:If,useImperativeHandle:wp,useInsertionEffect:Sp,useLayoutEffect:Ap,useMemo:Cp,useReducer:Rf,useRef:bp,useState:function(){return Rf(ps)},useDebugValue:Df,useDeferredValue:function(t,n){var s=kt();return rt===null?Of(s,t,n):Np(s,rt.memoizedState,t,n)},useTransition:function(){var t=Rf(ps)[0],n=kt().memoizedState;return[typeof t=="boolean"?t:uo(t),n]},useSyncExternalStore:sp,useId:Mp,useHostTransitionStatus:Vf,useFormState:vp,useActionState:vp,useOptimistic:function(t,n){var s=kt();return rt!==null?cp(s,rt,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:xf,useCacheRefresh:Vp};Pp.useEffectEvent=Tp;function Uf(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:A({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Lf={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=Gn(),h=Zs(l);h.payload=n,s!=null&&(h.callback=s),n=Js(t,h,l),n!==null&&(Dn(n,t,l),ro(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=Gn(),h=Zs(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Js(t,h,l),n!==null&&(Dn(n,t,l),ro(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Gn(),l=Zs(s);l.tag=2,n!=null&&(l.callback=n),n=Js(t,l,s),n!==null&&(Dn(n,t,s),ro(n,t,s))}};function zp(t,n,s,l,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Wl(s,l)||!Wl(h,f):!0}function Bp(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Lf.enqueueReplaceState(n,n.state,null)}function ra(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=A({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function Hp(t){Ou(t)}function qp(t){console.error(t)}function Gp(t){Ou(t)}function tc(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Fp(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Pf(t,n,s){return s=Zs(s),s.tag=3,s.payload={element:null},s.callback=function(){tc(t,n)},s}function Qp(t){return t=Zs(t),t.tag=3,t}function Kp(t,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Fp(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Fp(n,s,l),typeof h!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function xT(t,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&La(n,s,h,!0),s=zn.current,s!==null){switch(s.tag){case 31:case 13:return ii===null?dc():s.alternate===null&&It===0&&(It=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Hu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),cd(t,l,h)),!1;case 22:return s.flags|=65536,l===Hu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),cd(t,l,h)),!1}throw Error(a(435,s.tag))}return cd(t,l,h),dc(),!1}if(qe)return n=zn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==sf&&(t=Error(a(422),{cause:l}),eo(Jn(t,s)))):(l!==sf&&(n=Error(a(423),{cause:l}),eo(Jn(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Jn(l,s),h=Pf(t.stateNode,l,h),gf(t,h),It!==4&&(It=2)),!1;var f=Error(a(520),{cause:l});if(f=Jn(f,s),bo===null?bo=[f]:bo.push(f),It!==4&&(It=2),n===null)return!0;l=Jn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Pf(s.stateNode,l,t),gf(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(rr===null||!rr.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Qp(h),Kp(h,t,s,l),gf(s,h),!1}s=s.return}while(s!==null);return!1}var zf=Error(a(461)),qt=!1;function un(t,n,s,l){n.child=t===null?Wg(n,null,s,l):ia(n,t.child,s,l)}function Yp(t,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var T in l)T!=="ref"&&(g[T]=l[T])}else g=l;return Jr(n),l=Ef(t,n,s,g,f,h),T=Tf(),t!==null&&!qt?(Sf(t,n,h),ys(t,n,h)):(qe&&T&&tf(n),n.flags|=1,un(t,n,l,h),n.child)}function Xp(t,n,s,l,h){if(t===null){var f=s.type;return typeof f=="function"&&!Zh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,$p(t,n,f,l,h)):(t=ju(s.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Yf(t,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Wl,s(g,l)&&t.ref===n.ref)return ys(t,n,h)}return n.flags|=1,t=hs(f,l),t.ref=n.ref,t.return=n,n.child=t}function $p(t,n,s,l,h){if(t!==null){var f=t.memoizedProps;if(Wl(f,l)&&t.ref===n.ref)if(qt=!1,n.pendingProps=l=f,Yf(t,h))(t.flags&131072)!==0&&(qt=!0);else return n.lanes=t.lanes,ys(t,n,h)}return Bf(t,n,s,l,h)}function Wp(t,n,s,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Zp(t,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&zu(n,f!==null?f.cachePool:null),f!==null?ep(n,f):yf(),tp(n);else return l=n.lanes=536870912,Zp(t,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(zu(n,f.cachePool),ep(n,f),tr(),n.memoizedState=null):(t!==null&&zu(n,null),yf(),tr());return un(t,n,h,s),n.child}function fo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Zp(t,n,s,l,h){var f=hf();return f=f===null?null:{parent:Bt._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&zu(n,null),yf(),tp(n),t!==null&&La(t,n,l,!0),n.childLanes=h,null}function nc(t,n){return n=sc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Jp(t,n,s){return ia(n,t.child,null,s),t=nc(n,n.pendingProps),t.flags|=2,Bn(n),n.memoizedState=null,t}function wT(t,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(qe){if(l.mode==="hidden")return t=nc(n,l),n.lanes=536870912,fo(null,t);if(vf(n),(t=pt)?(t=h0(t,ni),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ks!==null?{id:Li,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},s=jg(t),s.return=n,n.child=s,ln=n,pt=null)):t=null,t===null)throw Xs(n);return n.lanes=536870912,null}return nc(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(vf(n),h)if(n.flags&256)n.flags&=-257,n=Jp(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(qt||La(t,n,s,!1),h=(s&t.childLanes)!==0,qt||h){if(l=ht,l!==null&&(g=as(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Xr(t,g),Dn(l,t,g),zf;dc(),n=Jp(t,n,s)}else t=f.treeContext,pt=si(g.nextSibling),ln=n,qe=!0,Ys=null,ni=!1,t!==null&&Pg(n,t),n=nc(n,l),n.flags|=4096;return n}return t=hs(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ic(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Bf(t,n,s,l,h){return Jr(n),s=Ef(t,n,s,l,void 0,h),l=Tf(),t!==null&&!qt?(Sf(t,n,h),ys(t,n,h)):(qe&&l&&tf(n),n.flags|=1,un(t,n,s,h),n.child)}function ey(t,n,s,l,h,f){return Jr(n),n.updateQueue=null,s=ip(n,l,s,h),np(t),l=Tf(),t!==null&&!qt?(Sf(t,n,f),ys(t,n,f)):(qe&&l&&tf(n),n.flags|=1,un(t,n,s,f),n.child)}function ty(t,n,s,l,h){if(Jr(n),n.stateNode===null){var f=Va,g=s.contextType;typeof g=="object"&&g!==null&&(f=on(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Lf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},df(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?on(g):Va,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Uf(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Lf.enqueueReplaceState(f,f.state,null),lo(n,l,f,h),ao(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,R=ra(s,T);f.props=R;var P=f.context,G=s.contextType;g=Va,typeof G=="object"&&G!==null&&(g=on(G));var X=s.getDerivedStateFromProps;G=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||P!==g)&&Bp(n,f,l,g),Ws=!1;var z=n.memoizedState;f.state=z,lo(n,l,f,h),ao(),P=n.memoizedState,T||z!==P||Ws?(typeof X=="function"&&(Uf(n,s,X,l),P=n.memoizedState),(R=Ws||zp(n,s,R,l,z,P,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=g,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,mf(t,n),g=n.memoizedProps,G=ra(s,g),f.props=G,X=n.pendingProps,z=f.context,P=s.contextType,R=Va,typeof P=="object"&&P!==null&&(R=on(P)),T=s.getDerivedStateFromProps,(P=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||z!==R)&&Bp(n,f,l,R),Ws=!1,z=n.memoizedState,f.state=z,lo(n,l,f,h),ao();var H=n.memoizedState;g!==X||z!==H||Ws||t!==null&&t.dependencies!==null&&Lu(t.dependencies)?(typeof T=="function"&&(Uf(n,s,T,l),H=n.memoizedState),(G=Ws||zp(n,s,G,l,z,H,R)||t!==null&&t.dependencies!==null&&Lu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=R,l=G):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,ic(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ia(n,t.child,null,h),n.child=ia(n,null,s,h)):un(t,n,s,h),n.memoizedState=f.state,t=n.child):t=ys(t,n,h),t}function ny(t,n,s,l){return Wr(),n.flags|=256,un(t,n,s,l),n.child}var Hf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qf(t){return{baseLanes:t,cachePool:Fg()}}function Gf(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=qn),t}function iy(t,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Vt.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(qe){if(h?er(n):tr(),(t=pt)?(t=h0(t,ni),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ks!==null?{id:Li,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},s=jg(t),s.return=n,n.child=s,ln=n,pt=null)):t=null,t===null)throw Xs(n);return wd(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(tr(),h=n.mode,T=sc({mode:"hidden",children:T},h),l=$r(l,h,s,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=qf(s),l.childLanes=Gf(t,g,s),n.memoizedState=Hf,fo(null,l)):(er(n),Ff(n,T))}var R=t.memoizedState;if(R!==null&&(T=R.dehydrated,T!==null)){if(f)n.flags&256?(er(n),n.flags&=-257,n=Qf(t,n,s)):n.memoizedState!==null?(tr(),n.child=t.child,n.flags|=128,n=null):(tr(),T=l.fallback,h=n.mode,l=sc({mode:"visible",children:l.children},h),T=$r(T,h,s,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,ia(n,t.child,null,s),l=n.child,l.memoizedState=qf(s),l.childLanes=Gf(t,g,s),n.memoizedState=Hf,n=fo(null,l));else if(er(n),wd(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var P=g.dgst;g=P,l=Error(a(419)),l.stack="",l.digest=g,eo({value:l,source:null,stack:null}),n=Qf(t,n,s)}else if(qt||La(t,n,s,!1),g=(s&t.childLanes)!==0,qt||g){if(g=ht,g!==null&&(l=as(g,s),l!==0&&l!==R.retryLane))throw R.retryLane=l,Xr(t,l),Dn(g,t,l),zf;xd(T)||dc(),n=Qf(t,n,s)}else xd(T)?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,pt=si(T.nextSibling),ln=n,qe=!0,Ys=null,ni=!1,t!==null&&Pg(n,t),n=Ff(n,l.children),n.flags|=4096);return n}return h?(tr(),T=l.fallback,h=n.mode,R=t.child,P=R.sibling,l=hs(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,P!==null?T=hs(P,T):(T=$r(T,h,s,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,fo(null,l),l=n.child,T=t.child.memoizedState,T===null?T=qf(s):(h=T.cachePool,h!==null?(R=Bt._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Fg(),T={baseLanes:T.baseLanes|s,cachePool:h}),l.memoizedState=T,l.childLanes=Gf(t,g,s),n.memoizedState=Hf,fo(t.child,l)):(er(n),s=t.child,t=s.sibling,s=hs(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=s,n.memoizedState=null,s)}function Ff(t,n){return n=sc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function sc(t,n){return t=Pn(22,t,null,n),t.lanes=0,t}function Qf(t,n,s){return ia(n,t.child,null,s),t=Ff(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function sy(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),lf(t.return,n,s)}function Kf(t,n,s,l,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function ry(t,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=Vt.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,ie(Vt,g),un(t,n,l,s),l=qe?Jl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sy(t,s,n);else if(t.tag===19)sy(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&Qu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Kf(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Qu(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Kf(n,!0,s,null,f,l);break;case"together":Kf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ys(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),sr|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(La(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=hs(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=hs(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Yf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Lu(t)))}function RT(t,n,s){switch(n.tag){case 3:Dt(n,n.stateNode.containerInfo),$s(n,Bt,t.memoizedState.cache),Wr();break;case 27:case 5:Ji(n);break;case 4:Dt(n,n.stateNode.containerInfo);break;case 10:$s(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,vf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(er(n),n.flags|=128,null):(s&n.child.childLanes)!==0?iy(t,n,s):(er(n),t=ys(t,n,s),t!==null?t.sibling:null);er(n);break;case 19:var h=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(La(t,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return ry(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(Vt,Vt.current),l)break;return null;case 22:return n.lanes=0,Wp(t,n,s,n.pendingProps);case 24:$s(n,Bt,t.memoizedState.cache)}return ys(t,n,s)}function ay(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)qt=!0;else{if(!Yf(t,s)&&(n.flags&128)===0)return qt=!1,RT(t,n,s);qt=(t.flags&131072)!==0}else qt=!1,qe&&(n.flags&1048576)!==0&&Lg(n,Jl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=ta(n.elementType),n.type=t,typeof t=="function")Zh(t)?(l=ra(t,l),n.tag=1,n=ty(null,n,t,l,s)):(n.tag=0,n=Bf(null,n,t,l,s));else{if(t!=null){var h=t.$$typeof;if(h===ge){n.tag=11,n=Yp(null,n,t,l,s);break e}else if(h===N){n.tag=14,n=Xp(null,n,t,l,s);break e}}throw n=ot(t)||t,Error(a(306,n,""))}}return n;case 0:return Bf(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=ra(l,n.pendingProps),ty(t,n,l,h,s);case 3:e:{if(Dt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,mf(t,n),lo(n,l,null,s);var g=n.memoizedState;if(l=g.cache,$s(n,Bt,l),l!==f.cache&&of(n,[Bt],s,!0),ao(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ny(t,n,l,s);break e}else if(l!==h){h=Jn(Error(a(424)),n),eo(h),n=ny(t,n,l,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(pt=si(t.firstChild),ln=n,qe=!0,Ys=null,ni=!0,s=Wg(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Wr(),l===h){n=ys(t,n,s);break e}un(t,n,l,s)}n=n.child}return n;case 26:return ic(t,n),t===null?(s=y0(n.type,null,n.pendingProps,null))?n.memoizedState=s:qe||(s=n.type,t=n.pendingProps,l=bc(Ce.current).createElement(s),l[Lt]=n,l[en]=t,cn(l,s,t),Pt(l),n.stateNode=l):n.memoizedState=y0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ji(n),t===null&&qe&&(l=n.stateNode=m0(n.type,n.pendingProps,Ce.current),ln=n,ni=!0,h=pt,ur(n.type)?(Rd=h,pt=si(l.firstChild)):pt=h),un(t,n,n.pendingProps.children,s),ic(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&qe&&((h=l=pt)&&(l=i1(l,n.type,n.pendingProps,ni),l!==null?(n.stateNode=l,ln=n,pt=si(l.firstChild),ni=!1,h=!0):h=!1),h||Xs(n)),Ji(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,Td(h,f)?l=null:g!==null&&Td(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=Ef(t,n,_T,null,null,s),Co._currentValue=h),ic(t,n),un(t,n,l,s),n.child;case 6:return t===null&&qe&&((t=s=pt)&&(s=s1(s,n.pendingProps,ni),s!==null?(n.stateNode=s,ln=n,pt=null,t=!0):t=!1),t||Xs(n)),null;case 13:return iy(t,n,s);case 4:return Dt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ia(n,null,l,s):un(t,n,l,s),n.child;case 11:return Yp(t,n,n.type,n.pendingProps,s);case 7:return un(t,n,n.pendingProps,s),n.child;case 8:return un(t,n,n.pendingProps.children,s),n.child;case 12:return un(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,$s(n,n.type,l.value),un(t,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Jr(n),h=on(h),l=l(h),n.flags|=1,un(t,n,l,s),n.child;case 14:return Xp(t,n,n.type,n.pendingProps,s);case 15:return $p(t,n,n.type,n.pendingProps,s);case 19:return ry(t,n,s);case 31:return wT(t,n,s);case 22:return Wp(t,n,s,n.pendingProps);case 24:return Jr(n),l=on(Bt),t===null?(h=hf(),h===null&&(h=ht,f=uf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},df(n),$s(n,Bt,h)):((t.lanes&s)!==0&&(mf(t,n),lo(n,null,null,s),ao()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),$s(n,Bt,l)):(l=f.cache,$s(n,Bt,l),l!==h.cache&&of(n,[Bt],s,!0))),un(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function _s(t){t.flags|=4}function Xf(t,n,s,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(My())t.flags|=8192;else throw na=Hu,ff}else t.flags&=-16777217}function ly(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!T0(n))if(My())t.flags|=8192;else throw na=Hu,ff}function rc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ai():536870912,t.lanes|=n,$a|=n)}function mo(t,n){if(!qe)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function yt(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function CT(t,n,s){var l=n.pendingProps;switch(nf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(n),null;case 1:return yt(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ms(Bt),ct(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Ua(n)?_s(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,rf())),yt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(_s(n),f!==null?(yt(n),ly(n,f)):(yt(n),Xf(n,h,null,l,s))):f?f!==t.memoizedState?(_s(n),yt(n),ly(n,f)):(yt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&_s(n),yt(n),Xf(n,h,t,l,s)),null;case 27:if(Us(n),s=Ce.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&_s(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return yt(n),null}t=le.current,Ua(n)?zg(n):(t=m0(h,l,s),n.stateNode=t,_s(n))}return yt(n),null;case 5:if(Us(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&_s(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return yt(n),null}if(f=le.current,Ua(n))zg(n);else{var g=bc(Ce.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[Lt]=n,f[en]=l;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(cn(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&_s(n)}}return yt(n),Xf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&_s(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Ce.current,Ua(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,h=ln,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Lt]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||i0(t.nodeValue,s)),t||Xs(n,!0)}else t=bc(t).createTextNode(l),t[Lt]=n,n.stateNode=t}return yt(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=Ua(n),s!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Lt]=n}else Wr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;yt(n),t=!1}else s=rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(Bn(n),n):(Bn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return yt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ua(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Lt]=n}else Wr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;yt(n),h=!1}else h=rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Bn(n),n):(Bn(n),null)}return Bn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),rc(n,n.updateQueue),yt(n),null);case 4:return ct(),t===null&&yd(n.stateNode.containerInfo),yt(n),null;case 10:return ms(n.type),yt(n),null;case 19:if(Y(Vt),l=n.memoizedState,l===null)return yt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)mo(l,!1);else{if(It!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Qu(t),f!==null){for(n.flags|=128,mo(l,!1),t=f.updateQueue,n.updateQueue=t,rc(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)kg(s,t),s=s.sibling;return ie(Vt,Vt.current&1|2),qe&&fs(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&rn()>cc&&(n.flags|=128,h=!0,mo(l,!1),n.lanes=4194304)}else{if(!h)if(t=Qu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,rc(n,t),mo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!qe)return yt(n),null}else 2*rn()-l.renderingStartTime>cc&&s!==536870912&&(n.flags|=128,h=!0,mo(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=rn(),t.sibling=null,s=Vt.current,ie(Vt,h?s&1|2:s&1),qe&&fs(n,l.treeForkCount),t):(yt(n),null);case 22:case 23:return Bn(n),_f(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(yt(n),n.subtreeFlags&6&&(n.flags|=8192)):yt(n),s=n.updateQueue,s!==null&&rc(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&Y(ea),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),ms(Bt),yt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function NT(t,n){switch(nf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ms(Bt),ct(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Us(n),null;case 31:if(n.memoizedState!==null){if(Bn(n),n.alternate===null)throw Error(a(340));Wr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Bn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Wr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(Vt),null;case 4:return ct(),null;case 10:return ms(n.type),null;case 22:case 23:return Bn(n),_f(),t!==null&&Y(ea),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ms(Bt),null;case 25:return null;default:return null}}function oy(t,n){switch(nf(n),n.tag){case 3:ms(Bt),ct();break;case 26:case 27:case 5:Us(n);break;case 4:ct();break;case 31:n.memoizedState!==null&&Bn(n);break;case 13:Bn(n);break;case 19:Y(Vt);break;case 10:ms(n.type);break;case 22:case 23:Bn(n),_f(),t!==null&&Y(ea);break;case 24:ms(Bt)}}function go(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==h)}}catch(T){it(n,n.return,T)}}function nr(t,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var g=l.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,h=n;var R=s,P=T;try{P()}catch(G){it(h,R,G)}}}l=l.next}while(l!==f)}}catch(G){it(n,n.return,G)}}function uy(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Jg(n,s)}catch(l){it(t,t.return,l)}}}function cy(t,n,s){s.props=ra(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){it(t,n,l)}}function po(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){it(t,n,h)}}function zi(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){it(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){it(t,n,h)}else s.current=null}function hy(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){it(t,t.return,h)}}function $f(t,n,s){try{var l=t.stateNode;WT(l,t.type,s,n),l[en]=n}catch(h){it(t,t.return,h)}}function fy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ur(t.type)||t.tag===4}function Wf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ur(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zf(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=fi));else if(l!==4&&(l===27&&ur(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Zf(t,n,s),t=t.sibling;t!==null;)Zf(t,n,s),t=t.sibling}function ac(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&ur(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(ac(t,n,s),t=t.sibling;t!==null;)ac(t,n,s),t=t.sibling}function dy(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);cn(n,l,s),n[Lt]=t,n[en]=s}catch(f){it(t,t.return,f)}}var vs=!1,Gt=!1,Jf=!1,my=typeof WeakSet=="function"?WeakSet:Set,nn=null;function IT(t,n){if(t=t.containerInfo,bd=Rc,t=wg(t),Fh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var g=0,T=-1,R=-1,P=0,G=0,X=t,z=null;t:for(;;){for(var H;X!==s||h!==0&&X.nodeType!==3||(T=g+h),X!==f||l!==0&&X.nodeType!==3||(R=g+l),X.nodeType===3&&(g+=X.nodeValue.length),(H=X.firstChild)!==null;)z=X,X=H;for(;;){if(X===t)break t;if(z===s&&++P===h&&(T=g),z===f&&++G===l&&(R=g),(H=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=H}s=T===-1||R===-1?null:{start:T,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ed={focusedElem:t,selectionRange:s},Rc=!1,nn=n;nn!==null;)if(n=nn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,nn=t;else for(;nn!==null;){switch(n=nn,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var ue=ra(s.type,h);t=l.getSnapshotBeforeUpdate(ue,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){it(s,s.return,_e)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)Ad(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ad(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,nn=t;break}nn=n.return}}function gy(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Es(t,s),l&4&&go(5,s);break;case 1:if(Es(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(g){it(s,s.return,g)}else{var h=ra(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){it(s,s.return,g)}}l&64&&uy(s),l&512&&po(s,s.return);break;case 3:if(Es(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Jg(t,n)}catch(g){it(s,s.return,g)}}break;case 27:n===null&&l&4&&dy(s);case 26:case 5:Es(t,s),n===null&&l&4&&hy(s),l&512&&po(s,s.return);break;case 12:Es(t,s);break;case 31:Es(t,s),l&4&&_y(t,s);break;case 13:Es(t,s),l&4&&vy(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=PT.bind(null,s),r1(t,s))));break;case 22:if(l=s.memoizedState!==null||vs,!l){n=n!==null&&n.memoizedState!==null||Gt,h=vs;var f=Gt;vs=l,(Gt=n)&&!f?Ts(t,s,(s.subtreeFlags&8772)!==0):Es(t,s),vs=h,Gt=f}break;case 30:break;default:Es(t,s)}}function py(t){var n=t.alternate;n!==null&&(t.alternate=null,py(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ba(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var bt=null,Rn=!1;function bs(t,n,s){for(s=s.child;s!==null;)yy(t,n,s),s=s.sibling}function yy(t,n,s){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(ft,s)}catch{}switch(s.tag){case 26:Gt||zi(s,n),bs(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Gt||zi(s,n);var l=bt,h=Rn;ur(s.type)&&(bt=s.stateNode,Rn=!1),bs(t,n,s),xo(s.stateNode),bt=l,Rn=h;break;case 5:Gt||zi(s,n);case 6:if(l=bt,h=Rn,bt=null,bs(t,n,s),bt=l,Rn=h,bt!==null)if(Rn)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(s.stateNode)}catch(f){it(s,n,f)}else try{bt.removeChild(s.stateNode)}catch(f){it(s,n,f)}break;case 18:bt!==null&&(Rn?(t=bt,u0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),sl(t)):u0(bt,s.stateNode));break;case 4:l=bt,h=Rn,bt=s.stateNode.containerInfo,Rn=!0,bs(t,n,s),bt=l,Rn=h;break;case 0:case 11:case 14:case 15:nr(2,s,n),Gt||nr(4,s,n),bs(t,n,s);break;case 1:Gt||(zi(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&cy(s,n,l)),bs(t,n,s);break;case 21:bs(t,n,s);break;case 22:Gt=(l=Gt)||s.memoizedState!==null,bs(t,n,s),Gt=l;break;default:bs(t,n,s)}}function _y(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{sl(t)}catch(s){it(n,n.return,s)}}}function vy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{sl(t)}catch(s){it(n,n.return,s)}}function DT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new my),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new my),n;default:throw Error(a(435,t.tag))}}function lc(t,n){var s=DT(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=zT.bind(null,t,l);l.then(h,h)}})}function Cn(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=t,g=n,T=g;e:for(;T!==null;){switch(T.tag){case 27:if(ur(T.type)){bt=T.stateNode,Rn=!1;break e}break;case 5:bt=T.stateNode,Rn=!1;break e;case 3:case 4:bt=T.stateNode.containerInfo,Rn=!0;break e}T=T.return}if(bt===null)throw Error(a(160));yy(f,g,h),bt=null,Rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)by(n,t),n=n.sibling}var _i=null;function by(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Cn(n,t),Nn(t),l&4&&(nr(3,t,t.return),go(3,t),nr(5,t,t.return));break;case 1:Cn(n,t),Nn(t),l&512&&(Gt||s===null||zi(s,s.return)),l&64&&vs&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=_i;if(Cn(n,t),Nn(t),l&512&&(Gt||s===null||zi(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[wi]||f[Lt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),cn(f,l,s),f[Lt]=t,Pt(f),l=f;break e;case"link":var g=b0("link","href",h).get(l+(s.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(T,1);break t}}f=h.createElement(l),cn(f,l,s),h.head.appendChild(f);break;case"meta":if(g=b0("meta","content",h).get(l+(s.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(T,1);break t}}f=h.createElement(l),cn(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Lt]=t,Pt(f),l=f}t.stateNode=l}else E0(h,t.type,t.stateNode);else t.stateNode=v0(h,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?E0(h,t.type,t.stateNode):v0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&$f(t,t.memoizedProps,s.memoizedProps)}break;case 27:Cn(n,t),Nn(t),l&512&&(Gt||s===null||zi(s,s.return)),s!==null&&l&4&&$f(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Cn(n,t),Nn(t),l&512&&(Gt||s===null||zi(s,s.return)),t.flags&32){h=t.stateNode;try{wn(h,"")}catch(ue){it(t,t.return,ue)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,$f(t,h,s!==null?s.memoizedProps:h)),l&1024&&(Jf=!0);break;case 6:if(Cn(n,t),Nn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(ue){it(t,t.return,ue)}}break;case 3:if(Sc=null,h=_i,_i=Ec(n.containerInfo),Cn(n,t),_i=h,Nn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{sl(n.containerInfo)}catch(ue){it(t,t.return,ue)}Jf&&(Jf=!1,Ey(t));break;case 4:l=_i,_i=Ec(t.stateNode.containerInfo),Cn(n,t),Nn(t),_i=l;break;case 12:Cn(n,t),Nn(t);break;case 31:Cn(n,t),Nn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lc(t,l)));break;case 13:Cn(n,t),Nn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(uc=rn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lc(t,l)));break;case 22:h=t.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,P=vs,G=Gt;if(vs=P||h,Gt=G||R,Cn(n,t),Gt=G,vs=P,Nn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||R||vs||Gt||aa(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=R.stateNode;var X=R.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ue){it(R,R.return,ue)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(ue){it(R,R.return,ue)}}}else if(n.tag===18){if(s===null){R=n;try{var H=R.stateNode;h?c0(H,!0):c0(R.stateNode,!1)}catch(ue){it(R,R.return,ue)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,lc(t,s))));break;case 19:Cn(n,t),Nn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lc(t,l)));break;case 30:break;case 21:break;default:Cn(n,t),Nn(t)}}function Nn(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(fy(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Wf(t);ac(t,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(wn(g,""),s.flags&=-33);var T=Wf(t);ac(t,T,g);break;case 3:case 4:var R=s.stateNode.containerInfo,P=Wf(t);Zf(t,P,R);break;default:throw Error(a(161))}}catch(G){it(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ey(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ey(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Es(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)gy(t,n.alternate,n),n=n.sibling}function aa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:nr(4,n,n.return),aa(n);break;case 1:zi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&cy(n,n.return,s),aa(n);break;case 27:xo(n.stateNode);case 26:case 5:zi(n,n.return),aa(n);break;case 22:n.memoizedState===null&&aa(n);break;case 30:aa(n);break;default:aa(n)}t=t.sibling}}function Ts(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Ts(h,f,s),go(4,f);break;case 1:if(Ts(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){it(l,l.return,P)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Zg(R[h],T)}catch(P){it(l,l.return,P)}}s&&g&64&&uy(f),po(f,f.return);break;case 27:dy(f);case 26:case 5:Ts(h,f,s),s&&l===null&&g&4&&hy(f),po(f,f.return);break;case 12:Ts(h,f,s);break;case 31:Ts(h,f,s),s&&g&4&&_y(h,f);break;case 13:Ts(h,f,s),s&&g&4&&vy(h,f);break;case 22:f.memoizedState===null&&Ts(h,f,s),po(f,f.return);break;case 30:break;default:Ts(h,f,s)}n=n.sibling}}function ed(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&to(s))}function td(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&to(t))}function vi(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ty(t,n,s,l),n=n.sibling}function Ty(t,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:vi(t,n,s,l),h&2048&&go(9,n);break;case 1:vi(t,n,s,l);break;case 3:vi(t,n,s,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&to(t)));break;case 12:if(h&2048){vi(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){it(n,n.return,R)}}else vi(t,n,s,l);break;case 31:vi(t,n,s,l);break;case 13:vi(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?vi(t,n,s,l):yo(t,n):f._visibility&2?vi(t,n,s,l):(f._visibility|=2,Ka(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&ed(g,n);break;case 24:vi(t,n,s,l),h&2048&&td(n.alternate,n);break;default:vi(t,n,s,l)}}function Ka(t,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,T=s,R=l,P=g.flags;switch(g.tag){case 0:case 11:case 15:Ka(f,g,T,R,h),go(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?Ka(f,g,T,R,h):yo(f,g):(G._visibility|=2,Ka(f,g,T,R,h)),h&&P&2048&&ed(g.alternate,g);break;case 24:Ka(f,g,T,R,h),h&&P&2048&&td(g.alternate,g);break;default:Ka(f,g,T,R,h)}n=n.sibling}}function yo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,h=l.flags;switch(l.tag){case 22:yo(s,l),h&2048&&ed(l.alternate,l);break;case 24:yo(s,l),h&2048&&td(l.alternate,l);break;default:yo(s,l)}n=n.sibling}}var _o=8192;function Ya(t,n,s){if(t.subtreeFlags&_o)for(t=t.child;t!==null;)Sy(t,n,s),t=t.sibling}function Sy(t,n,s){switch(t.tag){case 26:Ya(t,n,s),t.flags&_o&&t.memoizedState!==null&&y1(s,_i,t.memoizedState,t.memoizedProps);break;case 5:Ya(t,n,s);break;case 3:case 4:var l=_i;_i=Ec(t.stateNode.containerInfo),Ya(t,n,s),_i=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=_o,_o=16777216,Ya(t,n,s),_o=l):Ya(t,n,s));break;default:Ya(t,n,s)}}function Ay(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function vo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];nn=l,wy(l,t)}Ay(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)xy(t),t=t.sibling}function xy(t){switch(t.tag){case 0:case 11:case 15:vo(t),t.flags&2048&&nr(9,t,t.return);break;case 3:vo(t);break;case 12:vo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,oc(t)):vo(t);break;default:vo(t)}}function oc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];nn=l,wy(l,t)}Ay(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:nr(8,n,n.return),oc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,oc(n));break;default:oc(n)}t=t.sibling}}function wy(t,n){for(;nn!==null;){var s=nn;switch(s.tag){case 0:case 11:case 15:nr(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:to(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,nn=l;else e:for(s=t;nn!==null;){l=nn;var h=l.sibling,f=l.return;if(py(l),l===s){nn=null;break e}if(h!==null){h.return=f,nn=h;break e}nn=f}}}var OT={getCacheForType:function(t){var n=on(Bt),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return on(Bt).controller.signal}},MT=typeof WeakMap=="function"?WeakMap:Map,We=0,ht=null,Ve=null,je=0,nt=0,Hn=null,ir=!1,Xa=!1,nd=!1,Ss=0,It=0,sr=0,la=0,id=0,qn=0,$a=0,bo=null,In=null,sd=!1,uc=0,Ry=0,cc=1/0,hc=null,rr=null,Yt=0,ar=null,Wa=null,As=0,rd=0,ad=null,Cy=null,Eo=0,ld=null;function Gn(){return(We&2)!==0&&je!==0?je&-je:q.T!==null?dd():fu()}function Ny(){if(qn===0)if((je&536870912)===0||qe){var t=Kn;Kn<<=1,(Kn&3932160)===0&&(Kn=262144),qn=t}else qn=536870912;return t=zn.current,t!==null&&(t.flags|=32),qn}function Dn(t,n,s){(t===ht&&(nt===2||nt===9)||t.cancelPendingCommit!==null)&&(Za(t,0),lr(t,je,qn,!1)),rs(t,s),((We&2)===0||t!==ht)&&(t===ht&&((We&2)===0&&(la|=s),It===4&&lr(t,je,qn,!1)),Bi(t))}function Iy(t,n,s){if((We&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||mt(t,n),h=l?jT(t,n):ud(t,n,!0),f=l;do{if(h===0){Xa&&!l&&lr(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!VT(s)){h=ud(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var T=t;h=bo;var R=T.current.memoizedState.isDehydrated;if(R&&(Za(T,g).flags|=256),g=ud(T,g,!1),g!==2){if(nd&&!R){T.errorRecoveryDisabledLanes|=f,la|=f,h=4;break e}f=In,In=h,f!==null&&(In===null?In=f:In.push.apply(In,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Za(t,0),lr(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:lr(l,n,qn,!ir);break e;case 2:In=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=uc+300-rn(),10<h)){if(lr(l,n,qn,!ir),Et(l,0,!0)!==0)break e;As=n,l.timeoutHandle=l0(Dy.bind(null,l,s,In,hc,sd,n,qn,la,$a,ir,f,"Throttled",-0,0),h);break e}Dy(l,s,In,hc,sd,n,qn,la,$a,ir,f,null,-0,0)}}break}while(!0);Bi(t)}function Dy(t,n,s,l,h,f,g,T,R,P,G,X,z,H){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fi},Sy(n,f,X);var ue=(f&62914560)===f?uc-rn():(f&4194048)===f?Ry-rn():0;if(ue=_1(X,ue),ue!==null){As=f,t.cancelPendingCommit=ue(Py.bind(null,t,n,f,s,l,h,g,T,R,G,X,null,z,H)),lr(t,f,g,!P);return}}Py(t,n,f,s,l,h,g,T,R)}function VT(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!Ln(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function lr(t,n,s,l){n&=~id,n&=~la,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-He(h),g=1<<f;l[f]=-1,h&=~g}s!==0&&kn(t,s,n)}function fc(){return(We&6)===0?(To(0),!1):!0}function od(){if(Ve!==null){if(nt===0)var t=Ve.return;else t=Ve,ds=Zr=null,Af(t),Ha=null,io=0,t=Ve;for(;t!==null;)oy(t.alternate,t),t=t.return;Ve=null}}function Za(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,e1(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),As=0,od(),ht=t,Ve=s=hs(t.current,null),je=n,nt=0,Hn=null,ir=!1,Xa=mt(t,n),nd=!1,$a=qn=id=la=sr=It=0,In=bo=null,sd=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-He(l),f=1<<h;n|=t[h],l&=~f}return Ss=n,Mu(),s}function Oy(t,n){Ie=null,q.H=ho,n===Ba||n===Bu?(n=Yg(),nt=3):n===ff?(n=Yg(),nt=4):nt=n===zf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Hn=n,Ve===null&&(It=1,tc(t,Jn(n,t.current)))}function My(){var t=zn.current;return t===null?!0:(je&4194048)===je?ii===null:(je&62914560)===je||(je&536870912)!==0?t===ii:!1}function Vy(){var t=q.H;return q.H=ho,t===null?ho:t}function ky(){var t=q.A;return q.A=OT,t}function dc(){It=4,ir||(je&4194048)!==je&&zn.current!==null||(Xa=!0),(sr&134217727)===0&&(la&134217727)===0||ht===null||lr(ht,je,qn,!1)}function ud(t,n,s){var l=We;We|=2;var h=Vy(),f=ky();(ht!==t||je!==n)&&(hc=null,Za(t,n)),n=!1;var g=It;e:do try{if(nt!==0&&Ve!==null){var T=Ve,R=Hn;switch(nt){case 8:od(),g=6;break e;case 3:case 2:case 9:case 6:zn.current===null&&(n=!0);var P=nt;if(nt=0,Hn=null,Ja(t,T,R,P),s&&Xa){g=0;break e}break;default:P=nt,nt=0,Hn=null,Ja(t,T,R,P)}}kT(),g=It;break}catch(G){Oy(t,G)}while(!0);return n&&t.shellSuspendCounter++,ds=Zr=null,We=l,q.H=h,q.A=f,Ve===null&&(ht=null,je=0,Mu()),g}function kT(){for(;Ve!==null;)jy(Ve)}function jT(t,n){var s=We;We|=2;var l=Vy(),h=ky();ht!==t||je!==n?(hc=null,cc=rn()+500,Za(t,n)):Xa=mt(t,n);e:do try{if(nt!==0&&Ve!==null){n=Ve;var f=Hn;t:switch(nt){case 1:nt=0,Hn=null,Ja(t,n,f,1);break;case 2:case 9:if(Qg(f)){nt=0,Hn=null,Uy(n);break}n=function(){nt!==2&&nt!==9||ht!==t||(nt=7),Bi(t)},f.then(n,n);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:Qg(f)?(nt=0,Hn=null,Uy(n)):(nt=0,Hn=null,Ja(t,n,f,7));break;case 5:var g=null;switch(Ve.tag){case 26:g=Ve.memoizedState;case 5:case 27:var T=Ve;if(g?T0(g):T.stateNode.complete){nt=0,Hn=null;var R=T.sibling;if(R!==null)Ve=R;else{var P=T.return;P!==null?(Ve=P,mc(P)):Ve=null}break t}}nt=0,Hn=null,Ja(t,n,f,5);break;case 6:nt=0,Hn=null,Ja(t,n,f,6);break;case 8:od(),It=6;break e;default:throw Error(a(462))}}UT();break}catch(G){Oy(t,G)}while(!0);return ds=Zr=null,q.H=l,q.A=h,We=s,Ve!==null?0:(ht=null,je=0,Mu(),It)}function UT(){for(;Ve!==null&&!Ml();)jy(Ve)}function jy(t){var n=ay(t.alternate,t,Ss);t.memoizedProps=t.pendingProps,n===null?mc(t):Ve=n}function Uy(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=ey(s,n,n.pendingProps,n.type,void 0,je);break;case 11:n=ey(s,n,n.pendingProps,n.type.render,n.ref,je);break;case 5:Af(n);default:oy(s,n),n=Ve=kg(n,Ss),n=ay(s,n,Ss)}t.memoizedProps=t.pendingProps,n===null?mc(t):Ve=n}function Ja(t,n,s,l){ds=Zr=null,Af(n),Ha=null,io=0;var h=n.return;try{if(xT(t,h,n,s,je)){It=1,tc(t,Jn(s,t.current)),Ve=null;return}}catch(f){if(h!==null)throw Ve=h,f;It=1,tc(t,Jn(s,t.current)),Ve=null;return}n.flags&32768?(qe||l===1?t=!0:Xa||(je&536870912)!==0?t=!1:(ir=t=!0,(l===2||l===9||l===3||l===6)&&(l=zn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ly(n,t)):mc(n)}function mc(t){var n=t;do{if((n.flags&32768)!==0){Ly(n,ir);return}t=n.return;var s=CT(n.alternate,n,Ss);if(s!==null){Ve=s;return}if(n=n.sibling,n!==null){Ve=n;return}Ve=n=t}while(n!==null);It===0&&(It=5)}function Ly(t,n){do{var s=NT(t.alternate,t);if(s!==null){s.flags&=32767,Ve=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=s}while(t!==null);It=6,Ve=null}function Py(t,n,s,l,h,f,g,T,R){t.cancelPendingCommit=null;do gc();while(Yt!==0);if((We&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=$h,et(t,s,f,g,T,R),t===ht&&(Ve=ht=null,je=0),Wa=n,ar=t,As=s,rd=f,ad=h,Cy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,BT(Z,function(){return Gy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,h=se.p,se.p=2,g=We,We|=4;try{IT(t,n,s)}finally{We=g,se.p=h,q.T=l}}Yt=1,zy(),By(),Hy()}}function zy(){if(Yt===1){Yt=0;var t=ar,n=Wa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=q.T,q.T=null;var l=se.p;se.p=2;var h=We;We|=4;try{by(n,t);var f=Ed,g=wg(t.containerInfo),T=f.focusedElem,R=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&xg(T.ownerDocument.documentElement,T)){if(R!==null&&Fh(T)){var P=R.start,G=R.end;if(G===void 0&&(G=P),"selectionStart"in T)T.selectionStart=P,T.selectionEnd=Math.min(G,T.value.length);else{var X=T.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var H=z.getSelection(),ue=T.textContent.length,_e=Math.min(R.start,ue),lt=R.end===void 0?_e:Math.min(R.end,ue);!H.extend&&_e>lt&&(g=lt,lt=_e,_e=g);var j=Ag(T,_e),D=Ag(T,lt);if(j&&D&&(H.rangeCount!==1||H.anchorNode!==j.node||H.anchorOffset!==j.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var L=X.createRange();L.setStart(j.node,j.offset),H.removeAllRanges(),_e>lt?(H.addRange(L),H.extend(D.node,D.offset)):(L.setEnd(D.node,D.offset),H.addRange(L))}}}}for(X=[],H=T;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var K=X[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Rc=!!bd,Ed=bd=null}finally{We=h,se.p=l,q.T=s}}t.current=n,Yt=2}}function By(){if(Yt===2){Yt=0;var t=ar,n=Wa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=q.T,q.T=null;var l=se.p;se.p=2;var h=We;We|=4;try{gy(t,n.alternate,n)}finally{We=h,se.p=l,q.T=s}}Yt=3}}function Hy(){if(Yt===4||Yt===3){Yt=0,_a();var t=ar,n=Wa,s=As,l=Cy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Yt=5:(Yt=0,Wa=ar=null,qy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(rr=null),ls(s),n=n.stateNode,dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(ft,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=q.T,h=se.p,se.p=2,q.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var T=l[g];f(T.value,{componentStack:T.stack})}}finally{q.T=n,se.p=h}}(As&3)!==0&&gc(),Bi(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===ld?Eo++:(Eo=0,ld=t):Eo=0,To(0)}}function qy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,to(n)))}function gc(){return zy(),By(),Hy(),Gy()}function Gy(){if(Yt!==5)return!1;var t=ar,n=rd;rd=0;var s=ls(As),l=q.T,h=se.p;try{se.p=32>s?32:s,q.T=null,s=ad,ad=null;var f=ar,g=As;if(Yt=0,Wa=ar=null,As=0,(We&6)!==0)throw Error(a(331));var T=We;if(We|=4,xy(f.current),Ty(f,f.current,g,s),We=T,To(0,!1),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(ft,f)}catch{}return!0}finally{se.p=h,q.T=l,qy(t,n)}}function Fy(t,n,s){n=Jn(s,n),n=Pf(t.stateNode,n,2),t=Js(t,n,2),t!==null&&(rs(t,2),Bi(t))}function it(t,n,s){if(t.tag===3)Fy(t,t,s);else for(;n!==null;){if(n.tag===3){Fy(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(rr===null||!rr.has(l))){t=Jn(s,t),s=Qp(2),l=Js(n,s,2),l!==null&&(Kp(s,l,n,t),rs(l,2),Bi(l));break}}n=n.return}}function cd(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new MT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(nd=!0,h.add(s),t=LT.bind(null,t,n,s),n.then(t,t))}function LT(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,ht===t&&(je&s)===s&&(It===4||It===3&&(je&62914560)===je&&300>rn()-uc?(We&2)===0&&Za(t,0):id|=s,$a===je&&($a=0)),Bi(t)}function Qy(t,n){n===0&&(n=Ai()),t=Xr(t,n),t!==null&&(rs(t,n),Bi(t))}function PT(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Qy(t,s)}function zT(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Qy(t,s)}function BT(t,n){return Ot(t,n)}var pc=null,el=null,hd=!1,yc=!1,fd=!1,or=0;function Bi(t){t!==el&&t.next===null&&(el===null?pc=el=t:el=el.next=t),yc=!0,hd||(hd=!0,qT())}function To(t,n){if(!fd&&yc){fd=!0;do for(var s=!1,l=pc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-He(42|t)+1)-1,f&=h&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,$y(l,f))}else f=je,f=Et(l,l===ht?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||mt(l,f)||(s=!0,$y(l,f));l=l.next}while(s);fd=!1}}function HT(){Ky()}function Ky(){yc=hd=!1;var t=0;or!==0&&JT()&&(t=or);for(var n=rn(),s=null,l=pc;l!==null;){var h=l.next,f=Yy(l,n);f===0?(l.next=null,s===null?pc=h:s.next=h,h===null&&(el=s)):(s=l,(t!==0||(f&3)!==0)&&(yc=!0)),l=h}Yt!==0&&Yt!==5||To(t),or!==0&&(or=0)}function Yy(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-He(f),T=1<<g,R=h[g];R===-1?((T&s)===0||(T&l)!==0)&&(h[g]=Ct(T,n)):R<=n&&(t.expiredLanes|=T),f&=~T}if(n=ht,s=je,s=Et(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(nt===2||nt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ti(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||mt(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&Ti(l),ls(s)){case 2:case 8:s=ss;break;case 32:s=Z;break;case 268435456:s=ae;break;default:s=Z}return l=Xy.bind(null,t),s=Ot(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&Ti(l),t.callbackPriority=2,t.callbackNode=null,2}function Xy(t,n){if(Yt!==0&&Yt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(gc()&&t.callbackNode!==s)return null;var l=je;return l=Et(t,t===ht?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Iy(t,l,n),Yy(t,rn()),t.callbackNode!=null&&t.callbackNode===s?Xy.bind(null,t):null)}function $y(t,n){if(gc())return null;Iy(t,n,!0)}function qT(){t1(function(){(We&6)!==0?Ot(Ur,HT):Ky()})}function dd(){if(or===0){var t=Pa;t===0&&(t=Ut,Ut<<=1,(Ut&261888)===0&&(Ut=256)),or=t}return or}function Wy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Aa(""+t)}function Zy(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function GT(t,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=Wy((h[en]||null).action),g=l.submitter;g&&(n=(n=g[en]||null)?Wy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new Vi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(or!==0){var R=g?Zy(h,g):new FormData(h);Mf(s,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(T.preventDefault(),R=g?Zy(h,g):new FormData(h),Mf(s,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var md=0;md<Xh.length;md++){var gd=Xh[md],FT=gd.toLowerCase(),QT=gd[0].toUpperCase()+gd.slice(1);yi(FT,"on"+QT)}yi(Ng,"onAnimationEnd"),yi(Ig,"onAnimationIteration"),yi(Dg,"onAnimationStart"),yi("dblclick","onDoubleClick"),yi("focusin","onFocus"),yi("focusout","onBlur"),yi(oT,"onTransitionRun"),yi(uT,"onTransitionStart"),yi(cT,"onTransitionCancel"),yi(Og,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var So="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(So));function Jy(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var T=l[g],R=T.instance,P=T.currentTarget;if(T=T.listener,R!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=P;try{f(h)}catch(G){Ou(G)}h.currentTarget=null,f=R}else for(g=0;g<l.length;g++){if(T=l[g],R=T.instance,P=T.currentTarget,T=T.listener,R!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=P;try{f(h)}catch(G){Ou(G)}h.currentTarget=null,f=R}}}}function ke(t,n){var s=n[va];s===void 0&&(s=n[va]=new Set);var l=t+"__bubble";s.has(l)||(e0(n,t,2,!1),s.add(l))}function pd(t,n,s){var l=0;n&&(l|=4),e0(s,t,l,n)}var _c="_reactListening"+Math.random().toString(36).slice(2);function yd(t){if(!t[_c]){t[_c]=!0,Vl.forEach(function(s){s!=="selectionchange"&&(KT.has(s)||pd(s,!1,t),pd(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[_c]||(n[_c]=!0,pd("selectionchange",!1,n))}}function e0(t,n,s,l){switch(N0(n)){case 2:var h=E1;break;case 8:h=T1;break;default:h=Od}s=h.bind(null,n,s,t),h=void 0,!Br||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function _d(t,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var T=l.stateNode.containerInfo;if(T===h)break;if(g===4)for(g=l.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;T!==null;){if(g=Ri(T),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){l=f=g;continue e}T=T.parentNode}}l=l.return}qs(function(){var P=f,G=Xn(s),X=[];e:{var z=Mg.get(t);if(z!==void 0){var H=Vi,ue=t;switch(t){case"keypress":if(qr(s)===0)break e;case"keydown":case"keyup":H=Nu;break;case"focusin":ue="focus",H=Fr;break;case"focusout":ue="blur",H=Fr;break;case"beforeblur":case"afterblur":H=Fr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Kl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=bu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Ng:case Ig:case Dg:H=Tu;break;case Og:H=S;break;case"scroll":case"scrollend":H=Ql;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=Su;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=cs;break;case"toggle":case"beforetoggle":H=Ne}var _e=(n&4)!==0,lt=!_e&&(t==="scroll"||t==="scrollend"),j=_e?z!==null?z+"Capture":null:z;_e=[];for(var D=P,L;D!==null;){var K=D;if(L=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||L===null||j===null||(K=di(D,j),K!=null&&_e.push(Ao(D,K,L))),lt)break;D=D.return}0<_e.length&&(z=new H(z,ue,null,s,G),X.push({event:z,listeners:_e}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",z&&s!==ql&&(ue=s.relatedTarget||s.fromElement)&&(Ri(ue)||ue[xi]))break e;if((H||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,H?(ue=s.relatedTarget||s.toElement,H=P,ue=ue?Ri(ue):null,ue!==null&&(lt=c(ue),_e=ue.tag,ue!==lt||_e!==5&&_e!==27&&_e!==6)&&(ue=null)):(H=null,ue=P),H!==ue)){if(_e=Kl,K="onMouseLeave",j="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(_e=cs,K="onPointerLeave",j="onPointerEnter",D="pointer"),lt=H==null?z:jn(H),L=ue==null?z:jn(ue),z=new _e(K,D+"leave",H,s,G),z.target=lt,z.relatedTarget=L,K=null,Ri(G)===P&&(_e=new _e(j,D+"enter",ue,s,G),_e.target=L,_e.relatedTarget=lt,K=_e),lt=K,H&&ue)t:{for(_e=YT,j=H,D=ue,L=0,K=j;K;K=_e(K))L++;K=0;for(var me=D;me;me=_e(me))K++;for(;0<L-K;)j=_e(j),L--;for(;0<K-L;)D=_e(D),K--;for(;L--;){if(j===D||D!==null&&j===D.alternate){_e=j;break t}j=_e(j),D=_e(D)}_e=null}else _e=null;H!==null&&t0(X,z,H,_e,!1),ue!==null&&lt!==null&&t0(X,lt,ue,_e,!0)}}e:{if(z=P?jn(P):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var Qe=_g;else if(pg(z))if(vg)Qe=rT;else{Qe=iT;var he=nT}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&Sa(P.elementType)&&(Qe=_g):Qe=sT;if(Qe&&(Qe=Qe(t,P))){yg(X,Qe,s,G);break e}he&&he(t,z,P),t==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&zl(z,"number",z.value)}switch(he=P?jn(P):window,t){case"focusin":(pg(he)||he.contentEditable==="true")&&(Da=he,Qh=P,Zl=null);break;case"focusout":Zl=Qh=Da=null;break;case"mousedown":Kh=!0;break;case"contextmenu":case"mouseup":case"dragend":Kh=!1,Rg(X,s,G);break;case"selectionchange":if(lT)break;case"keydown":case"keyup":Rg(X,s,G)}var De;if($e)e:{switch(t){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Ia?Qr(t,s)&&(Ue="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ue="onCompositionStart");Ue&&(Ui&&s.locale!=="ko"&&(Ia||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Ia&&(De=Fl()):(Mi=G,Gl="value"in Mi?Mi.value:Mi.textContent,Ia=!0)),he=vc(P,Ue),0<he.length&&(Ue=new ji(Ue,t,null,s,G),X.push({event:Ue,listeners:he}),De?Ue.data=De:(De=Na(s),De!==null&&(Ue.data=De)))),(De=Wn?ZE(t,s):JE(t,s))&&(Ue=vc(P,"onBeforeInput"),0<Ue.length&&(he=new ji("onBeforeInput","beforeinput",null,s,G),X.push({event:he,listeners:Ue}),he.data=De)),GT(X,t,P,s,G)}Jy(X,n)})}function Ao(t,n,s){return{instance:t,listener:n,currentTarget:s}}function vc(t,n){for(var s=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=di(t,s),h!=null&&l.unshift(Ao(t,h,f)),h=di(t,n),h!=null&&l.push(Ao(t,h,f))),t.tag===3)return l;t=t.return}return[]}function YT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function t0(t,n,s,l,h){for(var f=n._reactName,g=[];s!==null&&s!==l;){var T=s,R=T.alternate,P=T.stateNode;if(T=T.tag,R!==null&&R===l)break;T!==5&&T!==26&&T!==27||P===null||(R=P,h?(P=di(s,f),P!=null&&g.unshift(Ao(s,P,R))):h||(P=di(s,f),P!=null&&g.push(Ao(s,P,R)))),s=s.return}g.length!==0&&t.push({event:n,listeners:g})}var XT=/\r\n?/g,$T=/\u0000|\uFFFD/g;function n0(t){return(typeof t=="string"?t:""+t).replace(XT,`
`).replace($T,"")}function i0(t,n){return n=n0(n),n0(t)===n}function at(t,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||wn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&wn(t,""+l);break;case"className":Un(t,"class",l);break;case"tabIndex":Un(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Un(t,s,l);break;case"style":Hl(t,l,f);break;case"data":if(n!=="object"){Un(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Aa(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&at(t,n,"name",h.name,h,null),at(t,n,"formEncType",h.formEncType,h,null),at(t,n,"formMethod",h.formMethod,h,null),at(t,n,"formTarget",h.formTarget,h,null)):(at(t,n,"encType",h.encType,h,null),at(t,n,"method",h.method,h,null),at(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Aa(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=fi);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Aa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":ke("beforetoggle",t),ke("toggle",t),Ea(t,"popover",l);break;case"xlinkActuate":zt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":zt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":zt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":zt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":zt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":zt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":zt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":zt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":zt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ea(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=vu.get(s)||s,Ea(t,s,l))}}function vd(t,n,s,l,h,f){switch(s){case"style":Hl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?wn(t,l):(typeof l=="number"||typeof l=="bigint")&&wn(t,""+l);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=fi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kl.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=t[en]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Ea(t,s,l)}}}function cn(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:at(t,n,f,g,s,null)}}h&&at(t,n,"srcSet",s.srcSet,s,null),l&&at(t,n,"src",s.src,s,null);return;case"input":ke("invalid",t);var T=f=g=h=null,R=null,P=null;for(l in s)if(s.hasOwnProperty(l)){var G=s[l];if(G!=null)switch(l){case"name":h=G;break;case"type":g=G;break;case"checked":R=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:at(t,n,l,G,s,null)}}pu(t,f,T,R,P,g,h,!1);return;case"select":ke("invalid",t),l=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":l=T;default:at(t,n,h,T,s,null)}n=f,s=g,t.multiple=!!l,n!=null?Ps(t,!!l,n,!1):s!=null&&Ps(t,!!l,s,!0);return;case"textarea":ke("invalid",t),f=h=l=null;for(g in s)if(s.hasOwnProperty(g)&&(T=s[g],T!=null))switch(g){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:at(t,n,g,T,s,null)}zs(t,l,h,f);return;case"option":for(R in s)if(s.hasOwnProperty(R)&&(l=s[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:at(t,n,R,l,s,null)}return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(l=0;l<So.length;l++)ke(So[l],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(l=s[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:at(t,n,P,l,s,null)}return;default:if(Sa(n)){for(G in s)s.hasOwnProperty(G)&&(l=s[G],l!==void 0&&vd(t,n,G,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&at(t,n,T,l,s,null))}function WT(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,T=null,R=null,P=null,G=null;for(H in s){var X=s[H];if(s.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":R=X;default:l.hasOwnProperty(H)||at(t,n,H,null,l,X)}}for(var z in l){var H=l[z];if(X=s[z],l.hasOwnProperty(z)&&(H!=null||X!=null))switch(z){case"type":f=H;break;case"name":h=H;break;case"checked":P=H;break;case"defaultChecked":G=H;break;case"value":g=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==X&&at(t,n,z,H,l,X)}}Ta(t,g,T,R,P,G,f,h);return;case"select":H=g=T=z=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":H=R;default:l.hasOwnProperty(f)||at(t,n,f,null,l,R)}for(h in l)if(f=l[h],R=s[h],l.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==R&&at(t,n,h,f,l,R)}n=T,s=g,l=H,z!=null?Ps(t,!!s,z,!1):!!l!=!!s&&(n!=null?Ps(t,!!s,n,!0):Ps(t,!!s,s?[]:"",!1));return;case"textarea":H=z=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:at(t,n,T,null,l,h)}for(g in l)if(h=l[g],f=s[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&at(t,n,g,h,l,f)}yu(t,z,H);return;case"option":for(var ue in s)if(z=s[ue],s.hasOwnProperty(ue)&&z!=null&&!l.hasOwnProperty(ue))switch(ue){case"selected":t.selected=!1;break;default:at(t,n,ue,null,l,z)}for(R in l)if(z=l[R],H=s[R],l.hasOwnProperty(R)&&z!==H&&(z!=null||H!=null))switch(R){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:at(t,n,R,z,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in s)z=s[_e],s.hasOwnProperty(_e)&&z!=null&&!l.hasOwnProperty(_e)&&at(t,n,_e,null,l,z);for(P in l)if(z=l[P],H=s[P],l.hasOwnProperty(P)&&z!==H&&(z!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:at(t,n,P,z,l,H)}return;default:if(Sa(n)){for(var lt in s)z=s[lt],s.hasOwnProperty(lt)&&z!==void 0&&!l.hasOwnProperty(lt)&&vd(t,n,lt,void 0,l,z);for(G in l)z=l[G],H=s[G],!l.hasOwnProperty(G)||z===H||z===void 0&&H===void 0||vd(t,n,G,z,l,H);return}}for(var j in s)z=s[j],s.hasOwnProperty(j)&&z!=null&&!l.hasOwnProperty(j)&&at(t,n,j,null,l,z);for(X in l)z=l[X],H=s[X],!l.hasOwnProperty(X)||z===H||z==null&&H==null||at(t,n,X,z,l,H)}function s0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ZT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,g=h.initiatorType,T=h.duration;if(f&&T&&s0(g)){for(g=0,T=h.responseEnd,l+=1;l<s.length;l++){var R=s[l],P=R.startTime;if(P>T)break;var G=R.transferSize,X=R.initiatorType;G&&s0(X)&&(R=R.responseEnd,g+=G*(R<T?1:(T-P)/(R-P)))}if(--l,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var bd=null,Ed=null;function bc(t){return t.nodeType===9?t:t.ownerDocument}function r0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Td(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Sd=null;function JT(){var t=window.event;return t&&t.type==="popstate"?t===Sd?!1:(Sd=t,!0):(Sd=null,!1)}var l0=typeof setTimeout=="function"?setTimeout:void 0,e1=typeof clearTimeout=="function"?clearTimeout:void 0,o0=typeof Promise=="function"?Promise:void 0,t1=typeof queueMicrotask=="function"?queueMicrotask:typeof o0<"u"?function(t){return o0.resolve(null).then(t).catch(n1)}:l0;function n1(t){setTimeout(function(){throw t})}function ur(t){return t==="head"}function u0(t,n){var s=n,l=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(h),sl(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")xo(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,xo(s);for(var f=s.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[wi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&xo(t.ownerDocument.body);s=h}while(s);sl(n)}function c0(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function Ad(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Ad(s),ba(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function i1(t,n,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[wi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=si(t.nextSibling),t===null)break}return null}function s1(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=si(t.nextSibling),t===null))return null;return t}function h0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=si(t.nextSibling),t===null))return null;return t}function xd(t){return t.data==="$?"||t.data==="$~"}function wd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function r1(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function si(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Rd=null;function f0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return si(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function d0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function m0(t,n,s){switch(n=bc(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function xo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ba(t)}var ri=new Map,g0=new Set;function Ec(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var xs=se.d;se.d={f:a1,r:l1,D:o1,C:u1,L:c1,m:h1,X:d1,S:f1,M:m1};function a1(){var t=xs.f(),n=fc();return t||n}function l1(t){var n=Yn(t);n!==null&&n.tag===5&&n.type==="form"?Op(n):xs.r(t)}var tl=typeof document>"u"?null:document;function p0(t,n,s){var l=tl;if(l&&typeof n=="string"&&n){var h=xn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),g0.has(h)||(g0.add(h),t={rel:t,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),cn(n,"link",t),Pt(n),l.head.appendChild(n)))}}function o1(t){xs.D(t),p0("dns-prefetch",t,null)}function u1(t,n){xs.C(t,n),p0("preconnect",t,n)}function c1(t,n,s){xs.L(t,n,s);var l=tl;if(l&&t&&n){var h='link[rel="preload"][as="'+xn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+xn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+xn(s.imageSizes)+'"]')):h+='[href="'+xn(t)+'"]';var f=h;switch(n){case"style":f=nl(t);break;case"script":f=il(t)}ri.has(f)||(t=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),ri.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(wo(f))||n==="script"&&l.querySelector(Ro(f))||(n=l.createElement("link"),cn(n,"link",t),Pt(n),l.head.appendChild(n)))}}function h1(t,n){xs.m(t,n);var s=tl;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+xn(l)+'"][href="'+xn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=il(t)}if(!ri.has(f)&&(t=A({rel:"modulepreload",href:t},n),ri.set(f,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ro(f)))return}l=s.createElement("link"),cn(l,"link",t),Pt(l),s.head.appendChild(l)}}}function f1(t,n,s){xs.S(t,n,s);var l=tl;if(l&&t){var h=Ci(l).hoistableStyles,f=nl(t);n=n||"default";var g=h.get(f);if(!g){var T={loading:0,preload:null};if(g=l.querySelector(wo(f)))T.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},s),(s=ri.get(f))&&Cd(t,s);var R=g=l.createElement("link");Pt(R),cn(R,"link",t),R._p=new Promise(function(P,G){R.onload=P,R.onerror=G}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Tc(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:T},h.set(f,g)}}}function d1(t,n){xs.X(t,n);var s=tl;if(s&&t){var l=Ci(s).hoistableScripts,h=il(t),f=l.get(h);f||(f=s.querySelector(Ro(h)),f||(t=A({src:t,async:!0},n),(n=ri.get(h))&&Nd(t,n),f=s.createElement("script"),Pt(f),cn(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function m1(t,n){xs.M(t,n);var s=tl;if(s&&t){var l=Ci(s).hoistableScripts,h=il(t),f=l.get(h);f||(f=s.querySelector(Ro(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=ri.get(h))&&Nd(t,n),f=s.createElement("script"),Pt(f),cn(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function y0(t,n,s,l){var h=(h=Ce.current)?Ec(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=nl(s.href),s=Ci(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=nl(s.href);var f=Ci(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(wo(t)))&&!f._p&&(g.instance=f,g.state.loading=5),ri.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ri.set(t,s),f||g1(h,t,s,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=il(s),s=Ci(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function nl(t){return'href="'+xn(t)+'"'}function wo(t){return'link[rel="stylesheet"]['+t+"]"}function _0(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function g1(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),cn(n,"link",s),Pt(n),t.head.appendChild(n))}function il(t){return'[src="'+xn(t)+'"]'}function Ro(t){return"script[async]"+t}function v0(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+xn(s.href)+'"]');if(l)return n.instance=l,Pt(l),l;var h=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Pt(l),cn(l,"style",h),Tc(l,s.precedence,t),n.instance=l;case"stylesheet":h=nl(s.href);var f=t.querySelector(wo(h));if(f)return n.state.loading|=4,n.instance=f,Pt(f),f;l=_0(s),(h=ri.get(h))&&Cd(l,h),f=(t.ownerDocument||t).createElement("link"),Pt(f);var g=f;return g._p=new Promise(function(T,R){g.onload=T,g.onerror=R}),cn(f,"link",l),n.state.loading|=4,Tc(f,s.precedence,t),n.instance=f;case"script":return f=il(s.src),(h=t.querySelector(Ro(f)))?(n.instance=h,Pt(h),h):(l=s,(h=ri.get(f))&&(l=A({},s),Nd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Pt(h),cn(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Tc(l,s.precedence,t));return n.instance}function Tc(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var T=l[g];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Cd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Nd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Sc=null;function b0(t,n,s){if(Sc===null){var l=new Map,h=Sc=new Map;h.set(s,l)}else h=Sc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[wi]||f[Lt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var T=l.get(g);T?T.push(f):l.set(g,[f])}}return l}function E0(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function p1(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function T0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function y1(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=nl(l.href),f=n.querySelector(wo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Ac.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,Pt(f);return}f=n.ownerDocument||n,l=_0(l),(h=ri.get(h))&&Cd(l,h),f=f.createElement("link"),Pt(f);var g=f;g._p=new Promise(function(T,R){g.onload=T,g.onerror=R}),cn(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Ac.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var Id=0;function _1(t,n){return t.stylesheets&&t.count===0&&wc(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&wc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Id===0&&(Id=62500*ZT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&wc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Id?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Ac(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var xc=null;function wc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,xc=new Map,n.forEach(v1,t),xc=null,Ac.call(t))}function v1(t,n){if(!(n.state.loading&4)){var s=xc.get(t);if(s)var l=s.get(null);else{s=new Map,xc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,h),s.set(g,h),this.count++,l=Ac.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Co={$$typeof:Ee,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function b1(t,n,s,l,h,f,g,T,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tt(0),this.hiddenUpdates=Tt(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function S0(t,n,s,l,h,f,g,T,R,P,G,X){return t=new b1(t,n,s,g,R,P,G,X,T),n=1,f===!0&&(n|=24),f=Pn(3,null,null,n),t.current=f,f.stateNode=t,n=uf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},df(f),t}function A0(t){return t?(t=Va,t):Va}function x0(t,n,s,l,h,f){h=A0(h),l.context===null?l.context=h:l.pendingContext=h,l=Zs(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Js(t,l,n),s!==null&&(Dn(s,t,n),ro(s,t,n))}function w0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Dd(t,n){w0(t,n),(t=t.alternate)&&w0(t,n)}function R0(t){if(t.tag===13||t.tag===31){var n=Xr(t,67108864);n!==null&&Dn(n,t,67108864),Dd(t,67108864)}}function C0(t){if(t.tag===13||t.tag===31){var n=Gn();n=ui(n);var s=Xr(t,n);s!==null&&Dn(s,t,n),Dd(t,n)}}var Rc=!0;function E1(t,n,s,l){var h=q.T;q.T=null;var f=se.p;try{se.p=2,Od(t,n,s,l)}finally{se.p=f,q.T=h}}function T1(t,n,s,l){var h=q.T;q.T=null;var f=se.p;try{se.p=8,Od(t,n,s,l)}finally{se.p=f,q.T=h}}function Od(t,n,s,l){if(Rc){var h=Md(l);if(h===null)_d(t,n,l,Cc,s),I0(t,l);else if(A1(h,t,n,s,l))l.stopPropagation();else if(I0(t,l),n&4&&-1<S1.indexOf(t)){for(;h!==null;){var f=Yn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Se(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var R=1<<31-He(g);T.entanglements[1]|=R,g&=~R}Bi(f),(We&6)===0&&(cc=rn()+500,To(0))}}break;case 31:case 13:T=Xr(f,2),T!==null&&Dn(T,f,2),fc(),Dd(f,2)}if(f=Md(l),f===null&&_d(t,n,l,Cc,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else _d(t,n,l,null,s)}}function Md(t){return t=Xn(t),Vd(t)}var Cc=null;function Vd(t){if(Cc=null,t=Ri(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=p(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Cc=t,null}function N0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(is()){case Ur:return 2;case ss:return 8;case Z:case re:return 32;case ae:return 268435456;default:return 32}default:return 32}}var kd=!1,cr=null,hr=null,fr=null,No=new Map,Io=new Map,dr=[],S1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I0(t,n){switch(t){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":No.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Io.delete(n.pointerId)}}function Do(t,n,s,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Yn(n),n!==null&&R0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function A1(t,n,s,l,h){switch(n){case"focusin":return cr=Do(cr,t,n,s,l,h),!0;case"dragenter":return hr=Do(hr,t,n,s,l,h),!0;case"mouseover":return fr=Do(fr,t,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return No.set(f,Do(No.get(f)||null,t,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Io.set(f,Do(Io.get(f)||null,t,n,s,l,h)),!0}return!1}function D0(t){var n=Ri(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,ci(t.priority,function(){C0(s)});return}}else if(n===31){if(n=p(s),n!==null){t.blockedOn=n,ci(t.priority,function(){C0(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Md(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);ql=l,s.target.dispatchEvent(l),ql=null}else return n=Yn(s),n!==null&&R0(n),t.blockedOn=s,!1;n.shift()}return!0}function O0(t,n,s){Nc(t)&&s.delete(n)}function x1(){kd=!1,cr!==null&&Nc(cr)&&(cr=null),hr!==null&&Nc(hr)&&(hr=null),fr!==null&&Nc(fr)&&(fr=null),No.forEach(O0),Io.forEach(O0)}function Ic(t,n){t.blockedOn===n&&(t.blockedOn=null,kd||(kd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,x1)))}var Dc=null;function M0(t){Dc!==t&&(Dc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Dc===t&&(Dc=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Vd(l||s)===null)continue;break}var f=Yn(s);f!==null&&(t.splice(n,3),n-=3,Mf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function sl(t){function n(R){return Ic(R,t)}cr!==null&&Ic(cr,t),hr!==null&&Ic(hr,t),fr!==null&&Ic(fr,t),No.forEach(n),Io.forEach(n);for(var s=0;s<dr.length;s++){var l=dr[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<dr.length&&(s=dr[0],s.blockedOn===null);)D0(s),s.blockedOn===null&&dr.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],g=h[en]||null;if(typeof f=="function")g||M0(s);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[en]||null)T=g.formAction;else if(Vd(h)!==null)continue}else T=g.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),M0(s)}}}function V0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function jd(t){this._internalRoot=t}Oc.prototype.render=jd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=Gn();x0(s,l,t,n,null,null)},Oc.prototype.unmount=jd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;x0(t.current,2,null,t,null,null),fc(),n[xi]=null}};function Oc(t){this._internalRoot=t}Oc.prototype.unstable_scheduleHydration=function(t){if(t){var n=fu();t={blockedOn:null,target:t,priority:n};for(var s=0;s<dr.length&&n!==0&&n<dr[s].priority;s++);dr.splice(s,0,t),s===0&&D0(t)}};var k0=e.version;if(k0!=="19.2.0")throw Error(a(527,k0,"19.2.0"));se.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var w1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mc.isDisabled&&Mc.supportsFiber)try{ft=Mc.inject(w1),dt=Mc}catch{}}return Mo.createRoot=function(t,n){if(!o(t))throw Error(a(299));var s=!1,l="",h=Hp,f=qp,g=Gp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=S0(t,1,!1,null,null,s,l,null,h,f,g,V0),t[xi]=n.current,yd(t),new jd(n)},Mo.hydrateRoot=function(t,n,s){if(!o(t))throw Error(a(299));var l=!1,h="",f=Hp,g=qp,T=Gp,R=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=S0(t,1,!0,n,s??null,l,h,R,f,g,T,V0),n.context=A0(null),s=n.current,l=Gn(),l=ui(l),h=Zs(l),h.callback=null,Js(s,h,l),s=l,n.current.lanes=s,rs(n,s),Bi(n),t[xi]=n.current,yd(t),new Oc(n)},Mo.version="19.2.0",Mo}var F0;function L1(){if(F0)return Pd.exports;F0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Pd.exports=U1(),Pd.exports}var P1=L1();const z1=()=>{};var Q0={};const xv=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},B1=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],p=r[i++],y=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},wv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,p=d?r[o+1]:0,y=o+2<r.length,_=y?r[o+2]:0,E=c>>2,A=(c&3)<<4|p>>4;let M=(p&15)<<2|_>>6,F=_&63;y||(F=64,d||(M=64)),a.push(i[E],i[A],i[M],i[F])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(xv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):B1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],p=o<r.length?i[r.charAt(o)]:0;++o;const _=o<r.length?i[r.charAt(o)]:64;++o;const A=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||p==null||_==null||A==null)throw new H1;const M=c<<2|p>>4;if(a.push(M),_!==64){const F=p<<4&240|_>>2;if(a.push(F),A!==64){const J=_<<6&192|A;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class H1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const q1=function(r){const e=xv(r);return wv.encodeByteArray(e,!0)},th=function(r){return q1(r).replace(/\./g,"")},Rv=function(r){try{return wv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function G1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const F1=()=>G1().__FIREBASE_DEFAULTS__,Q1=()=>{if(typeof process>"u"||typeof Q0>"u")return;const r=Q0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},K1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Rv(r[1]);return e&&JSON.parse(e)},Eh=()=>{try{return z1()||F1()||Q1()||K1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Cv=r=>Eh()?.emulatorHosts?.[r],Y1=r=>{const e=Cv(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Nv=()=>Eh()?.config,Iv=r=>Eh()?.[`_${r}`];class X1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function wl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Dv(r){return(await fetch(r,{credentials:"include"})).ok}function $1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[th(JSON.stringify(i)),th(JSON.stringify(d)),""].join(".")}const Lo={};function W1(){const r={prod:[],emulator:[]};for(const e of Object.keys(Lo))Lo[e]?r.emulator.push(e):r.prod.push(e);return r}function Z1(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let K0=!1;function Ov(r,e){if(typeof window>"u"||typeof document>"u"||!wl(window.location.host)||Lo[r]===e||Lo[r]||K0)return;Lo[r]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=W1().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function y(M,F){M.setAttribute("width","24"),M.setAttribute("id",F),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{K0=!0,d()},M}function E(M,F){M.setAttribute("id",F),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function A(){const M=Z1(a),F=i("text"),J=document.getElementById(F)||document.createElement("span"),ne=i("learnmore"),ee=document.getElementById(ne)||document.createElement("a"),ve=i("preprendIcon"),Re=document.getElementById(ve)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const Ee=M.element;p(Ee),E(ee,ne);const ge=_();y(Re,ve),Ee.append(Re,J,ee,ge),document.body.appendChild(Ee)}c?(J.innerText="Preview backend disconnected.",Re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function J1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function eS(){const r=Eh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function iS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sS(){const r=En();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function rS(){return!eS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aS(){try{return typeof indexedDB=="object"}catch{return!1}}function lS(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const oS="FirebaseError";class js extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=oS,Object.setPrototypeOf(this,js.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jo.prototype.create)}}class Jo{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?uS(c,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new js(o,p,a)}}function uS(r,e){return r.replace(cS,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const cS=/\{\$([^}]+)}/g;function hS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function wr(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=e[o];if(Y0(c)&&Y0(d)){if(!wr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function Y0(r){return r!==null&&typeof r=="object"}function eu(r){const e=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function fS(r,e){const i=new dS(r,e);return i.subscribe.bind(i)}class dS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");mS(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=qd),o.error===void 0&&(o.error=qd),o.complete===void 0&&(o.complete=qd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mS(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function qd(){}function An(r){return r&&r._delegate?r._delegate:r}class fa{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const oa="[DEFAULT]";class gS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new X1;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yS(e))try{this.getOrInitializeService({instanceIdentifier:oa})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=oa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oa){return this.instances.has(e)}getOptions(e=oa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:pS(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=oa){return this.component?this.component.multipleInstances?e:oa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pS(r){return r===oa?void 0:r}function yS(r){return r.instantiationMode==="EAGER"}class _S{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new gS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Le;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Le||(Le={}));const vS={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},bS=Le.INFO,ES={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},TS=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=ES[e];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Nm{constructor(e){this.name=e,this._logLevel=bS,this._logHandler=TS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const SS=(r,e)=>e.some(i=>r instanceof i);let X0,$0;function AS(){return X0||(X0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xS(){return $0||($0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mv=new WeakMap,nm=new WeakMap,Vv=new WeakMap,Gd=new WeakMap,Im=new WeakMap;function wS(r){const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Er(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Mv.set(i,r)}).catch(()=>{}),Im.set(e,r),e}function RS(r){if(nm.has(r))return;const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});nm.set(r,e)}let im={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return nm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Vv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Er(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function CS(r){im=r(im)}function NS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(Fd(this),e,...i);return Vv.set(a,e.sort?e.sort():[e]),Er(a)}:xS().includes(r)?function(...e){return r.apply(Fd(this),e),Er(Mv.get(this))}:function(...e){return Er(r.apply(Fd(this),e))}}function IS(r){return typeof r=="function"?NS(r):(r instanceof IDBTransaction&&RS(r),SS(r,AS())?new Proxy(r,im):r)}function Er(r){if(r instanceof IDBRequest)return wS(r);if(Gd.has(r))return Gd.get(r);const e=IS(r);return e!==r&&(Gd.set(r,e),Im.set(e,r)),e}const Fd=r=>Im.get(r);function DS(r,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,e),p=Er(d);return a&&d.addEventListener("upgradeneeded",y=>{a(Er(d.result),y.oldVersion,y.newVersion,Er(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const OS=["get","getKey","getAll","getAllKeys","count"],MS=["put","add","delete","clear"],Qd=new Map;function W0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Qd.get(e))return Qd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=MS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||OS.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,o?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),o&&y.done]))[0]};return Qd.set(e,c),c}CS(r=>({...r,get:(e,i,a)=>W0(e,i)||r.get(e,i,a),has:(e,i)=>!!W0(e,i)||r.has(e,i)}));class VS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(kS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function kS(r){return r.getComponent()?.type==="VERSION"}const sm="@firebase/app",Z0="0.14.6";const Is=new Nm("@firebase/app"),jS="@firebase/app-compat",US="@firebase/analytics-compat",LS="@firebase/analytics",PS="@firebase/app-check-compat",zS="@firebase/app-check",BS="@firebase/auth",HS="@firebase/auth-compat",qS="@firebase/database",GS="@firebase/data-connect",FS="@firebase/database-compat",QS="@firebase/functions",KS="@firebase/functions-compat",YS="@firebase/installations",XS="@firebase/installations-compat",$S="@firebase/messaging",WS="@firebase/messaging-compat",ZS="@firebase/performance",JS="@firebase/performance-compat",eA="@firebase/remote-config",tA="@firebase/remote-config-compat",nA="@firebase/storage",iA="@firebase/storage-compat",sA="@firebase/firestore",rA="@firebase/ai",aA="@firebase/firestore-compat",lA="firebase",oA="12.6.0";const rm="[DEFAULT]",uA={[sm]:"fire-core",[jS]:"fire-core-compat",[LS]:"fire-analytics",[US]:"fire-analytics-compat",[zS]:"fire-app-check",[PS]:"fire-app-check-compat",[BS]:"fire-auth",[HS]:"fire-auth-compat",[qS]:"fire-rtdb",[GS]:"fire-data-connect",[FS]:"fire-rtdb-compat",[QS]:"fire-fn",[KS]:"fire-fn-compat",[YS]:"fire-iid",[XS]:"fire-iid-compat",[$S]:"fire-fcm",[WS]:"fire-fcm-compat",[ZS]:"fire-perf",[JS]:"fire-perf-compat",[eA]:"fire-rc",[tA]:"fire-rc-compat",[nA]:"fire-gcs",[iA]:"fire-gcs-compat",[sA]:"fire-fst",[aA]:"fire-fst-compat",[rA]:"fire-vertex","fire-js":"fire-js",[lA]:"fire-js-all"};const nh=new Map,cA=new Map,am=new Map;function J0(r,e){try{r.container.addComponent(e)}catch(i){Is.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function yl(r){const e=r.name;if(am.has(e))return Is.debug(`There were multiple attempts to register component ${e}.`),!1;am.set(e,r);for(const i of nh.values())J0(i,r);for(const i of cA.values())J0(i,r);return!0}function Dm(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function ai(r){return r==null?!1:r.settings!==void 0}const hA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tr=new Jo("app","Firebase",hA);class fA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new fa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}}const Rl=oA;function kv(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:rm,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Tr.create("bad-app-name",{appName:String(o)});if(i||(i=Nv()),!i)throw Tr.create("no-options");const c=nh.get(o);if(c){if(wr(i,c.options)&&wr(a,c.config))return c;throw Tr.create("duplicate-app",{appName:o})}const d=new _S(o);for(const y of am.values())d.addComponent(y);const p=new fA(i,a,d);return nh.set(o,p),p}function jv(r=rm){const e=nh.get(r);if(!e&&r===rm&&Nv())return kv();if(!e)throw Tr.create("no-app",{appName:r});return e}function Sr(r,e,i){let a=uA[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Is.warn(d.join(" "));return}yl(new fa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const dA="firebase-heartbeat-database",mA=1,Fo="firebase-heartbeat-store";let Kd=null;function Uv(){return Kd||(Kd=DS(dA,mA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Fo)}catch(i){console.warn(i)}}}}).catch(r=>{throw Tr.create("idb-open",{originalErrorMessage:r.message})})),Kd}async function gA(r){try{const i=(await Uv()).transaction(Fo),a=await i.objectStore(Fo).get(Lv(r));return await i.done,a}catch(e){if(e instanceof js)Is.warn(e.message);else{const i=Tr.create("idb-get",{originalErrorMessage:e?.message});Is.warn(i.message)}}}async function e_(r,e){try{const a=(await Uv()).transaction(Fo,"readwrite");await a.objectStore(Fo).put(e,Lv(r)),await a.done}catch(i){if(i instanceof js)Is.warn(i.message);else{const a=Tr.create("idb-set",{originalErrorMessage:i?.message});Is.warn(a.message)}}}function Lv(r){return`${r.name}!${r.options.appId}`}const pA=1024,yA=30;class _A{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new bA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=t_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>yA){const o=EA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Is.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=t_(),{heartbeatsToSend:i,unsentEntries:a}=vA(this._heartbeatsCache.heartbeats),o=th(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Is.warn(e),""}}}function t_(){return new Date().toISOString().substring(0,10)}function vA(r,e=pA){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),n_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),n_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class bA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aS()?lS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await gA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return e_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return e_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function n_(r){return th(JSON.stringify({version:2,heartbeats:r})).length}function EA(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}function TA(r){yl(new fa("platform-logger",e=>new VS(e),"PRIVATE")),yl(new fa("heartbeat",e=>new _A(e),"PRIVATE")),Sr(sm,Z0,r),Sr(sm,Z0,"esm2020"),Sr("fire-js","")}TA("");var SA="firebase",AA="12.6.0";Sr(SA,AA,"app");function Pv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xA=Pv,zv=new Jo("auth","Firebase",Pv());const ih=new Nm("@firebase/auth");function wA(r,...e){ih.logLevel<=Le.WARN&&ih.warn(`Auth (${Rl}): ${r}`,...e)}function Hc(r,...e){ih.logLevel<=Le.ERROR&&ih.error(`Auth (${Rl}): ${r}`,...e)}function Ds(r,...e){throw Om(r,...e)}function qi(r,...e){return Om(r,...e)}function Bv(r,e,i){const a={...xA(),[e]:i};return new Jo("auth","Firebase",a).create(e,{appName:r.name})}function Ns(r){return Bv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Om(r,...e){if(typeof r!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return zv.create(r,...e)}function Te(r,e,...i){if(!r)throw Om(e,...i)}function Rs(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Hc(e),new Error(e)}function Os(r,e){r||Rs(e)}function lm(){return typeof self<"u"&&self.location?.href||""}function RA(){return i_()==="http:"||i_()==="https:"}function i_(){return typeof self<"u"&&self.location?.protocol||null}function CA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RA()||nS()||"connection"in navigator)?navigator.onLine:!0}function NA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class tu{constructor(e,i){this.shortDelay=e,this.longDelay=i,Os(i>e,"Short delay should be less than long delay!"),this.isMobile=J1()||iS()}get(){return CA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Mm(r,e){Os(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Hv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const IA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const DA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OA=new tu(3e4,6e4);function nu(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Cl(r,e,i,a,o={}){return qv(r,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const p=eu({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:e,headers:y,...c};return tS()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&wl(r.emulatorConfig.host)&&(_.credentials="include"),Hv.fetch()(await Gv(r,r.config.apiHost,i,p),_)})}async function qv(r,e,i){r._canInitEmulator=!1;const a={...IA,...e};try{const o=new MA(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Vc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Vc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw Vc(r,"user-disabled",d);const E=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Bv(r,E,_);Ds(r,E)}}catch(o){if(o instanceof js)throw o;Ds(r,"network-request-failed",{message:String(o)})}}async function Vm(r,e,i,a,o={}){const c=await Cl(r,e,i,a,o);return"mfaPendingCredential"in c&&Ds(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function Gv(r,e,i,a){const o=`${e}${i}?${a}`,c=r,d=c.config.emulator?Mm(r.config,o):`${r.config.apiScheme}://${o}`;return DA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class MA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(qi(this.auth,"network-request-failed")),OA.get())})}}function Vc(r,e,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=qi(r,e,a);return o.customData._tokenResponse=i,o}async function VA(r,e){return Cl(r,"POST","/v1/accounts:delete",e)}async function sh(r,e){return Cl(r,"POST","/v1/accounts:lookup",e)}function Po(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kA(r,e=!1){const i=An(r),a=await i.getIdToken(e),o=km(a);Te(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Po(Yd(o.auth_time)),issuedAtTime:Po(Yd(o.iat)),expirationTime:Po(Yd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Yd(r){return Number(r)*1e3}function km(r){const[e,i,a]=r.split(".");if(e===void 0||i===void 0||a===void 0)return Hc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Rv(i);return o?JSON.parse(o):(Hc("Failed to decode base64 JWT payload"),null)}catch(o){return Hc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function s_(r){const e=km(r);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Qo(r,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof js&&jA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function jA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class UA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class om{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Po(this.lastLoginAt),this.creationTime=Po(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function rh(r){const e=r.auth,i=await r.getIdToken(),a=await Qo(r,sh(e,{idToken:i}));Te(a?.users.length,e,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?Fv(o.providerUserInfo):[],d=PA(r.providerData,c),p=r.isAnonymous,y=!(r.email&&o.passwordHash)&&!d?.length,_=p?y:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new om(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(r,E)}async function LA(r){const e=An(r);await rh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PA(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Fv(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function zA(r,e){const i=await qv(r,{},async()=>{const a=eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await Gv(r,o,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return r.emulatorConfig&&wl(r.emulatorConfig.host)&&(y.credentials="include"),Hv.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function BA(r,e){return Cl(r,"POST","/v2/accounts:revokeToken",nu(r,e))}class fl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):s_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const i=s_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await zA(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new fl;return a&&(Te(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(Te(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Te(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fl,this.toJSON())}_performRefresh(){return Rs("not implemented")}}function gr(r,e){Te(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class bi{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new UA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new om(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Qo(this,this.stsTokenManager.getToken(this.auth,e));return Te(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return kA(this,e)}reload(){return LA(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new bi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await rh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ai(this.auth.app))return Promise.reject(Ns(this.auth));const e=await this.getIdToken();return await Qo(this,VA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:A,emailVerified:M,isAnonymous:F,providerData:J,stsTokenManager:ne}=i;Te(A&&ne,e,"internal-error");const ee=fl.fromJSON(this.name,ne);Te(typeof A=="string",e,"internal-error"),gr(a,e.name),gr(o,e.name),Te(typeof M=="boolean",e,"internal-error"),Te(typeof F=="boolean",e,"internal-error"),gr(c,e.name),gr(d,e.name),gr(p,e.name),gr(y,e.name),gr(_,e.name),gr(E,e.name);const ve=new bi({uid:A,auth:e,email:o,emailVerified:M,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:ee,createdAt:_,lastLoginAt:E});return J&&Array.isArray(J)&&(ve.providerData=J.map(Re=>({...Re}))),y&&(ve._redirectEventId=y),ve}static async _fromIdTokenResponse(e,i,a=!1){const o=new fl;o.updateFromServerResponse(i);const c=new bi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await rh(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];Te(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Fv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new fl;p.updateFromIdToken(a);const y=new bi({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new om(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const r_=new Map;function Cs(r){Os(r instanceof Function,"Expected a class definition");let e=r_.get(r);return e?(Os(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,r_.set(r,e),e)}class Qv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Qv.type="NONE";const a_=Qv;function qc(r,e,i){return`firebase:${r}:${e}:${i}`}class dl{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=qc(this.userKey,o.apiKey,c),this.fullPersistenceKey=qc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await sh(this.auth,{idToken:e}).catch(()=>{});return i?bi._fromGetAccountInfoResponse(this.auth,i,e):null}return bi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new dl(Cs(a_),e,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||Cs(a_);const d=qc(a,e.config.apiKey,e.name);let p=null;for(const _ of i)try{const E=await _._get(d);if(E){let A;if(typeof E=="string"){const M=await sh(e,{idToken:E}).catch(()=>{});if(!M)break;A=await bi._fromGetAccountInfoResponse(e,M,E)}else A=bi._fromJSON(e,E);_!==c&&(p=A),c=_;break}}catch{}const y=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new dl(c,e,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new dl(c,e,a))}}function l_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($v(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Kv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Zv(e))return"Blackberry";if(Jv(e))return"Webos";if(Yv(e))return"Safari";if((e.includes("chrome/")||Xv(e))&&!e.includes("edge/"))return"Chrome";if(Wv(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function Kv(r=En()){return/firefox\//i.test(r)}function Yv(r=En()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Xv(r=En()){return/crios\//i.test(r)}function $v(r=En()){return/iemobile/i.test(r)}function Wv(r=En()){return/android/i.test(r)}function Zv(r=En()){return/blackberry/i.test(r)}function Jv(r=En()){return/webos/i.test(r)}function jm(r=En()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function HA(r=En()){return jm(r)&&!!window.navigator?.standalone}function qA(){return sS()&&document.documentMode===10}function eb(r=En()){return jm(r)||Wv(r)||Jv(r)||Zv(r)||/windows phone/i.test(r)||$v(r)}function tb(r,e=[]){let i;switch(r){case"Browser":i=l_(En());break;case"Worker":i=`${l_(En())}-${r}`;break;default:i=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Rl}/${a}`}class GA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,p)=>{try{const y=e(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function FA(r,e={}){return Cl(r,"GET","/v2/passwordPolicy",nu(r,e))}const QA=6;class KA{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??QA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class YA{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new o_(this),this.idTokenSubscription=new o_(this),this.beforeStateQueue=new GA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Cs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await dl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await sh(this,{idToken:e}),a=await bi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ai(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await rh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=NA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ai(this.app))return Promise.reject(Ns(this));const i=e?An(e):null;return i&&Te(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ai(this.app)?Promise.reject(Ns(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ai(this.app)?Promise.reject(Ns(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await FA(this),i=new KA(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Jo("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await BA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Cs(e)||this._popupRedirectResolver;Te(i,this,"argument-error"),this.redirectPersistenceManager=await dl.create(this,[Cs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,a,o);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(ai(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&wA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function iu(r){return An(r)}class o_{constructor(e){this.auth=e,this.observer=null,this.addObserver=fS(i=>this.observer=i)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Um={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XA(r){Um=r}function $A(r){return Um.loadJS(r)}function WA(){return Um.gapiScript}function ZA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function JA(r,e){const i=Dm(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(wr(c,e??{}))return o;Ds(o,"already-initialized")}return i.initialize({options:e})}function ex(r,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Cs);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function tx(r,e,i){const a=iu(r);Te(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=nb(e),{host:d,port:p}=nx(e),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},E=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Te(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Te(wr(_,a.config.emulator)&&wr(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,wl(d)?(Dv(`${c}//${d}${y}`),Ov("Auth",!0)):ix()}function nb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function nx(r){const e=nb(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:u_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:u_(d)}}}function u_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function ix(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class ib{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Rs("not implemented")}_getIdTokenResponse(e){return Rs("not implemented")}_linkToIdToken(e,i){return Rs("not implemented")}_getReauthenticationResolver(e){return Rs("not implemented")}}async function ml(r,e){return Vm(r,"POST","/v1/accounts:signInWithIdp",nu(r,e))}const sx="http://localhost";class da extends ib{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Ds("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new da(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return ml(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,ml(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,ml(e,i)}buildRequest(){const e={requestUri:sx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=eu(i)}return e}}class sb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class su extends sb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class pr extends su{constructor(){super("facebook.com")}static credential(e){return da._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pr.credential(e.oauthAccessToken)}catch{return null}}}pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";pr.PROVIDER_ID="facebook.com";class yr extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return da._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return yr.credential(i,a)}catch{return null}}}yr.GOOGLE_SIGN_IN_METHOD="google.com";yr.PROVIDER_ID="google.com";class _r extends su{constructor(){super("github.com")}static credential(e){return da._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _r.credential(e.oauthAccessToken)}catch{return null}}}_r.GITHUB_SIGN_IN_METHOD="github.com";_r.PROVIDER_ID="github.com";class vr extends su{constructor(){super("twitter.com")}static credential(e,i){return da._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return vr.credential(i,a)}catch{return null}}}vr.TWITTER_SIGN_IN_METHOD="twitter.com";vr.PROVIDER_ID="twitter.com";async function rx(r,e){return Vm(r,"POST","/v1/accounts:signUp",nu(r,e))}class Ms{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await bi._fromIdTokenResponse(e,a,o),d=c_(a);return new Ms({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=c_(a);return new Ms({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function c_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function h_(r){if(ai(r.app))return Promise.reject(Ns(r));const e=iu(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Ms({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await rx(e,{returnSecureToken:!0}),a=await Ms._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class ah extends js{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,ah.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new ah(e,i,a,o)}}function rb(r,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ah._fromErrorAndOperation(r,c,e,a):c})}async function ax(r,e,i=!1){const a=await Qo(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return Ms._forOperation(r,"link",a)}async function lx(r,e,i=!1){const{auth:a}=r;if(ai(a.app))return Promise.reject(Ns(a));const o="reauthenticate";try{const c=await Qo(r,rb(a,o,e,r),i);Te(c.idToken,a,"internal-error");const d=km(c.idToken);Te(d,a,"internal-error");const{sub:p}=d;return Te(r.uid===p,a,"user-mismatch"),Ms._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ds(a,"user-mismatch"),c}}async function ox(r,e,i=!1){if(ai(r.app))return Promise.reject(Ns(r));const a="signIn",o=await rb(r,a,e),c=await Ms._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}async function ux(r,e){return Vm(r,"POST","/v1/accounts:signInWithCustomToken",nu(r,e))}async function cx(r,e){if(ai(r.app))return Promise.reject(Ns(r));const i=iu(r),a=await ux(i,{token:e,returnSecureToken:!0}),o=await Ms._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function hx(r,e,i,a){return An(r).onIdTokenChanged(e,i,a)}function fx(r,e,i){return An(r).beforeAuthStateChanged(e,i)}function dx(r,e,i,a){return An(r).onAuthStateChanged(e,i,a)}const lh="__sak";class ab{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(lh,"1"),this.storage.removeItem(lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const mx=1e3,gx=10;class lb extends ab{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);qA()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,gx):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},mx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}lb.type="LOCAL";const px=lb;class ob extends ab{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}ob.type="SESSION";const ub=ob;function yx(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Th{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new Th(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await yx(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Th.receivers=[];function Lm(r="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return r+i}class _x{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=Lm("",20);o.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(A){const M=A;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(E),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Gi(){return window}function vx(r){Gi().location.href=r}function cb(){return typeof Gi().WorkerGlobalScope<"u"&&typeof Gi().importScripts=="function"}async function bx(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ex(){return navigator?.serviceWorker?.controller||null}function Tx(){return cb()?self:null}const hb="firebaseLocalStorageDb",Sx=1,oh="firebaseLocalStorage",fb="fbase_key";class ru{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Sh(r,e){return r.transaction([oh],e?"readwrite":"readonly").objectStore(oh)}function Ax(){const r=indexedDB.deleteDatabase(hb);return new ru(r).toPromise()}function um(){const r=indexedDB.open(hb,Sx);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(oh,{keyPath:fb})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(oh)?e(a):(a.close(),await Ax(),e(await um()))})})}async function f_(r,e,i){const a=Sh(r,!0).put({[fb]:e,value:i});return new ru(a).toPromise()}async function xx(r,e){const i=Sh(r,!1).get(e),a=await new ru(i).toPromise();return a===void 0?null:a.value}function d_(r,e){const i=Sh(r,!0).delete(e);return new ru(i).toPromise()}const wx=800,Rx=3;class db{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await um(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>Rx)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Th._getInstance(Tx()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await bx(),!this.activeServiceWorker)return;this.sender=new _x(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Ex()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await um();return await f_(e,lh,"1"),await d_(e,lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>f_(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>xx(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>d_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Sh(o,!1).getAll();return new ru(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}db.type="LOCAL";const Cx=db;new tu(3e4,6e4);function Nx(r,e){return e?Cs(e):(Te(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Pm extends ib{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ml(e,this._buildIdpRequest())}_linkToIdToken(e,i){return ml(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return ml(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function Ix(r){return ox(r.auth,new Pm(r),r.bypassAuthState)}function Dx(r){const{auth:e,user:i}=r;return Te(i,e,"internal-error"),lx(i,new Pm(r),r.bypassAuthState)}async function Ox(r){const{auth:e,user:i}=r;return Te(i,e,"internal-error"),ax(i,new Pm(r),r.bypassAuthState)}class mb{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ix;case"linkViaPopup":case"linkViaRedirect":return Ox;case"reauthViaPopup":case"reauthViaRedirect":return Dx;default:Ds(this.auth,"internal-error")}}resolve(e){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Mx=new tu(2e3,1e4);class hl extends mb{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,hl.currentPopupAction&&hl.currentPopupAction.cancel(),hl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Os(this.filter.length===1,"Popup operations only handle one event");const e=Lm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Mx.get())};e()}}hl.currentPopupAction=null;const Vx="pendingRedirect",Gc=new Map;class kx extends mb{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Gc.get(this.auth._key());if(!e){try{const a=await jx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Gc.set(this.auth._key(),e)}return this.bypassAuthState||Gc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jx(r,e){const i=Px(e),a=Lx(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function Ux(r,e){Gc.set(r._key(),e)}function Lx(r){return Cs(r._redirectPersistence)}function Px(r){return qc(Vx,r.config.apiKey,r.name)}async function zx(r,e,i=!1){if(ai(r.app))return Promise.reject(Ns(r));const a=iu(r),o=Nx(a,e),d=await new kx(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const Bx=600*1e3;class Hx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qx(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!gb(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(qi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Bx&&this.cachedEventUids.clear(),this.cachedEventUids.has(m_(e))}saveEventToCache(e){this.cachedEventUids.add(m_(e)),this.lastProcessedEventTime=Date.now()}}function m_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function gb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function qx(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gb(r);default:return!1}}async function Gx(r,e={}){return Cl(r,"GET","/v1/projects",e)}const Fx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qx=/^https?/;async function Kx(r){if(r.config.emulator)return;const{authorizedDomains:e}=await Gx(r);for(const i of e)try{if(Yx(i))return}catch{}Ds(r,"unauthorized-domain")}function Yx(r){const e=lm(),{protocol:i,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Qx.test(i))return!1;if(Fx.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const Xx=new tu(3e4,6e4);function g_(){const r=Gi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function $x(r){return new Promise((e,i)=>{function a(){g_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{g_(),i(qi(r,"network-request-failed"))},timeout:Xx.get()})}if(Gi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Gi().gapi?.load)a();else{const o=ZA("iframefcb");return Gi()[o]=()=>{gapi.load?a():i(qi(r,"network-request-failed"))},$A(`${WA()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Fc=null,e})}let Fc=null;function Wx(r){return Fc=Fc||$x(r),Fc}const Zx=new tu(5e3,15e3),Jx="__/auth/iframe",ew="emulator/auth/iframe",tw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iw(r){const e=r.config;Te(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?Mm(e,ew):`https://${r.config.authDomain}/${Jx}`,a={apiKey:e.apiKey,appName:r.name,v:Rl},o=nw.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${eu(a).slice(1)}`}async function sw(r){const e=await Wx(r),i=Gi().gapi;return Te(i,r,"internal-error"),e.open({where:document.body,url:iw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tw,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=qi(r,"network-request-failed"),p=Gi().setTimeout(()=>{c(d)},Zx.get());function y(){Gi().clearTimeout(p),o(a)}a.ping(y).then(y,()=>{c(d)})}))}const rw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aw=500,lw=600,ow="_blank",uw="http://localhost";class p_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cw(r,e,i,a=aw,o=lw){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...rw,width:a.toString(),height:o.toString(),top:c,left:d},_=En().toLowerCase();i&&(p=Xv(_)?ow:i),Kv(_)&&(e=e||uw,y.scrollbars="yes");const E=Object.entries(y).reduce((M,[F,J])=>`${M}${F}=${J},`,"");if(HA(_)&&p!=="_self")return hw(e||"",p),new p_(null);const A=window.open(e||"",p,E);Te(A,r,"popup-blocked");try{A.focus()}catch{}return new p_(A)}function hw(r,e){const i=document.createElement("a");i.href=r,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const fw="__/auth/handler",dw="emulator/auth/handler",mw=encodeURIComponent("fac");async function y_(r,e,i,a,o,c){Te(r.config.authDomain,r,"auth-domain-config-required"),Te(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:Rl,eventId:o};if(e instanceof sb){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",hS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))d[E]=A}if(e instanceof su){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(d.scopes=E.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const y=await r._getAppCheckToken(),_=y?`#${mw}=${encodeURIComponent(y)}`:"";return`${gw(r)}?${eu(p).slice(1)}${_}`}function gw({config:r}){return r.emulator?Mm(r,dw):`https://${r.authDomain}/${fw}`}const Xd="webStorageSupport";class pw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ub,this._completeRedirectFn=zx,this._overrideRedirectResult=Ux}async _openPopup(e,i,a,o){Os(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await y_(e,i,a,lm(),o);return cw(e,c,Lm())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await y_(e,i,a,lm(),o);return vx(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Os(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await sw(e),a=new Hx(e);return i.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Xd,{type:Xd},o=>{const c=o?.[0]?.[Xd];c!==void 0&&i(!!c),Ds(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Kx(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return eb()||Yv()||jm()}}const yw=pw;var __="@firebase/auth",v_="1.11.1";class _w{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function vw(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bw(r){yl(new fa("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;Te(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tb(r)},_=new YA(a,o,c,y);return ex(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),yl(new fa("auth-internal",e=>{const i=iu(e.getProvider("auth").getImmediate());return(a=>new _w(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Sr(__,v_,vw(r)),Sr(__,v_,"esm2020")}const Ew=300,Tw=Iv("authIdTokenMaxAge")||Ew;let b_=null;const Sw=r=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>Tw)return;const o=i?.token;b_!==o&&(b_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Aw(r=jv()){const e=Dm(r,"auth");if(e.isInitialized())return e.getImmediate();const i=JA(r,{popupRedirectResolver:yw,persistence:[Cx,px,ub]}),a=Iv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Sw(c.toString());fx(i,d,()=>d(i.currentUser)),hx(i,p=>d(p))}}const o=Cv("auth");return o&&tx(i,`http://${o}`),i}function xw(){return document.getElementsByTagName("head")?.[0]??document}XA({loadJS(r){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const c=qi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",xw().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bw("Browser");var E_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ar,pb;(function(){var r;function e(N,x){function C(){}C.prototype=x.prototype,N.F=x.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(V,I,k){for(var w=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)w[ot-2]=arguments[ot];return x.prototype[I].apply(V,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,x,C){C||(C=0);const V=Array(16);if(typeof x=="string")for(var I=0;I<16;++I)V[I]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(I=0;I<16;++I)V[I]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=N.g[0],C=N.g[1],I=N.g[2];let k=N.g[3],w;w=x+(k^C&(I^k))+V[0]+3614090360&4294967295,x=C+(w<<7&4294967295|w>>>25),w=k+(I^x&(C^I))+V[1]+3905402710&4294967295,k=x+(w<<12&4294967295|w>>>20),w=I+(C^k&(x^C))+V[2]+606105819&4294967295,I=k+(w<<17&4294967295|w>>>15),w=C+(x^I&(k^x))+V[3]+3250441966&4294967295,C=I+(w<<22&4294967295|w>>>10),w=x+(k^C&(I^k))+V[4]+4118548399&4294967295,x=C+(w<<7&4294967295|w>>>25),w=k+(I^x&(C^I))+V[5]+1200080426&4294967295,k=x+(w<<12&4294967295|w>>>20),w=I+(C^k&(x^C))+V[6]+2821735955&4294967295,I=k+(w<<17&4294967295|w>>>15),w=C+(x^I&(k^x))+V[7]+4249261313&4294967295,C=I+(w<<22&4294967295|w>>>10),w=x+(k^C&(I^k))+V[8]+1770035416&4294967295,x=C+(w<<7&4294967295|w>>>25),w=k+(I^x&(C^I))+V[9]+2336552879&4294967295,k=x+(w<<12&4294967295|w>>>20),w=I+(C^k&(x^C))+V[10]+4294925233&4294967295,I=k+(w<<17&4294967295|w>>>15),w=C+(x^I&(k^x))+V[11]+2304563134&4294967295,C=I+(w<<22&4294967295|w>>>10),w=x+(k^C&(I^k))+V[12]+1804603682&4294967295,x=C+(w<<7&4294967295|w>>>25),w=k+(I^x&(C^I))+V[13]+4254626195&4294967295,k=x+(w<<12&4294967295|w>>>20),w=I+(C^k&(x^C))+V[14]+2792965006&4294967295,I=k+(w<<17&4294967295|w>>>15),w=C+(x^I&(k^x))+V[15]+1236535329&4294967295,C=I+(w<<22&4294967295|w>>>10),w=x+(I^k&(C^I))+V[1]+4129170786&4294967295,x=C+(w<<5&4294967295|w>>>27),w=k+(C^I&(x^C))+V[6]+3225465664&4294967295,k=x+(w<<9&4294967295|w>>>23),w=I+(x^C&(k^x))+V[11]+643717713&4294967295,I=k+(w<<14&4294967295|w>>>18),w=C+(k^x&(I^k))+V[0]+3921069994&4294967295,C=I+(w<<20&4294967295|w>>>12),w=x+(I^k&(C^I))+V[5]+3593408605&4294967295,x=C+(w<<5&4294967295|w>>>27),w=k+(C^I&(x^C))+V[10]+38016083&4294967295,k=x+(w<<9&4294967295|w>>>23),w=I+(x^C&(k^x))+V[15]+3634488961&4294967295,I=k+(w<<14&4294967295|w>>>18),w=C+(k^x&(I^k))+V[4]+3889429448&4294967295,C=I+(w<<20&4294967295|w>>>12),w=x+(I^k&(C^I))+V[9]+568446438&4294967295,x=C+(w<<5&4294967295|w>>>27),w=k+(C^I&(x^C))+V[14]+3275163606&4294967295,k=x+(w<<9&4294967295|w>>>23),w=I+(x^C&(k^x))+V[3]+4107603335&4294967295,I=k+(w<<14&4294967295|w>>>18),w=C+(k^x&(I^k))+V[8]+1163531501&4294967295,C=I+(w<<20&4294967295|w>>>12),w=x+(I^k&(C^I))+V[13]+2850285829&4294967295,x=C+(w<<5&4294967295|w>>>27),w=k+(C^I&(x^C))+V[2]+4243563512&4294967295,k=x+(w<<9&4294967295|w>>>23),w=I+(x^C&(k^x))+V[7]+1735328473&4294967295,I=k+(w<<14&4294967295|w>>>18),w=C+(k^x&(I^k))+V[12]+2368359562&4294967295,C=I+(w<<20&4294967295|w>>>12),w=x+(C^I^k)+V[5]+4294588738&4294967295,x=C+(w<<4&4294967295|w>>>28),w=k+(x^C^I)+V[8]+2272392833&4294967295,k=x+(w<<11&4294967295|w>>>21),w=I+(k^x^C)+V[11]+1839030562&4294967295,I=k+(w<<16&4294967295|w>>>16),w=C+(I^k^x)+V[14]+4259657740&4294967295,C=I+(w<<23&4294967295|w>>>9),w=x+(C^I^k)+V[1]+2763975236&4294967295,x=C+(w<<4&4294967295|w>>>28),w=k+(x^C^I)+V[4]+1272893353&4294967295,k=x+(w<<11&4294967295|w>>>21),w=I+(k^x^C)+V[7]+4139469664&4294967295,I=k+(w<<16&4294967295|w>>>16),w=C+(I^k^x)+V[10]+3200236656&4294967295,C=I+(w<<23&4294967295|w>>>9),w=x+(C^I^k)+V[13]+681279174&4294967295,x=C+(w<<4&4294967295|w>>>28),w=k+(x^C^I)+V[0]+3936430074&4294967295,k=x+(w<<11&4294967295|w>>>21),w=I+(k^x^C)+V[3]+3572445317&4294967295,I=k+(w<<16&4294967295|w>>>16),w=C+(I^k^x)+V[6]+76029189&4294967295,C=I+(w<<23&4294967295|w>>>9),w=x+(C^I^k)+V[9]+3654602809&4294967295,x=C+(w<<4&4294967295|w>>>28),w=k+(x^C^I)+V[12]+3873151461&4294967295,k=x+(w<<11&4294967295|w>>>21),w=I+(k^x^C)+V[15]+530742520&4294967295,I=k+(w<<16&4294967295|w>>>16),w=C+(I^k^x)+V[2]+3299628645&4294967295,C=I+(w<<23&4294967295|w>>>9),w=x+(I^(C|~k))+V[0]+4096336452&4294967295,x=C+(w<<6&4294967295|w>>>26),w=k+(C^(x|~I))+V[7]+1126891415&4294967295,k=x+(w<<10&4294967295|w>>>22),w=I+(x^(k|~C))+V[14]+2878612391&4294967295,I=k+(w<<15&4294967295|w>>>17),w=C+(k^(I|~x))+V[5]+4237533241&4294967295,C=I+(w<<21&4294967295|w>>>11),w=x+(I^(C|~k))+V[12]+1700485571&4294967295,x=C+(w<<6&4294967295|w>>>26),w=k+(C^(x|~I))+V[3]+2399980690&4294967295,k=x+(w<<10&4294967295|w>>>22),w=I+(x^(k|~C))+V[10]+4293915773&4294967295,I=k+(w<<15&4294967295|w>>>17),w=C+(k^(I|~x))+V[1]+2240044497&4294967295,C=I+(w<<21&4294967295|w>>>11),w=x+(I^(C|~k))+V[8]+1873313359&4294967295,x=C+(w<<6&4294967295|w>>>26),w=k+(C^(x|~I))+V[15]+4264355552&4294967295,k=x+(w<<10&4294967295|w>>>22),w=I+(x^(k|~C))+V[6]+2734768916&4294967295,I=k+(w<<15&4294967295|w>>>17),w=C+(k^(I|~x))+V[13]+1309151649&4294967295,C=I+(w<<21&4294967295|w>>>11),w=x+(I^(C|~k))+V[4]+4149444226&4294967295,x=C+(w<<6&4294967295|w>>>26),w=k+(C^(x|~I))+V[11]+3174756917&4294967295,k=x+(w<<10&4294967295|w>>>22),w=I+(x^(k|~C))+V[2]+718787259&4294967295,I=k+(w<<15&4294967295|w>>>17),w=C+(k^(I|~x))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+x&4294967295,N.g[1]=N.g[1]+(I+(w<<21&4294967295|w>>>11))&4294967295,N.g[2]=N.g[2]+I&4294967295,N.g[3]=N.g[3]+k&4294967295}a.prototype.v=function(N,x){x===void 0&&(x=N.length);const C=x-this.blockSize,V=this.C;let I=this.h,k=0;for(;k<x;){if(I==0)for(;k<=C;)o(this,N,k),k+=this.blockSize;if(typeof N=="string"){for(;k<x;)if(V[I++]=N.charCodeAt(k++),I==this.blockSize){o(this,V),I=0;break}}else for(;k<x;)if(V[I++]=N[k++],I==this.blockSize){o(this,V),I=0;break}}this.h=I,this.o+=x},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var x=1;x<N.length-8;++x)N[x]=0;x=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=x&255,x/=256;for(this.v(N),N=Array(16),x=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)N[x++]=this.g[C]>>>V&255;return N};function c(N,x){var C=p;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=x(N)}function d(N,x){this.h=x;const C=[];let V=!0;for(let I=N.length-1;I>=0;I--){const k=N[I]|0;V&&k==x||(C[I]=k,V=!1)}this.g=C}var p={};function y(N){return-128<=N&&N<128?c(N,function(x){return new d([x|0],x<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return A;if(N<0)return ee(_(-N));const x=[];let C=1;for(let V=0;N>=C;V++)x[V]=N/C|0,C*=4294967296;return new d(x,0)}function E(N,x){if(N.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(N.charAt(0)=="-")return ee(E(N.substring(1),x));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(x,8));let V=A;for(let k=0;k<N.length;k+=8){var I=Math.min(8,N.length-k);const w=parseInt(N.substring(k,k+I),x);I<8?(I=_(Math.pow(x,I)),V=V.j(I).add(_(w))):(V=V.j(C),V=V.add(_(w)))}return V}var A=y(0),M=y(1),F=y(16777216);r=d.prototype,r.m=function(){if(ne(this))return-ee(this).m();let N=0,x=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);N+=(V>=0?V:4294967296+V)*x,x*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(J(this))return"0";if(ne(this))return"-"+ee(this).toString(N);const x=_(Math.pow(N,6));var C=this;let V="";for(;;){const I=ge(C,x).g;C=ve(C,I.j(x));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=I,J(C))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function J(N){if(N.h!=0)return!1;for(let x=0;x<N.g.length;x++)if(N.g[x]!=0)return!1;return!0}function ne(N){return N.h==-1}r.l=function(N){return N=ve(this,N),ne(N)?-1:J(N)?0:1};function ee(N){const x=N.g.length,C=[];for(let V=0;V<x;V++)C[V]=~N.g[V];return new d(C,~N.h).add(M)}r.abs=function(){return ne(this)?ee(this):this},r.add=function(N){const x=Math.max(this.g.length,N.g.length),C=[];let V=0;for(let I=0;I<=x;I++){let k=V+(this.i(I)&65535)+(N.i(I)&65535),w=(k>>>16)+(this.i(I)>>>16)+(N.i(I)>>>16);V=w>>>16,k&=65535,w&=65535,C[I]=w<<16|k}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ve(N,x){return N.add(ee(x))}r.j=function(N){if(J(this)||J(N))return A;if(ne(this))return ne(N)?ee(this).j(ee(N)):ee(ee(this).j(N));if(ne(N))return ee(this.j(ee(N)));if(this.l(F)<0&&N.l(F)<0)return _(this.m()*N.m());const x=this.g.length+N.g.length,C=[];for(var V=0;V<2*x;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let I=0;I<N.g.length;I++){const k=this.i(V)>>>16,w=this.i(V)&65535,ot=N.i(I)>>>16,ut=N.i(I)&65535;C[2*V+2*I]+=w*ut,Re(C,2*V+2*I),C[2*V+2*I+1]+=k*ut,Re(C,2*V+2*I+1),C[2*V+2*I+1]+=w*ot,Re(C,2*V+2*I+1),C[2*V+2*I+2]+=k*ot,Re(C,2*V+2*I+2)}for(N=0;N<x;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=x;N<2*x;N++)C[N]=0;return new d(C,0)};function Re(N,x){for(;(N[x]&65535)!=N[x];)N[x+1]+=N[x]>>>16,N[x]&=65535,x++}function Ee(N,x){this.g=N,this.h=x}function ge(N,x){if(J(x))throw Error("division by zero");if(J(N))return new Ee(A,A);if(ne(N))return x=ge(ee(N),x),new Ee(ee(x.g),ee(x.h));if(ne(x))return x=ge(N,ee(x)),new Ee(ee(x.g),x.h);if(N.g.length>30){if(ne(N)||ne(x))throw Error("slowDivide_ only works with positive integers.");for(var C=M,V=x;V.l(N)<=0;)C=Xe(C),V=Xe(V);var I=Be(C,1),k=Be(V,1);for(V=Be(V,2),C=Be(C,2);!J(V);){var w=k.add(V);w.l(N)<=0&&(I=I.add(C),k=w),V=Be(V,1),C=Be(C,1)}return x=ve(N,I.j(x)),new Ee(I,x)}for(I=A;N.l(x)>=0;){for(C=Math.max(1,Math.floor(N.m()/x.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=_(C),w=k.j(x);ne(w)||w.l(N)>0;)C-=V,k=_(C),w=k.j(x);J(k)&&(k=M),I=I.add(k),N=ve(N,w)}return new Ee(I,N)}r.B=function(N){return ge(this,N).h},r.and=function(N){const x=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<x;V++)C[V]=this.i(V)&N.i(V);return new d(C,this.h&N.h)},r.or=function(N){const x=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<x;V++)C[V]=this.i(V)|N.i(V);return new d(C,this.h|N.h)},r.xor=function(N){const x=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<x;V++)C[V]=this.i(V)^N.i(V);return new d(C,this.h^N.h)};function Xe(N){const x=N.g.length+1,C=[];for(let V=0;V<x;V++)C[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(C,N.h)}function Be(N,x){const C=x>>5;x%=32;const V=N.g.length-C,I=[];for(let k=0;k<V;k++)I[k]=x>0?N.i(k+C)>>>x|N.i(k+C+1)<<32-x:N.i(k+C);return new d(I,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,pb=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=E,Ar=d}).apply(typeof E_<"u"?E_:typeof self<"u"?self:typeof window<"u"?window:{});var kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var yb,Vo,_b,Qc,cm,vb,bb,Eb;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof kc=="object"&&kc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var v=a;u=u.split(".");for(var S=0;S<u.length-1;S++){var U=u[S];if(!(U in v))break e;v=v[U]}u=u[u.length-1],S=v[u],m=m(S),m!=S&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&v.push([S,m[S]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function E(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(S,U,B){for(var te=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)te[Ne-2]=arguments[Ne];return m.prototype[U].apply(S,te)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let S=0;S<m;S++)v[S]=u[S];return v}return[]}function J(u,m){for(let S=1;S<arguments.length;S++){const U=arguments[S];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const B=U.length||0;u.length=v+B;for(let te=0;te<B;te++)u[v+te]=U[te]}else u.push(U)}}class ne{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ee(u){d.setTimeout(()=>{throw u},0)}function ve(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Re{constructor(){this.h=this.g=null}add(m,v){const S=Ee.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var Ee=new ne(()=>new ge,u=>u.reset());class ge{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Xe,Be=!1,N=new Re,x=()=>{const u=Promise.resolve(void 0);Xe=()=>{u.then(C)}};function C(){for(var u;u=ve();){try{u.h.call(u.g)}catch(v){ee(v)}var m=Ee;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Be=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ot(u,m){I.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(ot,I),ot.prototype.init=function(u,m){const v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ot.Z.h.call(this)},ot.prototype.h=function(){ot.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ut="closure_listenable_"+(Math.random()*1e6|0),q=0;function se(u,m,v,S,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=U,this.key=++q,this.da=this.fa=!1}function ce(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Me(u,m,v){for(const S in u)m.call(v,u[S],S,u)}function Fe(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(u,m){let v,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(v in S)u[v]=S[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function le(u){this.src=u,this.g={},this.h=0}le.prototype.add=function(u,m,v,S,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const te=Ce(u,m,S,U);return te>-1?(m=u[te],v||(m.fa=!1)):(m=new se(m,this.src,B,!!S,U),m.fa=v,u.push(m)),m};function pe(u,m){const v=m.type;if(v in u.g){var S=u.g[v],U=Array.prototype.indexOf.call(S,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(S,U,1),B&&(ce(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ce(u,m,v,S){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==S)return U}return-1}var Oe="closure_lm_"+(Math.random()*1e6|0),Dt={};function ct(u,m,v,S,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ct(u,m[B],v,S,U);return null}return v=jr(v),u&&u[ut]?u.J(m,v,p(S)?!!S.capture:!1,U):Ji(u,m,v,!1,S,U)}function Ji(u,m,v,S,U,B){if(!m)throw Error("Invalid event type");const te=p(U)?!!U.capture:!!U;let Ne=ns(u);if(Ne||(u[Oe]=Ne=new le(u)),v=Ne.add(m,v,S,te,B),v.proxy)return v;if(S=Us(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)k||(U=te),U===void 0&&(U=!1),u.addEventListener(m.toString(),S,U);else if(u.attachEvent)u.attachEvent(Qn(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Us(){function u(v){return m.call(u.src,u.listener,v)}const m=ts;return u}function es(u,m,v,S,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)es(u,m[B],v,S,U);else S=p(S)?!!S.capture:!!S,v=jr(v),u&&u[ut]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Ce(m,v,S,U),v>-1&&(ce(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=ns(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ce(m,v,S,U)),(v=u>-1?m[u]:null)&&Ei(v))}function Ei(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ut])pe(m.i,u);else{var v=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(v,S,u.capture):m.detachEvent?m.detachEvent(Qn(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=ns(m))?(pe(v,u),v.h==0&&(v.src=null,m[Oe]=null)):ce(u)}}}function Qn(u){return u in Dt?Dt[u]:Dt[u]="on"+u}function ts(u,m){if(u.da)u=!0;else{m=new ot(m,this);const v=u.listener,S=u.ha||u.src;u.fa&&Ei(u),u=v.call(S,m)}return u}function ns(u){return u=u[Oe],u instanceof le?u:null}var kr="__closure_events_fn_"+(Math.random()*1e9>>>0);function jr(u){return typeof u=="function"?u:(u[kr]||(u[kr]=function(m){return u.handleEvent(m)}),u[kr])}function wt(){V.call(this),this.i=new le(this),this.M=this,this.G=null}A(wt,V),wt.prototype[ut]=!0,wt.prototype.removeEventListener=function(u,m,v,S){es(this,u,m,v,S)};function Ot(u,m){var v,S=u.G;if(S)for(v=[];S;S=S.G)v.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new I(m,u);else if(m instanceof I)m.target=m.target||u;else{var U=m;m=new I(S,u),ie(m,U)}U=!0;let B,te;if(v)for(te=v.length-1;te>=0;te--)B=m.g=v[te],U=Ti(B,S,!0,m)&&U;if(B=m.g=u,U=Ti(B,S,!0,m)&&U,U=Ti(B,S,!1,m)&&U,v)for(te=0;te<v.length;te++)B=m.g=v[te],U=Ti(B,S,!1,m)&&U}wt.prototype.N=function(){if(wt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let S=0;S<v.length;S++)ce(v[S]);delete u.g[m],u.h--}}this.G=null},wt.prototype.J=function(u,m,v,S){return this.i.add(String(u),m,!1,v,S)},wt.prototype.K=function(u,m,v,S){return this.i.add(String(u),m,!0,v,S)};function Ti(u,m,v,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const te=m[B];if(te&&!te.da&&te.capture==v){const Ne=te.listener,Mt=te.ha||te.src;te.fa&&pe(u.i,te),U=Ne.call(Mt,S)!==!1&&U}}return U&&!S.defaultPrevented}function Ml(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function _a(u){u.g=Ml(()=>{u.g=null,u.i&&(u.i=!1,_a(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class rn extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:_a(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function is(u){V.call(this),this.h=u,this.g={}}A(is,V);var Ur=[];function ss(u){Me(u.g,function(m,v){this.g.hasOwnProperty(v)&&Ei(m)},u),u.g={}}is.prototype.N=function(){is.Z.N.call(this),ss(this)},is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Z=d.JSON.stringify,re=d.JSON.parse,ae=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function de(){}function Je(){}var ft={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function dt(){I.call(this,"d")}A(dt,I);function Rt(){I.call(this,"c")}A(Rt,I);var He={},gt=null;function gn(){return gt=gt||new wt}He.Ia="serverreachability";function Si(u){I.call(this,He.Ia,u)}A(Si,I);function Ut(u){const m=gn();Ot(m,new Si(m))}He.STAT_EVENT="statevent";function Kn(u,m){I.call(this,He.STAT_EVENT,u),this.stat=m}A(Kn,I);function Q(u){const m=gn();Ot(m,new Kn(m,u))}He.Ja="timingevent";function Se(u,m){I.call(this,He.Ja,u),this.size=m}A(Se,I);function Et(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function mt(){this.g=!0}mt.prototype.ua=function(){this.g=!1};function Ct(u,m,v,S,U,B){u.info(function(){if(u.g)if(B){var te="",Ne=B.split("&");for(let $e=0;$e<Ne.length;$e++){var Mt=Ne[$e].split("=");if(Mt.length>1){const vt=Mt[0];Mt=Mt[1];const Wn=vt.split("_");te=Wn.length>=2&&Wn[1]=="type"?te+(vt+"="+Mt+"&"):te+(vt+"=redacted&")}}}else te=null;else te=B;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+m+`
`+v+`
`+te})}function Ai(u,m,v,S,U,B,te){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+m+`
`+v+`
`+B+" "+te})}function Tt(u,m,v,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+et(u,v)+(S?" "+S:"")})}function rs(u,m){u.info(function(){return"TIMEOUT: "+m})}mt.prototype.info=function(){};function et(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var U=S[0];if(U!="noop"&&U!="stop"&&U!="close")for(let te=1;te<S.length;te++)S[te]=""}}}}return Z(B)}catch{return m}}var kn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},oi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},as;function ui(){}A(ui,de),ui.prototype.g=function(){return new XMLHttpRequest},as=new ui;function ls(u){return encodeURIComponent(String(u))}function fu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ci(u,m,v,S){this.j=u,this.i=m,this.l=v,this.S=S||1,this.V=new is(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new hi}function hi(){this.i=null,this.g="",this.h=!1}var Lt={},en={};function xi(u,m,v){u.M=1,u.A=Lr(zt(m)),u.u=v,u.R=!0,va(u,null)}function va(u,m){u.F=Date.now(),wi(u),u.B=zt(u.A);var v=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),Sa(v.i,"t",S),u.C=0,v=u.j.L,u.h=new hi,u.g=Ru(u.j,v?m:null,!u.u),u.P>0&&(u.O=new rn(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,S=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(Ur[0]=U.toString()),U=Ur);for(let B=0;B<U.length;B++){const te=ct(v,U[B],S||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Ut(),Ct(u.i,u.v,u.B,u.l,u.S,u.u)}ci.prototype.ba=function(u){u=u.target;const m=this.O;m&&mi(u)==3?m.j():this.Y(u)},ci.prototype.Y=function(u){try{if(u==this.g)e:{const Ne=mi(this.g),Mt=this.g.ya(),$e=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||an(this.g)))){this.K||Ne!=4||Mt==7||(Mt==8||$e<=0?Ut(3):Ut(2)),Ri(this);var m=this.g.ca();this.X=m;var v=Hh(this);if(this.o=m==200,Ai(this.i,this.v,this.B,this.l,this.S,Ne,m),this.o){if(this.U&&!this.L){t:{if(this.g){var S,U=this.g;if((S=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(S)){var B=S;break t}}B=null}if(u=B)Tt(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ci(this,u);else{this.o=!1,this.m=3,Q(12),jn(this),Yn(this);break e}}if(this.R){u=!0;let vt;for(;!this.K&&this.C<v.length;)if(vt=mu(this,v),vt==en){Ne==4&&(this.m=4,Q(14),u=!1),Tt(this.i,this.l,null,"[Incomplete Response]");break}else if(vt==Lt){this.m=4,Q(15),Tt(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Tt(this.i,this.l,vt,null),Ci(this,vt);if(du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||v.length!=0||this.h.h||(this.m=1,Q(16),u=!1),this.o=this.o&&u,!u)Tt(this.i,this.l,v,"[Invalid Chunked Response]"),jn(this),Yn(this);else if(v.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Yl(te),te.P=!0,Q(11))}}else Tt(this.i,this.l,v,null),Ci(this,v);Ne==4&&jn(this),this.o&&!this.K&&(Ne==4?Su(this.j,this):(this.o=!1,wi(this)))}else us(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Q(12)):(this.m=0,Q(13)),jn(this),Yn(this)}}}catch{}finally{}};function Hh(u){if(!du(u))return u.g.la();const m=an(u.g);if(m==="")return"";let v="";const S=m.length,U=mi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return jn(u),Yn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<S;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(U&&B==S-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function du(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function mu(u,m){var v=u.C,S=m.indexOf(`
`,v);return S==-1?en:(v=Number(m.substring(v,S)),isNaN(v)?Lt:(S+=1,S+v>m.length?en:(m=m.slice(S,S+v),u.C=S+v,m)))}ci.prototype.cancel=function(){this.K=!0,jn(this)};function wi(u){u.T=Date.now()+u.H,ba(u,u.H)}function ba(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Et(_(u.aa,u),m)}function Ri(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ci.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(rs(this.i,this.B),this.M!=2&&(Ut(),Q(17)),jn(this),this.m=2,Yn(this)):ba(this,this.T-u)};function Yn(u){u.j.I==0||u.K||Su(u.j,u)}function jn(u){Ri(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,ss(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ci(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ii(v.h,u))){if(!u.L&&Ii(v.h,u)&&v.I==3){try{var S=v.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ca(v),Fs(v);else break e;Fr(v),Q(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Et(_(v.Va,v),6e3));Ni(v.h)<=1&&v.ta&&(v.ta=void 0)}else ji(v,11)}else if((u.L||v.g==u)&&Ca(v),!w(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let $e=U[m];const vt=$e[0];if(!(vt<=v.K))if(v.K=vt,$e=$e[1],v.I==2)if($e[0]=="c"){v.M=$e[1],v.ba=$e[2];const Wn=$e[3];Wn!=null&&(v.ka=Wn,v.j.info("VER="+v.ka));const Ui=$e[4];Ui!=null&&(v.za=Ui,v.j.info("SVER="+v.za));const gi=$e[5];gi!=null&&typeof gi=="number"&&gi>0&&(S=1.5*gi,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const pi=u.g;if(pi){const Qr=pi.g?pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qr){var B=S.h;B.g||Qr.indexOf("spdy")==-1&&Qr.indexOf("quic")==-1&&Qr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(jl(B,B.h),B.h=null))}if(S.G){const Na=pi.g?pi.g.getResponseHeader("X-HTTP-Session-Id"):null;Na&&(S.wa=Na,tt(S.J,S.G,Na))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var te=u;if(S.na=wu(S,S.L?S.ba:null,S.W),te.L){Ul(S.h,te);var Ne=te,Mt=S.O;Mt&&(Ne.H=Mt),Ne.D&&(Ri(Ne),wi(Ne)),S.g=te}else Eu(S);v.i.length>0&&ki(v)}else $e[0]!="stop"&&$e[0]!="close"||ji(v,7);else v.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?ji(v,7):Ql(v):$e[0]!="noop"&&v.l&&v.l.qa($e),v.A=0)}}Ut(4)}catch{}}var Pt=class{constructor(u,m){this.g=u,this.map=m}};function Vl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function kl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ni(u){return u.h?1:u.g?u.g.size:0}function Ii(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function jl(u,m){u.g?u.g.add(m):u.h=m}function Ul(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Vl.prototype.cancel=function(){if(this.i=Ll(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ll(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var gu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ea(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const S=u[v].indexOf("=");let U,B=null;S>=0?(U=u[v].substring(0,S),B=u[v].substring(S+1)):U=u[v],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Un(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Un?(this.l=u.l,tn(this,u.j),this.o=u.o,this.g=u.g,Ls(this,u.u),this.h=u.h,Pl(this,vu(u.i)),this.m=u.m):u&&(m=String(u).match(gu))?(this.l=!1,tn(this,m[1]||"",!0),this.o=Di(m[2]||""),this.g=Di(m[3]||"",!0),Ls(this,m[4]),this.h=Di(m[5]||"",!0),Pl(this,m[6]||"",!0),this.m=Di(m[7]||"")):(this.l=!1,this.i=new zs(null,this.l))}Un.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Pr(m,Ta,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Pr(m,Ta,!0),"@"),u.push(ls(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Pr(v,v.charAt(0)=="/"?zl:pu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Pr(v,yu)),u.join("")},Un.prototype.resolve=function(u){const m=zt(this);let v=!!u.j;v?tn(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var S=u.h;if(v)Ls(m,u.u);else if(v=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var U=m.h.lastIndexOf("/");U!=-1&&(S=m.h.slice(0,U+1)+S)}if(U=S,U==".."||U==".")S="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){S=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let te=0;te<U.length;){const Ne=U[te++];Ne=="."?S&&te==U.length&&B.push(""):Ne==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),S&&te==U.length&&B.push("")):(B.push(Ne),S=!0)}S=B.join("/")}else S=U}return v?m.h=S:v=u.i.toString()!=="",v?Pl(m,vu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function zt(u){return new Un(u)}function tn(u,m,v){u.j=v?Di(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ls(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Pl(u,m,v){m instanceof zs?(u.i=m,Aa(u.i,u.l)):(v||(m=Pr(m,Ps)),u.i=new zs(m,u.l))}function tt(u,m,v){u.i.set(m,v)}function Lr(u){return tt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Di(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Pr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,xn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function xn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ta=/[#\/\?@]/g,pu=/[#\?:]/g,zl=/[#\?]/g,Ps=/[#\?@]/g,yu=/#/g;function zs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function wn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ea(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=zs.prototype,r.add=function(u,m){wn(this),this.i=null,u=Bs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function _u(u,m){wn(u),m=Bs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Bl(u,m){return wn(u),m=Bs(u,m),u.g.has(m)}r.forEach=function(u,m){wn(this),this.g.forEach(function(v,S){v.forEach(function(U){u.call(m,U,S,this)},this)},this)};function Hl(u,m){wn(u);let v=[];if(typeof m=="string")Bl(u,m)&&(v=v.concat(u.g.get(Bs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return wn(this),this.i=null,u=Bs(this,u),Bl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Hl(this,u),u.length>0?String(u[0]):m):m};function Sa(u,m,v){_u(u,m),v.length>0&&(u.i=null,u.g.set(Bs(u,m),F(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var v=m[S];const U=ls(v);v=Hl(this,v);for(let B=0;B<v.length;B++){let te=U;v[B]!==""&&(te+="="+ls(v[B])),u.push(te)}}return this.i=u.join("&")};function vu(u){const m=new zs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Bs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Aa(u,m){m&&!u.j&&(wn(u),u.i=null,u.g.forEach(function(v,S){const U=S.toLowerCase();S!=U&&(_u(this,S),Sa(this,U,v))},u)),u.j=m}function fi(u,m){const v=new mt;if(d.Image){const S=new Image;S.onload=E(Xn,v,"TestLoadImage: loaded",!0,m,S),S.onerror=E(Xn,v,"TestLoadImage: error",!1,m,S),S.onabort=E(Xn,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=E(Xn,v,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function ql(u,m){const v=new mt,S=new AbortController,U=setTimeout(()=>{S.abort(),Xn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(B=>{clearTimeout(U),B.ok?Xn(v,"TestPingServer: ok",!0,m):Xn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Xn(v,"TestPingServer: error",!1,m)})}function Xn(u,m,v,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(v)}catch{}}function Hs(){this.g=new ae}function Oi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Oi,de),Oi.prototype.g=function(){return new zr(this.i,this.h)};function zr(u,m){wt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(zr,wt),r=zr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,di(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,qs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function xa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?qs(this):di(this),this.readyState==3&&xa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,qs(this))},r.Na=function(u){this.g&&(this.response=u,qs(this))},r.ga=function(){this.g&&qs(this)};function qs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,di(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function di(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(zr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function $n(u){let m="";return Me(u,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function Br(u,m,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=$n(v),typeof u=="string"?v!=null&&ls(v):tt(u,m,v))}function st(u){wt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(st,wt);var Mi=/^https?$/i,Gl=["POST","PUT"];r=st.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():as.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Hr(this,B);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)v.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const B of S.keys())v.set(B,S.get(B));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Gl,m,void 0)>=0)||S||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,te]of v)this.g.setRequestHeader(B,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Hr(this,B)}};function Hr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Fl(u),os(u)}function Fl(u){u.A||(u.A=!0,Ot(u,"complete"),Ot(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ot(this,"complete"),Ot(this,"abort"),os(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),os(this,!0)),st.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?qr(this):this.Xa())},r.Xa=function(){qr(this)};function qr(u){if(u.h&&typeof c<"u"){if(u.v&&mi(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ot(u,"readystatechange"),mi(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var S;if(S=B===0){let te=String(u.D).match(gu)[1]||null;!te&&d.self&&d.self.location&&(te=d.self.location.protocol.slice(0,-1)),S=!Mi.test(te?te.toLowerCase():"")}v=S}if(v)Ot(u,"complete"),Ot(u,"success");else{u.o=6;try{var U=mi(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Fl(u)}}finally{os(u)}}}}function os(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ot(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function mi(u){return u.g?u.g.readyState:0}r.ca=function(){try{return mi(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),re(m)}};function an(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function us(u){const m={};u=(u.g&&mi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(w(u[S]))continue;var v=fu(u[S]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[U]||[];m[U]=B,B.push(v)}Fe(m,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Gs(u){this.za=0,this.i=[],this.j=new mt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vi("baseRetryDelayMs",5e3,u),this.Za=Vi("retryDelaySeedMs",1e4,u),this.Ta=Vi("forwardChannelMaxRetries",2,u),this.va=Vi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Vl(u&&u.concurrentRequestLimit),this.Ba=new Hs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Gs.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,S){Q(0),this.W=u,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=wu(this,null,this.W),ki(this)};function Ql(u){if(wa(u),u.I==3){var m=u.V++,v=zt(u.J);if(tt(v,"SID",u.M),tt(v,"RID",m),tt(v,"TYPE","terminate"),Gr(u,v),m=new ci(u,u.j,m),m.M=2,m.A=Lr(zt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Ru(m.j,null),m.g.ea(m.A)),m.F=Date.now(),wi(m)}xu(u)}function Fs(u){u.g&&(Yl(u),u.g.cancel(),u.g=null)}function wa(u){Fs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ca(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function ki(u){if(!kl(u.h)&&!u.m){u.m=!0;var m=u.Ea;Xe||x(),Be||(Xe(),Be=!0),N.add(m,u),u.D=0}}function Ra(u,m){return Ni(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Et(_(u.Ea,u,m),Au(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new ci(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),ie(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=bu(this,U,m),v=zt(this.J),tt(v,"RID",u),tt(v,"CVER",22),this.G&&tt(v,"X-HTTP-Session-Id",this.G),Gr(this,v),B&&(this.R?m="headers="+ls($n(B))+"&"+m:this.u&&Br(v,this.u,B)),jl(this.h,U),this.Ra&&tt(v,"TYPE","init"),this.S?(tt(v,"$req",m),tt(v,"SID","null"),U.U=!0,xi(U,v,null)):xi(U,v,m),this.I=2}}else this.I==3&&(u?Kl(this,u):this.i.length==0||kl(this.h)||Kl(this))};function Kl(u,m){var v;m?v=m.l:v=u.V++;const S=zt(u.J);tt(S,"SID",u.M),tt(S,"RID",v),tt(S,"AID",u.K),Gr(u,S),u.u&&u.o&&Br(S,u.u,u.o),v=new ci(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=bu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),jl(u.h,v),xi(v,S,m)}function Gr(u,m){u.H&&Me(u.H,function(v,S){tt(m,S,v)}),u.l&&Me({},function(v,S){tt(m,S,v)})}function bu(u,m,v){v=Math.min(u.i.length,v);const S=u.l?_(u.l.Ka,u.l,u):null;e:{var U=u.i;let Ne=-1;for(;;){const Mt=["count="+v];Ne==-1?v>0?(Ne=U[0].g,Mt.push("ofs="+Ne)):Ne=0:Mt.push("ofs="+Ne);let $e=!0;for(let vt=0;vt<v;vt++){var B=U[vt].g;const Wn=U[vt].map;if(B-=Ne,B<0)Ne=Math.max(0,U[vt].g-100),$e=!1;else try{B="req"+B+"_"||"";try{var te=Wn instanceof Map?Wn:Object.entries(Wn);for(const[Ui,gi]of te){let pi=gi;p(gi)&&(pi=Z(gi)),Mt.push(B+Ui+"="+encodeURIComponent(pi))}}catch(Ui){throw Mt.push(B+"type="+encodeURIComponent("_badmap")),Ui}}catch{S&&S(Wn)}}if($e){te=Mt.join("&");break e}}te=void 0}return u=u.i.splice(0,v),m.G=u,te}function Eu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Xe||x(),Be||(Xe(),Be=!0),N.add(m,u),u.A=0}}function Fr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Et(_(u.Da,u),Au(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Tu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Et(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Q(10),Fs(this),Tu(this))};function Yl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Tu(u){u.g=new ci(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=zt(u.na);tt(m,"RID","rpc"),tt(m,"SID",u.M),tt(m,"AID",u.K),tt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&tt(m,"TO",u.ia),tt(m,"TYPE","xmlhttp"),Gr(u,m),u.u&&u.o&&Br(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Lr(zt(m)),v.u=null,v.R=!0,va(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Fs(this),Fr(this),Q(19))};function Ca(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Su(u,m){var v=null;if(u.g==m){Ca(u),Yl(u),u.g=null;var S=2}else if(Ii(u.h,m))v=m.G,Ul(u.h,m),S=1;else return;if(u.I!=0){if(m.o)if(S==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;S=gn(),Ot(S,new Se(S,v)),ki(u)}else Eu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(S==1&&Ra(u,m)||S==2&&Fr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:ji(u,5);break;case 4:ji(u,10);break;case 3:ji(u,6);break;default:ji(u,2)}}}function Au(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function ji(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),S=u.Ua;const U=!S;S=new Un(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||tn(S,"https"),Lr(S),U?fi(S.toString(),v):ql(S.toString(),v)}else Q(2);u.I=0,u.l&&u.l.pa(m),xu(u),wa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Q(2)):(this.j.info("Failed to ping google.com"),Q(1))};function xu(u){if(u.I=0,u.ja=[],u.l){const m=Ll(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function wu(u,m,v){var S=v instanceof Un?zt(v):new Un(v);if(S.g!="")m&&(S.g=m+"."+S.g),Ls(S,S.u);else{var U=d.location;S=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new Un(null);S&&tn(B,S),m&&(B.g=m),U&&Ls(B,U),v&&(B.h=v),S=B}return v=u.G,m=u.wa,v&&m&&tt(S,v,m),tt(S,"VER",u.ka),Gr(u,S),S}function Ru(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new st(new Oi({ab:v})):new st(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cu(){}r=Cu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Qs(){}Qs.prototype.g=function(u,m){return new Tn(u,m)};function Tn(u,m){wt.call(this),this.g=new Gs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new cs(this)}A(Tn,wt),Tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){Ql(this.g)},Tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Z(u),u=v);m.i.push(new Pt(m.Ya++,u)),m.I==3&&ki(m)},Tn.prototype.N=function(){this.g.l=null,delete this.j,Ql(this.g),delete this.g,Tn.Z.N.call(this)};function Nu(u){dt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Nu,dt);function Iu(){Rt.call(this),this.status=1}A(Iu,Rt);function cs(u){this.g=u}A(cs,Cu),cs.prototype.ra=function(){Ot(this.g,"a")},cs.prototype.qa=function(u){Ot(this.g,new Nu(u))},cs.prototype.pa=function(u){Ot(this.g,new Iu)},cs.prototype.oa=function(){Ot(this.g,"b")},Qs.prototype.createWebChannel=Qs.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,Eb=function(){return new Qs},bb=function(){return gn()},vb=He,cm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},kn.NO_ERROR=0,kn.TIMEOUT=8,kn.HTTP_ERROR=6,Qc=kn,oi.COMPLETE="complete",_b=oi,Je.EventType=ft,ft.OPEN="a",ft.CLOSE="b",ft.ERROR="c",ft.MESSAGE="d",wt.prototype.listen=wt.prototype.J,Vo=Je,st.prototype.listenOnce=st.prototype.K,st.prototype.getLastError=st.prototype.Ha,st.prototype.getLastErrorCode=st.prototype.ya,st.prototype.getStatus=st.prototype.ca,st.prototype.getResponseJson=st.prototype.La,st.prototype.getResponseText=st.prototype.la,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Fa,yb=st}).apply(typeof kc<"u"?kc:typeof self<"u"?self:typeof window<"u"?window:{});const T_="@firebase/firestore",S_="4.9.2";let vn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");let Nl="12.3.0";const ma=new Nm("@firebase/firestore");function ll(){return ma.logLevel}function oe(r,...e){if(ma.logLevel<=Le.DEBUG){const i=e.map(zm);ma.debug(`Firestore (${Nl}): ${r}`,...i)}}function Vs(r,...e){if(ma.logLevel<=Le.ERROR){const i=e.map(zm);ma.error(`Firestore (${Nl}): ${r}`,...i)}}function _l(r,...e){if(ma.logLevel<=Le.WARN){const i=e.map(zm);ma.warn(`Firestore (${Nl}): ${r}`,...i)}}function zm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function be(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,Tb(r,a,i)}function Tb(r,e,i){let a=`FIRESTORE (${Nl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Vs(a),new Error(a)}function Ze(r,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||Tb(e,o,a)}function we(r,e){return r}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends js{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class Sb{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ww{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(vn.UNAUTHENTICATED)))}shutdown(){}}class Rw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Cw{constructor(e){this.t=e,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ze(this.o===void 0,42304);let a=this.i;const o=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new xr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new xr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},p=y=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new xr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ze(typeof a.accessToken=="string",31837,{l:a}),new Sb(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new vn(e)}}class Nw{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Iw{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new Nw(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(vn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class A_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Dw{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ai(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ze(this.o===void 0,3512);const a=c=>{c.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,oe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new A_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ze(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new A_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ow(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Bm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=Ow(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function Pe(r,e){return r<e?-1:r>e?1:0}function hm(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const o=r.charAt(a),c=e.charAt(a);if(o!==c)return $d(o)===$d(c)?Pe(o,c):$d(o)?1:-1}return Pe(r.length,e.length)}const Mw=55296,Vw=57343;function $d(r){const e=r.charCodeAt(0);return e>=Mw&&e<=Vw}function vl(r,e,i){return r.length===e.length&&r.every(((a,o)=>i(a,e[o])))}const x_="__name__";class Hi{constructor(e,i,a){i===void 0?i=0:i>e.length&&be(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&be(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Hi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Hi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=Hi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Pe(e.length,i.length)}static compareSegments(e,i){const a=Hi.isNumericId(e),o=Hi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Hi.extractNumericId(e).compare(Hi.extractNumericId(i)):hm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ar.fromString(e.substring(4,e.length-2))}}class St extends Hi{construct(e,i,a){return new St(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new fe(W.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new St(i)}static emptyPath(){return new St([])}}const kw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends Hi{construct(e,i,a){return new dn(e,i,a)}static isValidIdentifier(e){return kw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===x_}static keyField(){return new dn([x_])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new fe(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new fe(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new fe(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(c(),o++)}if(c(),d)throw new fe(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(i)}static emptyPath(){return new dn([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(St.fromString(e))}static fromName(e){return new ye(St.fromString(e).popFirst(5))}static empty(){return new ye(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&St.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return St.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new St(e.slice()))}}function jw(r,e,i){if(!i)throw new fe(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Uw(r,e,i,a){if(e===!0&&a===!0)throw new fe(W.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function w_(r){if(!ye.isDocumentKey(r))throw new fe(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Ab(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Hm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":be(12329,{type:typeof r})}function Fi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new fe(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Hm(r);throw new fe(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Qt(r,e){const i={typeString:r};return e&&(i.value=e),i}function au(r,e){if(!Ab(r))throw new fe(W.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new fe(W.INVALID_ARGUMENT,i);return!0}const R_=-62135596800,C_=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*C_);return new _t(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new fe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new fe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<R_)throw new fe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/C_}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(au(e,_t._jsonSchema))return new _t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-R_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:Qt("string",_t._jsonSchemaVersion),seconds:Qt("number"),nanoseconds:Qt("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new _t(0,0))}static max(){return new Ae(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ko=-1;function Lw(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(a===1e9?new _t(i+1,0):new _t(i,a));return new Rr(o,ye.empty(),e)}function Pw(r){return new Rr(r.readTime,r.key,Ko)}class Rr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Rr(Ae.min(),ye.empty(),Ko)}static max(){return new Rr(Ae.max(),ye.empty(),Ko)}}function zw(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ye.comparator(r.documentKey,e.documentKey),i!==0?i:Pe(r.largestBatchId,e.largestBatchId))}const Bw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Hw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Il(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==Bw)throw r;oe("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,a)=>{i(e)}))}static reject(e){return new $(((i,a)=>{a(e)}))}static waitFor(e){return new $(((i,a)=>{let o=0,c=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(y=>a(y)))})),d=!0,c===o&&i()}))}static or(e){let i=$.resolve(!1);for(const a of e)i=i.next((o=>o?$.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new $(((a,o)=>{const c=e.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(e[_]).next((E=>{d[_]=E,++p,p===c&&a(d)}),(E=>o(E)))}}))}static doWhile(e,i){return new $(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function qw(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Dl(r){return r.name==="IndexedDbTransactionError"}class Ah{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ah.ce=-1;const qm=-1;function xh(r){return r==null}function uh(r){return r===0&&1/r==-1/0}function Gw(r){return typeof r=="number"&&Number.isInteger(r)&&!uh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const xb="";function Fw(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=N_(e)),e=Qw(r.get(i),e);return N_(e)}function Qw(r,e){let i=e;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case xb:i+="";break;default:i+=c}}return i}function N_(r){return r+xb+""}function I_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Mr(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function wb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class At{constructor(e,i){this.comparator=e,this.root=i||fn.EMPTY}insert(e,i){return new At(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jc(this.root,e,this.comparator,!1)}getReverseIterator(){return new jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jc(this.root,e,this.comparator,!0)}}class jc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??fn.RED,this.left=o??fn.EMPTY,this.right=c??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new fn(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return fn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new fn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jt{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new D_(this.data.getIterator())}getIteratorFrom(e){return new D_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Jt(this.comparator);return i.data=e,i}}class D_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Fn{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new Fn([])}unionWith(e){let i=new Jt(dn.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Fn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return vl(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class Rb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class mn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Rb("Invalid base64 string: "+c):c}})(e);return new mn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new mn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const Kw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cr(r){if(Ze(!!r,39018),typeof r=="string"){let e=0;const i=Kw.exec(r);if(Ze(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:jt(r.seconds),nanos:jt(r.nanos)}}function jt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Nr(r){return typeof r=="string"?mn.fromBase64String(r):mn.fromUint8Array(r)}const Cb="server_timestamp",Nb="__type__",Ib="__previous_value__",Db="__local_write_time__";function Gm(r){return(r?.mapValue?.fields||{})[Nb]?.stringValue===Cb}function wh(r){const e=r.mapValue.fields[Ib];return Gm(e)?wh(e):e}function Yo(r){const e=Cr(r.mapValue.fields[Db].timestampValue);return new _t(e.seconds,e.nanos)}class Yw{constructor(e,i,a,o,c,d,p,y,_,E){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=E}}const ch="(default)";class Xo{constructor(e,i){this.projectId=e,this.database=i||ch}static empty(){return new Xo("","")}get isDefaultDatabase(){return this.database===ch}isEqual(e){return e instanceof Xo&&e.projectId===this.projectId&&e.database===this.database}}const Ob="__type__",Xw="__max__",Uc={mapValue:{}},Mb="__vector__",hh="value";function Ir(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Gm(r)?4:Ww(r)?9007199254740991:$w(r)?10:11:be(28295,{value:r})}function Wi(r,e){if(r===e)return!0;const i=Ir(r);if(i!==Ir(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Yo(r).isEqual(Yo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Cr(o.timestampValue),p=Cr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return Nr(o.bytesValue).isEqual(Nr(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return jt(o.geoPointValue.latitude)===jt(c.geoPointValue.latitude)&&jt(o.geoPointValue.longitude)===jt(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return jt(o.integerValue)===jt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=jt(o.doubleValue),p=jt(c.doubleValue);return d===p?uh(d)===uh(p):isNaN(d)&&isNaN(p)}return!1})(r,e);case 9:return vl(r.arrayValue.values||[],e.arrayValue.values||[],Wi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(I_(d)!==I_(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Wi(d[y],p[y])))return!1;return!0})(r,e);default:return be(52216,{left:r})}}function $o(r,e){return(r.values||[]).find((i=>Wi(i,e)))!==void 0}function bl(r,e){if(r===e)return 0;const i=Ir(r),a=Ir(e);if(i!==a)return Pe(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Pe(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=jt(c.integerValue||c.doubleValue),y=jt(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,e);case 3:return O_(r.timestampValue,e.timestampValue);case 4:return O_(Yo(r),Yo(e));case 5:return hm(r.stringValue,e.stringValue);case 6:return(function(c,d){const p=Nr(c),y=Nr(d);return p.compareTo(y)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const E=Pe(p[_],y[_]);if(E!==0)return E}return Pe(p.length,y.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Pe(jt(c.latitude),jt(d.latitude));return p!==0?p:Pe(jt(c.longitude),jt(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return M_(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[hh]?.arrayValue,E=y[hh]?.arrayValue,A=Pe(_?.values?.length||0,E?.values?.length||0);return A!==0?A:M_(_,E)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Uc.mapValue&&d===Uc.mapValue)return 0;if(c===Uc.mapValue)return 1;if(d===Uc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},E=Object.keys(_);y.sort(),E.sort();for(let A=0;A<y.length&&A<E.length;++A){const M=hm(y[A],E[A]);if(M!==0)return M;const F=bl(p[y[A]],_[E[A]]);if(F!==0)return F}return Pe(y.length,E.length)})(r.mapValue,e.mapValue);default:throw be(23264,{he:i})}}function O_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Pe(r,e);const i=Cr(r),a=Cr(e),o=Pe(i.seconds,a.seconds);return o!==0?o:Pe(i.nanos,a.nanos)}function M_(r,e){const i=r.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=bl(i[o],a[o]);if(c)return c}return Pe(i.length,a.length)}function El(r){return fm(r)}function fm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Cr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Nr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ye.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=fm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${fm(i.fields[d])}`;return o+"}"})(r.mapValue):be(61005,{value:r})}function Kc(r){switch(Ir(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wh(r);return e?16+Kc(e):16;case 5:return 2*r.stringValue.length;case 6:return Nr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Kc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return Mr(a.fields,((c,d)=>{o+=c.length+Kc(d)})),o})(r.mapValue);default:throw be(13486,{value:r})}}function dm(r){return!!r&&"integerValue"in r}function Fm(r){return!!r&&"arrayValue"in r}function V_(r){return!!r&&"nullValue"in r}function k_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Yc(r){return!!r&&"mapValue"in r}function $w(r){return(r?.mapValue?.fields||{})[Ob]?.stringValue===Mb}function zo(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Mr(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=zo(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=zo(r.arrayValue.values[i]);return e}return{...r}}function Ww(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Xw}class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Yc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=zo(i)}setAll(e){let i=dn.emptyPath(),a={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,o),a={},o=[],i=p.popLast()}d?a[p.lastSegment()]=zo(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());Yc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Wi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Yc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Mr(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new Vn(zo(this.value))}}function Vb(r){const e=[];return Mr(r.fields,((i,a)=>{const o=new dn([i]);if(Yc(a)){const c=Vb(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Fn(e)}class bn{constructor(e,i,a,o,c,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new bn(e,0,Ae.min(),Ae.min(),Ae.min(),Vn.empty(),0)}static newFoundDocument(e,i,a,o){return new bn(e,1,i,Ae.min(),a,o,0)}static newNoDocument(e,i){return new bn(e,2,i,Ae.min(),Ae.min(),Vn.empty(),0)}static newUnknownDocument(e,i){return new bn(e,3,i,Ae.min(),Ae.min(),Vn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fh{constructor(e,i){this.position=e,this.inclusive=i}}function j_(r,e,i){let a=0;for(let o=0;o<r.position.length;o++){const c=e[o],d=r.position[o];if(c.field.isKeyField()?a=ye.comparator(ye.fromName(d.referenceValue),i.key):a=bl(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function U_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Wi(r.position[i],e.position[i]))return!1;return!0}class dh{constructor(e,i="asc"){this.field=e,this.dir=i}}function Zw(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class kb{}class Zt extends kb{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new e2(e,i,a):i==="array-contains"?new i2(e,a):i==="in"?new s2(e,a):i==="not-in"?new r2(e,a):i==="array-contains-any"?new a2(e,a):new Zt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new t2(e,a):new n2(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(bl(i,this.value)):i!==null&&Ir(this.value)===Ir(i)&&this.matchesComparison(bl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zi extends kb{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Zi(e,i)}matches(e){return jb(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function jb(r){return r.op==="and"}function Ub(r){return Jw(r)&&jb(r)}function Jw(r){for(const e of r.filters)if(e instanceof Zi)return!1;return!0}function mm(r){if(r instanceof Zt)return r.field.canonicalString()+r.op.toString()+El(r.value);if(Ub(r))return r.filters.map((e=>mm(e))).join(",");{const e=r.filters.map((i=>mm(i))).join(",");return`${r.op}(${e})`}}function Lb(r,e){return r instanceof Zt?(function(a,o){return o instanceof Zt&&a.op===o.op&&a.field.isEqual(o.field)&&Wi(a.value,o.value)})(r,e):r instanceof Zi?(function(a,o){return o instanceof Zi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,p)=>c&&Lb(d,o.filters[p])),!0):!1})(r,e):void be(19439)}function Pb(r){return r instanceof Zt?(function(i){return`${i.field.canonicalString()} ${i.op} ${El(i.value)}`})(r):r instanceof Zi?(function(i){return i.op.toString()+" {"+i.getFilters().map(Pb).join(" ,")+"}"})(r):"Filter"}class e2 extends Zt{constructor(e,i,a){super(e,i,a),this.key=ye.fromName(a.referenceValue)}matches(e){const i=ye.comparator(e.key,this.key);return this.matchesComparison(i)}}class t2 extends Zt{constructor(e,i){super(e,"in",i),this.keys=zb("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class n2 extends Zt{constructor(e,i){super(e,"not-in",i),this.keys=zb("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function zb(r,e){return(e.arrayValue?.values||[]).map((i=>ye.fromName(i.referenceValue)))}class i2 extends Zt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Fm(i)&&$o(i.arrayValue,this.value)}}class s2 extends Zt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&$o(this.value.arrayValue,i)}}class r2 extends Zt{constructor(e,i){super(e,"not-in",i)}matches(e){if($o(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!$o(this.value.arrayValue,i)}}class a2 extends Zt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Fm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>$o(this.value.arrayValue,a)))}}class l2{constructor(e,i=null,a=[],o=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function L_(r,e=null,i=[],a=[],o=null,c=null,d=null){return new l2(r,e,i,a,o,c,d)}function Qm(r){const e=we(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>mm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),xh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>El(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>El(a))).join(",")),e.Te=i}return e.Te}function Km(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Zw(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!Lb(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!U_(r.startAt,e.startAt)&&U_(r.endAt,e.endAt)}function gm(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Rh{constructor(e,i=null,a=[],o=[],c=null,d="F",p=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function o2(r,e,i,a,o,c,d,p){return new Rh(r,e,i,a,o,c,d,p)}function Ch(r){return new Rh(r)}function P_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function u2(r){return r.collectionGroup!==null}function Bo(r){const e=we(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Jt(dn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new dh(c,a))})),i.has(dn.keyField().canonicalString())||e.Ie.push(new dh(dn.keyField(),a))}return e.Ie}function Qi(r){const e=we(r);return e.Ee||(e.Ee=c2(e,Bo(r))),e.Ee}function c2(r,e){if(r.limitType==="F")return L_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new dh(o.field,c)}));const i=r.endAt?new fh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new fh(r.startAt.position,r.startAt.inclusive):null;return L_(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function pm(r,e,i){return new Rh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Nh(r,e){return Km(Qi(r),Qi(e))&&r.limitType===e.limitType}function Bb(r){return`${Qm(Qi(r))}|lt:${r.limitType}`}function ol(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>Pb(o))).join(", ")}]`),xh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>El(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>El(o))).join(",")),`Target(${a})`})(Qi(r))}; limitType=${r.limitType})`}function Ih(r,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ye.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,e)&&(function(a,o){for(const c of Bo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(d,p,y){const _=j_(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,Bo(a),o)||a.endAt&&!(function(d,p,y){const _=j_(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,Bo(a),o))})(r,e)}function h2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Hb(r){return(e,i)=>{let a=!1;for(const o of Bo(r)){const c=f2(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function f2(r,e,i){const a=r.field.isKeyField()?ye.comparator(e.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?bl(y,_):be(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return be(19790,{direction:r.dir})}}class pa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Mr(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return wb(this.inner)}size(){return this.innerSize}}const d2=new At(ye.comparator);function ks(){return d2}const qb=new At(ye.comparator);function ko(...r){let e=qb;for(const i of r)e=e.insert(i.key,i);return e}function Gb(r){let e=qb;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function ca(){return Ho()}function Fb(){return Ho()}function Ho(){return new pa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const m2=new At(ye.comparator),g2=new Jt(ye.comparator);function ze(...r){let e=g2;for(const i of r)e=e.add(i);return e}const p2=new Jt(Pe);function y2(){return p2}function Ym(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uh(e)?"-0":e}}function Qb(r){return{integerValue:""+r}}function _2(r,e){return Gw(e)?Qb(e):Ym(r,e)}class Dh{constructor(){this._=void 0}}function v2(r,e,i){return r instanceof mh?(function(o,c){const d={fields:{[Nb]:{stringValue:Cb},[Db]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Gm(c)&&(c=wh(c)),c&&(d.fields[Ib]=c),{mapValue:d}})(i,e):r instanceof Tl?Yb(r,e):r instanceof Wo?Xb(r,e):(function(o,c){const d=Kb(o,c),p=z_(d)+z_(o.Ae);return dm(d)&&dm(o.Ae)?Qb(p):Ym(o.serializer,p)})(r,e)}function b2(r,e,i){return r instanceof Tl?Yb(r,e):r instanceof Wo?Xb(r,e):i}function Kb(r,e){return r instanceof gh?(function(a){return dm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class mh extends Dh{}class Tl extends Dh{constructor(e){super(),this.elements=e}}function Yb(r,e){const i=$b(e);for(const a of r.elements)i.some((o=>Wi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Wo extends Dh{constructor(e){super(),this.elements=e}}function Xb(r,e){let i=$b(e);for(const a of r.elements)i=i.filter((o=>!Wi(o,a)));return{arrayValue:{values:i}}}class gh extends Dh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function z_(r){return jt(r.integerValue||r.doubleValue)}function $b(r){return Fm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class E2{constructor(e,i){this.field=e,this.transform=i}}function T2(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof Tl&&o instanceof Tl||a instanceof Wo&&o instanceof Wo?vl(a.elements,o.elements,Wi):a instanceof gh&&o instanceof gh?Wi(a.Ae,o.Ae):a instanceof mh&&o instanceof mh})(r.transform,e.transform)}class S2{constructor(e,i){this.version=e,this.transformResults=i}}class Ki{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ki}static exists(e){return new Ki(void 0,e)}static updateTime(e){return new Ki(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Oh{}function Wb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Jb(r.key,Ki.none()):new lu(r.key,r.data,Ki.none());{const i=r.data,a=Vn.empty();let o=new Jt(dn.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new Vr(r.key,a,new Fn(o.toArray()),Ki.none())}}function A2(r,e,i){r instanceof lu?(function(o,c,d){const p=o.value.clone(),y=H_(o.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,i):r instanceof Vr?(function(o,c,d){if(!Xc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=H_(o.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(Zb(o)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function qo(r,e,i,a){return r instanceof lu?(function(c,d,p,y){if(!Xc(c.precondition,d))return p;const _=c.value.clone(),E=q_(c.fieldTransforms,y,d);return _.setAll(E),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,a):r instanceof Vr?(function(c,d,p,y){if(!Xc(c.precondition,d))return p;const _=q_(c.fieldTransforms,y,d),E=d.data;return E.setAll(Zb(c)),E.setAll(_),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,e,i,a):(function(c,d,p){return Xc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,e,i)}function x2(r,e){let i=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),c=Kb(a.transform,o||null);c!=null&&(i===null&&(i=Vn.empty()),i.set(a.field,c))}return i||null}function B_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&vl(a,o,((c,d)=>T2(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class lu extends Oh{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Vr extends Oh{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Zb(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function H_(r,e,i){const a=new Map;Ze(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,p=e.data.field(c.field);a.set(c.field,b2(d,p,i[o]))}return a}function q_(r,e,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,v2(c,d,e))}return a}class Jb extends Oh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class w2 extends Oh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class R2{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&A2(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=qo(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=qo(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=Fb();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const y=Wb(d,p);y!==null&&a.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(Ae.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),ze())}isEqual(e){return this.batchId===e.batchId&&vl(this.mutations,e.mutations,((i,a)=>B_(i,a)))&&vl(this.baseMutations,e.baseMutations,((i,a)=>B_(i,a)))}}class Xm{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){Ze(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return m2})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Xm(e,i,a,o)}}class C2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class N2{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ft,Ge;function I2(r){switch(r){case W.OK:return be(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return be(15467,{code:r})}}function eE(r){if(r===void 0)return Vs("GRPC error has no .code"),W.UNKNOWN;switch(r){case Ft.OK:return W.OK;case Ft.CANCELLED:return W.CANCELLED;case Ft.UNKNOWN:return W.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return W.INTERNAL;case Ft.UNAVAILABLE:return W.UNAVAILABLE;case Ft.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Ft.NOT_FOUND:return W.NOT_FOUND;case Ft.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Ft.ABORTED:return W.ABORTED;case Ft.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Ft.DATA_LOSS:return W.DATA_LOSS;default:return be(39323,{code:r})}}(Ge=Ft||(Ft={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";function D2(){return new TextEncoder}const O2=new Ar([4294967295,4294967295],0);function G_(r){const e=D2().encode(r),i=new pb;return i.update(e),new Uint8Array(i.digest())}function F_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ar([i,a],0),new Ar([o,c],0)]}class $m{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new jo(`Invalid padding: ${i}`);if(a<0)throw new jo(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new jo(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new jo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ar.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(Ar.fromNumber(a)));return o.compare(O2)===1&&(o=new Ar([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=G_(e),[a,o]=F_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new $m(c,o,i);return a.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=G_(e),[a,o]=F_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class jo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Mh{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,ou.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Mh(Ae.min(),o,new At(Pe),ks(),ze())}}class ou{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new ou(a,i,ze(),ze(),ze())}}class $c{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class tE{constructor(e,i){this.targetId=e,this.Ce=i}}class nE{constructor(e,i,a=mn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class Q_{constructor(){this.ve=0,this.Fe=K_(),this.Me=mn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),i=ze(),a=ze();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:be(38017,{changeType:c})}})),new ou(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=K_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class M2{constructor(e){this.Ge=e,this.ze=new Map,this.je=ks(),this.Je=Lc(),this.He=Lc(),this.Ye=new At(Pe)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(gm(c))if(a===0){const d=new ye(c.path);this.et(i,d,bn.newNoDocument(d,Ae.min()))}else Ze(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(e),y=p?this.ct(p,e,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=Nr(a).toUint8Array()}catch(y){if(y instanceof Rb)return _l("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new $m(d,o,c)}catch(y){return _l(y instanceof jo?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&gm(p.target)){const y=new ye(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,bn.newNoDocument(y,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=ze();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Mh(e,i,this.Ye,this.je,a);return this.je=ks(),this.Je=Lc(),this.He=Lc(),this.Ye=new At(Pe),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new Q_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Jt(Pe),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Jt(Pe),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||oe("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Q_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Lc(){return new At(ye.comparator)}function K_(){return new At(ye.comparator)}const V2={asc:"ASCENDING",desc:"DESCENDING"},k2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},j2={and:"AND",or:"OR"};class U2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function ym(r,e){return r.useProto3Json||xh(e)?e:{value:e}}function ph(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function L2(r,e){return ph(r,e.toTimestamp())}function Yi(r){return Ze(!!r,49232),Ae.fromTimestamp((function(i){const a=Cr(i);return new _t(a.seconds,a.nanos)})(r))}function Wm(r,e){return _m(r,e).canonicalString()}function _m(r,e){const i=(function(o){return new St(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function sE(r){const e=St.fromString(r);return Ze(uE(e),10190,{key:e.toString()}),e}function vm(r,e){return Wm(r.databaseId,e.path)}function Wd(r,e){const i=sE(e);if(i.get(1)!==r.databaseId.projectId)throw new fe(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new fe(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ye(aE(i))}function rE(r,e){return Wm(r.databaseId,e)}function P2(r){const e=sE(r);return e.length===4?St.emptyPath():aE(e)}function bm(r){return new St(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function aE(r){return Ze(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Y_(r,e,i){return{name:vm(r,e),fields:i.value.mapValue.fields}}function z2(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:be(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,E){return _.useProto3Json?(Ze(E===void 0||typeof E=="string",58123),mn.fromBase64String(E||"")):(Ze(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),mn.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(_){const E=_.code===void 0?W.UNKNOWN:eE(_.code);return new fe(E,_.message||"")})(d);i=new nE(a,o,c,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Wd(r,a.document.name),c=Yi(a.document.updateTime),d=a.document.createTime?Yi(a.document.createTime):Ae.min(),p=new Vn({mapValue:{fields:a.document.fields}}),y=bn.newFoundDocument(o,c,d,p),_=a.targetIds||[],E=a.removedTargetIds||[];i=new $c(_,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Wd(r,a.document),c=a.readTime?Yi(a.readTime):Ae.min(),d=bn.newNoDocument(o,c),p=a.removedTargetIds||[];i=new $c([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Wd(r,a.document),c=a.removedTargetIds||[];i=new $c([],c,o,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new N2(o,c),p=a.targetId;i=new tE(p,d)}}return i}function B2(r,e){let i;if(e instanceof lu)i={update:Y_(r,e.key,e.value)};else if(e instanceof Jb)i={delete:vm(r,e.key)};else if(e instanceof Vr)i={update:Y_(r,e.key,e.data),updateMask:$2(e.fieldMask)};else{if(!(e instanceof w2))return be(16599,{Vt:e.type});i={verify:vm(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof mh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Tl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Wo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof gh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw be(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:L2(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:be(27497)})(r,e.precondition)),i}function H2(r,e){return r&&r.length>0?(Ze(e!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?Yi(o.updateTime):Yi(c);return d.isEqual(Ae.min())&&(d=Yi(c)),new S2(d,o.transformResults||[])})(i,e)))):[]}function q2(r,e){return{documents:[rE(r,e.path)]}}function G2(r,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=rE(r,o);const c=(function(_){if(_.length!==0)return oE(Zi.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((E=>(function(M){return{field:ul(M.field),direction:K2(M.dir)}})(E)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=ym(r,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function F2(r){let e=P2(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Ze(a===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=(function(A){const M=lE(A);return M instanceof Zi&&Ub(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((M=>(function(J){return new dh(cl(J.field),(function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let M;return M=typeof A=="object"?A.value:A,xh(M)?null:M})(i.limit));let y=null;i.startAt&&(y=(function(A){const M=!!A.before,F=A.values||[];return new fh(F,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const M=!A.before,F=A.values||[];return new fh(F,M)})(i.endAt)),o2(e,o,d,c,p,"F",y,_)}function Q2(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function lE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=cl(i.unaryFilter.field);return Zt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=cl(i.unaryFilter.field);return Zt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=cl(i.unaryFilter.field);return Zt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=cl(i.unaryFilter.field);return Zt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Zt.create(cl(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Zi.create(i.compositeFilter.filters.map((a=>lE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(i.compositeFilter.op))})(r):be(30097,{filter:r})}function K2(r){return V2[r]}function Y2(r){return k2[r]}function X2(r){return j2[r]}function ul(r){return{fieldPath:r.canonicalString()}}function cl(r){return dn.fromServerFormat(r.fieldPath)}function oE(r){return r instanceof Zt?(function(i){if(i.op==="=="){if(k_(i.value))return{unaryFilter:{field:ul(i.field),op:"IS_NAN"}};if(V_(i.value))return{unaryFilter:{field:ul(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(k_(i.value))return{unaryFilter:{field:ul(i.field),op:"IS_NOT_NAN"}};if(V_(i.value))return{unaryFilter:{field:ul(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ul(i.field),op:Y2(i.op),value:i.value}}})(r):r instanceof Zi?(function(i){const a=i.getFilters().map((o=>oE(o)));return a.length===1?a[0]:{compositeFilter:{op:X2(i.op),filters:a}}})(r):be(54877,{filter:r})}function $2(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function uE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class br{constructor(e,i,a,o,c=Ae.min(),d=Ae.min(),p=mn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class W2{constructor(e){this.yt=e}}function Z2(r){const e=F2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?pm(e,e.limit,"L"):e}class J2{constructor(){this.Cn=new eR}addToCollectionParentIndex(e,i){return this.Cn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(Rr.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(Rr.min())}updateCollectionGroup(e,i,a){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class eR{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Jt(St.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Jt(St.comparator)).toArray()}}const X_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cE=41943040;class Mn{static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(cE,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);class Sl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Sl(0)}static cr(){return new Sl(-1)}}const $_="LruGarbageCollector",tR=1048576;function W_([r,e],[i,a]){const o=Pe(r,i);return o===0?Pe(e,a):o}class nR{constructor(e){this.Ir=e,this.buffer=new Jt(W_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();W_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class iR{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe($_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Dl(i)?oe($_,"Ignoring IndexedDB error during garbage collection: ",i):await Il(i)}await this.Vr(3e5)}))}}class sR{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(Ah.ce);const a=new nR(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(X_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),X_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,c,d,p,y,_;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(a=A,p=Date.now(),this.removeTargets(e,a,i)))).next((A=>(c=A,y=Date.now(),this.removeOrphanedDocuments(e,a)))).next((A=>(_=Date.now(),ll()<=Le.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${A} documents in `+(_-y)+`ms
Total Duration: ${_-E}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A}))))}}function rR(r,e){return new sR(r,e)}class aR{constructor(){this.changes=new pa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class lR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class oR{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&qo(a.mutation,o,Fn.empty(),_t.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,ze()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=ze()){const o=ca();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=ko();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=ca();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,ze())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,a,o){let c=ks();const d=Ho(),p=(function(){return Ho()})();return i.forEach(((y,_)=>{const E=a.get(_.key);o.has(_.key)&&(E===void 0||E.mutation instanceof Vr)?c=c.insert(_.key,_):E!==void 0?(d.set(_.key,E.mutation.getFieldMask()),qo(E.mutation,_,E.mutation.getFieldMask(),_t.now())):d.set(_.key,Fn.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((_,E)=>d.set(_,E))),i.forEach(((_,E)=>p.set(_,new lR(E,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,i){const a=Ho();let o=new At(((d,p)=>d-p)),c=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let E=a.get(y)||Fn.empty();E=p.applyToLocalView(_,E),a.set(y,E);const A=(o.get(p.batchId)||ze()).add(y);o=o.insert(p.batchId,A)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,E=y.value,A=Fb();E.forEach((M=>{if(!c.has(M)){const F=Wb(i.get(M),a.get(M));F!==null&&A.set(M,F),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,A))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return ye.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):u2(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):$.resolve(ca());let p=Ko,y=c;return d.next((_=>$.forEach(_,((E,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(E)?$.resolve():this.remoteDocumentCache.getEntry(e,E).next((M=>{y=y.insert(E,M)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,y,_,ze()))).next((E=>({batchId:p,changes:Gb(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ye(i)).next((a=>{let o=ko();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=ko();return this.indexManager.getCollectionParents(e,c).next((p=>$.forEach(p,(y=>{const _=(function(A,M){return new Rh(M,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((E=>{E.forEach(((A,M)=>{d=d.insert(A,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((y,_)=>{const E=_.getKey();d.get(E)===null&&(d=d.insert(E,bn.newInvalidDocument(E)))}));let p=ko();return d.forEach(((y,_)=>{const E=c.get(y);E!==void 0&&qo(E.mutation,_,Fn.empty(),_t.now()),Ih(i,_)&&(p=p.insert(y,_))})),p}))}}class uR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Yi(o.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:Z2(o.bundledQuery),readTime:Yi(o.readTime)}})(i)),$.resolve()}}class cR{constructor(){this.overlays=new At(ye.comparator),this.qr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ca();return $.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.St(e,i,c)})),$.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(e,i,a){const o=ca(),c=i.length+1,d=new ye(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&o.set(y.getKey(),y)}return $.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new At(((_,E)=>_-E));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let E=c.get(_.largestBatchId);E===null&&(E=ca(),c=c.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const p=ca(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,E)=>p.set(_,E))),!(p.size()>=o)););return $.resolve(p)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new C2(i,a));let c=this.qr.get(i);c===void 0&&(c=ze(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class hR{constructor(){this.sessionToken=mn.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}class Zm{constructor(){this.Qr=new Jt(sn.$r),this.Ur=new Jt(sn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new sn(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new sn(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new ye(new St([])),a=new sn(i,e),o=new sn(i,e+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ye(new St([])),a=new sn(i,e),o=new sn(i,e+1);let c=ze();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new sn(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class sn{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ye.comparator(e.key,i.key)||Pe(e.Yr,i.Yr)}static Kr(e,i){return Pe(e.Yr,i.Yr)||ye.comparator(e.key,i.key)}}class fR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Jt(sn.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new R2(c,i,a,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new sn(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?qm:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new sn(i,0),o=new sn(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const p=this.Xr(d.Yr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Jt(Pe);return i.forEach((o=>{const c=new sn(o,0),d=new sn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;ye.isDocumentKey(c)||(c=c.child(""));const d=new sn(new ye(c),0);let p=new Jt(Pe);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(p=p.add(y.Yr)),!0)}),d),$.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Ze(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(o=>{const c=new sn(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new sn(i,0),o=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class dR{constructor(e){this.ri=e,this.docs=(function(){return new At(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():bn.newInvalidDocument(i))}getEntries(e,i){let a=ks();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():bn.newInvalidDocument(o))})),$.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=ks();const d=i.path,p=new ye(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:E}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||zw(Pw(E),a)<=0||(o.has(E.key)||Ih(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,i,a,o){be(9500)}ii(e,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new mR(this)}getSize(e){return $.resolve(this.size)}}class mR extends aR{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class gR{constructor(e){this.persistence=e,this.si=new pa((i=>Qm(i)),Km),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new Zm,this.targetCount=0,this.ai=Sl.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Sl(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.Pr(i),$.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),$.waitFor(c).next((()=>o))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(e,i){return $.resolve(this._i.containsKey(i))}}class hE{constructor(e,i){this.ui={},this.overlays={},this.ci=new Ah(0),this.li=!1,this.li=!0,this.hi=new hR,this.referenceDelegate=e(this),this.Pi=new gR(this),this.indexManager=new J2,this.remoteDocumentCache=(function(o){return new dR(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new W2(i),this.Ii=new uR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new cR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new fR(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){oe("MemoryPersistence","Starting transaction:",e);const o=new pR(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class pR extends Hw{constructor(e){super(),this.currentSequenceNumber=e}}class Jm{constructor(e){this.persistence=e,this.Ri=new Zm,this.Vi=null}static mi(e){return new Jm(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const o=ye.fromPath(a);return this.gi(e,o).next((c=>{c||i.removeEntry(o,Ae.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class yh{constructor(e,i){this.persistence=e,this.pi=new pa((a=>Fw(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=rR(this,i)}static mi(e,i){return new yh(e,i)}Ei(){}di(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return $.forEach(this.pi,((a,o)=>this.br(e,a,o).next((c=>c?$.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((p=>{p||(a++,c.removeEntry(d,Ae.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Kc(e.data.value)),i}br(e,i,a){return $.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return $.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class eg{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=ze(),o=ze();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new eg(e,i.fromCache,a,o)}}class yR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class _R{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return rS()?8:qw(En())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new yR;return this.Ss(e,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>c.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(ll()<=Le.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",ol(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(ll()<=Le.DEBUG&&oe("QueryEngine","Query:",ol(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(ll()<=Le.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",ol(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qi(i))):$.resolve())}ys(e,i){if(P_(i))return $.resolve(null);let a=Qi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=pm(i,null,"F"),a=Qi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=ze(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(e,pm(i,null,"F")):this.vs(e,_,i,y)}))))})))))}ws(e,i,a,o){return P_(i)||o.isEqual(Ae.min())?$.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?$.resolve(null):(ll()<=Le.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ol(i)),this.vs(e,d,i,Lw(o,Ko)).next((p=>p)))}))}Ds(e,i){let a=new Jt(Hb(e));return i.forEach(((o,c)=>{Ih(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,a){return ll()<=Le.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",ol(i)),this.ps.getDocumentsMatchingQuery(e,i,Rr.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const tg="LocalStore",vR=3e8;class bR{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new At(Pe),this.xs=new pa((c=>Qm(c)),Km),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function ER(r,e,i,a){return new bR(r,e,i,a)}async function fE(r,e){const i=we(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=ze();for(const _ of o){d.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}for(const _ of c){p.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function TR(r,e){const i=we(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,E){const A=_.batch,M=A.keys();let F=$.resolve();return M.forEach((J=>{F=F.next((()=>E.getEntry(y,J))).next((ne=>{const ee=_.docVersions.get(J);Ze(ee!==null,48541),ne.version.compareTo(ee)<0&&(A.applyToRemoteDocument(ne,_),ne.isValidDocument()&&(ne.setReadTime(_.commitVersion),E.addEntry(ne)))}))})),F.next((()=>p.mutationQueue.removeMutationBatch(y,A)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=ze();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function dE(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function SR(r,e){const i=we(r),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach(((E,A)=>{const M=o.get(A);if(!M)return;p.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,A))));let F=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?F=F.withResumeToken(mn.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):E.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(E.resumeToken,a)),o=o.insert(A,F),(function(ne,ee,ve){return ne.resumeToken.approximateByteSize()===0||ee.snapshotVersion.toMicroseconds()-ne.snapshotVersion.toMicroseconds()>=vR?!0:ve.addedDocuments.size+ve.modifiedDocuments.size+ve.removedDocuments.size>0})(M,F,E)&&p.push(i.Pi.updateTargetData(c,F))}));let y=ks(),_=ze();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),p.push(AR(c,d,e.documentUpdates).next((E=>{y=E.ks,_=E.qs}))),!a.isEqual(Ae.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(E)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=o,c)))}function AR(r,e,i){let a=ze(),o=ze();return i.forEach((c=>a=a.add(c))),e.getEntries(r,a).next((c=>{let d=ks();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),y.isNoDocument()&&y.version.isEqual(Ae.min())?(e.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(p,y)):oe(tg,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:o}}))}function xR(r,e){const i=we(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=qm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function wR(r,e){const i=we(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((c=>c?(o=c,$.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new br(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function Em(r,e,i){const a=we(r),o=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Dl(d))throw d;oe(tg,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function Z_(r,e,i){const a=we(r);let o=Ae.min(),c=ze();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,E){const A=we(y),M=A.xs.get(E);return M!==void 0?$.resolve(A.Ms.get(M)):A.Pi.getTargetData(_,E)})(a,d,Qi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:Ae.min(),i?c:ze()))).next((p=>(RR(a,h2(e),p),{documents:p,Qs:c})))))}function RR(r,e,i){let a=r.Os.get(e)||Ae.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(e,a)}class J_{constructor(){this.activeTargetIds=y2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CR{constructor(){this.Mo=new J_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new J_,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class NR{Oo(e){}shutdown(){}}const ev="ConnectivityMonitor";class tv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(ev,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(ev,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Pc=null;function Tm(){return Pc===null?Pc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Pc++,"0x"+Pc.toString(16)}const Zd="RestConnection",IR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class DR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===ch?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,c){const d=Tm(),p=this.zo(e,i.toUriEncodedString());oe(Zd,`Sending RPC '${e}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:_}=new URL(p),E=wl(_);return this.Jo(e,p,y,a,E).then((A=>(oe(Zd,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw _l(Zd,`RPC '${e}' ${d} failed with error: `,A,"url: ",p,"request:",a),A}))}Ho(e,i,a,o,c,d){return this.Go(e,i,a,o,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Nl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const a=IR[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class OR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const yn="WebChannelConnection";class MR extends DR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,c){const d=Tm();return new Promise(((p,y)=>{const _=new yb;_.setWithCredentials(!0),_.listenOnce(_b.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Qc.NO_ERROR:const A=_.getResponseJson();oe(yn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),p(A);break;case Qc.TIMEOUT:oe(yn,`RPC '${e}' ${d} timed out`),y(new fe(W.DEADLINE_EXCEEDED,"Request time out"));break;case Qc.HTTP_ERROR:const M=_.getStatus();if(oe(yn,`RPC '${e}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const J=F?.error;if(J&&J.status&&J.message){const ne=(function(ve){const Re=ve.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(Re)>=0?Re:W.UNKNOWN})(J.status);y(new fe(ne,J.message))}else y(new fe(W.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new fe(W.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{oe(yn,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(o);oe(yn,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",E,a,15)}))}T_(e,i,a){const o=Tm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Eb(),p=bb(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const E=c.join("");oe(yn,`Creating RPC '${e}' stream ${o}: ${E}`,y);const A=d.createWebChannel(E,y);this.I_(A);let M=!1,F=!1;const J=new OR({Yo:ee=>{F?oe(yn,`Not sending because RPC '${e}' stream ${o} is closed:`,ee):(M||(oe(yn,`Opening RPC '${e}' stream ${o} transport.`),A.open(),M=!0),oe(yn,`RPC '${e}' stream ${o} sending:`,ee),A.send(ee))},Zo:()=>A.close()}),ne=(ee,ve,Re)=>{ee.listen(ve,(Ee=>{try{Re(Ee)}catch(ge){setTimeout((()=>{throw ge}),0)}}))};return ne(A,Vo.EventType.OPEN,(()=>{F||(oe(yn,`RPC '${e}' stream ${o} transport opened.`),J.o_())})),ne(A,Vo.EventType.CLOSE,(()=>{F||(F=!0,oe(yn,`RPC '${e}' stream ${o} transport closed`),J.a_(),this.E_(A))})),ne(A,Vo.EventType.ERROR,(ee=>{F||(F=!0,_l(yn,`RPC '${e}' stream ${o} transport errored. Name:`,ee.name,"Message:",ee.message),J.a_(new fe(W.UNAVAILABLE,"The operation could not be completed")))})),ne(A,Vo.EventType.MESSAGE,(ee=>{if(!F){const ve=ee.data[0];Ze(!!ve,16349);const Re=ve,Ee=Re?.error||Re[0]?.error;if(Ee){oe(yn,`RPC '${e}' stream ${o} received error:`,Ee);const ge=Ee.status;let Xe=(function(x){const C=Ft[x];if(C!==void 0)return eE(C)})(ge),Be=Ee.message;Xe===void 0&&(Xe=W.INTERNAL,Be="Unknown error status: "+ge+" with message "+Ee.message),F=!0,J.a_(new fe(Xe,Be)),A.close()}else oe(yn,`RPC '${e}' stream ${o} received:`,ve),J.u_(ve)}})),ne(p,vb.STAT_EVENT,(ee=>{ee.stat===cm.PROXY?oe(yn,`RPC '${e}' stream ${o} detected buffering proxy`):ee.stat===cm.NOPROXY&&oe(yn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Jd(){return typeof document<"u"?document:null}function Vh(r){return new U2(r,!0)}class mE{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const nv="PersistentStream";class gE{constructor(e,i,a,o,c,d,p,y){this.Mi=e,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===W.RESOURCE_EXHAUSTED?(Vs(i.toString()),Vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new fe(W.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(nv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(oe(nv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class VR extends gE{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=z2(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Ae.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ae.min():d.readTime?Yi(d.readTime):Ae.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=bm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=gm(y)?{documents:q2(c,y)}:{query:G2(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=iE(c,d.resumeToken);const _=ym(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Ae.min())>0){p.readTime=ph(c,d.snapshotVersion.toTimestamp());const _=ym(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const a=Q2(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=bm(this.serializer),i.removeTarget=e,this.q_(i)}}class kR extends gE{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=H2(e.writeResults,e.commitTime),a=Yi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=bm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>B2(this.serializer,a)))};this.q_(i)}}class jR{}class UR extends jR{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,_m(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(W.UNKNOWN,c.toString())}))}Ho(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,_m(i,a),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new fe(W.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class LR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vs(i),this.aa=!1):oe("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ga="RemoteStore";class PR{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ya(this)&&(oe(ga,"Restarting streams for network reachability change."),await(async function(y){const _=we(y);_.Ea.add(4),await uu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await kh(_)})(this))}))})),this.Ra=new LR(a,o)}}async function kh(r){if(ya(r))for(const e of r.da)await e(!0)}async function uu(r){for(const e of r.da)await e(!1)}function pE(r,e){const i=we(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),rg(i)?sg(i):Ol(i).O_()&&ig(i,e))}function ng(r,e){const i=we(r),a=Ol(i);i.Ia.delete(e),a.O_()&&yE(i,e),i.Ia.size===0&&(a.O_()?a.L_():ya(i)&&i.Ra.set("Unknown"))}function ig(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ol(r).Y_(e)}function yE(r,e){r.Va.Ue(e),Ol(r).Z_(e)}function sg(r){r.Va=new M2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Ol(r).start(),r.Ra.ua()}function rg(r){return ya(r)&&!Ol(r).x_()&&r.Ia.size>0}function ya(r){return we(r).Ea.size===0}function _E(r){r.Va=void 0}async function zR(r){r.Ra.set("Online")}async function BR(r){r.Ia.forEach(((e,i)=>{ig(r,e)}))}async function HR(r,e){_E(r),rg(r)?(r.Ra.ha(e),sg(r)):r.Ra.set("Unknown")}async function qR(r,e,i){if(r.Ra.set("Online"),e instanceof nE&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(r,e)}catch(a){oe(ga,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await _h(r,a)}else if(e instanceof $c?r.Va.Ze(e):e instanceof tE?r.Va.st(e):r.Va.tt(e),!i.isEqual(Ae.min()))try{const a=await dE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const E=c.Ia.get(_);E&&c.Ia.set(_,E.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const E=c.Ia.get(y);if(!E)return;c.Ia.set(y,E.withResumeToken(mn.EMPTY_BYTE_STRING,E.snapshotVersion)),yE(c,y);const A=new br(E.target,y,_,E.sequenceNumber);ig(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){oe(ga,"Failed to raise snapshot:",a),await _h(r,a)}}async function _h(r,e,i){if(!Dl(e))throw e;r.Ea.add(1),await uu(r),r.Ra.set("Offline"),i||(i=()=>dE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{oe(ga,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await kh(r)}))}function vE(r,e){return e().catch((i=>_h(r,i,e)))}async function jh(r){const e=we(r),i=Dr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:qm;for(;GR(e);)try{const o=await xR(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,FR(e,o)}catch(o){await _h(e,o)}bE(e)&&EE(e)}function GR(r){return ya(r)&&r.Ta.length<10}function FR(r,e){r.Ta.push(e);const i=Dr(r);i.O_()&&i.X_&&i.ea(e.mutations)}function bE(r){return ya(r)&&!Dr(r).x_()&&r.Ta.length>0}function EE(r){Dr(r).start()}async function QR(r){Dr(r).ra()}async function KR(r){const e=Dr(r);for(const i of r.Ta)e.ea(i.mutations)}async function YR(r,e,i){const a=r.Ta.shift(),o=Xm.from(a,e,i);await vE(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await jh(r)}async function XR(r,e){e&&Dr(r).X_&&await(async function(a,o){if((function(d){return I2(d)&&d!==W.ABORTED})(o.code)){const c=a.Ta.shift();Dr(a).B_(),await vE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await jh(a)}})(r,e),bE(r)&&EE(r)}async function iv(r,e){const i=we(r);i.asyncQueue.verifyOperationInProgress(),oe(ga,"RemoteStore received new credentials");const a=ya(i);i.Ea.add(3),await uu(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await kh(i)}async function $R(r,e){const i=we(r);e?(i.Ea.delete(2),await kh(i)):e||(i.Ea.add(2),await uu(i),i.Ra.set("Unknown"))}function Ol(r){return r.ma||(r.ma=(function(i,a,o){const c=we(i);return c.sa(),new VR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:zR.bind(null,r),t_:BR.bind(null,r),r_:HR.bind(null,r),H_:qR.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),rg(r)?sg(r):r.Ra.set("Unknown")):(await r.ma.stop(),_E(r))}))),r.ma}function Dr(r){return r.fa||(r.fa=(function(i,a,o){const c=we(i);return c.sa(),new kR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:QR.bind(null,r),r_:XR.bind(null,r),ta:KR.bind(null,r),na:YR.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await jh(r)):(await r.fa.stop(),r.Ta.length>0&&(oe(ga,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class ag{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,p=new ag(e,i,d,o,c);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lg(r,e){if(Vs("AsyncQueue",`${e}: ${r}`),Dl(r))return new fe(W.UNAVAILABLE,`${e}: ${r}`);throw r}class gl{static emptySet(e){return new gl(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ye.comparator(i.key,a.key):(i,a)=>ye.comparator(i.key,a.key),this.keyedMap=ko(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof gl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new gl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class sv{constructor(){this.ga=new At(ye.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class Al{constructor(e,i,a,o,c,d,p,y,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Al(e,i,gl.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class WR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class ZR{constructor(){this.queries=rv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=we(i),c=o.queries;o.queries=rv(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new fe(W.ABORTED,"Firestore shutting down"))}}function rv(){return new pa((r=>Bb(r)),Nh)}async function TE(r,e){const i=we(r);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(a=2):(c=new WR,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=lg(d,`Initialization of query '${ol(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&og(i)}async function SE(r,e){const i=we(r),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function JR(r,e){const i=we(r);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(o)&&(a=!0);d.wa=o}}a&&og(i)}function eC(r,e,i){const a=we(r),o=a.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(e)}function og(r){r.Ca.forEach((e=>{e.next()}))}var Sm,av;(av=Sm||(Sm={})).Ma="default",av.Cache="cache";class AE{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Al(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Sm.Cache}}class xE{constructor(e){this.key=e}}class wE{constructor(e){this.key=e}}class tC{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=Hb(e),this.tu=new gl(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new sv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,A)=>{const M=o.get(E),F=Ih(this.query,A)?A:null,J=!!M&&this.mutatedKeys.has(M.key),ne=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let ee=!1;M&&F?M.data.isEqual(F.data)?J!==ne&&(a.track({type:3,doc:F}),ee=!0):this.su(M,F)||(a.track({type:2,doc:F}),ee=!0,(y&&this.eu(F,y)>0||_&&this.eu(F,_)<0)&&(p=!0)):!M&&F?(a.track({type:0,doc:F}),ee=!0):M&&!F&&(a.track({type:1,doc:M}),ee=!0,(y||_)&&(p=!0)),ee&&(F?(d=d.add(F),c=ne?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,A)=>(function(F,J){const ne=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:ee})}};return ne(F)-ne(J)})(E.type,A.type)||this.eu(E.doc,A.doc))),this.ou(a),o=o??!1;const p=i&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new Al(this.query,e.tu,c,d,e.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new wE(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new xE(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=ze();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Al.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ug="SyncEngine";class nC{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class iC{constructor(e){this.key=e,this.hu=!1}}class sC{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new pa((p=>Bb(p)),Nh),this.Iu=new Map,this.Eu=new Set,this.du=new At(ye.comparator),this.Au=new Map,this.Ru=new Zm,this.Vu={},this.mu=new Map,this.fu=Sl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rC(r,e,i=!0){const a=OE(r);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await RE(a,e,i,!0),o}async function aC(r,e){const i=OE(r);await RE(i,e,!0,!1)}async function RE(r,e,i,a){const o=await wR(r.localStore,Qi(e)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await lC(r,e,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&pE(r.remoteStore,o),p}async function lC(r,e,i,a,o){r.pu=(A,M,F)=>(async function(ne,ee,ve,Re){let Ee=ee.view.ru(ve);Ee.Cs&&(Ee=await Z_(ne.localStore,ee.query,!1).then((({documents:N})=>ee.view.ru(N,Ee))));const ge=Re&&Re.targetChanges.get(ee.targetId),Xe=Re&&Re.targetMismatches.get(ee.targetId)!=null,Be=ee.view.applyChanges(Ee,ne.isPrimaryClient,ge,Xe);return ov(ne,ee.targetId,Be.au),Be.snapshot})(r,A,M,F);const c=await Z_(r.localStore,e,!0),d=new tC(e,c.Qs),p=d.ru(c.documents),y=ou.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),_=d.applyChanges(p,r.isPrimaryClient,y);ov(r,i,_.au);const E=new nC(e,i,d);return r.Tu.set(e,E),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function oC(r,e,i){const a=we(r),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!Nh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Em(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&ng(a.remoteStore,o.targetId),Am(a,o.targetId)})).catch(Il)):(Am(a,o.targetId),await Em(a.localStore,o.targetId,!0))}async function uC(r,e){const i=we(r),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),ng(i.remoteStore,a.targetId))}async function cC(r,e,i){const a=yC(r);try{const o=await(function(d,p){const y=we(d),_=_t.now(),E=p.reduce(((F,J)=>F.add(J.key)),ze());let A,M;return y.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let J=ks(),ne=ze();return y.Ns.getEntries(F,E).next((ee=>{J=ee,J.forEach(((ve,Re)=>{Re.isValidDocument()||(ne=ne.add(ve))}))})).next((()=>y.localDocuments.getOverlayedDocuments(F,J))).next((ee=>{A=ee;const ve=[];for(const Re of p){const Ee=x2(Re,A.get(Re.key).overlayedDocument);Ee!=null&&ve.push(new Vr(Re.key,Ee,Vb(Ee.value.mapValue),Ki.exists(!0)))}return y.mutationQueue.addMutationBatch(F,_,ve,p)})).next((ee=>{M=ee;const ve=ee.applyToLocalDocumentSet(A,ne);return y.documentOverlayCache.saveOverlays(F,ee.batchId,ve)}))})).then((()=>({batchId:M.batchId,changes:Gb(A)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new At(Pe)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,o.batchId,i),await cu(a,o.changes),await jh(a.remoteStore)}catch(o){const c=lg(o,"Failed to persist write");i.reject(c)}}async function CE(r,e){const i=we(r);try{const a=await SR(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ze(d.hu,14607):o.removedDocuments.size>0&&(Ze(d.hu,42227),d.hu=!1))})),await cu(i,a,e)}catch(a){await Il(a)}}function lv(r,e,i){const a=we(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const y=we(d);y.onlineState=p;let _=!1;y.queries.forEach(((E,A)=>{for(const M of A.Sa)M.va(p)&&(_=!0)})),_&&og(y)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function hC(r,e,i){const a=we(r);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new At(ye.comparator);d=d.insert(c,bn.newNoDocument(c,Ae.min()));const p=ze().add(c),y=new Mh(Ae.min(),new Map,new At(Pe),d,p);await CE(a,y),a.du=a.du.remove(c),a.Au.delete(e),cg(a)}else await Em(a.localStore,e,!1).then((()=>Am(a,e,i))).catch(Il)}async function fC(r,e){const i=we(r),a=e.batch.batchId;try{const o=await TR(i.localStore,e);IE(i,a,null),NE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await cu(i,o)}catch(o){await Il(o)}}async function dC(r,e,i){const a=we(r);try{const o=await(function(d,p){const y=we(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let E;return y.mutationQueue.lookupMutationBatch(_,p).next((A=>(Ze(A!==null,37113),E=A.keys(),y.mutationQueue.removeMutationBatch(_,A)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,E,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E))).next((()=>y.localDocuments.getDocuments(_,E)))}))})(a.localStore,e);IE(a,e,i),NE(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await cu(a,o)}catch(o){await Il(o)}}function NE(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function IE(r,e,i){const a=we(r);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function Am(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||DE(r,a)}))}function DE(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(ng(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),cg(r))}function ov(r,e,i){for(const a of i)a instanceof xE?(r.Ru.addReference(a.key,e),mC(r,a)):a instanceof wE?(oe(ug,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||DE(r,a.key)):be(19791,{wu:a})}function mC(r,e){const i=e.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(oe(ug,"New document in limbo: "+i),r.Eu.add(a),cg(r))}function cg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new ye(St.fromString(e)),a=r.fu.next();r.Au.set(a,new iC(i)),r.du=r.du.insert(i,a),pE(r.remoteStore,new br(Qi(Ch(i.path)),a,"TargetPurposeLimboResolution",Ah.ce))}}async function cu(r,e,i){const a=we(r),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const E=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(_){o.push(_);const E=eg.As(y.targetId,_);c.push(E)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(y,_){const E=we(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>$.forEach(_,(M=>$.forEach(M.Es,(F=>E.persistence.referenceDelegate.addReference(A,M.targetId,F))).next((()=>$.forEach(M.ds,(F=>E.persistence.referenceDelegate.removeReference(A,M.targetId,F)))))))))}catch(A){if(!Dl(A))throw A;oe(tg,"Failed to update sequence numbers: "+A)}for(const A of _){const M=A.targetId;if(!A.fromCache){const F=E.Ms.get(M),J=F.snapshotVersion,ne=F.withLastLimboFreeSnapshotVersion(J);E.Ms=E.Ms.insert(M,ne)}}})(a.localStore,c))}async function gC(r,e){const i=we(r);if(!i.currentUser.isEqual(e)){oe(ug,"User change. New user:",e.toKey());const a=await fE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new fe(W.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await cu(i,a.Ls)}}function pC(r,e){const i=we(r),a=i.Au.get(e);if(a&&a.hu)return ze().add(a.key);{let o=ze();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function OE(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=CE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hC.bind(null,e),e.Pu.H_=JR.bind(null,e.eventManager),e.Pu.yu=eC.bind(null,e.eventManager),e}function yC(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dC.bind(null,e),e}class vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return ER(this.persistence,new _R,e.initialUser,this.serializer)}Cu(e){return new hE(Jm.mi,this.serializer)}Du(e){return new CR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vh.provider={build:()=>new vh};class _C extends vh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ze(this.persistence.referenceDelegate instanceof yh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new iR(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new hE((a=>yh.mi(a,i)),this.serializer)}}class xm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>lv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=gC.bind(null,this.syncEngine),await $R(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ZR})()}createDatastore(e){const i=Vh(e.databaseInfo.databaseId),a=(function(c){return new MR(c)})(e.databaseInfo);return(function(c,d,p,y){return new UR(c,d,p,y)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,p){return new PR(a,o,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>lv(this.syncEngine,i,0)),(function(){return tv.v()?new tv:new NR})())}createSyncEngine(e,i){return(function(o,c,d,p,y,_,E){const A=new sC(o,c,d,p,y,_);return E&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=we(i);oe(ga,"RemoteStore shutting down."),a.Ea.add(5),await uu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}xm.provider={build:()=>new xm};class ME{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Or="FirestoreClient";class vC{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=vn.UNAUTHENTICATED,this.clientId=Bm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{oe(Or,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(oe(Or,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=lg(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function em(r,e){r.asyncQueue.verifyOperationInProgress(),oe(Or,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await fE(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function uv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await bC(r);oe(Or,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>iv(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>iv(e.remoteStore,o))),r._onlineComponents=e}async function bC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){oe(Or,"Using user provided OfflineComponentProvider");try{await em(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;_l("Error using user provided cache. Falling back to memory cache: "+i),await em(r,new vh)}}else oe(Or,"Using default OfflineComponentProvider"),await em(r,new _C(void 0));return r._offlineComponents}async function VE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(oe(Or,"Using user provided OnlineComponentProvider"),await uv(r,r._uninitializedComponentsProvider._online)):(oe(Or,"Using default OnlineComponentProvider"),await uv(r,new xm))),r._onlineComponents}function EC(r){return VE(r).then((e=>e.syncEngine))}async function wm(r){const e=await VE(r),i=e.eventManager;return i.onListen=rC.bind(null,e.syncEngine),i.onUnlisten=oC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=aC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=uC.bind(null,e.syncEngine),i}function TC(r,e,i={}){const a=new xr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const E=new ME({next:M=>{E.Nu(),d.enqueueAndForget((()=>SE(c,A)));const F=M.docs.has(p);!F&&M.fromCache?_.reject(new fe(W.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&y&&y.source==="server"?_.reject(new fe(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),A=new AE(Ch(p.path),E,{includeMetadataChanges:!0,qa:!0});return TE(c,A)})(await wm(r),r.asyncQueue,e,i,a))),a.promise}function kE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const cv=new Map;const jE="firestore.googleapis.com",hv=!0;class fv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jE,this.ssl=hv}else this.host=e.host,this.ssl=e.ssl??hv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tR)throw new fe(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Uw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new fe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new fe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new fe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hg{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new ww;switch(a.type){case"firstParty":return new Iw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new fe(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=cv.get(i);a&&(oe("ComponentProvider","Removing Datastore"),cv.delete(i),a.terminate())})(this),Promise.resolve()}}function SC(r,e,i,a={}){r=Fi(r,hg);const o=wl(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${i}`;o&&(Dv(`https://${p}`),Ov("Firestore",!0)),c.host!==jE&&c.host!==p&&_l("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:o,emulatorOptions:a};if(!wr(y,d)&&(r._setSettings(y),a.mockUserToken)){let _,E;if(typeof a.mockUserToken=="string")_=a.mockUserToken,E=vn.MOCK_USER;else{_=$1(a.mockUserToken,r._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new fe(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new vn(A)}r._authCredentials=new Rw(new Sb(_,E))}}class Uh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Uh(this.firestore,e,this._query)}}class Kt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}toJSON(){return{type:Kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(au(i,Kt._jsonSchema))return new Kt(e,a||null,new ye(St.fromString(i.referencePath)))}}Kt._jsonSchemaVersion="firestore/documentReference/1.0",Kt._jsonSchema={type:Qt("string",Kt._jsonSchemaVersion),referencePath:Qt("string")};class Zo extends Uh{constructor(e,i,a){super(e,i,Ch(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new ye(e))}withConverter(e){return new Zo(this.firestore,e,this._path)}}function Xt(r,e,...i){if(r=An(r),arguments.length===1&&(e=Bm.newId()),jw("doc","path",e),r instanceof hg){const a=St.fromString(e,...i);return w_(a),new Kt(r,null,new ye(a))}{if(!(r instanceof Kt||r instanceof Zo))throw new fe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(St.fromString(e,...i));return w_(a),new Kt(r.firestore,r instanceof Zo?r.converter:null,new ye(a))}}const dv="AsyncQueue";class mv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mE(this,"async_queue_retry"),this._c=()=>{const a=Jd();a&&oe(dv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Jd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Jd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new xr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Dl(e))throw e;oe(dv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Vs("INTERNAL UNHANDLED ERROR: ",gv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=ag.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&be(47125,{Pc:gv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function gv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function pv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class xl extends hg{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new mv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mv(e),this._firestoreClient=void 0,await e}}}function AC(r,e){const i=typeof r=="object"?r:jv(),a=typeof r=="string"?r:ch,o=Dm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=Y1("firestore");c&&SC(o,...c)}return o}function fg(r){if(r._terminated)throw new fe(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||xC(r),r._firestoreClient}function xC(r){const e=r._freezeSettings(),i=(function(o,c,d,p){return new Yw(o,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,kE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new vC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class li{constructor(e){this._byteString=e}static fromBase64String(e){try{return new li(mn.fromBase64String(e))}catch(i){throw new fe(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new li(mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:li._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(au(e,li._jsonSchema))return li.fromBase64String(e.bytes)}}li._jsonSchemaVersion="firestore/bytes/1.0",li._jsonSchema={type:Qt("string",li._jsonSchemaVersion),bytes:Qt("string")};class Lh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new fe(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ph{constructor(e){this._methodName=e}}class Xi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new fe(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new fe(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xi._jsonSchemaVersion}}static fromJSON(e){if(au(e,Xi._jsonSchema))return new Xi(e.latitude,e.longitude)}}Xi._jsonSchemaVersion="firestore/geoPoint/1.0",Xi._jsonSchema={type:Qt("string",Xi._jsonSchemaVersion),latitude:Qt("number"),longitude:Qt("number")};class $i{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:$i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(au(e,$i._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new $i(e.vectorValues);throw new fe(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$i._jsonSchemaVersion="firestore/vectorValue/1.0",$i._jsonSchema={type:Qt("string",$i._jsonSchemaVersion),vectorValues:Qt("object")};const wC=/^__.*__$/;class RC{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Vr(e,this.data,this.fieldMask,i,this.fieldTransforms):new lu(e,this.data,i,this.fieldTransforms)}}class UE{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Vr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function LE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:r})}}class zh{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new zh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return bh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(LE(this.Ac)&&wC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class CC{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Vh(e)}Cc(e,i,a,o=!1){return new zh({Ac:e,methodName:i,Dc:a,path:dn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function PE(r){const e=r._freezeSettings(),i=Vh(r._databaseId);return new CC(r._databaseId,!!e.ignoreUndefinedProperties,i)}function NC(r,e,i,a,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,e,i,o);mg("Data must be an object, but it was:",d,a);const p=zE(a,d);let y,_;if(c.merge)y=new Fn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const A of c.mergeFields){const M=Rm(e,A,i);if(!d.contains(M))throw new fe(W.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);HE(E,M)||E.push(M)}y=new Fn(E),_=d.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,_=d.fieldTransforms;return new RC(new Vn(p),y,_)}class Bh extends Ph{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bh}}function IC(r,e,i){return new zh({Ac:3,Dc:e.settings.Dc,methodName:r._methodName,fc:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class dg extends Ph{constructor(e,i){super(e),this.vc=i}_toFieldTransform(e){const i=IC(this,e,!0),a=this.vc.map((c=>hu(c,i))),o=new Tl(a);return new E2(e.path,o)}isEqual(e){return e instanceof dg&&wr(this.vc,e.vc)}}function DC(r,e,i,a){const o=r.Cc(1,e,i);mg("Data must be an object, but it was:",o,a);const c=[],d=Vn.empty();Mr(a,((y,_)=>{const E=gg(e,y,i);_=An(_);const A=o.yc(E);if(_ instanceof Bh)c.push(E);else{const M=hu(_,A);M!=null&&(c.push(E),d.set(E,M))}}));const p=new Fn(c);return new UE(d,p,o.fieldTransforms)}function OC(r,e,i,a,o,c){const d=r.Cc(1,e,i),p=[Rm(e,a,i)],y=[o];if(c.length%2!=0)throw new fe(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)p.push(Rm(e,c[M])),y.push(c[M+1]);const _=[],E=Vn.empty();for(let M=p.length-1;M>=0;--M)if(!HE(_,p[M])){const F=p[M];let J=y[M];J=An(J);const ne=d.yc(F);if(J instanceof Bh)_.push(F);else{const ee=hu(J,ne);ee!=null&&(_.push(F),E.set(F,ee))}}const A=new Fn(_);return new UE(E,A,d.fieldTransforms)}function hu(r,e){if(BE(r=An(r)))return mg("Unsupported field value:",e,r),zE(r,e);if(r instanceof Ph)return(function(a,o){if(!LE(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const p of a){let y=hu(p,o.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,e)}return(function(a,o){if((a=An(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return _2(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=_t.fromDate(a);return{timestampValue:ph(o.serializer,c)}}if(a instanceof _t){const c=new _t(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ph(o.serializer,c)}}if(a instanceof Xi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof li)return{bytesValue:iE(o.serializer,a._byteString)};if(a instanceof Kt){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Wm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof $i)return(function(d,p){return{mapValue:{fields:{[Ob]:{stringValue:Mb},[hh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Ym(p.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Hm(a)}`)})(r,e)}function zE(r,e){const i={};return wb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mr(r,((a,o)=>{const c=hu(o,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function BE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof _t||r instanceof Xi||r instanceof li||r instanceof Kt||r instanceof Ph||r instanceof $i)}function mg(r,e,i){if(!BE(i)||!Ab(i)){const a=Hm(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function Rm(r,e,i){if((e=An(e))instanceof Lh)return e._internalPath;if(typeof e=="string")return gg(r,e);throw bh("Field path arguments must be of type string or ",r,!1,void 0,i)}const MC=new RegExp("[~\\*/\\[\\]]");function gg(r,e,i){if(e.search(MC)>=0)throw bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Lh(...e.split("."))._internalPath}catch{throw bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function bh(r,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${o}`),y+=")"),new fe(W.INVALID_ARGUMENT,p+r+y)}function HE(r,e){return r.some((i=>i.isEqual(e)))}class qE{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(GE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class VC extends qE{data(){return super.data()}}function GE(r,e){return typeof e=="string"?gg(r,e):e instanceof Lh?e._internalPath:e._delegate._internalPath}function kC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new fe(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jC{convertValue(e,i="none"){switch(Ir(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Nr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Mr(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[hh].arrayValue?.values?.map((a=>jt(a.doubleValue)));return new $i(i)}convertGeoPoint(e){return new Xi(jt(e.latitude),jt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=wh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Yo(e));default:return null}}convertTimestamp(e){const i=Cr(e);return new _t(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=St.fromString(e);Ze(uE(a),9688,{name:e});const o=new Xo(a.get(1),a.get(3)),c=new ye(a.popFirst(5));return o.isEqual(i)||Vs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function UC(r,e,i){let a;return a=r?r.toFirestore(e):e,a}class Uo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ha extends qE{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Wc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(GE("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ha._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ha._jsonSchemaVersion="firestore/documentSnapshot/1.0",ha._jsonSchema={type:Qt("string",ha._jsonSchemaVersion),bundleSource:Qt("string","DocumentSnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class Wc extends ha{data(e={}){return super.data(e)}}class pl{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Uo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Wc(this._firestore,this._userDataWriter,a.key,a,new Uo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new fe(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const y=new Wc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Uo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Wc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Uo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,E=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),E=d.indexOf(p.doc.key)),{type:LC(p.type),doc:y,oldIndex:_,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=pl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Bm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function LC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:r})}}function PC(r){r=Fi(r,Kt);const e=Fi(r.firestore,xl);return TC(fg(e),r._key).then((i=>KE(e,r,i)))}pl._jsonSchemaVersion="firestore/querySnapshot/1.0",pl._jsonSchema={type:Qt("string",pl._jsonSchemaVersion),bundleSource:Qt("string","QuerySnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class FE extends jC{constructor(e){super(),this.firestore=e}convertBytes(e){return new li(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,i)}}function zC(r,e,i){r=Fi(r,Kt);const a=Fi(r.firestore,xl),o=UC(r.converter,e);return QE(a,[NC(PE(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,Ki.none())])}function hn(r,e,i,...a){r=Fi(r,Kt);const o=Fi(r.firestore,xl),c=PE(o);let d;return d=typeof(e=An(e))=="string"||e instanceof Lh?OC(c,"updateDoc",r._key,e,i,a):DC(c,"updateDoc",r._key,e),QE(o,[d.toMutation(r._key,Ki.exists(!0))])}function BC(r,...e){r=An(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||pv(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(pv(e[a])){const y=e[a];e[a]=y.next?.bind(y),e[a+1]=y.error?.bind(y),e[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof Kt)d=Fi(r.firestore,xl),p=Ch(r._key.path),c={next:y=>{e[a]&&e[a](KE(d,r,y))},error:e[a+1],complete:e[a+2]};else{const y=Fi(r,Uh);d=Fi(y.firestore,xl),p=y._query;const _=new FE(d);c={next:E=>{e[a]&&e[a](new pl(d,_,y,E))},error:e[a+1],complete:e[a+2]},kC(r._query)}return(function(_,E,A,M){const F=new ME(M),J=new AE(E,F,A);return _.asyncQueue.enqueueAndForget((async()=>TE(await wm(_),J))),()=>{F.Nu(),_.asyncQueue.enqueueAndForget((async()=>SE(await wm(_),J)))}})(fg(d),p,o,c)}function QE(r,e){return(function(a,o){const c=new xr;return a.asyncQueue.enqueueAndForget((async()=>cC(await EC(a),o,c))),c.promise})(fg(r),e)}function KE(r,e,i){const a=i.docs.get(e._key),o=new FE(r);return new ha(r,o,e._key,a,new Uo(i.hasPendingWrites,i.fromCache),e.converter)}function On(...r){return new dg("arrayUnion",r)}(function(e,i=!0){(function(o){Nl=o})(Rl),yl(new fa("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new xl(new Cw(a.getProvider("auth-internal")),new Dw(d,a.getProvider("app-check-internal")),(function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new fe(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xo(_.options.projectId,E)})(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Sr(T_,S_,e),Sr(T_,S_,"esm2020")})();const HC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),yv=r=>{const e=qC(r);return e.charAt(0).toUpperCase()+e.slice(1)},YE=(...r)=>r.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),GC=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var FC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const QC=Ye.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...p},y)=>Ye.createElement("svg",{ref:y,...FC,width:e,height:e,stroke:r,strokeWidth:a?Number(i)*24/Number(e):i,className:YE("lucide",o),...!c&&!GC(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,E])=>Ye.createElement(_,E)),...Array.isArray(c)?c:[c]]));const xt=(r,e)=>{const i=Ye.forwardRef(({className:a,...o},c)=>Ye.createElement(QC,{ref:c,iconNode:e,className:YE(`lucide-${HC(yv(r))}`,`lucide-${r}`,a),...o}));return i.displayName=yv(r),i};const KC=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}]],ua=xt("badge",KC);const YC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],_v=xt("book-open",YC);const XC=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],XE=xt("briefcase",XC);const $C=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],WC=xt("chevron-down",$C);const ZC=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],vv=xt("chevron-up",ZC);const JC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],eN=xt("circle-check-big",JC);const tN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],nN=xt("circle-x",tN);const iN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],sN=xt("crosshair",iN);const rN=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],aN=xt("eye-off",rN);const lN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Zc=xt("eye",lN);const oN=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],uN=xt("gavel",oN);const cN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],bv=xt("history",cN);const hN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],fN=xt("info",hN);const dN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Ev=xt("log-out",dN);const mN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Tv=xt("rotate-ccw",mN);const gN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Go=xt("search",gN);const pN=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yN=xt("settings",pN);const _N=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],Jc=xt("skull",_N);const vN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],eh=xt("target",vN);const bN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],EN=xt("trash-2",bN);const TN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Sv=xt("triangle-alert",TN);const SN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Av=xt("user",SN);const AN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$E=xt("x",AN),xN={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:c87b26c0536b13eb6aa637"},WE=kv(xN),zc=Aw(WE),$t=AC(WE),Wt=typeof __app_id<"u"?__app_id:"investigation-game",wN=["Kitchen Knife","Dagger","Crossed Swords","Fire Axe","Pickaxe","Hook","Scissors","Champagne Bottle","Katana","Blade","Saw","Hammer","Cricket Bat","Field Hockey Stick","Wrench","Crowbar","Brick","Moai Statue","Candlestick","Frying Pan","Stone","Pistol","Silenced Gun","Boxing Glove","Shotgun","Bow and Arrow","Rope","Wire","Necktie","Teddy Bear","Plastic Bag","Chain","Scarf","Arsenic","Cyanide Pill","Venomous Snake","Syringe","Sleeping Pills","Chainsaw","Explosives","Dynamite","Electrocution","Drowning","Push from Heights","Vehicle","Trophy","Screwdriver","Clamp","Fist","Electric Plug","Fire","Oil Drum","Lighter"],RN=["Hand","Shoe","Blood Stain","DNA Sample","T-Shirt","Shirt Button","Sewing Thread","Wedding Ring","Wristwatch","Gem Stone","Glasses","Purse","Name Badge","Credit Card","Receipt","Ticket","Memo","Notebook","Framed Picture","World Map","Floppy Disk","Smartphone","Laptop","Key","Coin","Cigarette","Flashlight","Funeral Urn","Ice Cube","Fork and Knife","Wilted Flower","Leaf","Droplet","Oil Drum","Artist Palette","Fountain Pen","Candy","Wine Glass","Hot Beverage","Kiss Mark","Lotion Bottle","Salt Shaker","Collision","Hammer","Glove","Ninja Mask","Joker Card","Game Die","Mirror"],CN={"Kitchen Knife":"",Dagger:"","Crossed Swords":"","Fire Axe":"",Pickaxe:"",Hook:"",Scissors:"","Champagne Bottle":"",Katana:"",Blade:"",Saw:"",Hammer:"","Cricket Bat":"","Field Hockey Stick":"",Wrench:"",Crowbar:"",Brick:"","Moai Statue":"",Candlestick:"","Frying Pan":"",Stone:"",Pistol:"","Silenced Gun":"","Boxing Glove":"",Shotgun:"","Bow and Arrow":"",Rope:"",Wire:"",Necktie:"","Teddy Bear":"","Plastic Bag":"",Chain:"",Scarf:"",Arsenic:"","Cyanide Pill":"","Venomous Snake":"",Syringe:"","Sleeping Pills":"",Chainsaw:"",Explosives:"",Dynamite:"",Electrocution:"",Drowning:"","Push from Heights":"",Vehicle:"",Trophy:"",Screwdriver:"",Clamp:"",Fist:"","Electric Plug":"",Fire:"","Oil Drum":"",Lighter:"",Hand:"",Shoe:"","Blood Stain":"","DNA Sample":"","T-Shirt":"","Shirt Button":"","Sewing Thread":"","Wedding Ring":"",Wristwatch:"","Gem Stone":"",Glasses:"",Purse:"","Name Badge":"","Credit Card":"",Receipt:"",Ticket:"",Memo:"",Notebook:"","Framed Picture":"","World Map":"","Floppy Disk":"",Smartphone:"",Laptop:"",Key:"",Coin:"",Cigarette:"",Flashlight:"","Funeral Urn":"","Ice Cube":"","Fork and Knife":"","Wilted Flower":"",Leaf:"",Droplet:"","Artist Palette":"","Fountain Pen":"",Candy:"","Wine Glass":"","Hot Beverage":"","Kiss Mark":"","Lotion Bottle":"","Salt Shaker":"",Collision:"",Glove:"","Ninja Mask":"","Joker Card":"","Game Die":"",Mirror:""},Bc={FIXED:{title:"Cause of Death",type:"purple",options:["Suffocation","Severe Injury","Loss of Blood","Chemical / Sickness","Accident","Projectile / Blast"]},MAIN:[{title:"Location of Crime",type:"green",options:["Living Room","Bedroom","Kitchen / Dining","Bathroom","Balcony","Garden"]},{title:"Location of Crime",type:"green",options:["Office","Hotel","Restaurant","Pub/Bar","School","Hospital"]},{title:"Location of Crime",type:"green",options:["Vacation home","Park","Supermarket","Forest","University","Bookstore"]},{title:"Location of Crime",type:"green",options:["Playground","Classroom","Dormitory","Cafeteria","Lift","Toilet"]}],SUBORDINATE:[{title:"Duration of Crime",options:["Instantaneous","Few Seconds","Few Minutes","Under an Hour","Several Hours","Days"]},{title:"Trace at Scene",options:["Footprints","Fingerprints","Blood/Fluids","Smell/Scent","Sound/Recording","Writing/Marks"]},{title:"Weapon Type",options:["Sharp","Blunt","Toxin/Chemical","Projectile","Everyday Object","Machinery/Tool"]},{title:"Weapon Property",options:["Heavy","Lightweight","Long","Short/Small","Noisy","Silent"]},{title:"Weapon Origin",options:["Household","Industrial/Work","Medical/Chemical","Outdoor/Nature","Military/Tactical","Sports/Recreation"]},{title:"Evidence Material",options:["Fabric/Cloth","Metal","Paper/Wood","Plastic","Biological","Stone/Glass"]},{title:"Evidence Condition",options:["Broken/Damaged","New/Shiny","Old/Worn","Wet/Dirty","Burnt/Singed","Incomplete"]},{title:"Social Relation",options:["Relatives","Friends","Colleagues","Lovers","Strangers","Enemies"]},{title:"Sudden Incident",options:["Loud Shout","Heavy Thud","Bright Flash","Dead Silence","Scream","Breaking Glass"]},{title:"Motive",options:["Hatred/Revenge","Greed/Money","Love/Passion","Jealousy","Fear/Defense","Madness"]},{title:"Killer's Trait",options:["Arrogant","Cautious","Violent","Calm/Cold","Nervous","Calculating"]},{title:"Impression",options:["Natural","Artistic","Cruel","Clumsy","Professional","Bizarre"]},{title:"Noticed By Others",options:["Sound","Smell","Silhouette","Someone Running","Object Thrown","Nothing"]},{title:"Evidence Size",options:["Tiny","Small","Medium","Large","Heavy","Microscopic"]},{title:"Evidence Color",options:["Red/Purple","Blue/Green","Yellow/Orange","Black/Grey","White/Clear","Metallic"]},{title:"State of Scene",options:["Chaos / Destruction","Signs of Struggle","Perfectly Tidy","Items Missing","Staged / Artificially Arranged","Covered (Ash/Water/Dust)"]},{title:"Injury/Wounds",options:["Head / Neck","Chest / Torso","Hands / Arms","Legs / Feet","Internal Organs","No Visible Wounds"]},{title:"Assassin Hint",options:["Man","Woman","Tall","Short","Strong","Weak"]},{title:"Shape of Evidence",options:["Round/Spherical","Square/Rectangular","Long/Thin","Flat/Sheet","Irregular/Amorphous","Sharp/Pointed"]},{title:"Weapon Operation",options:["Muscle Power","Mechanism/Trigger","Chemical/Reaction","Electrical","Passive/Trap","Animal/Living"]},{title:"Evidence Domain",options:["Work/Office","Home/Domestic","Travel/Outdoor","Leisure/Hobby","Medical/Hygiene","Vice/Illegal"]},{title:"Concealability (Weapon)",options:["Pocket Size","Bag/Backpack Size","Two-Handed/Large","Not Concealable","Invisible/Internal","Disguised as Object"]},{title:"Relation to Victim (Evidence)",options:["Owned by Victim","Stolen from Victim","Gifted to Victim","Belonged to Killer","Found at Scene","Unknown Origin"]},{title:"Texture of Evidence",options:["Hard/Rigid","Soft/Flexible","Metallic/Cold","Wooden/Rough","Paper-like","Sticky/Liquid"]},{title:"Residue Left by Weapon",options:["Blood","Powder/Dust","Water/Fluid","Ash/Burn Mark","Fragments/Shards","None/Clean"]},{title:"Visibility of Injury",options:["None Visible","Small Puncture","Large Wound","Bruising/Swelling","Burns/Rash","Dismemberment/Breakage"]}]},rl=r=>{let e=r.length,i;const a=[...r];for(;e!==0;)i=Math.floor(Math.random()*e),e--,[a[e],a[i]]=[a[i],a[e]];return a},_n=r=>{const e=CN[r]||"";return b.jsx("span",{className:"text-2xl leading-none filter drop-shadow-sm grayscale-[0.2] mb-1 block",children:e})},al=()=>b.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[b.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-gray-800 via-gray-900 to-black opacity-80"}),b.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:'url("https://www.transparenttextures.com/patterns/black-scales.png")'}})]}),ws=()=>b.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 py-2 w-full bg-slate-950/80 backdrop-blur-sm border-t border-slate-900/50 z-50",children:[b.jsx(Go,{size:12,className:"text-green-500"}),b.jsx("span",{className:"text-[10px] font-black tracking-widest text-green-500 uppercase",children:"INVESTIGATION"})]}),tm=({onClose:r})=>b.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-950/95 flex justify-center overflow-y-auto p-4 animate-in slide-in-from-bottom-10 fade-in duration-300",children:b.jsxs("div",{className:"w-full max-w-4xl relative",children:[b.jsx("button",{onClick:r,className:"fixed top-4 right-4 md:absolute md:-right-12 md:top-0 bg-slate-800 p-2 rounded-full text-white hover:bg-slate-700 shadow-lg z-50",children:b.jsx($E,{size:24})}),b.jsxs("div",{className:"space-y-8 pb-20 mt-12 md:mt-0",children:[b.jsxs("div",{className:"text-center space-y-2",children:[b.jsx("h2",{className:"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-green-600",children:"GAME GUIDE"}),b.jsx("p",{className:"text-slate-400",children:"Deduction, Deception, and Discovery"})]}),b.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl p-6 shadow-xl",children:[b.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[b.jsx(eh,{className:"text-red-500"})," The Objective"]}),b.jsxs("p",{className:"text-slate-300 leading-relaxed",children:["A murder has been committed. The"," ",b.jsx("span",{className:"text-blue-400 font-bold",children:"Detective"})," knows the solution but can only communicate through vague clues. The"," ",b.jsx("span",{className:"text-green-400 font-bold",children:"Investigators"})," must interpret these clues to find the true"," ",b.jsx("strong",{className:"text-white",children:"Murder Weapon"})," and"," ",b.jsx("strong",{className:"text-white",children:"Evidence"})," before time runs out. Meanwhile, the"," ",b.jsx("span",{className:"text-red-400 font-bold",children:"Murderer"})," hides among them, trying to mislead the investigation."]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsxs("div",{className:"bg-slate-800/50 border border-blue-500/30 rounded-xl p-5",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx("div",{className:"bg-blue-600 p-1.5 rounded text-white",children:b.jsx(Go,{size:16})}),b.jsx("span",{className:"font-bold text-blue-400",children:"Detective"})]}),b.jsx("p",{className:"text-sm text-slate-300",children:"Host & Guide. Knows the solution. Cannot speak about the case. Selects tile cards to give hints."})]}),b.jsxs("div",{className:"bg-slate-800/50 border border-red-500/30 rounded-xl p-5",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx("div",{className:"bg-red-600 p-1.5 rounded text-white",children:b.jsx(Jc,{size:16})}),b.jsx("span",{className:"font-bold text-red-400",children:"Murderer"})]}),b.jsx("p",{className:"text-sm text-slate-300",children:"The Culprit. Chooses the Means & Clue at the start. Hides identity and tries to sabotage the team."})]}),b.jsxs("div",{className:"bg-slate-800/50 border border-emerald-500/30 rounded-xl p-5",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx("div",{className:"bg-emerald-600 p-1.5 rounded text-white",children:b.jsx(ua,{size:16})}),b.jsx("span",{className:"font-bold text-emerald-400",children:"Investigator"})]}),b.jsx("p",{className:"text-sm text-slate-300",children:"The Team. Discusses clues and submits accusations to solve the crime."})]}),b.jsxs("div",{className:"bg-slate-800/50 border border-orange-500/30 rounded-xl p-5",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx("div",{className:"bg-orange-600 p-1.5 rounded text-white",children:b.jsx(XE,{size:16})}),b.jsx("span",{className:"font-bold text-orange-400",children:"Accomplice"})]}),b.jsx("p",{className:"text-sm text-slate-300",children:"(Optional) Knows who the Murderer is. Helps them win without getting caught."})]}),b.jsxs("div",{className:"bg-slate-800/50 border border-indigo-500/30 rounded-xl p-5 md:col-span-2",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx("div",{className:"bg-indigo-600 p-1.5 rounded text-white",children:b.jsx(Zc,{size:16})}),b.jsx("span",{className:"font-bold text-indigo-400",children:"Witness"})]}),b.jsx("p",{className:"text-sm text-slate-300",children:"(Optional) Knows the Murderer but not the solution. Must help Investigators without revealing themselves. If the Murderer finds the Witness at the end, the Murderer wins!"})]})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsx("h3",{className:"text-xl font-bold text-white pl-2 border-l-4 border-green-500",children:"How It Works"}),b.jsxs("div",{className:"flex gap-4",children:[b.jsx("div",{className:"flex-none w-8 h-8 rounded-full bg-slate-800 border border-slate-700 flex items-center justify-center font-bold text-slate-500",children:"1"}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-white",children:"The Crime"}),b.jsx("p",{className:"text-sm text-slate-400",children:"Everyone closes their eyes. The Murderer wakes up and selects 1 Means card and 1 Clue card from their hand. This becomes the solution."})]})]}),b.jsxs("div",{className:"flex gap-4",children:[b.jsx("div",{className:"flex-none w-8 h-8 rounded-full bg-slate-800 border border-slate-700 flex items-center justify-center font-bold text-slate-500",children:"2"}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-white",children:"The Investigation"}),b.jsxs("p",{className:"text-sm text-slate-400",children:[`The Detective analyzes the solution. They receive random "Scene Tiles" (e.g., Location, Weather, Victim's Clothes). The Detective selects the option on each tile that`," ",b.jsx("em",{children:"best relates"})," to the solution."]})]})]}),b.jsxs("div",{className:"flex gap-4",children:[b.jsx("div",{className:"flex-none w-8 h-8 rounded-full bg-slate-800 border border-slate-700 flex items-center justify-center font-bold text-slate-500",children:"3"}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-white",children:"Discussion & Rounds"}),b.jsxs("p",{className:"text-sm text-slate-400",children:[`Investigators discuss the tiles. "Why did the Detective say it was 'Noisy'? Maybe the weapon is a Gun?" `,b.jsx("br",{}),"The game lasts ",b.jsx("strong",{children:"3 Rounds"}),". In each new round, the Detective replaces one old tile with a new one to refine the clues."]})]})]}),b.jsxs("div",{className:"flex gap-4",children:[b.jsx("div",{className:"flex-none w-8 h-8 rounded-full bg-slate-800 border border-slate-700 flex items-center justify-center font-bold text-slate-500",children:"4"}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-white",children:"Accusation & Winning"}),b.jsxs("ul",{className:"text-sm text-slate-400 list-disc ml-4 mt-1 space-y-1",children:[b.jsxs("li",{children:["Investigators can spend their"," ",b.jsx("strong",{className:"text-yellow-500",children:"Badge"})," to make an accusation at any time."]}),b.jsxs("li",{children:["If ",b.jsx("strong",{children:"CORRECT"}),": Investigators Win! (Unless Murderer finds Witness)."]}),b.jsxs("li",{children:["If ",b.jsx("strong",{children:"WRONG"}),": The player loses their badge and can no longer solve."]}),b.jsxs("li",{children:["If all badges are used or rounds end without a solution:"," ",b.jsx("strong",{children:"Murderer Wins!"})]})]})]})]})]}),b.jsx("div",{className:"text-center pt-8",children:b.jsx("button",{onClick:r,className:"bg-white text-slate-900 px-8 py-3 rounded-full font-bold hover:scale-105 transition-transform",children:"Got it, Let's Play!"})})]})]})});function NN(){const[r,e]=Ye.useState(null),[i,a]=Ye.useState("menu"),[o,c]=Ye.useState(""),[d,p]=Ye.useState(""),[y,_]=Ye.useState(null),[E,A]=Ye.useState(null),[M,F]=Ye.useState(!1),[J,ne]=Ye.useState(""),[ee,ve]=Ye.useState(null),[Re,Ee]=Ye.useState(null),[ge,Xe]=Ye.useState(null),[Be,N]=Ye.useState(!1),[x,C]=Ye.useState(!1),[V,I]=Ye.useState(!1),[k,w]=Ye.useState(!1),[ot,ut]=Ye.useState(!1),[q,se]=Ye.useState(!0),[ce,Me]=Ye.useState(null),[Fe,O]=Ye.useState(!0),[Y,ie]=Ye.useState(!0),[le,pe]=Ye.useState(!1);Ye.useEffect(()=>{(async()=>{if(typeof __initial_auth_token<"u"&&__initial_auth_token)try{await cx(zc,__initial_auth_token)}catch(ae){console.error("Custom token sign-in failed, falling back to anon",ae),await h_(zc)}else await h_(zc)})();const re=dx(zc,ae=>e(ae));return()=>re()},[]),Ye.useEffect(()=>{E?.phase==="WITNESS_HUNT"?(O(!0),ie(!0)):O(!1)},[E?.phase]),Ye.useEffect(()=>{E?.accompliceSuggestion&&ie(!0)},[E?.accompliceSuggestion]),Ye.useEffect(()=>{if(!y||!r)return;const Z=Xt($t,"artifacts",Wt,"public","data","rooms",y),re=BC(Z,ae=>{if(ae.exists()){const de=ae.data();if(!de.players.find(ft=>ft.id===r.uid)){_(null),a("menu"),A(null),ne("You were removed from the room.");return}A({id:ae.id,...de}),de.status==="playing"||de.status==="finished"?a("game"):a("lobby"),de.status==="lobby"&&(N(!1),Xe(null),w(!1)),de.status==="playing"&&de.phase==="INVESTIGATION"&&de.players.filter(dt=>dt.role!=="DETECTIVE"&&dt.badge===!0).length===0&&!de.activeAccusation&&de.hostId===r.uid&&Ce()}else _(null),a("menu"),ne("Room closed.")},ae=>console.error(ae));return()=>re()},[y,r]);const Ce=async Z=>{let re=[{text:"All badges used. Murderer Escapes!",type:"danger"}];await hn(Xt($t,"artifacts",Wt,"public","data","rooms",y),{phase:"GAME_OVER_BAD",logs:On(...re)})},Oe=(Z,re)=>{Me({title:Z,message:re,type:"alert"})},Dt=(Z,re,ae)=>{Me({title:Z,message:re,type:"confirm",onConfirm:ae})},ct=()=>Me(null),Ji=async()=>{if(!r||!o.trim())return ne("Enter nickname.");F(!0);const Z=Math.random().toString(36).substring(2,7).toUpperCase(),re={roomId:Z,hostId:r.uid,players:[{id:r.uid,name:o,role:null,means:[],clues:[],badge:!0,ready:!0}],status:"lobby",settings:{useAccomplice:!1,useWitness:!1},logs:[],accusations:[],nextRoundRequests:[],readyPlayers:[],activeAccusation:null};try{await zC(Xt($t,"artifacts",Wt,"public","data","rooms",Z),re),_(Z),p(Z)}catch{ne("Failed to create room.")}F(!1)},Us=async()=>{if(!r||!d||!o.trim())return ne("Enter details.");F(!0);try{const Z=Xt($t,"artifacts",Wt,"public","data","rooms",d.toUpperCase()),re=await PC(Z);if(!re.exists())throw new Error("Room not found.");const ae=re.data();if(ae.players.length>=10)throw new Error("Room full.");if(ae.status!=="lobby")throw new Error("Game started.");ae.players.find(Je=>Je.id===r.uid)||await hn(Z,{players:On({id:r.uid,name:o,role:null,means:[],clues:[],badge:!0,ready:!0})}),_(d.toUpperCase())}catch(Z){ne(Z.message)}F(!1)},es=async Z=>{if(!E||E.hostId!==r.uid)return;const re=E.settings?.[Z]||!1;await hn(Xt($t,"artifacts",Wt,"public","data","rooms",y),{[`settings.${Z}`]:!re})},Ei=async()=>{if(!y||!r||!E)return;const Z=E.players.filter(re=>re.id!==r.uid);try{const re=Xt($t,"artifacts",Wt,"public","data","rooms",y);Z.length===0||await hn(re,{players:Z,hostId:E.hostId===r.uid?Z[0].id:E.hostId})}catch{}_(null),a("menu"),A(null),ut(!1)},Qn=async Z=>{if(!E||E.hostId!==r.uid)return;const re=E.players.filter(ae=>ae.id!==Z);await hn(Xt($t,"artifacts",Wt,"public","data","rooms",y),{players:re})},ts=async()=>{if(!E||E.hostId!==r.uid)return;const Z=E.players.map(re=>({...re,role:null,means:[],clues:[],badge:!0,ready:!0}));await hn(Xt($t,"artifacts",Wt,"public","data","rooms",y),{status:"lobby",phase:null,solution:null,activeTiles:null,logs:[],players:Z,round:1,accusations:[],successfulSolvers:[],accompliceSuggestion:null,murdererGuess:null,nextRoundRequests:[],readyPlayers:[],activeAccusation:null})},ns=async()=>{if(E.players.length<4)return ne("Need 4+ players.");const Z=E.players.length;let re=["DETECTIVE","MURDERER"];for(Z>=6&&E.settings?.useAccomplice&&re.push("ACCOMPLICE"),Z>=5&&E.settings?.useWitness&&re.push("WITNESS");re.length<Z;)re.push("INVESTIGATOR");re=rl(re);const ae=rl([...wN]),de=rl([...RN]),Je=E.players.map((He,gt)=>{if(re[gt]==="DETECTIVE")return{...He,role:re[gt],means:[],clues:[],badge:!1};const gn=[],Si=[];for(let Ut=0;Ut<4;Ut++)gn.push(ae.pop());for(let Ut=0;Ut<4;Ut++)Si.push(de.pop());return{...He,role:re[gt],means:gn,clues:Si,badge:!0}}),ft=rl([...Bc.MAIN])[0],dt=rl([...Bc.SUBORDINATE]).slice(0,4),Rt=[{...Bc.FIXED,id:"cause",selected:null},{...ft,id:"main",selected:null},...dt.map((He,gt)=>({...He,id:`scene_${gt}`,selected:null}))];await hn(Xt($t,"artifacts",Wt,"public","data","rooms",y),{status:"playing",phase:"PRE_GAME_MURDER",players:Je,activeTiles:Rt,solution:null,round:1,logs:On({text:"Game Started. Planning Phase...",type:"neutral"}),accusations:[],nextRoundRequests:[],readyPlayers:[],activeAccusation:null})},kr=async()=>{if(E.readyPlayers?.includes(r.uid))return;const Z=[...E.readyPlayers||[],r.uid],re=E.players.length===Z.length;let ae={readyPlayers:Z};re&&(ae.phase="MURDERER_SELECT",ae.logs=On({text:"Everyone Ready. Murderer is choosing...",type:"danger"})),await hn(Xt($t,"artifacts",Wt,"public","data","rooms",y),ae)},jr=async(Z,re)=>{await hn(Xt($t,"artifacts",Wt,"public","data","rooms",y),{solution:{means:Z,clue:re,murdererId:r.uid},phase:"DETECTIVE_TURN",logs:On({text:"Crime Committed. Detective is analyzing evidence...",type:"danger"})})},wt=async(Z,re)=>{const ae=[...E.activeTiles];ae[Z].selected=re,await hn(Xt($t,"artifacts",Wt,"public","data","rooms",y),{activeTiles:ae})},Ot=async()=>{if(!E.activeTiles.every(re=>re.selected!==null))return Oe("Incomplete","Select an option for every tile!");await hn(Xt($t,"artifacts",Wt,"public","data","rooms",y),{phase:"INVESTIGATION",logs:On({text:`Round ${E.round} Clues Revealed! Investigators, submit your files when ready.`,type:"info"}),nextRoundRequests:[]})},Ti=async()=>{E.nextRoundRequests?.includes(r.uid)||await hn(Xt($t,"artifacts",Wt,"public","data","rooms",y),{nextRoundRequests:On(r.uid)})},Ml=async Z=>{if(Z<2)return Oe("Invalid Action","You cannot replace the Cause of Death or Main Location tile.");if(E.round>=3)return;const re=E.activeTiles.map(ft=>ft.title),ae=Bc.SUBORDINATE.filter(ft=>!re.includes(ft.title)),de=rl(ae)[0],Je=[...E.activeTiles];Je[Z]={...de,id:`scene_r${E.round+1}_${Z}`,selected:null},await hn(Xt($t,"artifacts",Wt,"public","data","rooms",y),{phase:"DETECTIVE_TURN",round:E.round+1,activeTiles:Je,logs:On({text:`Round ${E.round+1} Begins. Detective is updating a clue...`,type:"neutral"})}),w(!1)},_a=async()=>{if(!ge)return;const{targetId:Z,means:re,clue:ae}=ge,de=E.players.findIndex(gt=>gt.id===r.uid),Je=[...E.players];Je[de].badge=!1;const ft=E.solution,dt=Z===ft.murdererId&&re===ft.means&&ae===ft.clue,Rt={solverId:r.uid,solverName:Je[de].name,targetId:Z,means:re,clue:ae,isCorrect:dt,continueVotes:[]},He=E.nextRoundRequests||[];He.includes(r.uid)||He.push(r.uid),await hn(Xt($t,"artifacts",Wt,"public","data","rooms",y),{players:Je,accusations:On(Rt),activeAccusation:Rt,nextRoundRequests:He,logs:On({text:`${Je[de].name} submitted a case file.`,type:"neutral"})}),N(!1),Xe(null)},rn=async()=>{if(!E.activeAccusation)return;const Z=E.activeAccusation.continueVotes||[];if(Z.includes(r.uid))return;const re=[...Z,r.uid],ae=E.players.length===re.length;let de={"activeAccusation.continueVotes":re};ae&&(de.activeAccusation=null,E.activeAccusation.isCorrect?E.settings?.useWitness?(de.phase="WITNESS_HUNT",de.successfulSolvers=[E.activeAccusation.solverId],de.logs=On({text:"CORRECT! But Murderer can steal win by finding Witness.",type:"warning"})):(de.phase="GAME_OVER_GOOD",de.successfulSolvers=[E.activeAccusation.solverId],de.logs=On({text:"CORRECT! Investigators Win!",type:"success"})):de.logs=On({text:`${E.activeAccusation.solverName} was WRONG. Game Continues.`,type:"danger"})),await hn(Xt($t,"artifacts",Wt,"public","data","rooms",y),de)},is=async Z=>{await hn(Xt($t,"artifacts",Wt,"public","data","rooms",y),{accompliceSuggestion:Z})},Ur=async Z=>{const re=E.players.find(Je=>Je.id===Z);let ae="GAME_OVER_GOOD",de=[];re.role==="WITNESS"?(ae="GAME_OVER_BAD",de.push({text:`Murderer identified the Witness (${re.name})! Murderer Wins!`,type:"danger"})):(ae="GAME_OVER_GOOD",de.push({text:"Murderer guessed wrong! Investigators Win!",type:"success"})),await hn(Xt($t,"artifacts",Wt,"public","data","rooms",y),{phase:ae,logs:On(...de)})},ss=({role:Z})=>{if(!Z)return null;let re="bg-gray-600",ae=Av;Z==="DETECTIVE"&&(re="bg-blue-600",ae=Go),Z==="MURDERER"&&(re="bg-red-600",ae=Jc),Z==="INVESTIGATOR"&&(re="bg-emerald-600",ae=ua),Z==="ACCOMPLICE"&&(re="bg-orange-600",ae=XE),Z==="WITNESS"&&(re="bg-indigo-600",ae=Zc);const de=Z.charAt(0)+Z.slice(1).toLowerCase();return b.jsxs("div",{className:`${re} text-white px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1 shadow-sm`,children:[O1.createElement(ae,{size:12})," ",b.jsx("span",{className:"whitespace-nowrap",children:de})]})};if(!r)return b.jsx("div",{className:"h-screen bg-slate-900 text-white flex items-center justify-center",children:"Loading..."});if(i==="menu")return b.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[b.jsx(al,{}),le&&b.jsx(tm,{onClose:()=>pe(!1)}),b.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[b.jsx(Go,{size:64,className:"text-green-500 mx-auto mb-4 animate-bounce drop-shadow-[0_0_15px_rgba(34,197,94,0.5)]"}),b.jsx("h1",{className:"text-3xl sm:text-5xl md:text-6xl font-black text-transparent bg-clip-text bg-gradient-to-b from-green-300 to-green-600 font-serif tracking-widest drop-shadow-md break-words max-w-full",children:"INVESTIGATION"}),b.jsx("p",{className:"text-gray-400 tracking-[0.3em] uppercase mt-2",children:"Murder Mystery"})]}),b.jsxs("div",{className:"bg-gray-900/80 backdrop-blur border border-gray-700 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10 animate-in slide-in-from-bottom-10 duration-700 delay-100",children:[J&&b.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-sm border border-red-800",children:J}),b.jsx("input",{className:"w-full bg-black/50 border border-gray-600 p-3 rounded mb-4 text-white placeholder-gray-500 focus:border-green-500 outline-none transition-colors",placeholder:"Your Codename",value:o,onChange:Z=>c(Z.target.value)}),b.jsxs("button",{onClick:Ji,disabled:M,className:"w-full bg-gradient-to-r from-green-700 to-green-600 hover:from-green-600 hover:to-green-500 p-4 rounded font-bold mb-4 flex items-center justify-center gap-2 border border-green-500/30 shadow-[0_0_15px_rgba(34,197,94,0.2)] transition-all",children:[b.jsx(ua,{size:20})," Create Case File"]}),b.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[b.jsx("input",{className:"w-full sm:flex-1 bg-black/50 border border-gray-600 p-3 rounded text-white placeholder-gray-500 uppercase font-mono tracking-wider focus:border-green-500 outline-none",placeholder:"ROOM CODE",value:d,onChange:Z=>p(Z.target.value.toUpperCase())}),b.jsx("button",{onClick:Us,disabled:M,className:"w-full sm:w-auto bg-gray-800 hover:bg-gray-700 border border-gray-600 px-6 py-3 rounded font-bold transition-colors",children:"Join"})]}),b.jsxs("button",{onClick:()=>pe(!0),className:"w-full text-sm text-gray-400 hover:text-white flex items-center justify-center gap-2 py-2",children:[b.jsx(_v,{size:16})," How to Play"]})]}),b.jsx("div",{className:"fixed bottom-0 left-0 w-full",children:b.jsx(ws,{})})]});if(i==="lobby"&&E){const Z=E.hostId===r.uid,re=E.players.length;return b.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-6 relative pb-16",children:[b.jsx(al,{}),le&&b.jsx(tm,{onClose:()=>pe(!1)}),b.jsxs("div",{className:"z-10 w-full max-w-lg bg-gray-800/90 p-8 rounded-2xl border border-gray-700 shadow-2xl mb-4",children:[b.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-gray-700 pb-4",children:[b.jsxs("h2",{className:"text-2xl font-serif text-green-500",children:["Case File: ",E.roomId]}),b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[b.jsx(Av,{size:16})," ",re,"/10"]}),b.jsx("button",{onClick:()=>ut(!0),className:"p-2 bg-red-900/50 hover:bg-red-900 rounded text-red-300",title:"Leave Room",children:b.jsx(Ev,{size:16})})]})]}),b.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-xl border border-gray-700 flex justify-between items-center mb-6",children:[b.jsxs("div",{className:"flex items-center gap-2 text-gray-300 font-bold",children:[b.jsx(yN,{size:18})," Settings"]}),b.jsxs("div",{className:"flex gap-4",children:[re>=6&&b.jsxs("label",{className:`flex items-center gap-2 cursor-pointer ${!Z&&"opacity-50 pointer-events-none"}`,children:[b.jsx("input",{type:"checkbox",checked:E.settings?.useAccomplice||!1,onChange:()=>es("useAccomplice"),className:"w-4 h-4 accent-green-500 rounded"}),b.jsx("span",{className:"text-sm",children:"Accomp."})]}),re>=5&&b.jsxs("label",{className:`flex items-center gap-2 cursor-pointer ${!Z&&"opacity-50 pointer-events-none"}`,children:[b.jsx("input",{type:"checkbox",checked:E.settings?.useWitness||!1,onChange:()=>es("useWitness"),className:"w-4 h-4 accent-green-500 rounded"}),b.jsx("span",{className:"text-sm",children:"Witness"})]}),re<5&&b.jsx("span",{className:"text-xs text-gray-500",children:"Need 5+ players for extra roles"})]})]}),b.jsxs("div",{className:"space-y-3 mb-8",children:[E.players.map(ae=>b.jsxs("div",{className:"flex items-center justify-between bg-gray-900 p-4 rounded border border-gray-700",children:[b.jsx("div",{className:"flex items-center gap-3",children:b.jsxs("span",{className:`font-bold ${ae.id===r.uid?"text-green-500":"text-gray-300"}`,children:[ae.name," ",ae.id===E.hostId&&""]})}),b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("span",{className:"text-green-600 flex items-center gap-1 text-sm",children:[b.jsx(eN,{size:14})," Ready"]}),Z&&ae.id!==r.uid&&b.jsx("button",{onClick:()=>Qn(ae.id),className:"text-red-900 hover:text-red-500 transition-colors",children:b.jsx(EN,{size:16})})]})]},ae.id)),E.players.length<4&&b.jsx("div",{className:"text-center text-gray-500 animate-pulse italic",children:"Waiting for more investigators..."})]}),Z?b.jsx("button",{onClick:ns,disabled:E.players.length<4,className:`w-full py-4 rounded-xl font-bold text-lg shadow-lg transition-all ${E.players.length<4?"bg-gray-700 cursor-not-allowed text-gray-500":"bg-green-700 hover:bg-green-600 text-white shadow-green-900/30"}`,children:"Start Investigation"}):b.jsx("div",{className:"text-center text-green-500/80 font-serif mb-2",children:"Waiting for Host to start..."})]}),b.jsx("div",{className:"fixed bottom-0 left-0 w-full",children:b.jsx(ws,{})}),ot&&b.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6 max-w-sm w-full text-center shadow-2xl",children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Leave Case?"}),b.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:"Are you sure? You will be removed from the lobby."}),b.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[b.jsx("button",{onClick:()=>ut(!1),className:"bg-slate-700 hover:bg-slate-600 text-white py-3 rounded font-bold",children:"Stay"}),b.jsx("button",{onClick:Ei,className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold",children:"Leave"})]})]})})]})}if(i==="game"&&E){const Z=E.players.find(Q=>Q.id===r.uid);if(!Z)return b.jsx("div",{onClick:()=>window.location.reload(),className:"p-10 text-white cursor-pointer",children:"You were removed. Click to reload."});let re={};if(re[Z.id]=Z.role,Z.role==="DETECTIVE"&&E.players.forEach(Q=>re[Q.id]=Q.role),Z.role==="MURDERER"){const Q=E.players.find(Se=>Se.role==="ACCOMPLICE");Q&&(re[Q.id]="ACCOMPLICE")}if(Z.role==="ACCOMPLICE"){const Q=E.players.find(Se=>Se.role==="MURDERER");Q&&(re[Q.id]="MURDERER")}Z.role==="WITNESS"&&E.players.forEach(Q=>{Q.role==="MURDERER"&&(re[Q.id]="MURDERER")});const ae=Z.role==="DETECTIVE",de=Z.role==="MURDERER",Je=Z.role==="ACCOMPLICE",ft=E.phase==="PRE_GAME_MURDER",dt=E.phase==="MURDERER_SELECT",Rt=E.phase==="DETECTIVE_TURN",He=E.phase==="INVESTIGATION",gt=E.phase==="WITNESS_HUNT",gn=E.phase==="GAME_OVER_GOOD",Si=(Q,Se,Et)=>{ae||!Z.badge||!He||Xe(mt=>{if(mt?.targetId!==Q)return{targetId:Q,[Se]:Et,[Se==="means"?"clue":"means"]:null};const Ct={...mt};return Ct[Se]===Et?Ct[Se]=null:Ct[Se]=Et,Ct})},Ut=E.players.filter(Q=>Q.role!=="DETECTIVE").every(Q=>{const Se=E.nextRoundRequests?.includes(Q.id),Et=E.accusations?.some(mt=>mt.solverId===Q.id);return Se||Et}),Kn=E.accusations?.find(Q=>Q.solverId===r.uid);if(ft){const Q=E.readyPlayers?.includes(r.uid);return b.jsxs("div",{className:"min-h-screen bg-slate-900 text-slate-100 flex flex-col relative pb-16",children:[b.jsx(al,{}),b.jsxs("div",{className:"bg-slate-800 p-3 shadow-lg z-20 flex justify-between items-center sticky top-0 border-b border-slate-700",children:[b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-slate-400 font-bold uppercase",children:"Pre-Game Phase"}),b.jsxs("div",{className:"text-sm font-bold text-white flex items-center gap-2",children:[b.jsx(Zc,{size:16})," View Roles & Cards"]})]}),b.jsx("button",{onClick:kr,disabled:Q,className:`px-6 py-2 rounded-full font-bold text-sm transition-all ${Q?"bg-green-600 text-white cursor-default":"bg-blue-600 hover:bg-blue-500 text-white shadow-lg animate-pulse"}`,children:Q?"Waiting for others...":"Ready for Murder"})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-transparent z-10",children:b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 max-w-7xl mx-auto pb-20",children:E.players.map(Se=>{const Et=Se.id===r.uid,mt=re[Se.id]||Se.role==="DETECTIVE";return b.jsxs("div",{className:`relative bg-slate-900 border rounded-xl overflow-hidden shadow-lg ${Et?"border-blue-500/50":"border-slate-800"}`,children:[b.jsx("div",{className:"p-2 bg-slate-800/80 flex justify-between items-center border-b border-slate-700",children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:`font-bold text-sm ${Et?"text-blue-400":"text-slate-200"}`,children:Se.name}),mt&&b.jsx(ss,{role:Se.role})]})}),b.jsxs("div",{className:"p-2 grid grid-cols-2 gap-2",children:[b.jsxs("div",{className:"space-y-1",children:[b.jsx("div",{className:"text-[10px] uppercase font-bold text-red-900 mb-1",children:"Murder Weapon"}),Se.means.map(Ct=>b.jsxs("div",{className:"p-1.5 rounded bg-slate-800 border border-red-900/30 flex flex-col items-center justify-center text-center gap-1 min-h-[50px] shadow-sm",children:[_n(Ct),b.jsx("span",{className:"text-[9px] font-bold text-red-200 leading-tight line-clamp-2",children:Ct})]},Ct))]}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("div",{className:"text-[10px] uppercase font-bold text-blue-900 mb-1",children:"Evidence on Site"}),Se.clues.map(Ct=>b.jsxs("div",{className:"p-1.5 rounded bg-slate-800 border border-blue-900/30 flex flex-col items-center justify-center text-center gap-1 min-h-[50px] shadow-sm",children:[_n(Ct),b.jsx("span",{className:"text-[9px] font-bold text-blue-200 leading-tight line-clamp-2",children:Ct})]},Ct))]})]})]},Se.id)})})}),b.jsx("div",{className:"fixed bottom-0 left-0 w-full z-50",children:b.jsx(ws,{})})]})}return dt?de||Je?b.jsxs("div",{className:"min-h-screen bg-red-950 text-white p-4 flex flex-col items-center justify-center relative pb-16",children:[b.jsx(al,{}),b.jsxs("div",{className:"z-10 text-center w-full flex-1 flex flex-col",children:[b.jsxs("div",{className:"mt-4 mb-2",children:[b.jsx("h1",{className:"text-3xl md:text-4xl font-black text-red-500 mb-2",children:"COMMIT THE CRIME"}),b.jsx("p",{className:"text-red-200 mb-4 max-w-md mx-auto text-sm md:text-base",children:de?"Select 1 Murder Weapon and 1 Evidence.":"The Murderer is selecting the weapon and evidence. Watch closely."})]}),de?b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 w-full max-w-4xl mx-auto flex-1 overflow-y-auto pb-32",children:[b.jsxs("div",{className:"bg-red-900/30 p-4 rounded-xl border border-red-800 h-fit",children:[b.jsxs("h3",{className:"text-red-400 font-bold mb-2 flex items-center gap-2 text-sm",children:[b.jsx(uN,{size:16})," MURDER WEAPON"]}),b.jsx("div",{className:"grid grid-cols-2 gap-2",children:Z.means.map(Q=>b.jsxs("button",{onClick:()=>Xe({...ge,means:Q}),className:`p-2 rounded-lg border flex flex-col items-center justify-center gap-1 transition-all min-h-[80px] shadow-md hover:shadow-lg active:scale-95 ${ge?.means===Q?"bg-red-600 border-white text-white scale-105 shadow-xl ring-2 ring-white/50":"bg-red-900/50 border-red-700 text-red-200 hover:bg-red-800"}`,children:[_n(Q),b.jsx("span",{className:"text-xs font-bold leading-tight",children:Q})]},Q))})]}),b.jsxs("div",{className:"bg-blue-900/30 p-4 rounded-xl border border-blue-800 h-fit",children:[b.jsxs("h3",{className:"text-blue-400 font-bold mb-2 flex items-center gap-2 text-sm",children:[b.jsx(Go,{size:16})," EVIDENCE ON SITE"]}),b.jsx("div",{className:"grid grid-cols-2 gap-2",children:Z.clues.map(Q=>b.jsxs("button",{onClick:()=>Xe({...ge,clue:Q}),className:`p-2 rounded-lg border flex flex-col items-center justify-center gap-1 transition-all min-h-[80px] shadow-md hover:shadow-lg active:scale-95 ${ge?.clue===Q?"bg-blue-600 border-white text-white scale-105 shadow-xl ring-2 ring-white/50":"bg-blue-900/50 border-blue-700 text-blue-200 hover:bg-blue-800"}`,children:[_n(Q),b.jsx("span",{className:"text-xs font-bold leading-tight",children:Q})]},Q))})]})]}):b.jsx("div",{className:"flex-1 flex items-center justify-center",children:b.jsxs("div",{className:"bg-red-900/20 p-8 rounded-xl border border-red-500/30 animate-pulse text-center",children:[b.jsx(Jc,{size:48,className:"mx-auto text-red-500 mb-4"}),b.jsx("div",{className:"text-red-300 font-bold",children:"MURDER IN PROGRESS..."})]})})]}),de&&b.jsx("div",{className:"fixed bottom-12 left-0 w-full p-4 flex justify-center z-40 pointer-events-none",children:b.jsx("button",{disabled:!ge?.means||!ge?.clue,onClick:()=>jr(ge.means,ge.clue),className:"w-full max-w-md bg-white text-red-900 px-8 py-3 rounded-full font-black text-lg hover:scale-105 disabled:opacity-50 disabled:scale-100 transition-all shadow-2xl pointer-events-auto",children:"CONFIRM KILL"})}),b.jsx("div",{className:"fixed bottom-0 left-0 w-full z-50",children:b.jsx(ws,{})})]}):ae?b.jsxs("div",{className:"min-h-screen bg-slate-900 text-white flex flex-col items-center justify-center p-8 text-center relative pb-16",children:[b.jsx(al,{}),b.jsxs("div",{className:"z-10",children:[b.jsx("h2",{className:"text-3xl font-bold text-blue-400 mb-4",children:"Awaiting The Crime..."}),b.jsxs("div",{className:"animate-pulse bg-slate-800 p-6 rounded-xl max-w-lg",children:[b.jsx("p",{className:"text-slate-300",children:"The Murderer is choosing the Murder Weapon and Evidence."}),b.jsx("p",{className:"text-slate-500 text-sm mt-4",children:"Study everyone's cards carefully while you wait."})]})]}),b.jsx("div",{className:"fixed bottom-0 left-0 w-full z-50",children:b.jsx(ws,{})})]}):b.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col items-center justify-center p-8 text-center relative pb-16",children:[b.jsxs("div",{className:"z-10",children:[b.jsx(aN,{size:64,className:"text-slate-700 mb-6 mx-auto"}),b.jsx("h2",{className:"text-4xl font-black text-slate-500 mb-4",children:"EYES CLOSED"}),b.jsx("p",{className:"text-slate-600",children:"The Murder is taking place. You will be informed once the detective finishes examining the crime scene."})]}),b.jsx("div",{className:"fixed bottom-0 left-0 w-full z-50",children:b.jsx(ws,{})})]}):b.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100 font-sans flex flex-col relative overflow-hidden pb-12",children:[b.jsx(al,{}),le&&b.jsx(tm,{onClose:()=>pe(!1)}),b.jsxs("div",{className:"bg-slate-900 border-b border-slate-800 p-2 px-3 flex justify-between items-center shadow-md z-20 sticky top-0",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"font-serif font-black text-xl tracking-wider text-green-500",children:"INV."}),b.jsxs("div",{className:"flex flex-col leading-tight",onClick:()=>C(!x),children:[b.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold",children:"Role"}),b.jsx("div",{className:"flex items-center gap-1 cursor-pointer hover:bg-slate-800 rounded -ml-1 transition-colors",children:x?b.jsx(ss,{role:Z.role}):b.jsxs("span",{className:"text-xs font-bold text-slate-300 flex items-center",children:["Show ",b.jsx(Zc,{size:10,className:"ml-1"})]})})]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("div",{className:"text-center mr-2",children:[b.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold block",children:"Rnd"}),b.jsxs("span",{className:"text-sm font-bold text-white",children:[E.round,"/3"]})]}),ae&&Rt&&b.jsx("button",{onClick:Ot,className:"bg-green-600 hover:bg-green-500 text-white px-3 py-1.5 rounded text-xs font-bold shadow-lg animate-pulse",children:"Confirm"}),He&&ae&&E.round<3&&b.jsxs("button",{disabled:!Ut,onClick:()=>w(!k),className:`${k?"bg-red-500 animate-pulse":Ut?"bg-blue-600":"bg-slate-700 opacity-50 cursor-not-allowed"} 
                     hover:brightness-110 text-white px-3 py-1.5 rounded text-xs font-bold shadow-lg transition-colors flex items-center gap-1`,children:[k?"Select Tile":"Next Rnd",!Ut&&b.jsxs("span",{className:"text-[10px] bg-black/30 px-1 rounded",children:[E.nextRoundRequests?.length||0,"/",E.players.length-1]})]}),He&&!ae&&!Kn&&!E.nextRoundRequests?.includes(r.uid)&&E.round<3&&b.jsx("button",{onClick:Ti,className:"bg-blue-600 hover:bg-blue-500 text-white px-3 py-1.5 rounded text-xs font-bold shadow-lg",children:"Req. Next"}),He&&!ae&&E.nextRoundRequests?.includes(r.uid)&&b.jsx("div",{className:"text-[10px] text-green-400 font-bold bg-green-900/30 px-2 py-1 rounded border border-green-800",children:"Ready"}),b.jsx("button",{onClick:()=>I(!0),className:"p-2 hover:bg-slate-800 rounded-full text-slate-400 hover:text-white",children:b.jsx(bv,{size:18})}),b.jsx("button",{onClick:()=>pe(!0),className:"p-2 hover:bg-slate-800 rounded-full text-slate-400 hover:text-white",children:b.jsx(_v,{size:18})}),b.jsx("button",{onClick:()=>ut(!0),className:"p-2 hover:bg-slate-800 rounded-full text-slate-400 hover:text-red-400",children:b.jsx(Ev,{size:18})})]})]}),b.jsx("div",{className:"bg-slate-800/80 p-2 flex justify-center md:hidden border-b border-slate-700 z-10",children:b.jsxs("button",{onClick:()=>se(!q),className:"text-xs font-bold text-slate-400 flex items-center gap-1",children:[q?"Hide Clues":"Show Clues"," ",q?b.jsx(vv,{size:12}):b.jsx(WC,{size:12})]})}),q&&b.jsx("div",{className:"bg-slate-900/50 p-2 overflow-x-auto border-b border-slate-800 z-10",children:b.jsx("div",{className:"flex gap-2 min-w-max mx-auto px-2",children:E.activeTiles.map((Q,Se)=>b.jsxs("div",{onClick:()=>{k&&ae&&Se>=2&&Ml(Se)},className:`w-40 bg-slate-800 rounded-lg border-2 flex flex-col relative shadow-lg transition-all
                    ${k&&Se>=2&&ae?"border-red-500 cursor-pointer hover:bg-red-900/20 scale-105":ae&&Rt&&"hover:border-blue-500/50"} 
                    ${Q.selected===null?"border-slate-700":"border-slate-600"}
                    ${k&&Se<2&&"opacity-50"} 
                  `,children:[k&&Se>=2&&ae&&b.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 z-10 text-red-500 font-bold",children:b.jsx(nN,{size:32})}),b.jsx("div",{className:`p-1.5 text-center font-bold text-[10px] uppercase tracking-wider text-white truncate ${Q.type==="purple"?"bg-purple-900":Q.type==="green"?"bg-emerald-900":"bg-slate-700"}`,children:Q.title}),b.jsx("div",{className:"p-1.5 space-y-0.5",children:Q.options.map((Et,mt)=>{const Ct=Q.selected===mt;return b.jsxs("div",{onClick:Ai=>{Ai.stopPropagation(),ae&&Rt&&wt(Se,mt)},className:`text-[10px] px-1.5 py-1 rounded cursor-pointer flex justify-between items-center transition-colors ${Ct?"bg-red-600 text-white font-bold shadow-md ring-1 ring-red-400":ae&&Rt?"hover:bg-slate-700 text-slate-300":"text-slate-500 opacity-50"}`,children:[b.jsx("span",{className:"truncate",children:Et}),Ct&&b.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full ml-1 shrink-0"})]},mt)})})]},Q.id))})}),b.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-transparent relative z-10",children:b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 max-w-7xl mx-auto pb-32",children:E.players.map(Q=>{const Se=Q.id===r.uid,Et=re[Q.id]||Q.role==="DETECTIVE"||E.phase.includes("GAME_OVER"),mt=ge?.targetId===Q.id,Ct=E.accompliceSuggestion===Q.id,Ai=Kn?.targetId===Q.id,Tt=E.accusations?.find(et=>et.solverId===Q.id),rs=gt&&!Fe&&(Je||de)&&Q.role!=="DETECTIVE"&&Q.role!=="MURDERER"&&Q.role!=="ACCOMPLICE";return b.jsxs("div",{className:`relative bg-slate-900 border rounded-xl overflow-hidden shadow-lg transition-all 
                     ${Se?"border-blue-500/30 ring-1 ring-blue-900/50":"border-slate-800"}
                     ${gt&&Ct&&de?"ring-4 ring-yellow-500 scale-105":""}
                     ${Ai?"border-yellow-500/50 ring-1 ring-yellow-500/30":""}
                   `,children:[b.jsxs("div",{className:"p-2 bg-slate-800/80 flex justify-between items-center border-b border-slate-700",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:`font-bold text-sm ${Se?"text-blue-400":"text-slate-200"}`,children:Q.name}),Et&&b.jsx(ss,{role:Q.role})]}),Q.badge&&Q.role!=="DETECTIVE"&&b.jsx(ua,{size:14,className:"text-yellow-500",fill:"currentColor"}),!Q.badge&&Q.role!=="DETECTIVE"&&b.jsx("div",{className:"text-[10px] text-slate-600 font-bold uppercase",children:"Submitted"})]}),b.jsxs("div",{className:"p-2 grid grid-cols-2 gap-2",children:[b.jsxs("div",{className:"space-y-1",children:[b.jsx("div",{className:"text-[10px] uppercase font-bold text-red-900 mb-1",children:"Murder Weapon"}),Q.means.map(et=>{const kn=mt&&ge.means===et,oi=Ai&&Kn.means===et,as=(ae||Je||de)&&E.solution?.means===et&&E.solution?.murdererId===Q.id;return b.jsxs("div",{onClick:ui=>{ui.stopPropagation(),Q.id!==r.uid&&Si(Q.id,"means",et)},className:`p-1.5 rounded-md border flex flex-col items-center justify-center text-center cursor-pointer transition-all active:scale-95 touch-manipulation min-h-[60px] shadow-sm ${kn?"bg-red-600 text-white font-bold shadow-md scale-105 border border-white":oi?"bg-red-900/40 text-red-200 border border-yellow-500/50 shadow-inner":as?"bg-purple-900/80 text-white border-2 border-purple-400 shadow-[0_0_10px_rgba(168,85,247,0.5)] animate-pulse":"bg-slate-800 text-red-200 border border-red-900/30 hover:bg-red-900/20 hover:border-red-500"} ${Q.id===r.uid&&"opacity-50 cursor-not-allowed hover:bg-slate-800 hover:border-red-900/30"}`,children:[_n(et),b.jsx("span",{className:"text-[10px] font-bold leading-tight line-clamp-2 w-full",children:et})]},et)})]}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("div",{className:"text-[10px] uppercase font-bold text-blue-900 mb-1",children:"Evidence on Site"}),Q.clues.map(et=>{const kn=mt&&ge.clue===et,oi=Ai&&Kn.clue===et,as=(ae||Je||de)&&E.solution?.clue===et&&E.solution?.murdererId===Q.id;return b.jsxs("div",{onClick:ui=>{ui.stopPropagation(),Q.id!==r.uid&&Si(Q.id,"clue",et)},className:`p-1.5 rounded-md border flex flex-col items-center justify-center text-center cursor-pointer transition-all active:scale-95 touch-manipulation min-h-[60px] shadow-sm ${kn?"bg-blue-600 text-white font-bold shadow-md scale-105 border border-white":oi?"bg-blue-900/40 text-blue-200 border border-yellow-500/50 shadow-inner":as?"bg-purple-900/80 text-white border-2 border-purple-400 shadow-[0_0_10px_rgba(168,85,247,0.5)] animate-pulse":"bg-slate-800 text-blue-200 border border-blue-900/30 hover:bg-blue-900/20 hover:border-blue-500"} ${Q.id===r.uid&&"opacity-50 cursor-not-allowed hover:bg-slate-800 hover:border-blue-900/30"}`,children:[_n(et),b.jsx("span",{className:"text-[10px] font-bold leading-tight line-clamp-2 w-full",children:et})]},et)})]})]}),gt&&Ct&&(Je||de)&&b.jsx("div",{className:"absolute inset-0 bg-yellow-500/30 pointer-events-none flex items-center justify-center z-20",children:b.jsx("div",{className:`bg-yellow-500 text-black px-3 py-1.5 rounded-lg font-black text-xs shadow-xl border-2 border-black transform -rotate-6 ${de?"animate-pulse scale-110":""}`,children:Je?"YOU SUGGESTED":"ACCOMPLICE'S PICK"})}),Tt&&b.jsxs("div",{className:`mx-2 mb-2 border-2 rounded-lg p-2 text-center relative overflow-hidden ${(gt||gn)&&Tt.isCorrect?"border-green-500 bg-green-950/40":"border-red-500 bg-red-950/40"}`,children:[b.jsx("div",{className:`absolute top-0 left-0 w-full h-1 ${(gt||gn)&&Tt.isCorrect?"bg-green-500":"bg-red-500"}`}),b.jsx("div",{className:`text-[10px] font-black uppercase tracking-widest mb-1 ${(gt||gn)&&Tt.isCorrect?"text-green-400":"text-red-400"}`,children:(gt||gn)&&Tt.isCorrect?"SUCCESSFUL ATTEMPT":"FAILED ATTEMPT"}),b.jsxs("div",{className:"text-xs text-slate-200 mb-1",children:["Suspected:"," ",b.jsx("span",{className:"font-bold text-white text-sm",children:E.players.find(et=>et.id===Tt.targetId)?.name})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[b.jsxs("div",{className:`border rounded px-1 py-0.5 text-[10px] truncate flex items-center justify-center gap-1 ${(gt||gn)&&Tt.isCorrect?"bg-black/40 border-green-500/20 text-green-200":"bg-black/40 border-red-500/20 text-red-200"}`,children:[_n(Tt.means),Tt.means]}),b.jsxs("div",{className:`border rounded px-1 py-0.5 text-[10px] truncate flex items-center justify-center gap-1 ${(gt||gn)&&Tt.isCorrect?"bg-black/40 border-green-500/20 text-green-200":"bg-black/40 border-blue-500/20 text-blue-200"}`,children:[_n(Tt.clue),Tt.clue]})]})]}),rs&&b.jsxs("div",{className:"p-2 pt-0 mt-auto sticky bottom-0 bg-slate-900/95 backdrop-blur-sm border-t border-slate-700 -mx-px -mb-px rounded-b-xl z-30",children:[Je&&b.jsxs("button",{onClick:et=>{et.stopPropagation(),is(Q.id)},className:"w-full bg-yellow-500 hover:bg-yellow-400 text-black font-bold py-2 px-4 rounded-lg text-xs flex items-center justify-center gap-2 shadow-lg animate-in slide-in-from-bottom-2 fade-in",children:[b.jsx(eh,{size:14})," Suggest as Witness"]}),de&&b.jsxs("button",{onClick:et=>{et.stopPropagation();const kn=E.settings?.useAccomplice,oi=E.accompliceSuggestion;if(kn&&!oi){Oe("Wait!","Wait for your Accomplice to suggest a target first!");return}Dt("Eliminate Witness?",`Eliminate ${Q.name} as the Witness? This ends the game.`,()=>Ur(Q.id))},className:"w-full bg-red-600 hover:bg-red-500 text-white font-bold py-2 px-4 rounded-lg text-xs flex items-center justify-center gap-2 shadow-lg animate-in slide-in-from-bottom-2 fade-in animate-pulse",children:[b.jsx(sN,{size:14})," ELIMINATE"]})]}),mt&&(ge.means||ge.clue)&&!gt&&b.jsx("div",{className:"p-2 pt-0 mt-auto sticky bottom-0 bg-slate-900/95 backdrop-blur-sm border-t border-slate-700 -mx-px -mb-px rounded-b-xl z-10",children:b.jsxs("button",{onClick:et=>{et.stopPropagation(),N(!0)},className:"w-full bg-yellow-500 hover:bg-yellow-400 text-black font-bold py-2 px-4 rounded-lg text-xs flex items-center justify-center gap-2 shadow-lg animate-in slide-in-from-bottom-2 fade-in transition-transform active:scale-95",children:[b.jsx(ua,{size:14})," Review Accusation"]})})]},Q.id)})})}),V&&b.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex justify-end",children:b.jsxs("div",{className:"w-full max-w-md bg-slate-900 h-full border-l border-slate-700 flex flex-col shadow-2xl animate-in slide-in-from-right",children:[b.jsxs("div",{className:"p-4 border-b border-slate-700 flex justify-between items-center bg-slate-800",children:[b.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[b.jsx(bv,{})," Case Logs"]}),b.jsx("button",{onClick:()=>I(!1),children:b.jsx($E,{className:"text-slate-400 hover:text-white"})})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[...E.logs||[]].reverse().map((Q,Se)=>b.jsxs("div",{className:`text-sm p-3 rounded border-l-4 ${Q.type==="danger"?"bg-red-900/20 border-red-500 text-red-200":Q.type==="success"?"bg-green-900/20 border-green-500 text-green-200":Q.type==="warning"?"bg-orange-900/20 border-orange-500 text-orange-200":"bg-slate-800 border-blue-500 text-slate-300"}`,children:[b.jsxs("div",{className:"font-mono text-[10px] opacity-50 mb-1",children:["EVENT ",E.logs.length-Se]}),Q.text]},Se))})]})}),ot&&b.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6 max-w-sm w-full text-center shadow-2xl",children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Leave Game?"}),b.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:E.hostId===r.uid?"As Host, you can return everyone to the lobby or leave the room entirely.":"Are you sure? You will be removed from the room."}),E.hostId===r.uid?b.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[b.jsx("button",{onClick:()=>ut(!1),className:"bg-slate-700 hover:bg-slate-600 text-white py-3 rounded font-bold",children:"Stay (Resume)"}),b.jsx("button",{onClick:()=>{ts(),ut(!1)},className:"bg-blue-600 hover:bg-blue-500 text-white py-3 rounded font-bold",children:"Return to Lobby"}),b.jsx("button",{onClick:Ei,className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold",children:"Leave Room"})]}):b.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[b.jsx("button",{onClick:()=>ut(!1),className:"bg-slate-700 hover:bg-slate-600 text-white py-3 rounded font-bold",children:"Stay"}),b.jsx("button",{onClick:Ei,className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold",children:"Leave"})]})]})}),ce&&b.jsx("div",{className:"fixed inset-0 bg-black/90 z-[70] flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6 max-w-sm w-full text-center shadow-2xl animate-in zoom-in-95 duration-200",children:[b.jsx("div",{className:"flex justify-center mb-4",children:ce.type==="confirm"?b.jsx(Sv,{size:48,className:"text-yellow-500"}):b.jsx(fN,{size:48,className:"text-blue-500"})}),b.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:ce.title}),b.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:ce.message}),b.jsxs("div",{className:`grid ${ce.type==="confirm"?"grid-cols-2":"grid-cols-1"} gap-3`,children:[ce.type==="confirm"&&b.jsx("button",{onClick:ct,className:"bg-slate-700 hover:bg-slate-600 text-white py-3 rounded font-bold",children:"Cancel"}),b.jsx("button",{onClick:()=>{ce.onConfirm&&ce.onConfirm(),ct()},className:`${ce.type==="confirm"?"bg-red-600 hover:bg-red-500":"bg-blue-600 hover:bg-blue-500"} text-white py-3 rounded font-bold`,children:ce.type==="confirm"?"Confirm":"OK"})]})]})}),gt&&!Fe&&de&&E.accompliceSuggestion&&Y&&b.jsx("div",{className:"fixed inset-0 z-40 flex items-start justify-center pt-20",onClick:()=>ie(!1),children:b.jsxs("div",{onClick:Q=>Q.stopPropagation(),className:"bg-green-900/90 border-2 border-green-500 p-4 rounded-xl shadow-2xl animate-bounce cursor-default max-w-xs text-center backdrop-blur-sm",children:[b.jsxs("div",{className:"font-bold text-green-400 text-sm mb-1 uppercase",children:[b.jsx(eh,{size:14,className:"inline mr-1"})," Target Confirmed"]}),"Accomplice suggests:"," ",b.jsx("span",{className:"text-white font-black text-lg block mt-1",children:E.players.find(Q=>Q.id===E.accompliceSuggestion)?.name}),b.jsx("div",{className:"text-[10px] text-green-300 mt-2 uppercase tracking-wide",children:"Click empty space to dismiss"})]})}),Be&&ge&&b.jsx("div",{className:"fixed inset-0 bg-black/90 z-[100] flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl w-full max-w-lg p-6 shadow-2xl max-h-[90vh] overflow-y-auto",children:[b.jsxs("h3",{className:"text-2xl font-black text-yellow-500 mb-4 flex items-center gap-2",children:[b.jsx(ua,{})," SUBMIT CASE FILE"]}),b.jsxs("div",{className:"space-y-4 mb-8",children:[b.jsxs("div",{className:"bg-slate-800 p-4 rounded-lg",children:[b.jsx("div",{className:"text-xs text-slate-500 uppercase",children:"Suspect"}),b.jsx("div",{className:"text-xl font-bold text-white",children:E.players.find(Q=>Q.id===ge.targetId)?.name})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-slate-500 uppercase mb-1",children:"Murder Weapon"}),ge.means?b.jsxs("div",{className:"p-3 bg-red-900/50 border border-red-600 rounded text-red-100 font-bold text-center text-sm flex items-center justify-center gap-2",children:[_n(ge.means),ge.means]}):b.jsx("div",{className:"p-3 bg-slate-800 border border-slate-700 border-dashed rounded text-slate-500 text-center text-xs",children:"Select Murder Weapon from Card"})]}),b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-slate-500 uppercase mb-1",children:"Evidence on Site"}),ge.clue?b.jsxs("div",{className:"p-3 bg-blue-900/50 border border-blue-600 rounded text-blue-100 font-bold text-center text-sm flex items-center justify-center gap-2",children:[_n(ge.clue),ge.clue]}):b.jsx("div",{className:"p-3 bg-slate-800 border border-slate-700 border-dashed rounded text-slate-500 text-center text-xs",children:"Select Evidence on Site from Card"})]})]}),b.jsxs("div",{className:"bg-blue-900/20 p-3 rounded text-sm text-blue-200 text-center border border-blue-800",children:[b.jsx("div",{className:"font-bold mb-1",children:"PROCEDURE NOTE"}),"Your result will be revealed only after ",b.jsx("strong",{children:"ALL"})," ","investigators have submitted their files."]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsx("button",{onClick:()=>N(!1),className:"py-3 rounded-lg font-bold text-slate-400 hover:bg-slate-800",children:"Cancel"}),b.jsx("button",{disabled:!ge.means||!ge.clue,onClick:_a,className:"bg-yellow-600 hover:bg-yellow-500 text-black py-3 rounded-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed",children:"CONFIRM & SUBMIT"})]})]})}),E.activeAccusation&&b.jsx("div",{className:"fixed inset-0 bg-black/95 z-[100] flex items-center justify-center p-4",children:b.jsxs("div",{className:`max-w-lg w-full p-6 rounded-2xl border-4 shadow-2xl text-center ${E.activeAccusation.isCorrect?"bg-green-900/90 border-green-500":"bg-red-900/90 border-red-500"}`,children:[b.jsx("h2",{className:"text-3xl font-black text-white mb-2 uppercase tracking-widest",children:E.activeAccusation.isCorrect?"CASE SOLVED!":"WRONG ACCUSATION"}),b.jsxs("div",{className:"bg-black/30 p-4 rounded-xl mb-6 text-left",children:[b.jsx("div",{className:"text-xs uppercase font-bold text-white/50 mb-2 border-b border-white/10 pb-1",children:"The Accusation Attempt"}),b.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-2 items-center mb-1",children:[b.jsx("span",{className:"text-sm text-gray-400 font-bold",children:"Accuser:"}),b.jsx("span",{className:"text-white font-bold",children:E.activeAccusation.solverName})]}),b.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-2 items-center mb-4",children:[b.jsx("span",{className:"text-sm text-gray-400 font-bold",children:"Suspect:"}),b.jsx("span",{className:"text-xl text-white font-black",children:E.players.find(Q=>Q.id===E.activeAccusation.targetId)?.name})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{className:"bg-red-900/30 border border-red-500/30 p-2 rounded text-center",children:[b.jsx("div",{className:"text-[10px] text-red-300 uppercase font-bold mb-1",children:"Murder Weapon"}),b.jsxs("div",{className:"text-white font-bold text-sm flex items-center justify-center gap-1",children:[_n(E.activeAccusation.means),E.activeAccusation.means]})]}),b.jsxs("div",{className:"bg-blue-900/30 border border-blue-500/30 p-2 rounded text-center",children:[b.jsx("div",{className:"text-[10px] text-blue-300 uppercase font-bold mb-1",children:"Evidence on Site"}),b.jsxs("div",{className:"text-white font-bold text-sm flex items-center justify-center gap-1",children:[_n(E.activeAccusation.clue),E.activeAccusation.clue]})]})]})]}),b.jsxs("div",{className:"flex flex-col items-center gap-3",children:[b.jsxs("div",{className:"text-xs uppercase font-bold text-white/50",children:["Waiting for players:"," ",E.activeAccusation.continueVotes?.length||0,"/",E.players.length]}),b.jsxs("button",{onClick:rn,disabled:E.activeAccusation.continueVotes?.includes(r.uid),className:`px-8 py-3 rounded-full font-bold text-lg transition-all flex items-center gap-2 ${E.activeAccusation.continueVotes?.includes(r.uid)?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-white text-black hover:scale-105 shadow-xl"}`,children:[E.activeAccusation.continueVotes?.includes(r.uid)?"WAITING...":"CONTINUE"," ",b.jsx(vv,{className:"rotate-90"})]})]})]})}),gt&&Fe&&b.jsx("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center p-4 bg-black/80",children:de||Je?b.jsxs("div",{className:"bg-red-950 border-2 border-red-500 p-6 rounded-xl shadow-2xl text-center max-w-lg animate-in fade-in zoom-in duration-300",children:[b.jsx("h2",{className:"text-2xl md:text-3xl font-black text-red-500 mb-2",children:"YOU HAVE BEEN CAUGHT!"}),b.jsx("p",{className:"text-red-100 text-base md:text-lg mb-4",children:Je?"Help the Murderer find the Witness.":"Identify the Witness to steal the win."}),de&&E.settings?.useAccomplice&&(E.accompliceSuggestion?b.jsxs("div",{className:"bg-green-900/40 p-3 rounded border border-green-500 mb-4 animate-bounce",children:[b.jsxs("div",{className:"font-bold text-green-400 text-sm mb-1 uppercase",children:[b.jsx(eh,{size:14,className:"inline mr-1"})," Target Confirmed"]}),"Accomplice suggests:"," ",b.jsx("span",{className:"text-white font-black text-lg block mt-1",children:E.players.find(Q=>Q.id===E.accompliceSuggestion)?.name})]}):b.jsxs("div",{className:"bg-black/40 p-3 rounded border border-red-500/50 mb-4 animate-pulse",children:[b.jsxs("div",{className:"font-bold text-yellow-400 text-sm mb-1 uppercase",children:[b.jsx(Sv,{size:14,className:"inline mr-1"})," Hold Fire"]}),"Waiting for Accomplice suggestion..."]})),b.jsx("button",{onClick:()=>O(!1),className:"mt-4 bg-white text-red-900 px-8 py-3 rounded-full font-black uppercase text-sm hover:scale-105 transition-transform shadow-xl",children:"Select Witness"})]}):b.jsxs("div",{className:"bg-slate-900/95 border-2 border-yellow-500 p-6 rounded-xl shadow-2xl text-center max-w-lg animate-in fade-in zoom-in duration-300",children:[b.jsx("h2",{className:"text-3xl font-black text-yellow-500 mb-2",children:"CRIME SOLVED!"}),b.jsx("p",{className:"text-slate-200 text-lg mb-4",children:"The Investigators found the solution. However..."}),b.jsx("div",{className:"text-xl font-bold text-red-400 mb-4 animate-pulse",children:"THE MURDERER IS HUNTING FOR THE WITNESS"}),b.jsx("p",{className:"text-slate-400 text-sm",children:"If the Murderer identifies the Witness correctly, the Bad Guys steal the win."})]})}),E.phase==="GAME_OVER_GOOD"&&b.jsxs("div",{className:"fixed inset-0 bg-blue-900/95 z-50 flex flex-col items-center justify-center p-6 text-center",children:[b.jsx(ua,{size:96,className:"text-yellow-400 mb-6 shadow-xl"}),b.jsx("h1",{className:"text-4xl md:text-6xl font-black text-white mb-4",children:"INVESTIGATORS WIN"}),b.jsxs("p",{className:"text-blue-200 text-lg md:text-xl max-w-lg mb-8",children:["Solved by:"," ",b.jsx("span",{className:"text-yellow-400 font-bold",children:(E.successfulSolvers||[]).map(Q=>E.players.find(Se=>Se.id===Q)?.name).join(", ")||"The Team"})]}),b.jsxs("div",{className:"bg-white/10 p-6 rounded-xl border border-white/20 mb-8 w-full max-w-md backdrop-blur-md",children:[b.jsx("div",{className:"text-sm uppercase tracking-widest text-blue-300 mb-6 font-bold",children:"The Solution"}),b.jsxs("div",{className:"flex justify-center gap-4 mb-6",children:[b.jsxs("div",{className:"bg-slate-900/80 border-2 border-red-500/50 p-4 rounded-xl flex flex-col items-center justify-center w-32 h-36 shadow-2xl transform hover:scale-105 transition-transform",children:[b.jsx("div",{className:"text-red-400 text-[10px] font-black uppercase tracking-widest mb-2",children:"Weapon"}),b.jsx("div",{className:"scale-150 mb-2",children:_n(E.solution.means)}),b.jsx("div",{className:"text-sm font-bold text-white leading-tight",children:E.solution.means})]}),b.jsx("div",{className:"flex items-center text-white/50",children:b.jsx("span",{className:"text-2xl font-black",children:"+"})}),b.jsxs("div",{className:"bg-slate-900/80 border-2 border-blue-500/50 p-4 rounded-xl flex flex-col items-center justify-center w-32 h-36 shadow-2xl transform hover:scale-105 transition-transform",children:[b.jsx("div",{className:"text-blue-400 text-[10px] font-black uppercase tracking-widest mb-2",children:"Evidence"}),b.jsx("div",{className:"scale-150 mb-2",children:_n(E.solution.clue)}),b.jsx("div",{className:"text-sm font-bold text-white leading-tight",children:E.solution.clue})]})]}),b.jsxs("div",{className:"text-lg text-blue-200 bg-black/20 p-2 rounded-lg inline-block px-6",children:["Culprit:"," ",b.jsx("span",{className:"text-white font-black",children:E.players.find(Q=>Q.id===E.solution.murdererId)?.name})]})]}),E.hostId===r.uid&&b.jsxs("button",{onClick:ts,className:"bg-white text-blue-900 px-8 py-3 rounded-full font-bold hover:scale-105 transition-transform flex items-center gap-2 shadow-xl",children:[b.jsx(Tv,{size:20})," Return to Lobby"]}),b.jsx("div",{className:"bg-gray-950 pb-1 pt-1 z-50 w-full mt-auto fixed bottom-0 left-0 right-0",children:b.jsx(ws,{})})]}),E.phase==="GAME_OVER_BAD"&&b.jsxs("div",{className:"fixed inset-0 bg-red-950/95 z-50 flex flex-col items-center justify-center p-6 text-center",children:[b.jsx(Jc,{size:96,className:"text-red-500 mb-6 shadow-xl"}),b.jsx("h1",{className:"text-4xl md:text-6xl font-black text-white mb-4",children:"MURDERER WINS"}),b.jsx("p",{className:"text-red-200 text-lg md:text-xl max-w-lg mb-8",children:"The investigation failed or the witness was silenced."}),b.jsxs("div",{className:"bg-white/10 p-6 rounded-xl border border-white/20 mb-8 w-full max-w-md backdrop-blur-md",children:[b.jsx("div",{className:"text-sm uppercase tracking-widest text-red-300 mb-6 font-bold",children:"The Solution"}),b.jsxs("div",{className:"flex justify-center gap-4 mb-6",children:[b.jsxs("div",{className:"bg-slate-900/80 border-2 border-red-500/50 p-4 rounded-xl flex flex-col items-center justify-center w-32 h-36 shadow-2xl transform hover:scale-105 transition-transform",children:[b.jsx("div",{className:"text-red-400 text-[10px] font-black uppercase tracking-widest mb-2",children:"Weapon"}),b.jsx("div",{className:"scale-150 mb-2",children:_n(E.solution.means)}),b.jsx("div",{className:"text-sm font-bold text-white leading-tight",children:E.solution.means})]}),b.jsx("div",{className:"flex items-center text-white/50",children:b.jsx("span",{className:"text-2xl font-black",children:"+"})}),b.jsxs("div",{className:"bg-slate-900/80 border-2 border-blue-500/50 p-4 rounded-xl flex flex-col items-center justify-center w-32 h-36 shadow-2xl transform hover:scale-105 transition-transform",children:[b.jsx("div",{className:"text-blue-400 text-[10px] font-black uppercase tracking-widest mb-2",children:"Evidence"}),b.jsx("div",{className:"scale-150 mb-2",children:_n(E.solution.clue)}),b.jsx("div",{className:"text-sm font-bold text-white leading-tight",children:E.solution.clue})]})]}),b.jsxs("div",{className:"text-lg text-red-200 bg-black/20 p-2 rounded-lg inline-block px-6",children:["Culprit:"," ",b.jsx("span",{className:"text-white font-black",children:E.players.find(Q=>Q.id===E.solution.murdererId)?.name})]})]}),E.hostId===r.uid&&b.jsxs("button",{onClick:ts,className:"bg-white text-red-900 px-8 py-3 rounded-full font-bold hover:scale-105 transition-transform flex items-center gap-2 shadow-xl",children:[b.jsx(Tv,{size:20})," Return to Lobby"]}),b.jsx("div",{className:"bg-gray-950 pb-1 pt-1 z-50 w-full mt-auto fixed bottom-0 left-0 right-0",children:b.jsx(ws,{})})]}),b.jsx("div",{className:"fixed bottom-0 left-0 w-full z-50",children:b.jsx(ws,{})})]})}return null}P1.createRoot(document.getElementById("root")).render(b.jsx(Ye.StrictMode,{children:b.jsx(NN,{})}));
