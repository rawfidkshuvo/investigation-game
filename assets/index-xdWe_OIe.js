(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function y1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var xd={exports:{}},Ao={};var I_;function _1(){if(I_)return Ao;I_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return Ao.Fragment=e,Ao.jsx=i,Ao.jsxs=i,Ao}var x_;function v1(){return x_||(x_=1,xd.exports=_1()),xd.exports}var R=v1(),Nd={exports:{}},Ae={};var N_;function E1(){if(N_)return Ae;N_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),M=Symbol.iterator;function F(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ne=Object.assign,W={};function ye(O,Y,se){this.props=O,this.context=Y,this.refs=W,this.updater=se||J}ye.prototype.isReactComponent={},ye.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},ye.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Re(){}Re.prototype=ye.prototype;function ve(O,Y,se){this.props=O,this.context=Y,this.refs=W,this.updater=se||J}var me=ve.prototype=new Re;me.constructor=ve,ne(me,ye.prototype),me.isPureReactComponent=!0;var Ke=Array.isArray;function Be(){}var x={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(O,Y,se){var re=se.ref;return{$$typeof:r,type:O,key:Y,ref:re!==void 0?re:null,props:se}}function V(O,Y){return I(O.type,Y,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function k(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(se){return Y[se]})}var w=/\/+/g;function lt(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):Y.toString(36)}function dt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Be,Be):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,Y,se,re,Ee){var Ce=typeof O;(Ce==="undefined"||Ce==="boolean")&&(O=null);var ke=!1;if(O===null)ke=!0;else switch(Ce){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(O.$$typeof){case r:case e:ke=!0;break;case E:return ke=O._init,H(ke(O._payload),Y,se,re,Ee)}}if(ke)return Ee=Ee(O),ke=re===""?"."+lt(O,0):re,Ke(Ee)?(se="",ke!=null&&(se=ke.replace(w,"$&/")+"/"),H(Ee,Y,se,"",function($i){return $i})):Ee!=null&&(N(Ee)&&(Ee=V(Ee,se+(Ee.key==null||O&&O.key===Ee.key?"":(""+Ee.key).replace(w,"$&/")+"/")+ke)),Y.push(Ee)),1;ke=0;var wt=re===""?".":re+":";if(Ke(O))for(var ct=0;ct<O.length;ct++)re=O[ct],Ce=wt+lt(re,ct),ke+=H(re,Y,se,Ce,Ee);else if(ct=F(O),typeof ct=="function")for(O=ct.call(O),ct=0;!(re=O.next()).done;)re=re.value,Ce=wt+lt(re,ct++),ke+=H(re,Y,se,Ce,Ee);else if(Ce==="object"){if(typeof O.then=="function")return H(dt(O),Y,se,re,Ee);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ke}function ie(O,Y,se){if(O==null)return O;var re=[],Ee=0;return H(O,re,"","",function(Ce){return Y.call(se,Ce,Ee++)}),re}function fe(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(se){(O._status===0||O._status===-1)&&(O._status=1,O._result=se)},function(se){(O._status===0||O._status===-1)&&(O._status=2,O._result=se)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var qe=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Xe={map:ie,forEach:function(O,Y,se){ie(O,function(){Y.apply(this,arguments)},se)},count:function(O){var Y=0;return ie(O,function(){Y++}),Y},toArray:function(O){return ie(O,function(Y){return Y})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ae.Activity=S,Ae.Children=Xe,Ae.Component=ye,Ae.Fragment=i,Ae.Profiler=o,Ae.PureComponent=ve,Ae.StrictMode=a,Ae.Suspense=y,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(O){return x.H.useMemoCache(O)}},Ae.cache=function(O){return function(){return O.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(O,Y,se){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var re=ne({},O.props),Ee=O.key;if(Y!=null)for(Ce in Y.key!==void 0&&(Ee=""+Y.key),Y)!A.call(Y,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&Y.ref===void 0||(re[Ce]=Y[Ce]);var Ce=arguments.length-2;if(Ce===1)re.children=se;else if(1<Ce){for(var ke=Array(Ce),wt=0;wt<Ce;wt++)ke[wt]=arguments[wt+2];re.children=ke}return I(O.type,Ee,re)},Ae.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Ae.createElement=function(O,Y,se){var re,Ee={},Ce=null;if(Y!=null)for(re in Y.key!==void 0&&(Ce=""+Y.key),Y)A.call(Y,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(Ee[re]=Y[re]);var ke=arguments.length-2;if(ke===1)Ee.children=se;else if(1<ke){for(var wt=Array(ke),ct=0;ct<ke;ct++)wt[ct]=arguments[ct+2];Ee.children=wt}if(O&&O.defaultProps)for(re in ke=O.defaultProps,ke)Ee[re]===void 0&&(Ee[re]=ke[re]);return I(O,Ce,Ee)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(O){return{$$typeof:p,render:O}},Ae.isValidElement=N,Ae.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:fe}},Ae.memo=function(O,Y){return{$$typeof:_,type:O,compare:Y===void 0?null:Y}},Ae.startTransition=function(O){var Y=x.T,se={};x.T=se;try{var re=O(),Ee=x.S;Ee!==null&&Ee(se,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(Be,qe)}catch(Ce){qe(Ce)}finally{Y!==null&&se.types!==null&&(Y.types=se.types),x.T=Y}},Ae.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Ae.use=function(O){return x.H.use(O)},Ae.useActionState=function(O,Y,se){return x.H.useActionState(O,Y,se)},Ae.useCallback=function(O,Y){return x.H.useCallback(O,Y)},Ae.useContext=function(O){return x.H.useContext(O)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(O,Y){return x.H.useDeferredValue(O,Y)},Ae.useEffect=function(O,Y){return x.H.useEffect(O,Y)},Ae.useEffectEvent=function(O){return x.H.useEffectEvent(O)},Ae.useId=function(){return x.H.useId()},Ae.useImperativeHandle=function(O,Y,se){return x.H.useImperativeHandle(O,Y,se)},Ae.useInsertionEffect=function(O,Y){return x.H.useInsertionEffect(O,Y)},Ae.useLayoutEffect=function(O,Y){return x.H.useLayoutEffect(O,Y)},Ae.useMemo=function(O,Y){return x.H.useMemo(O,Y)},Ae.useOptimistic=function(O,Y){return x.H.useOptimistic(O,Y)},Ae.useReducer=function(O,Y,se){return x.H.useReducer(O,Y,se)},Ae.useRef=function(O){return x.H.useRef(O)},Ae.useState=function(O){return x.H.useState(O)},Ae.useSyncExternalStore=function(O,Y,se){return x.H.useSyncExternalStore(O,Y,se)},Ae.useTransition=function(){return x.H.useTransition()},Ae.version="19.2.0",Ae}var D_;function Em(){return D_||(D_=1,Nd.exports=E1()),Nd.exports}var ft=Em();const T1=y1(ft);var Dd={exports:{}},wo={},Od={exports:{}},Md={};var O_;function b1(){return O_||(O_=1,(function(r){function e(H,ie){var fe=H.length;H.push(ie);e:for(;0<fe;){var qe=fe-1>>>1,Xe=H[qe];if(0<o(Xe,ie))H[qe]=ie,H[fe]=Xe,fe=qe;else break e}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var ie=H[0],fe=H.pop();if(fe!==ie){H[0]=fe;e:for(var qe=0,Xe=H.length,O=Xe>>>1;qe<O;){var Y=2*(qe+1)-1,se=H[Y],re=Y+1,Ee=H[re];if(0>o(se,fe))re<Xe&&0>o(Ee,se)?(H[qe]=Ee,H[re]=fe,qe=re):(H[qe]=se,H[Y]=fe,qe=Y);else if(re<Xe&&0>o(Ee,fe))H[qe]=Ee,H[re]=fe,qe=re;else break e}}return ie}function o(H,ie){var fe=H.sortIndex-ie.sortIndex;return fe!==0?fe:H.id-ie.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],_=[],E=1,S=null,M=3,F=!1,J=!1,ne=!1,W=!1,ye=typeof setTimeout=="function"?setTimeout:null,Re=typeof clearTimeout=="function"?clearTimeout:null,ve=typeof setImmediate<"u"?setImmediate:null;function me(H){for(var ie=i(_);ie!==null;){if(ie.callback===null)a(_);else if(ie.startTime<=H)a(_),ie.sortIndex=ie.expirationTime,e(y,ie);else break;ie=i(_)}}function Ke(H){if(ne=!1,me(H),!J)if(i(y)!==null)J=!0,Be||(Be=!0,k());else{var ie=i(_);ie!==null&&dt(Ke,ie.startTime-H)}}var Be=!1,x=-1,A=5,I=-1;function V(){return W?!0:!(r.unstable_now()-I<A)}function N(){if(W=!1,Be){var H=r.unstable_now();I=H;var ie=!0;try{e:{J=!1,ne&&(ne=!1,Re(x),x=-1),F=!0;var fe=M;try{t:{for(me(H),S=i(y);S!==null&&!(S.expirationTime>H&&V());){var qe=S.callback;if(typeof qe=="function"){S.callback=null,M=S.priorityLevel;var Xe=qe(S.expirationTime<=H);if(H=r.unstable_now(),typeof Xe=="function"){S.callback=Xe,me(H),ie=!0;break t}S===i(y)&&a(y),me(H)}else a(y);S=i(y)}if(S!==null)ie=!0;else{var O=i(_);O!==null&&dt(Ke,O.startTime-H),ie=!1}}break e}finally{S=null,M=fe,F=!1}ie=void 0}}finally{ie?k():Be=!1}}}var k;if(typeof ve=="function")k=function(){ve(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,lt=w.port2;w.port1.onmessage=N,k=function(){lt.postMessage(null)}}else k=function(){ye(N,0)};function dt(H,ie){x=ye(function(){H(r.unstable_now())},ie)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(H){switch(M){case 1:case 2:case 3:var ie=3;break;default:ie=M}var fe=M;M=ie;try{return H()}finally{M=fe}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(H,ie){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var fe=M;M=H;try{return ie()}finally{M=fe}},r.unstable_scheduleCallback=function(H,ie,fe){var qe=r.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?qe+fe:qe):fe=qe,H){case 1:var Xe=-1;break;case 2:Xe=250;break;case 5:Xe=1073741823;break;case 4:Xe=1e4;break;default:Xe=5e3}return Xe=fe+Xe,H={id:E++,callback:ie,priorityLevel:H,startTime:fe,expirationTime:Xe,sortIndex:-1},fe>qe?(H.sortIndex=fe,e(_,H),i(y)===null&&H===i(_)&&(ne?(Re(x),x=-1):ne=!0,dt(Ke,fe-qe))):(H.sortIndex=Xe,e(y,H),J||F||(J=!0,Be||(Be=!0,k()))),H},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(H){var ie=M;return function(){var fe=M;M=ie;try{return H.apply(this,arguments)}finally{M=fe}}}})(Md)),Md}var M_;function S1(){return M_||(M_=1,Od.exports=b1()),Od.exports}var Vd={exports:{}},cn={};var V_;function A1(){if(V_)return cn;V_=1;var r=Em();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,_,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:y,containerInfo:_,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,cn.createPortal=function(y,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(y,_,null,E)},cn.flushSync=function(y){var _=d.T,E=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=E,a.d.f()}},cn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},cn.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},cn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var E=_.as,S=p(E,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,F=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:M,fetchPriority:F}):E==="script"&&a.d.X(y,{crossOrigin:S,integrity:M,fetchPriority:F,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},cn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},cn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,S=p(E,_.crossOrigin);a.d.L(y,E,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},cn.preloadModule=function(y,_){if(typeof y=="string")if(_){var E=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},cn.requestFormReset=function(y){a.d.r(y)},cn.unstable_batchedUpdates=function(y,_){return y(_)},cn.useFormState=function(y,_,E){return d.H.useFormState(y,_,E)},cn.useFormStatus=function(){return d.H.useHostTransitionStatus()},cn.version="19.2.0",cn}var k_;function w1(){if(k_)return Vd.exports;k_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Vd.exports=A1(),Vd.exports}var U_;function R1(){if(U_)return wo;U_=1;var r=S1(),e=Em(),i=w1();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),t;if(f===l)return y(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var g=!1,T=h.child;T;){if(T===s){g=!0,s=h,l=f;break}if(T===l){g=!0,l=h,s=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===s){g=!0,s=f,l=h;break}if(T===l){g=!0,l=f,s=h;break}T=T.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,M=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),ye=Symbol.for("react.profiler"),Re=Symbol.for("react.consumer"),ve=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),Ke=Symbol.for("react.suspense"),Be=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function lt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ne:return"Fragment";case ye:return"Profiler";case W:return"StrictMode";case Ke:return"Suspense";case Be:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J:return"Portal";case ve:return t.displayName||"Context";case Re:return(t._context.displayName||"Context")+".Consumer";case me:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return n=t.displayName||null,n!==null?n:lt(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return lt(t(n))}catch{}}return null}var dt=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},qe=[],Xe=-1;function O(t){return{current:t}}function Y(t){0>Xe||(t.current=qe[Xe],qe[Xe]=null,Xe--)}function se(t,n){Xe++,qe[Xe]=t.current,t.current=n}var re=O(null),Ee=O(null),Ce=O(null),ke=O(null);function wt(t,n){switch(se(Ce,n),se(Ee,t),se(re,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Zy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Zy(n),t=Jy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(re),se(re,t)}function ct(){Y(re),Y(Ee),Y(Ce)}function $i(t){t.memoizedState!==null&&se(ke,t);var n=re.current,s=Jy(n,t.type);n!==s&&(se(Ee,t),se(re,s))}function Rs(t){Ee.current===t&&(Y(re),Y(Ee)),ke.current===t&&(Y(ke),Eo._currentValue=fe)}var Cs,Is;function Nn(t){if(Cs===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Cs=n&&n[1]||"",Is=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Cs+t+Is}var te=!1;function ae(t,n){if(!t||te)return"";te=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var j=q}Reflect.construct(t,[],K)}else{try{K.call()}catch(q){j=q}t.call(K.prototype)}}else{try{throw Error()}catch(q){j=q}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var C=g.split(`
`),z=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===z.length)for(l=C.length-1,h=z.length-1;1<=l&&0<=h&&C[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==z[h]){var G=`
`+C[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=h);break}}}finally{te=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Nn(s):""}function oe(t,n){switch(t.tag){case 26:case 27:case 5:return Nn(t.type);case 16:return Nn("Lazy");case 13:return t.child!==n&&n!==null?Nn("Suspense Fallback"):Nn("Suspense");case 19:return Nn("SuspenseList");case 0:case 15:return ae(t.type,!1);case 11:return ae(t.type.render,!1);case 1:return ae(t.type,!0);case 31:return Nn("Activity");default:return""}}function Ie(t){try{var n="",s=null;do n+=oe(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var be=Object.prototype.hasOwnProperty,Oe=r.unstable_scheduleCallback,ot=r.unstable_cancelCallback,qn=r.unstable_shouldYield,on=r.unstable_requestPaint,ht=r.unstable_now,En=r.unstable_getCurrentPriorityLevel,ii=r.unstable_ImmediatePriority,Z=r.unstable_UserBlockingPriority,He=r.unstable_NormalPriority,Dn=r.unstable_LowPriority,Xt=r.unstable_IdlePriority,gn=r.log,pi=r.unstable_setDisableYieldValue,We=null,Et=null;function un(t){if(typeof gn=="function"&&pi(t),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode(We,t)}catch{}}var mt=Math.clz32?Math.clz32:su,xs=Math.log,ca=Math.LN2;function su(t){return t>>>=0,t===0?32:31-(xs(t)/ca|0)|0}var yi=256,Cr=262144,Nt=4194304;function _i(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function vi(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=_i(l):(g&=T,g!==0?h=_i(g):s||(s=T&~t,s!==0&&(h=_i(s))))):(T=l&~f,T!==0?h=_i(T):g!==0?h=_i(g):s||(s=l&~t,s!==0&&(h=_i(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function si(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Oh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ru(){var t=Nt;return Nt<<=1,(Nt&62914560)===0&&(Nt=4194304),t}function Ei(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Ir(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Mh(t,n,s,l,h,f){var g=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,z=t.hiddenUpdates;for(s=g&~s;0<s;){var G=31-mt(s),K=1<<G;T[G]=0,C[G]=-1;var j=z[G];if(j!==null)for(z[G]=null,G=0;G<j.length;G++){var q=j[G];q!==null&&(q.lane&=-536870913)}s&=~K}l!==0&&xr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function xr(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-mt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function Al(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-mt(s),h=1<<l;h&n|t[l]&n&&(t[l]|=n),s&=~h}}function wl(t,n){var s=n&-n;return s=(s&42)!==0?1:Nr(s),(s&(t.suspendedLanes|n))!==0?0:s}function Nr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Zi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function au(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:T_(t.type))}function ri(t,n){var s=ie.p;try{return ie.p=t,n()}finally{ie.p=s}}var ai=Math.random().toString(36).slice(2),Dt="__reactFiber$"+ai,Ft="__reactProps$"+ai,Ti="__reactContainer$"+ai,ha="__reactEvents$"+ai,Vh="__reactListeners$"+ai,lu="__reactHandles$"+ai,ou="__reactResources$"+ai,bi="__reactMarker$"+ai;function fa(t){delete t[Dt],delete t[Ft],delete t[ha],delete t[Vh],delete t[lu]}function Si(t){var n=t[Dt];if(n)return n;for(var s=t.parentNode;s;){if(n=s[Ti]||s[Dt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=r_(t);t!==null;){if(s=t[Dt])return s;t=r_(t)}return n}t=s,s=t.parentNode}return null}function Hn(t){if(t=t[Dt]||t[Ti]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function On(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ai(t){var n=t[ou];return n||(n=t[ou]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ot(t){t[bi]=!0}var Rl=new Set,Cl={};function wi(t,n){Ri(t,n),Ri(t+"Capture",n)}function Ri(t,n){for(Cl[t]=n,t=0;t<n.length;t++)Rl.add(n[t])}var Il=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xl={},Nl={};function uu(t){return be.call(Nl,t)?!0:be.call(xl,t)?!1:Il.test(t)?Nl[t]=!0:(xl[t]=!0,!1)}function da(t,n,s){if(uu(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Mn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Mt(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function Qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ns(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Dl(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function et(t){if(!t._valueTracker){var n=Ns(t)?"checked":"value";t._valueTracker=Dl(t,n,""+t[n])}}function Dr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=Ns(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function Ci(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Or=/[\n"\\]/g;function Tn(t){return t.replace(Or,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ma(t,n,s,l,h,f,g,T){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Qt(n)):t.value!==""+Qt(n)&&(t.value=""+Qt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Ol(t,g,Qt(n)):s!=null?Ol(t,g,Qt(s)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Qt(T):t.removeAttribute("name")}function cu(t,n,s,l,h,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){et(t);return}s=s!=null?""+Qt(s):"",n=n!=null?""+Qt(n):s,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),et(t)}function Ol(t,n,s){n==="number"&&Ci(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Ds(t,n,s,l){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Qt(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function hu(t,n,s){if(n!=null&&(n=""+Qt(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Qt(s):""}function Os(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(dt(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Qt(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),et(t)}function bn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var fu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ml(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||fu.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function Vl(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&Ml(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Ml(t,f,n[f])}function ga(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ms=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pa(t){return Ms.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function li(){}var kl=null;function Gn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vs=null,Ii=null;function Mr(t){var n=Hn(t);if(n&&(t=n.stateNode)){var s=t[Ft]||null;e:switch(t=n.stateNode,n.type){case"input":if(ma(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Tn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var h=l[Ft]||null;if(!h)throw Error(a(90));ma(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&Dr(l)}break e;case"textarea":hu(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&Ds(t,!!s.multiple,n,!1)}}}var ya=!1;function ks(t,n,s){if(ya)return t(n,s);ya=!0;try{var l=t(n);return l}finally{if(ya=!1,(Vs!==null||Ii!==null)&&(ac(),Vs&&(n=Vs,t=Ii,Ii=Vs=null,Mr(n),t)))for(n=0;n<t.length;n++)Mr(t[n])}}function oi(t,n){var s=t.stateNode;if(s===null)return null;var l=s[Ft]||null;if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vr=!1;if(Fn)try{var it={};Object.defineProperty(it,"passive",{get:function(){Vr=!0}}),window.addEventListener("test",it,it),window.removeEventListener("test",it,it)}catch{Vr=!1}var xi=null,Ul=null,kr=null;function Ll(){if(kr)return kr;var t,n=Ul,s=n.length,l,h="value"in xi?xi.value:xi.textContent,f=h.length;for(t=0;t<s&&n[t]===h[t];t++);var g=s-t;for(l=1;l<=g&&n[s-l]===h[f-l];l++);return kr=h.slice(t,1<l?1-l:void 0)}function Ur(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ji(){return!0}function ui(){return!1}function $t(t){function n(s,l,h,f,g){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ji:ui,this.isPropagationStopped=ui,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),n}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ni=$t(Wi),Us=S({},Wi,{view:0,detail:0}),Pl=$t(Us),Ls,_a,Di,va=S({},Us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ps,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Di&&(Di&&t.type==="mousemove"?(Ls=t.screenX-Di.screenX,_a=t.screenY-Di.screenY):_a=Ls=0,Di=t),Ls)},movementY:function(t){return"movementY"in t?t.movementY:_a}}),zl=$t(va),Lr=S({},va,{dataTransfer:0}),mu=$t(Lr),gu=S({},Us,{relatedTarget:0}),Pr=$t(gu),jl=S({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),pu=$t(jl),Ea=S({},Wi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yu=$t(Ea),_u=S({},Wi,{data:0}),Oi=$t(_u),vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Tu[t])?!!n[t]:!1}function Ps(){return bu}var pn=S({},Us,{key:function(t){if(t.key){var n=vu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ur(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Eu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ps,charCode:function(t){return t.type==="keypress"?Ur(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ur(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Su=$t(pn),Au=S({},va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),es=$t(Au),u=S({},Us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ps}),m=$t(u),v=S({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=$t(v),L=S({},va,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=$t(L),ee=S({},Wi,{newState:0,oldState:0}),xe=$t(ee),Rt=[9,13,27,32],$e=Fn&&"CompositionEvent"in window,_t=null;Fn&&"documentMode"in document&&(_t=document.documentMode);var Qn=Fn&&"TextEvent"in window&&!_t,Mi=Fn&&(!$e||_t&&8<_t&&11>=_t),ci=" ",hi=!1;function zr(t,n){switch(t){case"keyup":return Rt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ta(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ba=!1;function BT(t,n){switch(t){case"compositionend":return Ta(n);case"keypress":return n.which!==32?null:(hi=!0,ci);case"textInput":return t=n.data,t===ci&&hi?null:t;default:return null}}function qT(t,n){if(ba)return t==="compositionend"||!$e&&zr(t,n)?(t=Ll(),kr=Ul=xi=null,ba=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Mi&&n.locale!=="ko"?null:n.data;default:return null}}var HT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function og(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!HT[t.type]:n==="textarea"}function ug(t,n,s,l){Vs?Ii?Ii.push(l):Ii=[l]:Vs=l,n=dc(n,"onChange"),0<n.length&&(s=new Ni("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var Bl=null,ql=null;function GT(t){Fy(t,0)}function wu(t){var n=On(t);if(Dr(n))return t}function cg(t,n){if(t==="change")return n}var hg=!1;if(Fn){var kh;if(Fn){var Uh="oninput"in document;if(!Uh){var fg=document.createElement("div");fg.setAttribute("oninput","return;"),Uh=typeof fg.oninput=="function"}kh=Uh}else kh=!1;hg=kh&&(!document.documentMode||9<document.documentMode)}function dg(){Bl&&(Bl.detachEvent("onpropertychange",mg),ql=Bl=null)}function mg(t){if(t.propertyName==="value"&&wu(ql)){var n=[];ug(n,ql,t,Gn(t)),ks(GT,n)}}function FT(t,n,s){t==="focusin"?(dg(),Bl=n,ql=s,Bl.attachEvent("onpropertychange",mg)):t==="focusout"&&dg()}function QT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wu(ql)}function YT(t,n){if(t==="click")return wu(n)}function KT(t,n){if(t==="input"||t==="change")return wu(n)}function XT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Vn=typeof Object.is=="function"?Object.is:XT;function Hl(t,n){if(Vn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!be.call(n,h)||!Vn(t[h],n[h]))return!1}return!0}function gg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pg(t,n){var s=gg(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=gg(s)}}function yg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?yg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function _g(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ci(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=Ci(t.document)}return n}function Lh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var $T=Fn&&"documentMode"in document&&11>=document.documentMode,Sa=null,Ph=null,Gl=null,zh=!1;function vg(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;zh||Sa==null||Sa!==Ci(l)||(l=Sa,"selectionStart"in l&&Lh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Gl&&Hl(Gl,l)||(Gl=l,l=dc(Ph,"onSelect"),0<l.length&&(n=new Ni("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=Sa)))}function jr(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Aa={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionrun:jr("Transition","TransitionRun"),transitionstart:jr("Transition","TransitionStart"),transitioncancel:jr("Transition","TransitionCancel"),transitionend:jr("Transition","TransitionEnd")},jh={},Eg={};Fn&&(Eg=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function Br(t){if(jh[t])return jh[t];if(!Aa[t])return t;var n=Aa[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Eg)return jh[t]=n[s];return t}var Tg=Br("animationend"),bg=Br("animationiteration"),Sg=Br("animationstart"),ZT=Br("transitionrun"),JT=Br("transitionstart"),WT=Br("transitioncancel"),Ag=Br("transitionend"),wg=new Map,Bh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bh.push("scrollEnd");function fi(t,n){wg.set(t,n),wi(n,[t])}var Ru=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Yn=[],wa=0,qh=0;function Cu(){for(var t=wa,n=qh=wa=0;n<t;){var s=Yn[n];Yn[n++]=null;var l=Yn[n];Yn[n++]=null;var h=Yn[n];Yn[n++]=null;var f=Yn[n];if(Yn[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&Rg(s,h,f)}}function Iu(t,n,s,l){Yn[wa++]=t,Yn[wa++]=n,Yn[wa++]=s,Yn[wa++]=l,qh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Hh(t,n,s,l){return Iu(t,n,s,l),xu(t)}function qr(t,n){return Iu(t,null,null,n),xu(t)}function Rg(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-mt(s),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function xu(t){if(50<fo)throw fo=0,Wf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ra={};function eb(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(t,n,s,l){return new eb(t,n,s,l)}function Gh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ts(t,n){var s=t.alternate;return s===null?(s=kn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Cg(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Nu(t,n,s,l,h,f){var g=0;if(l=t,typeof t=="function")Gh(t)&&(g=1);else if(typeof t=="string")g=r1(t,s,re.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=kn(31,s,n,h),t.elementType=I,t.lanes=f,t;case ne:return Hr(s.children,h,f,n);case W:g=8,h|=24;break;case ye:return t=kn(12,s,n,h|2),t.elementType=ye,t.lanes=f,t;case Ke:return t=kn(13,s,n,h),t.elementType=Ke,t.lanes=f,t;case Be:return t=kn(19,s,n,h),t.elementType=Be,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ve:g=10;break e;case Re:g=9;break e;case me:g=11;break e;case x:g=14;break e;case A:g=16,l=null;break e}g=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=kn(g,s,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Hr(t,n,s,l){return t=kn(7,t,l,n),t.lanes=s,t}function Fh(t,n,s){return t=kn(6,t,null,n),t.lanes=s,t}function Ig(t){var n=kn(18,null,null,0);return n.stateNode=t,n}function Qh(t,n,s){return n=kn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var xg=new WeakMap;function Kn(t,n){if(typeof t=="object"&&t!==null){var s=xg.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Ie(n)},xg.set(t,n),n)}return{value:t,source:n,stack:Ie(n)}}var Ca=[],Ia=0,Du=null,Fl=0,Xn=[],$n=0,zs=null,Vi=1,ki="";function ns(t,n){Ca[Ia++]=Fl,Ca[Ia++]=Du,Du=t,Fl=n}function Ng(t,n,s){Xn[$n++]=Vi,Xn[$n++]=ki,Xn[$n++]=zs,zs=t;var l=Vi;t=ki;var h=32-mt(l)-1;l&=~(1<<h),s+=1;var f=32-mt(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,Vi=1<<32-mt(n)+h|s<<h|l,ki=f+t}else Vi=1<<f|s<<h|l,ki=t}function Yh(t){t.return!==null&&(ns(t,1),Ng(t,1,0))}function Kh(t){for(;t===Du;)Du=Ca[--Ia],Ca[Ia]=null,Fl=Ca[--Ia],Ca[Ia]=null;for(;t===zs;)zs=Xn[--$n],Xn[$n]=null,ki=Xn[--$n],Xn[$n]=null,Vi=Xn[--$n],Xn[$n]=null}function Dg(t,n){Xn[$n++]=Vi,Xn[$n++]=ki,Xn[$n++]=zs,Vi=n.id,ki=n.overflow,zs=t}var Zt=null,gt=null,Ge=!1,js=null,Zn=!1,Xh=Error(a(519));function Bs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ql(Kn(n,t)),Xh}function Og(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[Dt]=t,n[Ft]=l,s){case"dialog":Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":case"embed":Ve("load",n);break;case"video":case"audio":for(s=0;s<go.length;s++)Ve(go[s],n);break;case"source":Ve("error",n);break;case"img":case"image":case"link":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"input":Ve("invalid",n),cu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ve("invalid",n);break;case"textarea":Ve("invalid",n),Os(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||Xy(n.textContent,s)?(l.popover!=null&&(Ve("beforetoggle",n),Ve("toggle",n)),l.onScroll!=null&&Ve("scroll",n),l.onScrollEnd!=null&&Ve("scrollend",n),l.onClick!=null&&(n.onclick=li),n=!0):n=!1,n||Bs(t,!0)}function Mg(t){for(Zt=t.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:Zt=Zt.return}}function xa(t){if(t!==Zt)return!1;if(!Ge)return Mg(t),Ge=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||md(t.type,t.memoizedProps)),s=!s),s&&gt&&Bs(t),Mg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));gt=s_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));gt=s_(t)}else n===27?(n=gt,tr(t.type)?(t=vd,vd=null,gt=t):gt=n):gt=Zt?Wn(t.stateNode.nextSibling):null;return!0}function Gr(){gt=Zt=null,Ge=!1}function $h(){var t=js;return t!==null&&(Rn===null?Rn=t:Rn.push.apply(Rn,t),js=null),t}function Ql(t){js===null?js=[t]:js.push(t)}var Zh=O(null),Fr=null,is=null;function qs(t,n,s){se(Zh,n._currentValue),n._currentValue=s}function ss(t){t._currentValue=Zh.current,Y(Zh)}function Jh(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function Wh(t,n,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var C=0;C<n.length;C++)if(T.context===n[C]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),Jh(f.return,s,t),l||(g=null);break e}f=T.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Jh(g,s,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Na(t,n,s,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var T=h.type;Vn(h.pendingProps.value,g.value)||(t!==null?t.push(T):t=[T])}}else if(h===ke.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Eo):t=[Eo])}h=h.return}t!==null&&Wh(n,t,s,l),n.flags|=262144}function Ou(t){for(t=t.firstContext;t!==null;){if(!Vn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Qr(t){Fr=t,is=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Jt(t){return Vg(Fr,t)}function Mu(t,n){return Fr===null&&Qr(t),Vg(t,n)}function Vg(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},is===null){if(t===null)throw Error(a(308));is=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else is=is.next=n;return s}var tb=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},nb=r.unstable_scheduleCallback,ib=r.unstable_NormalPriority,Vt={$$typeof:ve,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ef(){return{controller:new tb,data:new Map,refCount:0}}function Yl(t){t.refCount--,t.refCount===0&&nb(ib,function(){t.controller.abort()})}var Kl=null,tf=0,Da=0,Oa=null;function sb(t,n){if(Kl===null){var s=Kl=[];tf=0,Da=rd(),Oa={status:"pending",value:void 0,then:function(l){s.push(l)}}}return tf++,n.then(kg,kg),n}function kg(){if(--tf===0&&Kl!==null){Oa!==null&&(Oa.status="fulfilled");var t=Kl;Kl=null,Da=0,Oa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function rb(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Ug=H.S;H.S=function(t,n){vy=ht(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&sb(t,n),Ug!==null&&Ug(t,n)};var Yr=O(null);function nf(){var t=Yr.current;return t!==null?t:ut.pooledCache}function Vu(t,n){n===null?se(Yr,Yr.current):se(Yr,n.pool)}function Lg(){var t=nf();return t===null?null:{parent:Vt._currentValue,pool:t}}var Ma=Error(a(460)),sf=Error(a(474)),ku=Error(a(542)),Uu={then:function(){}};function Pg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function zg(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(li,li),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Bg(t),t;default:if(typeof n.status=="string")n.then(li,li);else{if(t=ut,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Bg(t),t}throw Xr=n,Ma}}function Kr(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Xr=s,Ma):s}}var Xr=null;function jg(){if(Xr===null)throw Error(a(459));var t=Xr;return Xr=null,t}function Bg(t){if(t===Ma||t===ku)throw Error(a(483))}var Va=null,Xl=0;function Lu(t){var n=Xl;return Xl+=1,Va===null&&(Va=[]),zg(Va,t,n)}function $l(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Pu(t,n){throw n.$$typeof===M?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function qg(t){function n(U,D){if(t){var P=U.deletions;P===null?(U.deletions=[D],U.flags|=16):P.push(D)}}function s(U,D){if(!t)return null;for(;D!==null;)n(U,D),D=D.sibling;return null}function l(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function h(U,D){return U=ts(U,D),U.index=0,U.sibling=null,U}function f(U,D,P){return U.index=P,t?(P=U.alternate,P!==null?(P=P.index,P<D?(U.flags|=67108866,D):P):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function g(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,D,P,Q){return D===null||D.tag!==6?(D=Fh(P,U.mode,Q),D.return=U,D):(D=h(D,P),D.return=U,D)}function C(U,D,P,Q){var de=P.type;return de===ne?G(U,D,P.props.children,Q,P.key):D!==null&&(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===A&&Kr(de)===D.type)?(D=h(D,P.props),$l(D,P),D.return=U,D):(D=Nu(P.type,P.key,P.props,null,U.mode,Q),$l(D,P),D.return=U,D)}function z(U,D,P,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Qh(P,U.mode,Q),D.return=U,D):(D=h(D,P.children||[]),D.return=U,D)}function G(U,D,P,Q,de){return D===null||D.tag!==7?(D=Hr(P,U.mode,Q,de),D.return=U,D):(D=h(D,P),D.return=U,D)}function K(U,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Fh(""+D,U.mode,P),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case F:return P=Nu(D.type,D.key,D.props,null,U.mode,P),$l(P,D),P.return=U,P;case J:return D=Qh(D,U.mode,P),D.return=U,D;case A:return D=Kr(D),K(U,D,P)}if(dt(D)||k(D))return D=Hr(D,U.mode,P,null),D.return=U,D;if(typeof D.then=="function")return K(U,Lu(D),P);if(D.$$typeof===ve)return K(U,Mu(U,D),P);Pu(U,D)}return null}function j(U,D,P,Q){var de=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return de!==null?null:T(U,D,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case F:return P.key===de?C(U,D,P,Q):null;case J:return P.key===de?z(U,D,P,Q):null;case A:return P=Kr(P),j(U,D,P,Q)}if(dt(P)||k(P))return de!==null?null:G(U,D,P,Q,null);if(typeof P.then=="function")return j(U,D,Lu(P),Q);if(P.$$typeof===ve)return j(U,D,Mu(U,P),Q);Pu(U,P)}return null}function q(U,D,P,Q,de){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(P)||null,T(D,U,""+Q,de);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:return U=U.get(Q.key===null?P:Q.key)||null,C(D,U,Q,de);case J:return U=U.get(Q.key===null?P:Q.key)||null,z(D,U,Q,de);case A:return Q=Kr(Q),q(U,D,P,Q,de)}if(dt(Q)||k(Q))return U=U.get(P)||null,G(D,U,Q,de,null);if(typeof Q.then=="function")return q(U,D,P,Lu(Q),de);if(Q.$$typeof===ve)return q(U,D,P,Mu(D,Q),de);Pu(D,Q)}return null}function ue(U,D,P,Q){for(var de=null,Qe=null,ce=D,De=D=0,Le=null;ce!==null&&De<P.length;De++){ce.index>De?(Le=ce,ce=null):Le=ce.sibling;var Ye=j(U,ce,P[De],Q);if(Ye===null){ce===null&&(ce=Le);break}t&&ce&&Ye.alternate===null&&n(U,ce),D=f(Ye,D,De),Qe===null?de=Ye:Qe.sibling=Ye,Qe=Ye,ce=Le}if(De===P.length)return s(U,ce),Ge&&ns(U,De),de;if(ce===null){for(;De<P.length;De++)ce=K(U,P[De],Q),ce!==null&&(D=f(ce,D,De),Qe===null?de=ce:Qe.sibling=ce,Qe=ce);return Ge&&ns(U,De),de}for(ce=l(ce);De<P.length;De++)Le=q(ce,U,De,P[De],Q),Le!==null&&(t&&Le.alternate!==null&&ce.delete(Le.key===null?De:Le.key),D=f(Le,D,De),Qe===null?de=Le:Qe.sibling=Le,Qe=Le);return t&&ce.forEach(function(ar){return n(U,ar)}),Ge&&ns(U,De),de}function pe(U,D,P,Q){if(P==null)throw Error(a(151));for(var de=null,Qe=null,ce=D,De=D=0,Le=null,Ye=P.next();ce!==null&&!Ye.done;De++,Ye=P.next()){ce.index>De?(Le=ce,ce=null):Le=ce.sibling;var ar=j(U,ce,Ye.value,Q);if(ar===null){ce===null&&(ce=Le);break}t&&ce&&ar.alternate===null&&n(U,ce),D=f(ar,D,De),Qe===null?de=ar:Qe.sibling=ar,Qe=ar,ce=Le}if(Ye.done)return s(U,ce),Ge&&ns(U,De),de;if(ce===null){for(;!Ye.done;De++,Ye=P.next())Ye=K(U,Ye.value,Q),Ye!==null&&(D=f(Ye,D,De),Qe===null?de=Ye:Qe.sibling=Ye,Qe=Ye);return Ge&&ns(U,De),de}for(ce=l(ce);!Ye.done;De++,Ye=P.next())Ye=q(ce,U,De,Ye.value,Q),Ye!==null&&(t&&Ye.alternate!==null&&ce.delete(Ye.key===null?De:Ye.key),D=f(Ye,D,De),Qe===null?de=Ye:Qe.sibling=Ye,Qe=Ye);return t&&ce.forEach(function(p1){return n(U,p1)}),Ge&&ns(U,De),de}function at(U,D,P,Q){if(typeof P=="object"&&P!==null&&P.type===ne&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case F:e:{for(var de=P.key;D!==null;){if(D.key===de){if(de=P.type,de===ne){if(D.tag===7){s(U,D.sibling),Q=h(D,P.props.children),Q.return=U,U=Q;break e}}else if(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===A&&Kr(de)===D.type){s(U,D.sibling),Q=h(D,P.props),$l(Q,P),Q.return=U,U=Q;break e}s(U,D);break}else n(U,D);D=D.sibling}P.type===ne?(Q=Hr(P.props.children,U.mode,Q,P.key),Q.return=U,U=Q):(Q=Nu(P.type,P.key,P.props,null,U.mode,Q),$l(Q,P),Q.return=U,U=Q)}return g(U);case J:e:{for(de=P.key;D!==null;){if(D.key===de)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){s(U,D.sibling),Q=h(D,P.children||[]),Q.return=U,U=Q;break e}else{s(U,D);break}else n(U,D);D=D.sibling}Q=Qh(P,U.mode,Q),Q.return=U,U=Q}return g(U);case A:return P=Kr(P),at(U,D,P,Q)}if(dt(P))return ue(U,D,P,Q);if(k(P)){if(de=k(P),typeof de!="function")throw Error(a(150));return P=de.call(P),pe(U,D,P,Q)}if(typeof P.then=="function")return at(U,D,Lu(P),Q);if(P.$$typeof===ve)return at(U,D,Mu(U,P),Q);Pu(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(s(U,D.sibling),Q=h(D,P),Q.return=U,U=Q):(s(U,D),Q=Fh(P,U.mode,Q),Q.return=U,U=Q),g(U)):s(U,D)}return function(U,D,P,Q){try{Xl=0;var de=at(U,D,P,Q);return Va=null,de}catch(ce){if(ce===Ma||ce===ku)throw ce;var Qe=kn(29,ce,null,U.mode);return Qe.lanes=Q,Qe.return=U,Qe}finally{}}}var $r=qg(!0),Hg=qg(!1),Hs=!1;function rf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function af(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Gs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Fs(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ze&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=xu(t),Rg(t,null,s),n}return Iu(t,l,n,s),xu(t)}function Zl(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Al(t,s)}}function lf(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var of=!1;function Jl(){if(of){var t=Oa;if(t!==null)throw t}}function Wl(t,n,s,l){of=!1;var h=t.updateQueue;Hs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,z=C.next;C.next=null,g===null?f=z:g.next=z,g=C;var G=t.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==g&&(T===null?G.firstBaseUpdate=z:T.next=z,G.lastBaseUpdate=C))}if(f!==null){var K=h.baseState;g=0,G=z=C=null,T=f;do{var j=T.lane&-536870913,q=j!==T.lane;if(q?(Ue&j)===j:(l&j)===j){j!==0&&j===Da&&(of=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ue=t,pe=T;j=n;var at=s;switch(pe.tag){case 1:if(ue=pe.payload,typeof ue=="function"){K=ue.call(at,K,j);break e}K=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=pe.payload,j=typeof ue=="function"?ue.call(at,K,j):ue,j==null)break e;K=S({},K,j);break e;case 2:Hs=!0}}j=T.callback,j!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(z=G=q,C=K):G=G.next=q,g|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(C=K),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),$s|=g,t.lanes=g,t.memoizedState=K}}function Gg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Fg(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Gg(s[t],n)}var ka=O(null),zu=O(0);function Qg(t,n){t=ds,se(zu,t),se(ka,n),ds=t|n.baseLanes}function uf(){se(zu,ds),se(ka,ka.current)}function cf(){ds=zu.current,Y(ka),Y(zu)}var Un=O(null),Jn=null;function Qs(t){var n=t.alternate;se(Ct,Ct.current&1),se(Un,t),Jn===null&&(n===null||ka.current!==null||n.memoizedState!==null)&&(Jn=t)}function hf(t){se(Ct,Ct.current),se(Un,t),Jn===null&&(Jn=t)}function Yg(t){t.tag===22?(se(Ct,Ct.current),se(Un,t),Jn===null&&(Jn=t)):Ys()}function Ys(){se(Ct,Ct.current),se(Un,Un.current)}function Ln(t){Y(Un),Jn===t&&(Jn=null),Y(Ct)}var Ct=O(0);function ju(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||yd(s)||_d(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var rs=0,Ne=null,st=null,kt=null,Bu=!1,Ua=!1,Zr=!1,qu=0,eo=0,La=null,ab=0;function St(){throw Error(a(321))}function ff(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!Vn(t[s],n[s]))return!1;return!0}function df(t,n,s,l,h,f){return rs=f,Ne=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?Np:If,Zr=!1,f=s(l,h),Zr=!1,Ua&&(f=Xg(n,s,l,h)),Kg(t),f}function Kg(t){H.H=io;var n=st!==null&&st.next!==null;if(rs=0,kt=st=Ne=null,Bu=!1,eo=0,La=null,n)throw Error(a(300));t===null||Ut||(t=t.dependencies,t!==null&&Ou(t)&&(Ut=!0))}function Xg(t,n,s,l){Ne=t;var h=0;do{if(Ua&&(La=null),eo=0,Ua=!1,25<=h)throw Error(a(301));if(h+=1,kt=st=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Dp,f=n(s,l)}while(Ua);return f}function lb(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?to(n):n,t=t.useState()[0],(st!==null?st.memoizedState:null)!==t&&(Ne.flags|=1024),n}function mf(){var t=qu!==0;return qu=0,t}function gf(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function pf(t){if(Bu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Bu=!1}rs=0,kt=st=Ne=null,Ua=!1,eo=qu=0,La=null}function yn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Ne.memoizedState=kt=t:kt=kt.next=t,kt}function It(){if(st===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var n=kt===null?Ne.memoizedState:kt.next;if(n!==null)kt=n,st=t;else{if(t===null)throw Ne.alternate===null?Error(a(467)):Error(a(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},kt===null?Ne.memoizedState=kt=t:kt=kt.next=t}return kt}function Hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function to(t){var n=eo;return eo+=1,La===null&&(La=[]),t=zg(La,t,n),n=Ne,(kt===null?n.memoizedState:kt.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Np:If),t}function Gu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return to(t);if(t.$$typeof===ve)return Jt(t)}throw Error(a(438,String(t)))}function yf(t){var n=null,s=Ne.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Hu(),Ne.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=V;return n.index++,s}function as(t,n){return typeof n=="function"?n(t):n}function Fu(t){var n=It();return _f(n,st,t)}function _f(t,n,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=g=null,C=null,z=n,G=!1;do{var K=z.lane&-536870913;if(K!==z.lane?(Ue&K)===K:(rs&K)===K){var j=z.revertLane;if(j===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),K===Da&&(G=!0);else if((rs&j)===j){z=z.next,j===Da&&(G=!0);continue}else K={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(T=C=K,g=f):C=C.next=K,Ne.lanes|=j,$s|=j;K=z.action,Zr&&s(f,K),f=z.hasEagerState?z.eagerState:s(f,K)}else j={lane:K,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(T=C=j,g=f):C=C.next=j,Ne.lanes|=K,$s|=K;z=z.next}while(z!==null&&z!==n);if(C===null?g=f:C.next=T,!Vn(f,t.memoizedState)&&(Ut=!0,G&&(s=Oa,s!==null)))throw s;t.memoizedState=f,t.baseState=g,t.baseQueue=C,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function vf(t){var n=It(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);Vn(f,n.memoizedState)||(Ut=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function $g(t,n,s){var l=Ne,h=It(),f=Ge;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!Vn((st||h).memoizedState,s);if(g&&(h.memoizedState=s,Ut=!0),h=h.queue,bf(Wg.bind(null,l,h,t),[t]),h.getSnapshot!==n||g||kt!==null&&kt.memoizedState.tag&1){if(l.flags|=2048,Pa(9,{destroy:void 0},Jg.bind(null,l,h,s,n),null),ut===null)throw Error(a(349));f||(rs&127)!==0||Zg(l,n,s)}return s}function Zg(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Ne.updateQueue,n===null?(n=Hu(),Ne.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Jg(t,n,s,l){n.value=s,n.getSnapshot=l,ep(n)&&tp(t)}function Wg(t,n,s){return s(function(){ep(n)&&tp(t)})}function ep(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!Vn(t,s)}catch{return!0}}function tp(t){var n=qr(t,2);n!==null&&Cn(n,t,2)}function Ef(t){var n=yn();if(typeof t=="function"){var s=t;if(t=s(),Zr){un(!0);try{s()}finally{un(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:t},n}function np(t,n,s,l){return t.baseState=s,_f(t,st,typeof l=="function"?l:as)}function ob(t,n,s,l,h){if(Ku(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,ip(n,f)):(f.next=s.next,n.pending=s.next=f)}}function ip(t,n){var s=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var T=s(h,l),C=H.S;C!==null&&C(g,T),sp(t,n,T)}catch(z){Tf(t,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=s(h,l),sp(t,n,f)}catch(z){Tf(t,n,z)}}function sp(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){rp(t,n,l)},function(l){return Tf(t,n,l)}):rp(t,n,s)}function rp(t,n,s){n.status="fulfilled",n.value=s,ap(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,ip(t,s)))}function Tf(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,ap(n),n=n.next;while(n!==l)}t.action=null}function ap(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function lp(t,n){return n}function op(t,n){if(Ge){var s=ut.formState;if(s!==null){e:{var l=Ne;if(Ge){if(gt){t:{for(var h=gt,f=Zn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Wn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){gt=Wn(h.nextSibling),l=h.data==="F!";break e}}Bs(l)}l=!1}l&&(n=s[0])}}return s=yn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lp,lastRenderedState:n},s.queue=l,s=Cp.bind(null,Ne,l),l.dispatch=s,l=Ef(!1),f=Cf.bind(null,Ne,!1,l.queue),l=yn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,s=ob.bind(null,Ne,h,f,s),h.dispatch=s,l.memoizedState=t,[n,s,!1]}function up(t){var n=It();return cp(n,st,t)}function cp(t,n,s){if(n=_f(t,n,lp)[0],t=Fu(as)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=to(n)}catch(g){throw g===Ma?ku:g}else l=n;n=It();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Ne.flags|=2048,Pa(9,{destroy:void 0},ub.bind(null,h,s),null)),[l,f,t]}function ub(t,n){t.action=n}function hp(t){var n=It(),s=st;if(s!==null)return cp(n,s,t);It(),n=n.memoizedState,s=It();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function Pa(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=Ne.updateQueue,n===null&&(n=Hu(),Ne.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function fp(){return It().memoizedState}function Qu(t,n,s,l){var h=yn();Ne.flags|=t,h.memoizedState=Pa(1|n,{destroy:void 0},s,l===void 0?null:l)}function Yu(t,n,s,l){var h=It();l=l===void 0?null:l;var f=h.memoizedState.inst;st!==null&&l!==null&&ff(l,st.memoizedState.deps)?h.memoizedState=Pa(n,f,s,l):(Ne.flags|=t,h.memoizedState=Pa(1|n,f,s,l))}function dp(t,n){Qu(8390656,8,t,n)}function bf(t,n){Yu(2048,8,t,n)}function cb(t){Ne.flags|=4;var n=Ne.updateQueue;if(n===null)n=Hu(),Ne.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function mp(t){var n=It().memoizedState;return cb({ref:n,nextImpl:t}),function(){if((Ze&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function gp(t,n){return Yu(4,2,t,n)}function pp(t,n){return Yu(4,4,t,n)}function yp(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function _p(t,n,s){s=s!=null?s.concat([t]):null,Yu(4,4,yp.bind(null,n,t),s)}function Sf(){}function vp(t,n){var s=It();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&ff(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function Ep(t,n){var s=It();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&ff(n,l[1]))return l[0];if(l=t(),Zr){un(!0);try{t()}finally{un(!1)}}return s.memoizedState=[l,n],l}function Af(t,n,s){return s===void 0||(rs&1073741824)!==0&&(Ue&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Ty(),Ne.lanes|=t,$s|=t,s)}function Tp(t,n,s,l){return Vn(s,n)?s:ka.current!==null?(t=Af(t,s,l),Vn(t,n)||(Ut=!0),t):(rs&42)===0||(rs&1073741824)!==0&&(Ue&261930)===0?(Ut=!0,t.memoizedState=s):(t=Ty(),Ne.lanes|=t,$s|=t,n)}function bp(t,n,s,l,h){var f=ie.p;ie.p=f!==0&&8>f?f:8;var g=H.T,T={};H.T=T,Cf(t,!1,n,s);try{var C=h(),z=H.S;if(z!==null&&z(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=rb(C,l);no(t,n,G,jn(t))}else no(t,n,l,jn(t))}catch(K){no(t,n,{then:function(){},status:"rejected",reason:K},jn())}finally{ie.p=f,g!==null&&T.types!==null&&(g.types=T.types),H.T=g}}function hb(){}function wf(t,n,s,l){if(t.tag!==5)throw Error(a(476));var h=Sp(t).queue;bp(t,h,n,fe,s===null?hb:function(){return Ap(t),s(l)})}function Sp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:fe},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Ap(t){var n=Sp(t);n.next===null&&(n=t.alternate.memoizedState),no(t,n.next.queue,{},jn())}function Rf(){return Jt(Eo)}function wp(){return It().memoizedState}function Rp(){return It().memoizedState}function fb(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=jn();t=Gs(s);var l=Fs(n,t,s);l!==null&&(Cn(l,n,s),Zl(l,n,s)),n={cache:ef()},t.payload=n;return}n=n.return}}function db(t,n,s){var l=jn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ku(t)?Ip(n,s):(s=Hh(t,n,s,l),s!==null&&(Cn(s,t,l),xp(s,n,l)))}function Cp(t,n,s){var l=jn();no(t,n,s,l)}function no(t,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ku(t))Ip(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,s);if(h.hasEagerState=!0,h.eagerState=T,Vn(T,g))return Iu(t,n,h,0),ut===null&&Cu(),!1}catch{}finally{}if(s=Hh(t,n,h,l),s!==null)return Cn(s,t,l),xp(s,n,l),!0}return!1}function Cf(t,n,s,l){if(l={lane:2,revertLane:rd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ku(t)){if(n)throw Error(a(479))}else n=Hh(t,s,l,2),n!==null&&Cn(n,t,2)}function Ku(t){var n=t.alternate;return t===Ne||n!==null&&n===Ne}function Ip(t,n){Ua=Bu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function xp(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Al(t,s)}}var io={readContext:Jt,use:Gu,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St,useHostTransitionStatus:St,useFormState:St,useActionState:St,useOptimistic:St,useMemoCache:St,useCacheRefresh:St};io.useEffectEvent=St;var Np={readContext:Jt,use:Gu,useCallback:function(t,n){return yn().memoizedState=[t,n===void 0?null:n],t},useContext:Jt,useEffect:dp,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Qu(4194308,4,yp.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Qu(4194308,4,t,n)},useInsertionEffect:function(t,n){Qu(4,2,t,n)},useMemo:function(t,n){var s=yn();n=n===void 0?null:n;var l=t();if(Zr){un(!0);try{t()}finally{un(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=yn();if(s!==void 0){var h=s(n);if(Zr){un(!0);try{s(n)}finally{un(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=db.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var n=yn();return t={current:t},n.memoizedState=t},useState:function(t){t=Ef(t);var n=t.queue,s=Cp.bind(null,Ne,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Sf,useDeferredValue:function(t,n){var s=yn();return Af(s,t,n)},useTransition:function(){var t=Ef(!1);return t=bp.bind(null,Ne,t.queue,!0,!1),yn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=Ne,h=yn();if(Ge){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ut===null)throw Error(a(349));(Ue&127)!==0||Zg(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,dp(Wg.bind(null,l,f,t),[t]),l.flags|=2048,Pa(9,{destroy:void 0},Jg.bind(null,l,f,s,n),null),s},useId:function(){var t=yn(),n=ut.identifierPrefix;if(Ge){var s=ki,l=Vi;s=(l&~(1<<32-mt(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=qu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=ab++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Rf,useFormState:op,useActionState:op,useOptimistic:function(t){var n=yn();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Cf.bind(null,Ne,!0,s),s.dispatch=n,[t,n]},useMemoCache:yf,useCacheRefresh:function(){return yn().memoizedState=fb.bind(null,Ne)},useEffectEvent:function(t){var n=yn(),s={impl:t};return n.memoizedState=s,function(){if((Ze&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},If={readContext:Jt,use:Gu,useCallback:vp,useContext:Jt,useEffect:bf,useImperativeHandle:_p,useInsertionEffect:gp,useLayoutEffect:pp,useMemo:Ep,useReducer:Fu,useRef:fp,useState:function(){return Fu(as)},useDebugValue:Sf,useDeferredValue:function(t,n){var s=It();return Tp(s,st.memoizedState,t,n)},useTransition:function(){var t=Fu(as)[0],n=It().memoizedState;return[typeof t=="boolean"?t:to(t),n]},useSyncExternalStore:$g,useId:wp,useHostTransitionStatus:Rf,useFormState:up,useActionState:up,useOptimistic:function(t,n){var s=It();return np(s,st,t,n)},useMemoCache:yf,useCacheRefresh:Rp};If.useEffectEvent=mp;var Dp={readContext:Jt,use:Gu,useCallback:vp,useContext:Jt,useEffect:bf,useImperativeHandle:_p,useInsertionEffect:gp,useLayoutEffect:pp,useMemo:Ep,useReducer:vf,useRef:fp,useState:function(){return vf(as)},useDebugValue:Sf,useDeferredValue:function(t,n){var s=It();return st===null?Af(s,t,n):Tp(s,st.memoizedState,t,n)},useTransition:function(){var t=vf(as)[0],n=It().memoizedState;return[typeof t=="boolean"?t:to(t),n]},useSyncExternalStore:$g,useId:wp,useHostTransitionStatus:Rf,useFormState:hp,useActionState:hp,useOptimistic:function(t,n){var s=It();return st!==null?np(s,st,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:yf,useCacheRefresh:Rp};Dp.useEffectEvent=mp;function xf(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:S({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Nf={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=jn(),h=Gs(l);h.payload=n,s!=null&&(h.callback=s),n=Fs(t,h,l),n!==null&&(Cn(n,t,l),Zl(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=jn(),h=Gs(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Fs(t,h,l),n!==null&&(Cn(n,t,l),Zl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=jn(),l=Gs(s);l.tag=2,n!=null&&(l.callback=n),n=Fs(t,l,s),n!==null&&(Cn(n,t,s),Zl(n,t,s))}};function Op(t,n,s,l,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Hl(s,l)||!Hl(h,f):!0}function Mp(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Nf.enqueueReplaceState(n,n.state,null)}function Jr(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=S({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function Vp(t){Ru(t)}function kp(t){console.error(t)}function Up(t){Ru(t)}function Xu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Lp(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Df(t,n,s){return s=Gs(s),s.tag=3,s.payload={element:null},s.callback=function(){Xu(t,n)},s}function Pp(t){return t=Gs(t),t.tag=3,t}function zp(t,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Lp(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Lp(n,s,l),typeof h!="function"&&(Zs===null?Zs=new Set([this]):Zs.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function mb(t,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&Na(n,s,h,!0),s=Un.current,s!==null){switch(s.tag){case 31:case 13:return Jn===null?lc():s.alternate===null&&At===0&&(At=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Uu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),nd(t,l,h)),!1;case 22:return s.flags|=65536,l===Uu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),nd(t,l,h)),!1}throw Error(a(435,s.tag))}return nd(t,l,h),lc(),!1}if(Ge)return n=Un.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Xh&&(t=Error(a(422),{cause:l}),Ql(Kn(t,s)))):(l!==Xh&&(n=Error(a(423),{cause:l}),Ql(Kn(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Kn(l,s),h=Df(t.stateNode,l,h),lf(t,h),At!==4&&(At=2)),!1;var f=Error(a(520),{cause:l});if(f=Kn(f,s),ho===null?ho=[f]:ho.push(f),At!==4&&(At=2),n===null)return!0;l=Kn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Df(s.stateNode,l,t),lf(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Zs===null||!Zs.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Pp(h),zp(h,t,s,l),lf(s,h),!1}s=s.return}while(s!==null);return!1}var Of=Error(a(461)),Ut=!1;function Wt(t,n,s,l){n.child=t===null?Hg(n,null,s,l):$r(n,t.child,s,l)}function jp(t,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var T in l)T!=="ref"&&(g[T]=l[T])}else g=l;return Qr(n),l=df(t,n,s,g,f,h),T=mf(),t!==null&&!Ut?(gf(t,n,h),ls(t,n,h)):(Ge&&T&&Yh(n),n.flags|=1,Wt(t,n,l,h),n.child)}function Bp(t,n,s,l,h){if(t===null){var f=s.type;return typeof f=="function"&&!Gh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,qp(t,n,f,l,h)):(t=Nu(s.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!jf(t,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Hl,s(g,l)&&t.ref===n.ref)return ls(t,n,h)}return n.flags|=1,t=ts(f,l),t.ref=n.ref,t.return=n,n.child=t}function qp(t,n,s,l,h){if(t!==null){var f=t.memoizedProps;if(Hl(f,l)&&t.ref===n.ref)if(Ut=!1,n.pendingProps=l=f,jf(t,h))(t.flags&131072)!==0&&(Ut=!0);else return n.lanes=t.lanes,ls(t,n,h)}return Mf(t,n,s,l,h)}function Hp(t,n,s,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Gp(t,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Vu(n,f!==null?f.cachePool:null),f!==null?Qg(n,f):uf(),Yg(n);else return l=n.lanes=536870912,Gp(t,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Vu(n,f.cachePool),Qg(n,f),Ys(),n.memoizedState=null):(t!==null&&Vu(n,null),uf(),Ys());return Wt(t,n,h,s),n.child}function so(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Gp(t,n,s,l,h){var f=nf();return f=f===null?null:{parent:Vt._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&Vu(n,null),uf(),Yg(n),t!==null&&Na(t,n,l,!0),n.childLanes=h,null}function $u(t,n){return n=Ju({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Fp(t,n,s){return $r(n,t.child,null,s),t=$u(n,n.pendingProps),t.flags|=2,Ln(n),n.memoizedState=null,t}function gb(t,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ge){if(l.mode==="hidden")return t=$u(n,l),n.lanes=536870912,so(null,t);if(hf(n),(t=gt)?(t=i_(t,Zn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:zs!==null?{id:Vi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},s=Ig(t),s.return=n,n.child=s,Zt=n,gt=null)):t=null,t===null)throw Bs(n);return n.lanes=536870912,null}return $u(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(hf(n),h)if(n.flags&256)n.flags&=-257,n=Fp(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ut||Na(t,n,s,!1),h=(s&t.childLanes)!==0,Ut||h){if(l=ut,l!==null&&(g=wl(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,qr(t,g),Cn(l,t,g),Of;lc(),n=Fp(t,n,s)}else t=f.treeContext,gt=Wn(g.nextSibling),Zt=n,Ge=!0,js=null,Zn=!1,t!==null&&Dg(n,t),n=$u(n,l),n.flags|=4096;return n}return t=ts(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Zu(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Mf(t,n,s,l,h){return Qr(n),s=df(t,n,s,l,void 0,h),l=mf(),t!==null&&!Ut?(gf(t,n,h),ls(t,n,h)):(Ge&&l&&Yh(n),n.flags|=1,Wt(t,n,s,h),n.child)}function Qp(t,n,s,l,h,f){return Qr(n),n.updateQueue=null,s=Xg(n,l,s,h),Kg(t),l=mf(),t!==null&&!Ut?(gf(t,n,f),ls(t,n,f)):(Ge&&l&&Yh(n),n.flags|=1,Wt(t,n,s,f),n.child)}function Yp(t,n,s,l,h){if(Qr(n),n.stateNode===null){var f=Ra,g=s.contextType;typeof g=="object"&&g!==null&&(f=Jt(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Nf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},rf(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Jt(g):Ra,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(xf(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Nf.enqueueReplaceState(f,f.state,null),Wl(n,l,f,h),Jl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,C=Jr(s,T);f.props=C;var z=f.context,G=s.contextType;g=Ra,typeof G=="object"&&G!==null&&(g=Jt(G));var K=s.getDerivedStateFromProps;G=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==g)&&Mp(n,f,l,g),Hs=!1;var j=n.memoizedState;f.state=j,Wl(n,l,f,h),Jl(),z=n.memoizedState,T||j!==z||Hs?(typeof K=="function"&&(xf(n,s,K,l),z=n.memoizedState),(C=Hs||Op(n,s,C,l,j,z,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=g,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,af(t,n),g=n.memoizedProps,G=Jr(s,g),f.props=G,K=n.pendingProps,j=f.context,z=s.contextType,C=Ra,typeof z=="object"&&z!==null&&(C=Jt(z)),T=s.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==K||j!==C)&&Mp(n,f,l,C),Hs=!1,j=n.memoizedState,f.state=j,Wl(n,l,f,h),Jl();var q=n.memoizedState;g!==K||j!==q||Hs||t!==null&&t.dependencies!==null&&Ou(t.dependencies)?(typeof T=="function"&&(xf(n,s,T,l),q=n.memoizedState),(G=Hs||Op(n,s,G,l,j,q,C)||t!==null&&t.dependencies!==null&&Ou(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=C,l=G):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Zu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=$r(n,t.child,null,h),n.child=$r(n,null,s,h)):Wt(t,n,s,h),n.memoizedState=f.state,t=n.child):t=ls(t,n,h),t}function Kp(t,n,s,l){return Gr(),n.flags|=256,Wt(t,n,s,l),n.child}var Vf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kf(t){return{baseLanes:t,cachePool:Lg()}}function Uf(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=zn),t}function Xp(t,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Ct.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ge){if(h?Qs(n):Ys(),(t=gt)?(t=i_(t,Zn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:zs!==null?{id:Vi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},s=Ig(t),s.return=n,n.child=s,Zt=n,gt=null)):t=null,t===null)throw Bs(n);return _d(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Ys(),h=n.mode,T=Ju({mode:"hidden",children:T},h),l=Hr(l,h,s,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=kf(s),l.childLanes=Uf(t,g,s),n.memoizedState=Vf,so(null,l)):(Qs(n),Lf(n,T))}var C=t.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(f)n.flags&256?(Qs(n),n.flags&=-257,n=Pf(t,n,s)):n.memoizedState!==null?(Ys(),n.child=t.child,n.flags|=128,n=null):(Ys(),T=l.fallback,h=n.mode,l=Ju({mode:"visible",children:l.children},h),T=Hr(T,h,s,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,$r(n,t.child,null,s),l=n.child,l.memoizedState=kf(s),l.childLanes=Uf(t,g,s),n.memoizedState=Vf,n=so(null,l));else if(Qs(n),_d(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var z=g.dgst;g=z,l=Error(a(419)),l.stack="",l.digest=g,Ql({value:l,source:null,stack:null}),n=Pf(t,n,s)}else if(Ut||Na(t,n,s,!1),g=(s&t.childLanes)!==0,Ut||g){if(g=ut,g!==null&&(l=wl(g,s),l!==0&&l!==C.retryLane))throw C.retryLane=l,qr(t,l),Cn(g,t,l),Of;yd(T)||lc(),n=Pf(t,n,s)}else yd(T)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,gt=Wn(T.nextSibling),Zt=n,Ge=!0,js=null,Zn=!1,t!==null&&Dg(n,t),n=Lf(n,l.children),n.flags|=4096);return n}return h?(Ys(),T=l.fallback,h=n.mode,C=t.child,z=C.sibling,l=ts(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,z!==null?T=ts(z,T):(T=Hr(T,h,s,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,so(null,l),l=n.child,T=t.child.memoizedState,T===null?T=kf(s):(h=T.cachePool,h!==null?(C=Vt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Lg(),T={baseLanes:T.baseLanes|s,cachePool:h}),l.memoizedState=T,l.childLanes=Uf(t,g,s),n.memoizedState=Vf,so(t.child,l)):(Qs(n),s=t.child,t=s.sibling,s=ts(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=s,n.memoizedState=null,s)}function Lf(t,n){return n=Ju({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Ju(t,n){return t=kn(22,t,null,n),t.lanes=0,t}function Pf(t,n,s){return $r(n,t.child,null,s),t=Lf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function $p(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Jh(t.return,n,s)}function zf(t,n,s,l,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function Zp(t,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=Ct.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,se(Ct,g),Wt(t,n,l,s),l=Ge?Fl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$p(t,s,n);else if(t.tag===19)$p(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&ju(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),zf(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&ju(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}zf(n,!0,s,null,f,l);break;case"together":zf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ls(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),$s|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(Na(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=ts(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=ts(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function jf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ou(t)))}function pb(t,n,s){switch(n.tag){case 3:wt(n,n.stateNode.containerInfo),qs(n,Vt,t.memoizedState.cache),Gr();break;case 27:case 5:$i(n);break;case 4:wt(n,n.stateNode.containerInfo);break;case 10:qs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,hf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Qs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Xp(t,n,s):(Qs(n),t=ls(t,n,s),t!==null?t.sibling:null);Qs(n);break;case 19:var h=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(Na(t,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return Zp(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(Ct,Ct.current),l)break;return null;case 22:return n.lanes=0,Hp(t,n,s,n.pendingProps);case 24:qs(n,Vt,t.memoizedState.cache)}return ls(t,n,s)}function Jp(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ut=!0;else{if(!jf(t,s)&&(n.flags&128)===0)return Ut=!1,pb(t,n,s);Ut=(t.flags&131072)!==0}else Ut=!1,Ge&&(n.flags&1048576)!==0&&Ng(n,Fl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Kr(n.elementType),n.type=t,typeof t=="function")Gh(t)?(l=Jr(t,l),n.tag=1,n=Yp(null,n,t,l,s)):(n.tag=0,n=Mf(null,n,t,l,s));else{if(t!=null){var h=t.$$typeof;if(h===me){n.tag=11,n=jp(null,n,t,l,s);break e}else if(h===x){n.tag=14,n=Bp(null,n,t,l,s);break e}}throw n=lt(t)||t,Error(a(306,n,""))}}return n;case 0:return Mf(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=Jr(l,n.pendingProps),Yp(t,n,l,h,s);case 3:e:{if(wt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,af(t,n),Wl(n,l,null,s);var g=n.memoizedState;if(l=g.cache,qs(n,Vt,l),l!==f.cache&&Wh(n,[Vt],s,!0),Jl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Kp(t,n,l,s);break e}else if(l!==h){h=Kn(Error(a(424)),n),Ql(h),n=Kp(t,n,l,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(gt=Wn(t.firstChild),Zt=n,Ge=!0,js=null,Zn=!0,s=Hg(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Gr(),l===h){n=ls(t,n,s);break e}Wt(t,n,l,s)}n=n.child}return n;case 26:return Zu(t,n),t===null?(s=u_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ge||(s=n.type,t=n.pendingProps,l=mc(Ce.current).createElement(s),l[Dt]=n,l[Ft]=t,en(l,s,t),Ot(l),n.stateNode=l):n.memoizedState=u_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return $i(n),t===null&&Ge&&(l=n.stateNode=a_(n.type,n.pendingProps,Ce.current),Zt=n,Zn=!0,h=gt,tr(n.type)?(vd=h,gt=Wn(l.firstChild)):gt=h),Wt(t,n,n.pendingProps.children,s),Zu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ge&&((h=l=gt)&&(l=Qb(l,n.type,n.pendingProps,Zn),l!==null?(n.stateNode=l,Zt=n,gt=Wn(l.firstChild),Zn=!1,h=!0):h=!1),h||Bs(n)),$i(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,md(h,f)?l=null:g!==null&&md(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=df(t,n,lb,null,null,s),Eo._currentValue=h),Zu(t,n),Wt(t,n,l,s),n.child;case 6:return t===null&&Ge&&((t=s=gt)&&(s=Yb(s,n.pendingProps,Zn),s!==null?(n.stateNode=s,Zt=n,gt=null,t=!0):t=!1),t||Bs(n)),null;case 13:return Xp(t,n,s);case 4:return wt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=$r(n,null,l,s):Wt(t,n,l,s),n.child;case 11:return jp(t,n,n.type,n.pendingProps,s);case 7:return Wt(t,n,n.pendingProps,s),n.child;case 8:return Wt(t,n,n.pendingProps.children,s),n.child;case 12:return Wt(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,qs(n,n.type,l.value),Wt(t,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Qr(n),h=Jt(h),l=l(h),n.flags|=1,Wt(t,n,l,s),n.child;case 14:return Bp(t,n,n.type,n.pendingProps,s);case 15:return qp(t,n,n.type,n.pendingProps,s);case 19:return Zp(t,n,s);case 31:return gb(t,n,s);case 22:return Hp(t,n,s,n.pendingProps);case 24:return Qr(n),l=Jt(Vt),t===null?(h=nf(),h===null&&(h=ut,f=ef(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},rf(n),qs(n,Vt,h)):((t.lanes&s)!==0&&(af(t,n),Wl(n,null,null,s),Jl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),qs(n,Vt,l)):(l=f.cache,qs(n,Vt,l),l!==h.cache&&Wh(n,[Vt],s,!0))),Wt(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function os(t){t.flags|=4}function Bf(t,n,s,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(wy())t.flags|=8192;else throw Xr=Uu,sf}else t.flags&=-16777217}function Wp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!m_(n))if(wy())t.flags|=8192;else throw Xr=Uu,sf}function Wu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ru():536870912,t.lanes|=n,qa|=n)}function ro(t,n){if(!Ge)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function pt(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function yb(t,n,s){var l=n.pendingProps;switch(Kh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(n),null;case 1:return pt(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ss(Vt),ct(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(xa(n)?os(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,$h())),pt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(os(n),f!==null?(pt(n),Wp(n,f)):(pt(n),Bf(n,h,null,l,s))):f?f!==t.memoizedState?(os(n),pt(n),Wp(n,f)):(pt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&os(n),pt(n),Bf(n,h,t,l,s)),null;case 27:if(Rs(n),s=Ce.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&os(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return pt(n),null}t=re.current,xa(n)?Og(n):(t=a_(h,l,s),n.stateNode=t,os(n))}return pt(n),null;case 5:if(Rs(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&os(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return pt(n),null}if(f=re.current,xa(n))Og(n);else{var g=mc(Ce.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[Dt]=n,f[Ft]=l;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(en(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&os(n)}}return pt(n),Bf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&os(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Ce.current,xa(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,h=Zt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Dt]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Xy(t.nodeValue,s)),t||Bs(n,!0)}else t=mc(t).createTextNode(l),t[Dt]=n,n.stateNode=t}return pt(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=xa(n),s!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Dt]=n}else Gr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;pt(n),t=!1}else s=$h(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(Ln(n),n):(Ln(n),null);if((n.flags&128)!==0)throw Error(a(558))}return pt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=xa(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Dt]=n}else Gr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;pt(n),h=!1}else h=$h(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Ln(n),n):(Ln(n),null)}return Ln(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),Wu(n,n.updateQueue),pt(n),null);case 4:return ct(),t===null&&ud(n.stateNode.containerInfo),pt(n),null;case 10:return ss(n.type),pt(n),null;case 19:if(Y(Ct),l=n.memoizedState,l===null)return pt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)ro(l,!1);else{if(At!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=ju(t),f!==null){for(n.flags|=128,ro(l,!1),t=f.updateQueue,n.updateQueue=t,Wu(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Cg(s,t),s=s.sibling;return se(Ct,Ct.current&1|2),Ge&&ns(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&ht()>sc&&(n.flags|=128,h=!0,ro(l,!1),n.lanes=4194304)}else{if(!h)if(t=ju(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Wu(n,t),ro(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ge)return pt(n),null}else 2*ht()-l.renderingStartTime>sc&&s!==536870912&&(n.flags|=128,h=!0,ro(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=ht(),t.sibling=null,s=Ct.current,se(Ct,h?s&1|2:s&1),Ge&&ns(n,l.treeForkCount),t):(pt(n),null);case 22:case 23:return Ln(n),cf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(pt(n),n.subtreeFlags&6&&(n.flags|=8192)):pt(n),s=n.updateQueue,s!==null&&Wu(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&Y(Yr),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),ss(Vt),pt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function _b(t,n){switch(Kh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ss(Vt),ct(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Rs(n),null;case 31:if(n.memoizedState!==null){if(Ln(n),n.alternate===null)throw Error(a(340));Gr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Ln(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Gr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(Ct),null;case 4:return ct(),null;case 10:return ss(n.type),null;case 22:case 23:return Ln(n),cf(),t!==null&&Y(Yr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ss(Vt),null;case 25:return null;default:return null}}function ey(t,n){switch(Kh(n),n.tag){case 3:ss(Vt),ct();break;case 26:case 27:case 5:Rs(n);break;case 4:ct();break;case 31:n.memoizedState!==null&&Ln(n);break;case 13:Ln(n);break;case 19:Y(Ct);break;case 10:ss(n.type);break;case 22:case 23:Ln(n),cf(),t!==null&&Y(Yr);break;case 24:ss(Vt)}}function ao(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==h)}}catch(T){nt(n,n.return,T)}}function Ks(t,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var g=l.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,h=n;var C=s,z=T;try{z()}catch(G){nt(h,C,G)}}}l=l.next}while(l!==f)}}catch(G){nt(n,n.return,G)}}function ty(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Fg(n,s)}catch(l){nt(t,t.return,l)}}}function ny(t,n,s){s.props=Jr(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){nt(t,n,l)}}function lo(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){nt(t,n,h)}}function Ui(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){nt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){nt(t,n,h)}else s.current=null}function iy(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){nt(t,t.return,h)}}function qf(t,n,s){try{var l=t.stateNode;jb(l,t.type,s,n),l[Ft]=n}catch(h){nt(t,t.return,h)}}function sy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&tr(t.type)||t.tag===4}function Hf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&tr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gf(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=li));else if(l!==4&&(l===27&&tr(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Gf(t,n,s),t=t.sibling;t!==null;)Gf(t,n,s),t=t.sibling}function ec(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&tr(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(ec(t,n,s),t=t.sibling;t!==null;)ec(t,n,s),t=t.sibling}function ry(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);en(n,l,s),n[Dt]=t,n[Ft]=s}catch(f){nt(t,t.return,f)}}var us=!1,Lt=!1,Ff=!1,ay=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function vb(t,n){if(t=t.containerInfo,fd=Tc,t=_g(t),Lh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var g=0,T=-1,C=-1,z=0,G=0,K=t,j=null;t:for(;;){for(var q;K!==s||h!==0&&K.nodeType!==3||(T=g+h),K!==f||l!==0&&K.nodeType!==3||(C=g+l),K.nodeType===3&&(g+=K.nodeValue.length),(q=K.firstChild)!==null;)j=K,K=q;for(;;){if(K===t)break t;if(j===s&&++z===h&&(T=g),j===f&&++G===l&&(C=g),(q=K.nextSibling)!==null)break;K=j,j=K.parentNode}K=q}s=T===-1||C===-1?null:{start:T,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(dd={focusedElem:t,selectionRange:s},Tc=!1,Yt=n;Yt!==null;)if(n=Yt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Yt=t;else for(;Yt!==null;){switch(n=Yt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var ue=Jr(s.type,h);t=l.getSnapshotBeforeUpdate(ue,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(pe){nt(s,s.return,pe)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)pd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":pd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Yt=t;break}Yt=n.return}}function ly(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:hs(t,s),l&4&&ao(5,s);break;case 1:if(hs(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(g){nt(s,s.return,g)}else{var h=Jr(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){nt(s,s.return,g)}}l&64&&ty(s),l&512&&lo(s,s.return);break;case 3:if(hs(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Fg(t,n)}catch(g){nt(s,s.return,g)}}break;case 27:n===null&&l&4&&ry(s);case 26:case 5:hs(t,s),n===null&&l&4&&iy(s),l&512&&lo(s,s.return);break;case 12:hs(t,s);break;case 31:hs(t,s),l&4&&cy(t,s);break;case 13:hs(t,s),l&4&&hy(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=Ib.bind(null,s),Kb(t,s))));break;case 22:if(l=s.memoizedState!==null||us,!l){n=n!==null&&n.memoizedState!==null||Lt,h=us;var f=Lt;us=l,(Lt=n)&&!f?fs(t,s,(s.subtreeFlags&8772)!==0):hs(t,s),us=h,Lt=f}break;case 30:break;default:hs(t,s)}}function oy(t){var n=t.alternate;n!==null&&(t.alternate=null,oy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&fa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var vt=null,Sn=!1;function cs(t,n,s){for(s=s.child;s!==null;)uy(t,n,s),s=s.sibling}function uy(t,n,s){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(We,s)}catch{}switch(s.tag){case 26:Lt||Ui(s,n),cs(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Lt||Ui(s,n);var l=vt,h=Sn;tr(s.type)&&(vt=s.stateNode,Sn=!1),cs(t,n,s),yo(s.stateNode),vt=l,Sn=h;break;case 5:Lt||Ui(s,n);case 6:if(l=vt,h=Sn,vt=null,cs(t,n,s),vt=l,Sn=h,vt!==null)if(Sn)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(s.stateNode)}catch(f){nt(s,n,f)}else try{vt.removeChild(s.stateNode)}catch(f){nt(s,n,f)}break;case 18:vt!==null&&(Sn?(t=vt,t_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),$a(t)):t_(vt,s.stateNode));break;case 4:l=vt,h=Sn,vt=s.stateNode.containerInfo,Sn=!0,cs(t,n,s),vt=l,Sn=h;break;case 0:case 11:case 14:case 15:Ks(2,s,n),Lt||Ks(4,s,n),cs(t,n,s);break;case 1:Lt||(Ui(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&ny(s,n,l)),cs(t,n,s);break;case 21:cs(t,n,s);break;case 22:Lt=(l=Lt)||s.memoizedState!==null,cs(t,n,s),Lt=l;break;default:cs(t,n,s)}}function cy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{$a(t)}catch(s){nt(n,n.return,s)}}}function hy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{$a(t)}catch(s){nt(n,n.return,s)}}function Eb(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new ay),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new ay),n;default:throw Error(a(435,t.tag))}}function tc(t,n){var s=Eb(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=xb.bind(null,t,l);l.then(h,h)}})}function An(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=t,g=n,T=g;e:for(;T!==null;){switch(T.tag){case 27:if(tr(T.type)){vt=T.stateNode,Sn=!1;break e}break;case 5:vt=T.stateNode,Sn=!1;break e;case 3:case 4:vt=T.stateNode.containerInfo,Sn=!0;break e}T=T.return}if(vt===null)throw Error(a(160));uy(f,g,h),vt=null,Sn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)fy(n,t),n=n.sibling}var di=null;function fy(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:An(n,t),wn(t),l&4&&(Ks(3,t,t.return),ao(3,t),Ks(5,t,t.return));break;case 1:An(n,t),wn(t),l&512&&(Lt||s===null||Ui(s,s.return)),l&64&&us&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=di;if(An(n,t),wn(t),l&512&&(Lt||s===null||Ui(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[bi]||f[Dt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),en(f,l,s),f[Dt]=t,Ot(f),l=f;break e;case"link":var g=f_("link","href",h).get(l+(s.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(T,1);break t}}f=h.createElement(l),en(f,l,s),h.head.appendChild(f);break;case"meta":if(g=f_("meta","content",h).get(l+(s.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(T,1);break t}}f=h.createElement(l),en(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Dt]=t,Ot(f),l=f}t.stateNode=l}else d_(h,t.type,t.stateNode);else t.stateNode=h_(h,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?d_(h,t.type,t.stateNode):h_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&qf(t,t.memoizedProps,s.memoizedProps)}break;case 27:An(n,t),wn(t),l&512&&(Lt||s===null||Ui(s,s.return)),s!==null&&l&4&&qf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(An(n,t),wn(t),l&512&&(Lt||s===null||Ui(s,s.return)),t.flags&32){h=t.stateNode;try{bn(h,"")}catch(ue){nt(t,t.return,ue)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,qf(t,h,s!==null?s.memoizedProps:h)),l&1024&&(Ff=!0);break;case 6:if(An(n,t),wn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(ue){nt(t,t.return,ue)}}break;case 3:if(yc=null,h=di,di=gc(n.containerInfo),An(n,t),di=h,wn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{$a(n.containerInfo)}catch(ue){nt(t,t.return,ue)}Ff&&(Ff=!1,dy(t));break;case 4:l=di,di=gc(t.stateNode.containerInfo),An(n,t),wn(t),di=l;break;case 12:An(n,t),wn(t);break;case 31:An(n,t),wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,tc(t,l)));break;case 13:An(n,t),wn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ic=ht()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,tc(t,l)));break;case 22:h=t.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,z=us,G=Lt;if(us=z||h,Lt=G||C,An(n,t),Lt=G,us=z,wn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||us||Lt||Wr(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=C.stateNode;var K=C.memoizedProps.style,j=K!=null&&K.hasOwnProperty("display")?K.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ue){nt(C,C.return,ue)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ue){nt(C,C.return,ue)}}}else if(n.tag===18){if(s===null){C=n;try{var q=C.stateNode;h?n_(q,!0):n_(C.stateNode,!1)}catch(ue){nt(C,C.return,ue)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,tc(t,s))));break;case 19:An(n,t),wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,tc(t,l)));break;case 30:break;case 21:break;default:An(n,t),wn(t)}}function wn(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(sy(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Hf(t);ec(t,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(bn(g,""),s.flags&=-33);var T=Hf(t);ec(t,T,g);break;case 3:case 4:var C=s.stateNode.containerInfo,z=Hf(t);Gf(t,z,C);break;default:throw Error(a(161))}}catch(G){nt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function dy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;dy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function hs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ly(t,n.alternate,n),n=n.sibling}function Wr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ks(4,n,n.return),Wr(n);break;case 1:Ui(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&ny(n,n.return,s),Wr(n);break;case 27:yo(n.stateNode);case 26:case 5:Ui(n,n.return),Wr(n);break;case 22:n.memoizedState===null&&Wr(n);break;case 30:Wr(n);break;default:Wr(n)}t=t.sibling}}function fs(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:fs(h,f,s),ao(4,f);break;case 1:if(fs(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){nt(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Gg(C[h],T)}catch(z){nt(l,l.return,z)}}s&&g&64&&ty(f),lo(f,f.return);break;case 27:ry(f);case 26:case 5:fs(h,f,s),s&&l===null&&g&4&&iy(f),lo(f,f.return);break;case 12:fs(h,f,s);break;case 31:fs(h,f,s),s&&g&4&&cy(h,f);break;case 13:fs(h,f,s),s&&g&4&&hy(h,f);break;case 22:f.memoizedState===null&&fs(h,f,s),lo(f,f.return);break;case 30:break;default:fs(h,f,s)}n=n.sibling}}function Qf(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Yl(s))}function Yf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Yl(t))}function mi(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)my(t,n,s,l),n=n.sibling}function my(t,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:mi(t,n,s,l),h&2048&&ao(9,n);break;case 1:mi(t,n,s,l);break;case 3:mi(t,n,s,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Yl(t)));break;case 12:if(h&2048){mi(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){nt(n,n.return,C)}}else mi(t,n,s,l);break;case 31:mi(t,n,s,l);break;case 13:mi(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?mi(t,n,s,l):oo(t,n):f._visibility&2?mi(t,n,s,l):(f._visibility|=2,za(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Qf(g,n);break;case 24:mi(t,n,s,l),h&2048&&Yf(n.alternate,n);break;default:mi(t,n,s,l)}}function za(t,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,T=s,C=l,z=g.flags;switch(g.tag){case 0:case 11:case 15:za(f,g,T,C,h),ao(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?za(f,g,T,C,h):oo(f,g):(G._visibility|=2,za(f,g,T,C,h)),h&&z&2048&&Qf(g.alternate,g);break;case 24:za(f,g,T,C,h),h&&z&2048&&Yf(g.alternate,g);break;default:za(f,g,T,C,h)}n=n.sibling}}function oo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,h=l.flags;switch(l.tag){case 22:oo(s,l),h&2048&&Qf(l.alternate,l);break;case 24:oo(s,l),h&2048&&Yf(l.alternate,l);break;default:oo(s,l)}n=n.sibling}}var uo=8192;function ja(t,n,s){if(t.subtreeFlags&uo)for(t=t.child;t!==null;)gy(t,n,s),t=t.sibling}function gy(t,n,s){switch(t.tag){case 26:ja(t,n,s),t.flags&uo&&t.memoizedState!==null&&a1(s,di,t.memoizedState,t.memoizedProps);break;case 5:ja(t,n,s);break;case 3:case 4:var l=di;di=gc(t.stateNode.containerInfo),ja(t,n,s),di=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=uo,uo=16777216,ja(t,n,s),uo=l):ja(t,n,s));break;default:ja(t,n,s)}}function py(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function co(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Yt=l,_y(l,t)}py(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)yy(t),t=t.sibling}function yy(t){switch(t.tag){case 0:case 11:case 15:co(t),t.flags&2048&&Ks(9,t,t.return);break;case 3:co(t);break;case 12:co(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,nc(t)):co(t);break;default:co(t)}}function nc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Yt=l,_y(l,t)}py(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ks(8,n,n.return),nc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,nc(n));break;default:nc(n)}t=t.sibling}}function _y(t,n){for(;Yt!==null;){var s=Yt;switch(s.tag){case 0:case 11:case 15:Ks(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Yl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Yt=l;else e:for(s=t;Yt!==null;){l=Yt;var h=l.sibling,f=l.return;if(oy(l),l===s){Yt=null;break e}if(h!==null){h.return=f,Yt=h;break e}Yt=f}}}var Tb={getCacheForType:function(t){var n=Jt(Vt),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return Jt(Vt).controller.signal}},bb=typeof WeakMap=="function"?WeakMap:Map,Ze=0,ut=null,Me=null,Ue=0,tt=0,Pn=null,Xs=!1,Ba=!1,Kf=!1,ds=0,At=0,$s=0,ea=0,Xf=0,zn=0,qa=0,ho=null,Rn=null,$f=!1,ic=0,vy=0,sc=1/0,rc=null,Zs=null,Bt=0,Js=null,Ha=null,ms=0,Zf=0,Jf=null,Ey=null,fo=0,Wf=null;function jn(){return(Ze&2)!==0&&Ue!==0?Ue&-Ue:H.T!==null?rd():au()}function Ty(){if(zn===0)if((Ue&536870912)===0||Ge){var t=Cr;Cr<<=1,(Cr&3932160)===0&&(Cr=262144),zn=t}else zn=536870912;return t=Un.current,t!==null&&(t.flags|=32),zn}function Cn(t,n,s){(t===ut&&(tt===2||tt===9)||t.cancelPendingCommit!==null)&&(Ga(t,0),Ws(t,Ue,zn,!1)),Ir(t,s),((Ze&2)===0||t!==ut)&&(t===ut&&((Ze&2)===0&&(ea|=s),At===4&&Ws(t,Ue,zn,!1)),Li(t))}function by(t,n,s){if((Ze&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||si(t,n),h=l?wb(t,n):td(t,n,!0),f=l;do{if(h===0){Ba&&!l&&Ws(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!Sb(s)){h=td(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var T=t;h=ho;var C=T.current.memoizedState.isDehydrated;if(C&&(Ga(T,g).flags|=256),g=td(T,g,!1),g!==2){if(Kf&&!C){T.errorRecoveryDisabledLanes|=f,ea|=f,h=4;break e}f=Rn,Rn=h,f!==null&&(Rn===null?Rn=f:Rn.push.apply(Rn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ga(t,0),Ws(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ws(l,n,zn,!Xs);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ic+300-ht(),10<h)){if(Ws(l,n,zn,!Xs),vi(l,0,!0)!==0)break e;ms=n,l.timeoutHandle=Wy(Sy.bind(null,l,s,Rn,rc,$f,n,zn,ea,qa,Xs,f,"Throttled",-0,0),h);break e}Sy(l,s,Rn,rc,$f,n,zn,ea,qa,Xs,f,null,-0,0)}}break}while(!0);Li(t)}function Sy(t,n,s,l,h,f,g,T,C,z,G,K,j,q){if(t.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:li},gy(n,f,K);var ue=(f&62914560)===f?ic-ht():(f&4194048)===f?vy-ht():0;if(ue=l1(K,ue),ue!==null){ms=f,t.cancelPendingCommit=ue(Dy.bind(null,t,n,f,s,l,h,g,T,C,G,K,null,j,q)),Ws(t,f,g,!z);return}}Dy(t,n,f,s,l,h,g,T,C)}function Sb(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!Vn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ws(t,n,s,l){n&=~Xf,n&=~ea,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-mt(h),g=1<<f;l[f]=-1,h&=~g}s!==0&&xr(t,s,n)}function ac(){return(Ze&6)===0?(mo(0),!1):!0}function ed(){if(Me!==null){if(tt===0)var t=Me.return;else t=Me,is=Fr=null,pf(t),Va=null,Xl=0,t=Me;for(;t!==null;)ey(t.alternate,t),t=t.return;Me=null}}function Ga(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Hb(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),ms=0,ed(),ut=t,Me=s=ts(t.current,null),Ue=n,tt=0,Pn=null,Xs=!1,Ba=si(t,n),Kf=!1,qa=zn=Xf=ea=$s=At=0,Rn=ho=null,$f=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-mt(l),f=1<<h;n|=t[h],l&=~f}return ds=n,Cu(),s}function Ay(t,n){Ne=null,H.H=io,n===Ma||n===ku?(n=jg(),tt=3):n===sf?(n=jg(),tt=4):tt=n===Of?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Pn=n,Me===null&&(At=1,Xu(t,Kn(n,t.current)))}function wy(){var t=Un.current;return t===null?!0:(Ue&4194048)===Ue?Jn===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?t===Jn:!1}function Ry(){var t=H.H;return H.H=io,t===null?io:t}function Cy(){var t=H.A;return H.A=Tb,t}function lc(){At=4,Xs||(Ue&4194048)!==Ue&&Un.current!==null||(Ba=!0),($s&134217727)===0&&(ea&134217727)===0||ut===null||Ws(ut,Ue,zn,!1)}function td(t,n,s){var l=Ze;Ze|=2;var h=Ry(),f=Cy();(ut!==t||Ue!==n)&&(rc=null,Ga(t,n)),n=!1;var g=At;e:do try{if(tt!==0&&Me!==null){var T=Me,C=Pn;switch(tt){case 8:ed(),g=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(n=!0);var z=tt;if(tt=0,Pn=null,Fa(t,T,C,z),s&&Ba){g=0;break e}break;default:z=tt,tt=0,Pn=null,Fa(t,T,C,z)}}Ab(),g=At;break}catch(G){Ay(t,G)}while(!0);return n&&t.shellSuspendCounter++,is=Fr=null,Ze=l,H.H=h,H.A=f,Me===null&&(ut=null,Ue=0,Cu()),g}function Ab(){for(;Me!==null;)Iy(Me)}function wb(t,n){var s=Ze;Ze|=2;var l=Ry(),h=Cy();ut!==t||Ue!==n?(rc=null,sc=ht()+500,Ga(t,n)):Ba=si(t,n);e:do try{if(tt!==0&&Me!==null){n=Me;var f=Pn;t:switch(tt){case 1:tt=0,Pn=null,Fa(t,n,f,1);break;case 2:case 9:if(Pg(f)){tt=0,Pn=null,xy(n);break}n=function(){tt!==2&&tt!==9||ut!==t||(tt=7),Li(t)},f.then(n,n);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:Pg(f)?(tt=0,Pn=null,xy(n)):(tt=0,Pn=null,Fa(t,n,f,7));break;case 5:var g=null;switch(Me.tag){case 26:g=Me.memoizedState;case 5:case 27:var T=Me;if(g?m_(g):T.stateNode.complete){tt=0,Pn=null;var C=T.sibling;if(C!==null)Me=C;else{var z=T.return;z!==null?(Me=z,oc(z)):Me=null}break t}}tt=0,Pn=null,Fa(t,n,f,5);break;case 6:tt=0,Pn=null,Fa(t,n,f,6);break;case 8:ed(),At=6;break e;default:throw Error(a(462))}}Rb();break}catch(G){Ay(t,G)}while(!0);return is=Fr=null,H.H=l,H.A=h,Ze=s,Me!==null?0:(ut=null,Ue=0,Cu(),At)}function Rb(){for(;Me!==null&&!qn();)Iy(Me)}function Iy(t){var n=Jp(t.alternate,t,ds);t.memoizedProps=t.pendingProps,n===null?oc(t):Me=n}function xy(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Qp(s,n,n.pendingProps,n.type,void 0,Ue);break;case 11:n=Qp(s,n,n.pendingProps,n.type.render,n.ref,Ue);break;case 5:pf(n);default:ey(s,n),n=Me=Cg(n,ds),n=Jp(s,n,ds)}t.memoizedProps=t.pendingProps,n===null?oc(t):Me=n}function Fa(t,n,s,l){is=Fr=null,pf(n),Va=null,Xl=0;var h=n.return;try{if(mb(t,h,n,s,Ue)){At=1,Xu(t,Kn(s,t.current)),Me=null;return}}catch(f){if(h!==null)throw Me=h,f;At=1,Xu(t,Kn(s,t.current)),Me=null;return}n.flags&32768?(Ge||l===1?t=!0:Ba||(Ue&536870912)!==0?t=!1:(Xs=t=!0,(l===2||l===9||l===3||l===6)&&(l=Un.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ny(n,t)):oc(n)}function oc(t){var n=t;do{if((n.flags&32768)!==0){Ny(n,Xs);return}t=n.return;var s=yb(n.alternate,n,ds);if(s!==null){Me=s;return}if(n=n.sibling,n!==null){Me=n;return}Me=n=t}while(n!==null);At===0&&(At=5)}function Ny(t,n){do{var s=_b(t.alternate,t);if(s!==null){s.flags&=32767,Me=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Me=t;return}Me=t=s}while(t!==null);At=6,Me=null}function Dy(t,n,s,l,h,f,g,T,C){t.cancelPendingCommit=null;do uc();while(Bt!==0);if((Ze&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=qh,Mh(t,s,f,g,T,C),t===ut&&(Me=ut=null,Ue=0),Ha=n,Js=t,ms=s,Zf=f,Jf=h,Ey=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Nb(He,function(){return Uy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,h=ie.p,ie.p=2,g=Ze,Ze|=4;try{vb(t,n,s)}finally{Ze=g,ie.p=h,H.T=l}}Bt=1,Oy(),My(),Vy()}}function Oy(){if(Bt===1){Bt=0;var t=Js,n=Ha,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var l=ie.p;ie.p=2;var h=Ze;Ze|=4;try{fy(n,t);var f=dd,g=_g(t.containerInfo),T=f.focusedElem,C=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&yg(T.ownerDocument.documentElement,T)){if(C!==null&&Lh(T)){var z=C.start,G=C.end;if(G===void 0&&(G=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(G,T.value.length);else{var K=T.ownerDocument||document,j=K&&K.defaultView||window;if(j.getSelection){var q=j.getSelection(),ue=T.textContent.length,pe=Math.min(C.start,ue),at=C.end===void 0?pe:Math.min(C.end,ue);!q.extend&&pe>at&&(g=at,at=pe,pe=g);var U=pg(T,pe),D=pg(T,at);if(U&&D&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var P=K.createRange();P.setStart(U.node,U.offset),q.removeAllRanges(),pe>at?(q.addRange(P),q.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),q.addRange(P))}}}}for(K=[],q=T;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<K.length;T++){var Q=K[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Tc=!!fd,dd=fd=null}finally{Ze=h,ie.p=l,H.T=s}}t.current=n,Bt=2}}function My(){if(Bt===2){Bt=0;var t=Js,n=Ha,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var l=ie.p;ie.p=2;var h=Ze;Ze|=4;try{ly(t,n.alternate,n)}finally{Ze=h,ie.p=l,H.T=s}}Bt=3}}function Vy(){if(Bt===4||Bt===3){Bt=0,on();var t=Js,n=Ha,s=ms,l=Ey;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Bt=5:(Bt=0,Ha=Js=null,ky(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Zs=null),Zi(s),n=n.stateNode,Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(We,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,h=ie.p,ie.p=2,H.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var T=l[g];f(T.value,{componentStack:T.stack})}}finally{H.T=n,ie.p=h}}(ms&3)!==0&&uc(),Li(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===Wf?fo++:(fo=0,Wf=t):fo=0,mo(0)}}function ky(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Yl(n)))}function uc(){return Oy(),My(),Vy(),Uy()}function Uy(){if(Bt!==5)return!1;var t=Js,n=Zf;Zf=0;var s=Zi(ms),l=H.T,h=ie.p;try{ie.p=32>s?32:s,H.T=null,s=Jf,Jf=null;var f=Js,g=ms;if(Bt=0,Ha=Js=null,ms=0,(Ze&6)!==0)throw Error(a(331));var T=Ze;if(Ze|=4,yy(f.current),my(f,f.current,g,s),Ze=T,mo(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(We,f)}catch{}return!0}finally{ie.p=h,H.T=l,ky(t,n)}}function Ly(t,n,s){n=Kn(s,n),n=Df(t.stateNode,n,2),t=Fs(t,n,2),t!==null&&(Ir(t,2),Li(t))}function nt(t,n,s){if(t.tag===3)Ly(t,t,s);else for(;n!==null;){if(n.tag===3){Ly(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Zs===null||!Zs.has(l))){t=Kn(s,t),s=Pp(2),l=Fs(n,s,2),l!==null&&(zp(s,l,n,t),Ir(l,2),Li(l));break}}n=n.return}}function nd(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new bb;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(Kf=!0,h.add(s),t=Cb.bind(null,t,n,s),n.then(t,t))}function Cb(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,ut===t&&(Ue&s)===s&&(At===4||At===3&&(Ue&62914560)===Ue&&300>ht()-ic?(Ze&2)===0&&Ga(t,0):Xf|=s,qa===Ue&&(qa=0)),Li(t)}function Py(t,n){n===0&&(n=ru()),t=qr(t,n),t!==null&&(Ir(t,n),Li(t))}function Ib(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Py(t,s)}function xb(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Py(t,s)}function Nb(t,n){return Oe(t,n)}var cc=null,Qa=null,id=!1,hc=!1,sd=!1,er=0;function Li(t){t!==Qa&&t.next===null&&(Qa===null?cc=Qa=t:Qa=Qa.next=t),hc=!0,id||(id=!0,Ob())}function mo(t,n){if(!sd&&hc){sd=!0;do for(var s=!1,l=cc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-mt(42|t)+1)-1,f&=h&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,qy(l,f))}else f=Ue,f=vi(l,l===ut?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||si(l,f)||(s=!0,qy(l,f));l=l.next}while(s);sd=!1}}function Db(){zy()}function zy(){hc=id=!1;var t=0;er!==0&&qb()&&(t=er);for(var n=ht(),s=null,l=cc;l!==null;){var h=l.next,f=jy(l,n);f===0?(l.next=null,s===null?cc=h:s.next=h,h===null&&(Qa=s)):(s=l,(t!==0||(f&3)!==0)&&(hc=!0)),l=h}Bt!==0&&Bt!==5||mo(t),er!==0&&(er=0)}function jy(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-mt(f),T=1<<g,C=h[g];C===-1?((T&s)===0||(T&l)!==0)&&(h[g]=Oh(T,n)):C<=n&&(t.expiredLanes|=T),f&=~T}if(n=ut,s=Ue,s=vi(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(tt===2||tt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ot(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||si(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&ot(l),Zi(s)){case 2:case 8:s=Z;break;case 32:s=He;break;case 268435456:s=Xt;break;default:s=He}return l=By.bind(null,t),s=Oe(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&ot(l),t.callbackPriority=2,t.callbackNode=null,2}function By(t,n){if(Bt!==0&&Bt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(uc()&&t.callbackNode!==s)return null;var l=Ue;return l=vi(t,t===ut?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(by(t,l,n),jy(t,ht()),t.callbackNode!=null&&t.callbackNode===s?By.bind(null,t):null)}function qy(t,n){if(uc())return null;by(t,n,!0)}function Ob(){Gb(function(){(Ze&6)!==0?Oe(ii,Db):zy()})}function rd(){if(er===0){var t=Da;t===0&&(t=yi,yi<<=1,(yi&261888)===0&&(yi=256)),er=t}return er}function Hy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:pa(""+t)}function Gy(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function Mb(t,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=Hy((h[Ft]||null).action),g=l.submitter;g&&(n=(n=g[Ft]||null)?Hy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new Ni("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(er!==0){var C=g?Gy(h,g):new FormData(h);wf(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(T.preventDefault(),C=g?Gy(h,g):new FormData(h),wf(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var ad=0;ad<Bh.length;ad++){var ld=Bh[ad],Vb=ld.toLowerCase(),kb=ld[0].toUpperCase()+ld.slice(1);fi(Vb,"on"+kb)}fi(Tg,"onAnimationEnd"),fi(bg,"onAnimationIteration"),fi(Sg,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(ZT,"onTransitionRun"),fi(JT,"onTransitionStart"),fi(WT,"onTransitionCancel"),fi(Ag,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ub=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(go));function Fy(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var T=l[g],C=T.instance,z=T.currentTarget;if(T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=z;try{f(h)}catch(G){Ru(G)}h.currentTarget=null,f=C}else for(g=0;g<l.length;g++){if(T=l[g],C=T.instance,z=T.currentTarget,T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=z;try{f(h)}catch(G){Ru(G)}h.currentTarget=null,f=C}}}}function Ve(t,n){var s=n[ha];s===void 0&&(s=n[ha]=new Set);var l=t+"__bubble";s.has(l)||(Qy(n,t,2,!1),s.add(l))}function od(t,n,s){var l=0;n&&(l|=4),Qy(s,t,l,n)}var fc="_reactListening"+Math.random().toString(36).slice(2);function ud(t){if(!t[fc]){t[fc]=!0,Rl.forEach(function(s){s!=="selectionchange"&&(Ub.has(s)||od(s,!1,t),od(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[fc]||(n[fc]=!0,od("selectionchange",!1,n))}}function Qy(t,n,s,l){switch(T_(n)){case 2:var h=c1;break;case 8:h=h1;break;default:h=Ad}s=h.bind(null,n,s,t),h=void 0,!Vr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function cd(t,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var T=l.stateNode.containerInfo;if(T===h)break;if(g===4)for(g=l.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;T!==null;){if(g=Si(T),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){l=f=g;continue e}T=T.parentNode}}l=l.return}ks(function(){var z=f,G=Gn(s),K=[];e:{var j=wg.get(t);if(j!==void 0){var q=Ni,ue=t;switch(t){case"keypress":if(Ur(s)===0)break e;case"keydown":case"keyup":q=Su;break;case"focusin":ue="focus",q=Pr;break;case"focusout":ue="blur",q=Pr;break;case"beforeblur":case"afterblur":q=Pr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=zl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Tg:case bg:case Sg:q=pu;break;case Ag:q=b;break;case"scroll":case"scrollend":q=Pl;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=es;break;case"toggle":case"beforetoggle":q=xe}var pe=(n&4)!==0,at=!pe&&(t==="scroll"||t==="scrollend"),U=pe?j!==null?j+"Capture":null:j;pe=[];for(var D=z,P;D!==null;){var Q=D;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||U===null||(Q=oi(D,U),Q!=null&&pe.push(po(D,Q,P))),at)break;D=D.return}0<pe.length&&(j=new q(j,ue,null,s,G),K.push({event:j,listeners:pe}))}}if((n&7)===0){e:{if(j=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",j&&s!==kl&&(ue=s.relatedTarget||s.fromElement)&&(Si(ue)||ue[Ti]))break e;if((q||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,q?(ue=s.relatedTarget||s.toElement,q=z,ue=ue?Si(ue):null,ue!==null&&(at=c(ue),pe=ue.tag,ue!==at||pe!==5&&pe!==27&&pe!==6)&&(ue=null)):(q=null,ue=z),q!==ue)){if(pe=zl,Q="onMouseLeave",U="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(pe=es,Q="onPointerLeave",U="onPointerEnter",D="pointer"),at=q==null?j:On(q),P=ue==null?j:On(ue),j=new pe(Q,D+"leave",q,s,G),j.target=at,j.relatedTarget=P,Q=null,Si(G)===z&&(pe=new pe(U,D+"enter",ue,s,G),pe.target=P,pe.relatedTarget=at,Q=pe),at=Q,q&&ue)t:{for(pe=Lb,U=q,D=ue,P=0,Q=U;Q;Q=pe(Q))P++;Q=0;for(var de=D;de;de=pe(de))Q++;for(;0<P-Q;)U=pe(U),P--;for(;0<Q-P;)D=pe(D),Q--;for(;P--;){if(U===D||D!==null&&U===D.alternate){pe=U;break t}U=pe(U),D=pe(D)}pe=null}else pe=null;q!==null&&Yy(K,j,q,pe,!1),ue!==null&&at!==null&&Yy(K,at,ue,pe,!0)}}e:{if(j=z?On(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Qe=cg;else if(og(j))if(hg)Qe=KT;else{Qe=QT;var ce=FT}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ga(z.elementType)&&(Qe=cg):Qe=YT;if(Qe&&(Qe=Qe(t,z))){ug(K,Qe,s,G);break e}ce&&ce(t,j,z),t==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Ol(j,"number",j.value)}switch(ce=z?On(z):window,t){case"focusin":(og(ce)||ce.contentEditable==="true")&&(Sa=ce,Ph=z,Gl=null);break;case"focusout":Gl=Ph=Sa=null;break;case"mousedown":zh=!0;break;case"contextmenu":case"mouseup":case"dragend":zh=!1,vg(K,s,G);break;case"selectionchange":if($T)break;case"keydown":case"keyup":vg(K,s,G)}var De;if($e)e:{switch(t){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else ba?zr(t,s)&&(Le="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Le="onCompositionStart");Le&&(Mi&&s.locale!=="ko"&&(ba||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&ba&&(De=Ll()):(xi=G,Ul="value"in xi?xi.value:xi.textContent,ba=!0)),ce=dc(z,Le),0<ce.length&&(Le=new Oi(Le,t,null,s,G),K.push({event:Le,listeners:ce}),De?Le.data=De:(De=Ta(s),De!==null&&(Le.data=De)))),(De=Qn?BT(t,s):qT(t,s))&&(Le=dc(z,"onBeforeInput"),0<Le.length&&(ce=new Oi("onBeforeInput","beforeinput",null,s,G),K.push({event:ce,listeners:Le}),ce.data=De)),Mb(K,t,z,s,G)}Fy(K,n)})}function po(t,n,s){return{instance:t,listener:n,currentTarget:s}}function dc(t,n){for(var s=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=oi(t,s),h!=null&&l.unshift(po(t,h,f)),h=oi(t,n),h!=null&&l.push(po(t,h,f))),t.tag===3)return l;t=t.return}return[]}function Lb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Yy(t,n,s,l,h){for(var f=n._reactName,g=[];s!==null&&s!==l;){var T=s,C=T.alternate,z=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||z===null||(C=z,h?(z=oi(s,f),z!=null&&g.unshift(po(s,z,C))):h||(z=oi(s,f),z!=null&&g.push(po(s,z,C)))),s=s.return}g.length!==0&&t.push({event:n,listeners:g})}var Pb=/\r\n?/g,zb=/\u0000|\uFFFD/g;function Ky(t){return(typeof t=="string"?t:""+t).replace(Pb,`
`).replace(zb,"")}function Xy(t,n){return n=Ky(n),Ky(t)===n}function rt(t,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||bn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&bn(t,""+l);break;case"className":Mn(t,"class",l);break;case"tabIndex":Mn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Mn(t,s,l);break;case"style":Vl(t,l,f);break;case"data":if(n!=="object"){Mn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=pa(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&rt(t,n,"name",h.name,h,null),rt(t,n,"formEncType",h.formEncType,h,null),rt(t,n,"formMethod",h.formMethod,h,null),rt(t,n,"formTarget",h.formTarget,h,null)):(rt(t,n,"encType",h.encType,h,null),rt(t,n,"method",h.method,h,null),rt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=pa(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=li);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=pa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),da(t,"popover",l);break;case"xlinkActuate":Mt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Mt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Mt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Mt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Mt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Mt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Mt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Mt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Mt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":da(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=du.get(s)||s,da(t,s,l))}}function hd(t,n,s,l,h,f){switch(s){case"style":Vl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?bn(t,l):(typeof l=="number"||typeof l=="bigint")&&bn(t,""+l);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"onClick":l!=null&&(t.onclick=li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cl.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=t[Ft]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):da(t,s,l)}}}function en(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:rt(t,n,f,g,s,null)}}h&&rt(t,n,"srcSet",s.srcSet,s,null),l&&rt(t,n,"src",s.src,s,null);return;case"input":Ve("invalid",t);var T=f=g=h=null,C=null,z=null;for(l in s)if(s.hasOwnProperty(l)){var G=s[l];if(G!=null)switch(l){case"name":h=G;break;case"type":g=G;break;case"checked":C=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:rt(t,n,l,G,s,null)}}cu(t,f,T,C,z,g,h,!1);return;case"select":Ve("invalid",t),l=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":l=T;default:rt(t,n,h,T,s,null)}n=f,s=g,t.multiple=!!l,n!=null?Ds(t,!!l,n,!1):s!=null&&Ds(t,!!l,s,!0);return;case"textarea":Ve("invalid",t),f=h=l=null;for(g in s)if(s.hasOwnProperty(g)&&(T=s[g],T!=null))switch(g){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:rt(t,n,g,T,s,null)}Os(t,l,h,f);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(l=s[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:rt(t,n,C,l,s,null)}return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(l=0;l<go.length;l++)Ve(go[l],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(l=s[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:rt(t,n,z,l,s,null)}return;default:if(ga(n)){for(G in s)s.hasOwnProperty(G)&&(l=s[G],l!==void 0&&hd(t,n,G,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&rt(t,n,T,l,s,null))}function jb(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,T=null,C=null,z=null,G=null;for(q in s){var K=s[q];if(s.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=K;default:l.hasOwnProperty(q)||rt(t,n,q,null,l,K)}}for(var j in l){var q=l[j];if(K=s[j],l.hasOwnProperty(j)&&(q!=null||K!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":G=q;break;case"value":g=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==K&&rt(t,n,j,q,l,K)}}ma(t,g,T,C,z,G,f,h);return;case"select":q=g=T=j=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":q=C;default:l.hasOwnProperty(f)||rt(t,n,f,null,l,C)}for(h in l)if(f=l[h],C=s[h],l.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":j=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==C&&rt(t,n,h,f,l,C)}n=T,s=g,l=q,j!=null?Ds(t,!!s,j,!1):!!l!=!!s&&(n!=null?Ds(t,!!s,n,!0):Ds(t,!!s,s?[]:"",!1));return;case"textarea":q=j=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:rt(t,n,T,null,l,h)}for(g in l)if(h=l[g],f=s[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&rt(t,n,g,h,l,f)}hu(t,j,q);return;case"option":for(var ue in s)if(j=s[ue],s.hasOwnProperty(ue)&&j!=null&&!l.hasOwnProperty(ue))switch(ue){case"selected":t.selected=!1;break;default:rt(t,n,ue,null,l,j)}for(C in l)if(j=l[C],q=s[C],l.hasOwnProperty(C)&&j!==q&&(j!=null||q!=null))switch(C){case"selected":t.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:rt(t,n,C,j,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in s)j=s[pe],s.hasOwnProperty(pe)&&j!=null&&!l.hasOwnProperty(pe)&&rt(t,n,pe,null,l,j);for(z in l)if(j=l[z],q=s[z],l.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:rt(t,n,z,j,l,q)}return;default:if(ga(n)){for(var at in s)j=s[at],s.hasOwnProperty(at)&&j!==void 0&&!l.hasOwnProperty(at)&&hd(t,n,at,void 0,l,j);for(G in l)j=l[G],q=s[G],!l.hasOwnProperty(G)||j===q||j===void 0&&q===void 0||hd(t,n,G,j,l,q);return}}for(var U in s)j=s[U],s.hasOwnProperty(U)&&j!=null&&!l.hasOwnProperty(U)&&rt(t,n,U,null,l,j);for(K in l)j=l[K],q=s[K],!l.hasOwnProperty(K)||j===q||j==null&&q==null||rt(t,n,K,j,l,q)}function $y(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Bb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,g=h.initiatorType,T=h.duration;if(f&&T&&$y(g)){for(g=0,T=h.responseEnd,l+=1;l<s.length;l++){var C=s[l],z=C.startTime;if(z>T)break;var G=C.transferSize,K=C.initiatorType;G&&$y(K)&&(C=C.responseEnd,g+=G*(C<T?1:(T-z)/(C-z)))}if(--l,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var fd=null,dd=null;function mc(t){return t.nodeType===9?t:t.ownerDocument}function Zy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function md(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var gd=null;function qb(){var t=window.event;return t&&t.type==="popstate"?t===gd?!1:(gd=t,!0):(gd=null,!1)}var Wy=typeof setTimeout=="function"?setTimeout:void 0,Hb=typeof clearTimeout=="function"?clearTimeout:void 0,e_=typeof Promise=="function"?Promise:void 0,Gb=typeof queueMicrotask=="function"?queueMicrotask:typeof e_<"u"?function(t){return e_.resolve(null).then(t).catch(Fb)}:Wy;function Fb(t){setTimeout(function(){throw t})}function tr(t){return t==="head"}function t_(t,n){var s=n,l=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(h),$a(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")yo(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,yo(s);for(var f=s.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[bi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&yo(t.ownerDocument.body);s=h}while(s);$a(n)}function n_(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function pd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":pd(s),fa(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function Qb(t,n,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[bi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Wn(t.nextSibling),t===null)break}return null}function Yb(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Wn(t.nextSibling),t===null))return null;return t}function i_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Wn(t.nextSibling),t===null))return null;return t}function yd(t){return t.data==="$?"||t.data==="$~"}function _d(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Kb(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Wn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var vd=null;function s_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return Wn(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function r_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function a_(t,n,s){switch(n=mc(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function yo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);fa(t)}var ei=new Map,l_=new Set;function gc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var gs=ie.d;ie.d={f:Xb,r:$b,D:Zb,C:Jb,L:Wb,m:e1,X:n1,S:t1,M:i1};function Xb(){var t=gs.f(),n=ac();return t||n}function $b(t){var n=Hn(t);n!==null&&n.tag===5&&n.type==="form"?Ap(n):gs.r(t)}var Ya=typeof document>"u"?null:document;function o_(t,n,s){var l=Ya;if(l&&typeof n=="string"&&n){var h=Tn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),l_.has(h)||(l_.add(h),t={rel:t,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),en(n,"link",t),Ot(n),l.head.appendChild(n)))}}function Zb(t){gs.D(t),o_("dns-prefetch",t,null)}function Jb(t,n){gs.C(t,n),o_("preconnect",t,n)}function Wb(t,n,s){gs.L(t,n,s);var l=Ya;if(l&&t&&n){var h='link[rel="preload"][as="'+Tn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Tn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Tn(s.imageSizes)+'"]')):h+='[href="'+Tn(t)+'"]';var f=h;switch(n){case"style":f=Ka(t);break;case"script":f=Xa(t)}ei.has(f)||(t=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),ei.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(_o(f))||n==="script"&&l.querySelector(vo(f))||(n=l.createElement("link"),en(n,"link",t),Ot(n),l.head.appendChild(n)))}}function e1(t,n){gs.m(t,n);var s=Ya;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Tn(l)+'"][href="'+Tn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Xa(t)}if(!ei.has(f)&&(t=S({rel:"modulepreload",href:t},n),ei.set(f,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(vo(f)))return}l=s.createElement("link"),en(l,"link",t),Ot(l),s.head.appendChild(l)}}}function t1(t,n,s){gs.S(t,n,s);var l=Ya;if(l&&t){var h=Ai(l).hoistableStyles,f=Ka(t);n=n||"default";var g=h.get(f);if(!g){var T={loading:0,preload:null};if(g=l.querySelector(_o(f)))T.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},s),(s=ei.get(f))&&Ed(t,s);var C=g=l.createElement("link");Ot(C),en(C,"link",t),C._p=new Promise(function(z,G){C.onload=z,C.onerror=G}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,pc(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:T},h.set(f,g)}}}function n1(t,n){gs.X(t,n);var s=Ya;if(s&&t){var l=Ai(s).hoistableScripts,h=Xa(t),f=l.get(h);f||(f=s.querySelector(vo(h)),f||(t=S({src:t,async:!0},n),(n=ei.get(h))&&Td(t,n),f=s.createElement("script"),Ot(f),en(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function i1(t,n){gs.M(t,n);var s=Ya;if(s&&t){var l=Ai(s).hoistableScripts,h=Xa(t),f=l.get(h);f||(f=s.querySelector(vo(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=ei.get(h))&&Td(t,n),f=s.createElement("script"),Ot(f),en(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function u_(t,n,s,l){var h=(h=Ce.current)?gc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ka(s.href),s=Ai(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ka(s.href);var f=Ai(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(_o(t)))&&!f._p&&(g.instance=f,g.state.loading=5),ei.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ei.set(t,s),f||s1(h,t,s,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Xa(s),s=Ai(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ka(t){return'href="'+Tn(t)+'"'}function _o(t){return'link[rel="stylesheet"]['+t+"]"}function c_(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function s1(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),en(n,"link",s),Ot(n),t.head.appendChild(n))}function Xa(t){return'[src="'+Tn(t)+'"]'}function vo(t){return"script[async]"+t}function h_(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Tn(s.href)+'"]');if(l)return n.instance=l,Ot(l),l;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ot(l),en(l,"style",h),pc(l,s.precedence,t),n.instance=l;case"stylesheet":h=Ka(s.href);var f=t.querySelector(_o(h));if(f)return n.state.loading|=4,n.instance=f,Ot(f),f;l=c_(s),(h=ei.get(h))&&Ed(l,h),f=(t.ownerDocument||t).createElement("link"),Ot(f);var g=f;return g._p=new Promise(function(T,C){g.onload=T,g.onerror=C}),en(f,"link",l),n.state.loading|=4,pc(f,s.precedence,t),n.instance=f;case"script":return f=Xa(s.src),(h=t.querySelector(vo(f)))?(n.instance=h,Ot(h),h):(l=s,(h=ei.get(f))&&(l=S({},s),Td(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ot(h),en(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,pc(l,s.precedence,t));return n.instance}function pc(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var T=l[g];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Ed(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Td(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var yc=null;function f_(t,n,s){if(yc===null){var l=new Map,h=yc=new Map;h.set(s,l)}else h=yc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[bi]||f[Dt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var T=l.get(g);T?T.push(f):l.set(g,[f])}}return l}function d_(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function r1(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function m_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function a1(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ka(l.href),f=n.querySelector(_o(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=_c.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,Ot(f);return}f=n.ownerDocument||n,l=c_(l),(h=ei.get(h))&&Ed(l,h),f=f.createElement("link"),Ot(f);var g=f;g._p=new Promise(function(T,C){g.onload=T,g.onerror=C}),en(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=_c.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var bd=0;function l1(t,n){return t.stylesheets&&t.count===0&&Ec(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&Ec(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&bd===0&&(bd=62500*Bb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ec(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>bd?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function _c(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var vc=null;function Ec(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,vc=new Map,n.forEach(o1,t),vc=null,_c.call(t))}function o1(t,n){if(!(n.state.loading&4)){var s=vc.get(t);if(s)var l=s.get(null);else{s=new Map,vc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,h),s.set(g,h),this.count++,l=_c.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Eo={$$typeof:ve,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function u1(t,n,s,l,h,f,g,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.hiddenUpdates=Ei(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function g_(t,n,s,l,h,f,g,T,C,z,G,K){return t=new u1(t,n,s,g,C,z,G,K,T),n=1,f===!0&&(n|=24),f=kn(3,null,null,n),t.current=f,f.stateNode=t,n=ef(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},rf(f),t}function p_(t){return t?(t=Ra,t):Ra}function y_(t,n,s,l,h,f){h=p_(h),l.context===null?l.context=h:l.pendingContext=h,l=Gs(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Fs(t,l,n),s!==null&&(Cn(s,t,n),Zl(s,t,n))}function __(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Sd(t,n){__(t,n),(t=t.alternate)&&__(t,n)}function v_(t){if(t.tag===13||t.tag===31){var n=qr(t,67108864);n!==null&&Cn(n,t,67108864),Sd(t,67108864)}}function E_(t){if(t.tag===13||t.tag===31){var n=jn();n=Nr(n);var s=qr(t,n);s!==null&&Cn(s,t,n),Sd(t,n)}}var Tc=!0;function c1(t,n,s,l){var h=H.T;H.T=null;var f=ie.p;try{ie.p=2,Ad(t,n,s,l)}finally{ie.p=f,H.T=h}}function h1(t,n,s,l){var h=H.T;H.T=null;var f=ie.p;try{ie.p=8,Ad(t,n,s,l)}finally{ie.p=f,H.T=h}}function Ad(t,n,s,l){if(Tc){var h=wd(l);if(h===null)cd(t,n,l,bc,s),b_(t,l);else if(d1(h,t,n,s,l))l.stopPropagation();else if(b_(t,l),n&4&&-1<f1.indexOf(t)){for(;h!==null;){var f=Hn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=_i(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var C=1<<31-mt(g);T.entanglements[1]|=C,g&=~C}Li(f),(Ze&6)===0&&(sc=ht()+500,mo(0))}}break;case 31:case 13:T=qr(f,2),T!==null&&Cn(T,f,2),ac(),Sd(f,2)}if(f=wd(l),f===null&&cd(t,n,l,bc,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else cd(t,n,l,null,s)}}function wd(t){return t=Gn(t),Rd(t)}var bc=null;function Rd(t){if(bc=null,t=Si(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=p(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return bc=t,null}function T_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(En()){case ii:return 2;case Z:return 8;case He:case Dn:return 32;case Xt:return 268435456;default:return 32}default:return 32}}var Cd=!1,nr=null,ir=null,sr=null,To=new Map,bo=new Map,rr=[],f1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b_(t,n){switch(t){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":To.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":bo.delete(n.pointerId)}}function So(t,n,s,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Hn(n),n!==null&&v_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function d1(t,n,s,l,h){switch(n){case"focusin":return nr=So(nr,t,n,s,l,h),!0;case"dragenter":return ir=So(ir,t,n,s,l,h),!0;case"mouseover":return sr=So(sr,t,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return To.set(f,So(To.get(f)||null,t,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,bo.set(f,So(bo.get(f)||null,t,n,s,l,h)),!0}return!1}function S_(t){var n=Si(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,ri(t.priority,function(){E_(s)});return}}else if(n===31){if(n=p(s),n!==null){t.blockedOn=n,ri(t.priority,function(){E_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=wd(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);kl=l,s.target.dispatchEvent(l),kl=null}else return n=Hn(s),n!==null&&v_(n),t.blockedOn=s,!1;n.shift()}return!0}function A_(t,n,s){Sc(t)&&s.delete(n)}function m1(){Cd=!1,nr!==null&&Sc(nr)&&(nr=null),ir!==null&&Sc(ir)&&(ir=null),sr!==null&&Sc(sr)&&(sr=null),To.forEach(A_),bo.forEach(A_)}function Ac(t,n){t.blockedOn===n&&(t.blockedOn=null,Cd||(Cd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,m1)))}var wc=null;function w_(t){wc!==t&&(wc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){wc===t&&(wc=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Rd(l||s)===null)continue;break}var f=Hn(s);f!==null&&(t.splice(n,3),n-=3,wf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function $a(t){function n(C){return Ac(C,t)}nr!==null&&Ac(nr,t),ir!==null&&Ac(ir,t),sr!==null&&Ac(sr,t),To.forEach(n),bo.forEach(n);for(var s=0;s<rr.length;s++){var l=rr[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<rr.length&&(s=rr[0],s.blockedOn===null);)S_(s),s.blockedOn===null&&rr.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],g=h[Ft]||null;if(typeof f=="function")g||w_(s);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Ft]||null)T=g.formAction;else if(Rd(h)!==null)continue}else T=g.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),w_(s)}}}function R_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Id(t){this._internalRoot=t}Rc.prototype.render=Id.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=jn();y_(s,l,t,n,null,null)},Rc.prototype.unmount=Id.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;y_(t.current,2,null,t,null,null),ac(),n[Ti]=null}};function Rc(t){this._internalRoot=t}Rc.prototype.unstable_scheduleHydration=function(t){if(t){var n=au();t={blockedOn:null,target:t,priority:n};for(var s=0;s<rr.length&&n!==0&&n<rr[s].priority;s++);rr.splice(s,0,t),s===0&&S_(t)}};var C_=e.version;if(C_!=="19.2.0")throw Error(a(527,C_,"19.2.0"));ie.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var g1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{We=Cc.inject(g1),Et=Cc}catch{}}return wo.createRoot=function(t,n){if(!o(t))throw Error(a(299));var s=!1,l="",h=Vp,f=kp,g=Up;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=g_(t,1,!1,null,null,s,l,null,h,f,g,R_),t[Ti]=n.current,ud(t),new Id(n)},wo.hydrateRoot=function(t,n,s){if(!o(t))throw Error(a(299));var l=!1,h="",f=Vp,g=kp,T=Up,C=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=g_(t,1,!0,n,s??null,l,h,C,f,g,T,R_),n.context=p_(null),s=n.current,l=jn(),l=Nr(l),h=Gs(l),h.callback=null,Fs(s,h,l),s=l,n.current.lanes=s,Ir(n,s),Li(n),t[Ti]=n.current,ud(t),new Rc(n)},wo.version="19.2.0",wo}var L_;function C1(){if(L_)return Dd.exports;L_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Dd.exports=R1(),Dd.exports}var I1=C1();const x1=()=>{};var P_={};const pv=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},N1=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],p=r[i++],y=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},yv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,p=d?r[o+1]:0,y=o+2<r.length,_=y?r[o+2]:0,E=c>>2,S=(c&3)<<4|p>>4;let M=(p&15)<<2|_>>6,F=_&63;y||(F=64,d||(M=64)),a.push(i[E],i[S],i[M],i[F])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(pv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):N1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],p=o<r.length?i[r.charAt(o)]:0;++o;const _=o<r.length?i[r.charAt(o)]:64;++o;const S=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||p==null||_==null||S==null)throw new D1;const M=c<<2|p>>4;if(a.push(M),_!==64){const F=p<<4&240|_>>2;if(a.push(F),S!==64){const J=_<<6&192|S;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class D1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const O1=function(r){const e=pv(r);return yv.encodeByteArray(e,!0)},Fc=function(r){return O1(r).replace(/\./g,"")},_v=function(r){try{return yv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function M1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const V1=()=>M1().__FIREBASE_DEFAULTS__,k1=()=>{if(typeof process>"u"||typeof P_>"u")return;const r=P_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},U1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&_v(r[1]);return e&&JSON.parse(e)},hh=()=>{try{return x1()||V1()||k1()||U1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},vv=r=>hh()?.emulatorHosts?.[r],L1=r=>{const e=vv(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Ev=()=>hh()?.config,Tv=r=>hh()?.[`_${r}`];class P1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function yl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function bv(r){return(await fetch(r,{credentials:"include"})).ok}function z1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Fc(JSON.stringify(i)),Fc(JSON.stringify(d)),""].join(".")}const Do={};function j1(){const r={prod:[],emulator:[]};for(const e of Object.keys(Do))Do[e]?r.emulator.push(e):r.prod.push(e);return r}function B1(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let z_=!1;function Sv(r,e){if(typeof window>"u"||typeof document>"u"||!yl(window.location.host)||Do[r]===e||Do[r]||z_)return;Do[r]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=j1().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function y(M,F){M.setAttribute("width","24"),M.setAttribute("id",F),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{z_=!0,d()},M}function E(M,F){M.setAttribute("id",F),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function S(){const M=B1(a),F=i("text"),J=document.getElementById(F)||document.createElement("span"),ne=i("learnmore"),W=document.getElementById(ne)||document.createElement("a"),ye=i("preprendIcon"),Re=document.getElementById(ye)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const ve=M.element;p(ve),E(W,ne);const me=_();y(Re,ye),ve.append(Re,J,W,me),document.body.appendChild(ve)}c?(J.innerText="Preview backend disconnected.",Re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function q1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function H1(){const r=hh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function G1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function F1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Q1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Y1(){const r=mn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function K1(){return!H1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function X1(){try{return typeof indexedDB=="object"}catch{return!1}}function $1(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const Z1="FirebaseError";class ws extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=Z1,Object.setPrototypeOf(this,ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fo.prototype.create)}}class Fo{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?J1(c,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new ws(o,p,a)}}function J1(r,e){return r.replace(W1,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const W1=/\{\$([^}]+)}/g;function eS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function _r(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=e[o];if(j_(c)&&j_(d)){if(!_r(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function j_(r){return r!==null&&typeof r=="object"}function Qo(r){const e=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function tS(r,e){const i=new nS(r,e);return i.subscribe.bind(i)}class nS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");iS(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=kd),o.error===void 0&&(o.error=kd),o.complete===void 0&&(o.complete=kd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iS(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function kd(){}function vn(r){return r&&r._delegate?r._delegate:r}class sa{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ta="[DEFAULT]";class sS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new P1;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aS(e))try{this.getOrInitializeService({instanceIdentifier:ta})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ta){return this.instances.has(e)}getOptions(e=ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:rS(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ta){return this.component?this.component.multipleInstances?e:ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rS(r){return r===ta?void 0:r}function aS(r){return r.instantiationMode==="EAGER"}class lS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new sS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Pe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pe||(Pe={}));const oS={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},uS=Pe.INFO,cS={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},hS=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=cS[e];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tm{constructor(e){this.name=e,this._logLevel=uS,this._logHandler=hS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const fS=(r,e)=>e.some(i=>r instanceof i);let B_,q_;function dS(){return B_||(B_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mS(){return q_||(q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Av=new WeakMap,Kd=new WeakMap,wv=new WeakMap,Ud=new WeakMap,bm=new WeakMap;function gS(r){const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(dr(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Av.set(i,r)}).catch(()=>{}),bm.set(e,r),e}function pS(r){if(Kd.has(r))return;const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Kd.set(r,e)}let Xd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Kd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||wv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return dr(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function yS(r){Xd=r(Xd)}function _S(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(Ld(this),e,...i);return wv.set(a,e.sort?e.sort():[e]),dr(a)}:mS().includes(r)?function(...e){return r.apply(Ld(this),e),dr(Av.get(this))}:function(...e){return dr(r.apply(Ld(this),e))}}function vS(r){return typeof r=="function"?_S(r):(r instanceof IDBTransaction&&pS(r),fS(r,dS())?new Proxy(r,Xd):r)}function dr(r){if(r instanceof IDBRequest)return gS(r);if(Ud.has(r))return Ud.get(r);const e=vS(r);return e!==r&&(Ud.set(r,e),bm.set(e,r)),e}const Ld=r=>bm.get(r);function ES(r,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,e),p=dr(d);return a&&d.addEventListener("upgradeneeded",y=>{a(dr(d.result),y.oldVersion,y.newVersion,dr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const TS=["get","getKey","getAll","getAllKeys","count"],bS=["put","add","delete","clear"],Pd=new Map;function H_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Pd.get(e))return Pd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=bS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||TS.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,o?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),o&&y.done]))[0]};return Pd.set(e,c),c}yS(r=>({...r,get:(e,i,a)=>H_(e,i)||r.get(e,i,a),has:(e,i)=>!!H_(e,i)||r.has(e,i)}));class SS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(AS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function AS(r){return r.getComponent()?.type==="VERSION"}const $d="@firebase/app",G_="0.14.6";const vs=new Tm("@firebase/app"),wS="@firebase/app-compat",RS="@firebase/analytics-compat",CS="@firebase/analytics",IS="@firebase/app-check-compat",xS="@firebase/app-check",NS="@firebase/auth",DS="@firebase/auth-compat",OS="@firebase/database",MS="@firebase/data-connect",VS="@firebase/database-compat",kS="@firebase/functions",US="@firebase/functions-compat",LS="@firebase/installations",PS="@firebase/installations-compat",zS="@firebase/messaging",jS="@firebase/messaging-compat",BS="@firebase/performance",qS="@firebase/performance-compat",HS="@firebase/remote-config",GS="@firebase/remote-config-compat",FS="@firebase/storage",QS="@firebase/storage-compat",YS="@firebase/firestore",KS="@firebase/ai",XS="@firebase/firestore-compat",$S="firebase",ZS="12.6.0";const Zd="[DEFAULT]",JS={[$d]:"fire-core",[wS]:"fire-core-compat",[CS]:"fire-analytics",[RS]:"fire-analytics-compat",[xS]:"fire-app-check",[IS]:"fire-app-check-compat",[NS]:"fire-auth",[DS]:"fire-auth-compat",[OS]:"fire-rtdb",[MS]:"fire-data-connect",[VS]:"fire-rtdb-compat",[kS]:"fire-fn",[US]:"fire-fn-compat",[LS]:"fire-iid",[PS]:"fire-iid-compat",[zS]:"fire-fcm",[jS]:"fire-fcm-compat",[BS]:"fire-perf",[qS]:"fire-perf-compat",[HS]:"fire-rc",[GS]:"fire-rc-compat",[FS]:"fire-gcs",[QS]:"fire-gcs-compat",[YS]:"fire-fst",[XS]:"fire-fst-compat",[KS]:"fire-vertex","fire-js":"fire-js",[$S]:"fire-js-all"};const Qc=new Map,WS=new Map,Jd=new Map;function F_(r,e){try{r.container.addComponent(e)}catch(i){vs.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function ol(r){const e=r.name;if(Jd.has(e))return vs.debug(`There were multiple attempts to register component ${e}.`),!1;Jd.set(e,r);for(const i of Qc.values())F_(i,r);for(const i of WS.values())F_(i,r);return!0}function Sm(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function ti(r){return r==null?!1:r.settings!==void 0}const eA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mr=new Fo("app","Firebase",eA);class tA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}}const _l=ZS;function Rv(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:Zd,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw mr.create("bad-app-name",{appName:String(o)});if(i||(i=Ev()),!i)throw mr.create("no-options");const c=Qc.get(o);if(c){if(_r(i,c.options)&&_r(a,c.config))return c;throw mr.create("duplicate-app",{appName:o})}const d=new lS(o);for(const y of Jd.values())d.addComponent(y);const p=new tA(i,a,d);return Qc.set(o,p),p}function Cv(r=Zd){const e=Qc.get(r);if(!e&&r===Zd&&Ev())return Rv();if(!e)throw mr.create("no-app",{appName:r});return e}function gr(r,e,i){let a=JS[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vs.warn(d.join(" "));return}ol(new sa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const nA="firebase-heartbeat-database",iA=1,Lo="firebase-heartbeat-store";let zd=null;function Iv(){return zd||(zd=ES(nA,iA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Lo)}catch(i){console.warn(i)}}}}).catch(r=>{throw mr.create("idb-open",{originalErrorMessage:r.message})})),zd}async function sA(r){try{const i=(await Iv()).transaction(Lo),a=await i.objectStore(Lo).get(xv(r));return await i.done,a}catch(e){if(e instanceof ws)vs.warn(e.message);else{const i=mr.create("idb-get",{originalErrorMessage:e?.message});vs.warn(i.message)}}}async function Q_(r,e){try{const a=(await Iv()).transaction(Lo,"readwrite");await a.objectStore(Lo).put(e,xv(r)),await a.done}catch(i){if(i instanceof ws)vs.warn(i.message);else{const a=mr.create("idb-set",{originalErrorMessage:i?.message});vs.warn(a.message)}}}function xv(r){return`${r.name}!${r.options.appId}`}const rA=1024,aA=30;class lA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new uA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Y_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>aA){const o=cA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){vs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Y_(),{heartbeatsToSend:i,unsentEntries:a}=oA(this._heartbeatsCache.heartbeats),o=Fc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return vs.warn(e),""}}}function Y_(){return new Date().toISOString().substring(0,10)}function oA(r,e=rA){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),K_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),K_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class uA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return X1()?$1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await sA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Q_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Q_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function K_(r){return Fc(JSON.stringify({version:2,heartbeats:r})).length}function cA(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}function hA(r){ol(new sa("platform-logger",e=>new SS(e),"PRIVATE")),ol(new sa("heartbeat",e=>new lA(e),"PRIVATE")),gr($d,G_,r),gr($d,G_,"esm2020"),gr("fire-js","")}hA("");var fA="firebase",dA="12.6.0";gr(fA,dA,"app");function Nv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mA=Nv,Dv=new Fo("auth","Firebase",Nv());const Yc=new Tm("@firebase/auth");function gA(r,...e){Yc.logLevel<=Pe.WARN&&Yc.warn(`Auth (${_l}): ${r}`,...e)}function kc(r,...e){Yc.logLevel<=Pe.ERROR&&Yc.error(`Auth (${_l}): ${r}`,...e)}function Es(r,...e){throw Am(r,...e)}function ji(r,...e){return Am(r,...e)}function Ov(r,e,i){const a={...mA(),[e]:i};return new Fo("auth","Firebase",a).create(e,{appName:r.name})}function _s(r){return Ov(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Am(r,...e){if(typeof r!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return Dv.create(r,...e)}function Te(r,e,...i){if(!r)throw Am(e,...i)}function ps(r){const e="INTERNAL ASSERTION FAILED: "+r;throw kc(e),new Error(e)}function Ts(r,e){r||ps(e)}function Wd(){return typeof self<"u"&&self.location?.href||""}function pA(){return X_()==="http:"||X_()==="https:"}function X_(){return typeof self<"u"&&self.location?.protocol||null}function yA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pA()||F1()||"connection"in navigator)?navigator.onLine:!0}function _A(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Yo{constructor(e,i){this.shortDelay=e,this.longDelay=i,Ts(i>e,"Short delay should be less than long delay!"),this.isMobile=q1()||Q1()}get(){return yA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function wm(r,e){Ts(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Mv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ps("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ps("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ps("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const EA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],TA=new Yo(3e4,6e4);function Ko(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function vl(r,e,i,a,o={}){return Vv(r,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const p=Qo({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:e,headers:y,...c};return G1()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&yl(r.emulatorConfig.host)&&(_.credentials="include"),Mv.fetch()(await kv(r,r.config.apiHost,i,p),_)})}async function Vv(r,e,i){r._canInitEmulator=!1;const a={...vA,...e};try{const o=new bA(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Ic(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ic(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Ic(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw Ic(r,"user-disabled",d);const E=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Ov(r,E,_);Es(r,E)}}catch(o){if(o instanceof ws)throw o;Es(r,"network-request-failed",{message:String(o)})}}async function Rm(r,e,i,a,o={}){const c=await vl(r,e,i,a,o);return"mfaPendingCredential"in c&&Es(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function kv(r,e,i,a){const o=`${e}${i}?${a}`,c=r,d=c.config.emulator?wm(r.config,o):`${r.config.apiScheme}://${o}`;return EA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class bA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(ji(this.auth,"network-request-failed")),TA.get())})}}function Ic(r,e,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=ji(r,e,a);return o.customData._tokenResponse=i,o}async function SA(r,e){return vl(r,"POST","/v1/accounts:delete",e)}async function Kc(r,e){return vl(r,"POST","/v1/accounts:lookup",e)}function Oo(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function AA(r,e=!1){const i=vn(r),a=await i.getIdToken(e),o=Cm(a);Te(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Oo(jd(o.auth_time)),issuedAtTime:Oo(jd(o.iat)),expirationTime:Oo(jd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function jd(r){return Number(r)*1e3}function Cm(r){const[e,i,a]=r.split(".");if(e===void 0||i===void 0||a===void 0)return kc("JWT malformed, contained fewer than 3 sections"),null;try{const o=_v(i);return o?JSON.parse(o):(kc("Failed to decode base64 JWT payload"),null)}catch(o){return kc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function $_(r){const e=Cm(r);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Po(r,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof ws&&wA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function wA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class RA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class em{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oo(this.lastLoginAt),this.creationTime=Oo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Xc(r){const e=r.auth,i=await r.getIdToken(),a=await Po(r,Kc(e,{idToken:i}));Te(a?.users.length,e,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?Uv(o.providerUserInfo):[],d=IA(r.providerData,c),p=r.isAnonymous,y=!(r.email&&o.passwordHash)&&!d?.length,_=p?y:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new em(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(r,E)}async function CA(r){const e=vn(r);await Xc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function IA(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Uv(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function xA(r,e){const i=await Vv(r,{},async()=>{const a=Qo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await kv(r,o,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return r.emulatorConfig&&yl(r.emulatorConfig.host)&&(y.credentials="include"),Mv.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function NA(r,e){return vl(r,"POST","/v2/accounts:revokeToken",Ko(r,e))}class il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const i=$_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await xA(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new il;return a&&(Te(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(Te(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Te(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new il,this.toJSON())}_performRefresh(){return ps("not implemented")}}function lr(r,e){Te(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class gi{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new RA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new em(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Po(this,this.stsTokenManager.getToken(this.auth,e));return Te(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return AA(this,e)}reload(){return CA(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new gi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Xc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(_s(this.auth));const e=await this.getIdToken();return await Po(this,SA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:S,emailVerified:M,isAnonymous:F,providerData:J,stsTokenManager:ne}=i;Te(S&&ne,e,"internal-error");const W=il.fromJSON(this.name,ne);Te(typeof S=="string",e,"internal-error"),lr(a,e.name),lr(o,e.name),Te(typeof M=="boolean",e,"internal-error"),Te(typeof F=="boolean",e,"internal-error"),lr(c,e.name),lr(d,e.name),lr(p,e.name),lr(y,e.name),lr(_,e.name),lr(E,e.name);const ye=new gi({uid:S,auth:e,email:o,emailVerified:M,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:W,createdAt:_,lastLoginAt:E});return J&&Array.isArray(J)&&(ye.providerData=J.map(Re=>({...Re}))),y&&(ye._redirectEventId=y),ye}static async _fromIdTokenResponse(e,i,a=!1){const o=new il;o.updateFromServerResponse(i);const c=new gi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Xc(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];Te(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Uv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new il;p.updateFromIdToken(a);const y=new gi({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new em(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const Z_=new Map;function ys(r){Ts(r instanceof Function,"Expected a class definition");let e=Z_.get(r);return e?(Ts(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Z_.set(r,e),e)}class Lv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Lv.type="NONE";const J_=Lv;function Uc(r,e,i){return`firebase:${r}:${e}:${i}`}class sl{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Uc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Uc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Kc(this.auth,{idToken:e}).catch(()=>{});return i?gi._fromGetAccountInfoResponse(this.auth,i,e):null}return gi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new sl(ys(J_),e,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||ys(J_);const d=Uc(a,e.config.apiKey,e.name);let p=null;for(const _ of i)try{const E=await _._get(d);if(E){let S;if(typeof E=="string"){const M=await Kc(e,{idToken:E}).catch(()=>{});if(!M)break;S=await gi._fromGetAccountInfoResponse(e,M,E)}else S=gi._fromJSON(e,E);_!==c&&(p=S),c=_;break}}catch{}const y=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new sl(c,e,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new sl(c,e,a))}}function W_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Bv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Pv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Hv(e))return"Blackberry";if(Gv(e))return"Webos";if(zv(e))return"Safari";if((e.includes("chrome/")||jv(e))&&!e.includes("edge/"))return"Chrome";if(qv(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function Pv(r=mn()){return/firefox\//i.test(r)}function zv(r=mn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jv(r=mn()){return/crios\//i.test(r)}function Bv(r=mn()){return/iemobile/i.test(r)}function qv(r=mn()){return/android/i.test(r)}function Hv(r=mn()){return/blackberry/i.test(r)}function Gv(r=mn()){return/webos/i.test(r)}function Im(r=mn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function DA(r=mn()){return Im(r)&&!!window.navigator?.standalone}function OA(){return Y1()&&document.documentMode===10}function Fv(r=mn()){return Im(r)||qv(r)||Gv(r)||Hv(r)||/windows phone/i.test(r)||Bv(r)}function Qv(r,e=[]){let i;switch(r){case"Browser":i=W_(mn());break;case"Worker":i=`${W_(mn())}-${r}`;break;default:i=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${_l}/${a}`}class MA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,p)=>{try{const y=e(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function VA(r,e={}){return vl(r,"GET","/v2/passwordPolicy",Ko(r,e))}const kA=6;class UA{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??kA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class LA{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new e0(this),this.idTokenSubscription=new e0(this),this.beforeStateQueue=new MA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Dv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ys(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await sl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Kc(this,{idToken:e}),a=await gi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ti(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Xc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_A()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ti(this.app))return Promise.reject(_s(this));const i=e?vn(e):null;return i&&Te(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(_s(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ti(this.app)?Promise.reject(_s(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await VA(this),i=new UA(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fo("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await NA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ys(e)||this._popupRedirectResolver;Te(i,this,"argument-error"),this.redirectPersistenceManager=await sl.create(this,[ys(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,a,o);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Qv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&gA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Xo(r){return vn(r)}class e0{constructor(e){this.auth=e,this.observer=null,this.addObserver=tS(i=>this.observer=i)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let xm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PA(r){xm=r}function zA(r){return xm.loadJS(r)}function jA(){return xm.gapiScript}function BA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function qA(r,e){const i=Sm(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(_r(c,e??{}))return o;Es(o,"already-initialized")}return i.initialize({options:e})}function HA(r,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ys);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function GA(r,e,i){const a=Xo(r);Te(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=Yv(e),{host:d,port:p}=FA(e),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},E=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Te(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Te(_r(_,a.config.emulator)&&_r(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,yl(d)?(bv(`${c}//${d}${y}`),Sv("Auth",!0)):QA()}function Yv(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function FA(r){const e=Yv(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:t0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:t0(d)}}}function t0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function QA(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Kv{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ps("not implemented")}_getIdTokenResponse(e){return ps("not implemented")}_linkToIdToken(e,i){return ps("not implemented")}_getReauthenticationResolver(e){return ps("not implemented")}}async function rl(r,e){return Rm(r,"POST","/v1/accounts:signInWithIdp",Ko(r,e))}const YA="http://localhost";class ra extends Kv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Es("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new ra(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return rl(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,rl(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,rl(e,i)}buildRequest(){const e={requestUri:YA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Qo(i)}return e}}class Xv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class $o extends Xv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class or extends $o{constructor(){super("facebook.com")}static credential(e){return ra._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return or.credential(e.oauthAccessToken)}catch{return null}}}or.FACEBOOK_SIGN_IN_METHOD="facebook.com";or.PROVIDER_ID="facebook.com";class ur extends $o{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ra._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return ur.credential(i,a)}catch{return null}}}ur.GOOGLE_SIGN_IN_METHOD="google.com";ur.PROVIDER_ID="google.com";class cr extends $o{constructor(){super("github.com")}static credential(e){return ra._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cr.credential(e.oauthAccessToken)}catch{return null}}}cr.GITHUB_SIGN_IN_METHOD="github.com";cr.PROVIDER_ID="github.com";class hr extends $o{constructor(){super("twitter.com")}static credential(e,i){return ra._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return hr.credential(i,a)}catch{return null}}}hr.TWITTER_SIGN_IN_METHOD="twitter.com";hr.PROVIDER_ID="twitter.com";async function KA(r,e){return Rm(r,"POST","/v1/accounts:signUp",Ko(r,e))}class bs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await gi._fromIdTokenResponse(e,a,o),d=n0(a);return new bs({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=n0(a);return new bs({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function n0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function XA(r){if(ti(r.app))return Promise.reject(_s(r));const e=Xo(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new bs({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await KA(e,{returnSecureToken:!0}),a=await bs._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class $c extends ws{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,$c.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new $c(e,i,a,o)}}function $v(r,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?$c._fromErrorAndOperation(r,c,e,a):c})}async function $A(r,e,i=!1){const a=await Po(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return bs._forOperation(r,"link",a)}async function ZA(r,e,i=!1){const{auth:a}=r;if(ti(a.app))return Promise.reject(_s(a));const o="reauthenticate";try{const c=await Po(r,$v(a,o,e,r),i);Te(c.idToken,a,"internal-error");const d=Cm(c.idToken);Te(d,a,"internal-error");const{sub:p}=d;return Te(r.uid===p,a,"user-mismatch"),bs._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Es(a,"user-mismatch"),c}}async function JA(r,e,i=!1){if(ti(r.app))return Promise.reject(_s(r));const a="signIn",o=await $v(r,a,e),c=await bs._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}async function WA(r,e){return Rm(r,"POST","/v1/accounts:signInWithCustomToken",Ko(r,e))}async function ew(r,e){if(ti(r.app))return Promise.reject(_s(r));const i=Xo(r),a=await WA(i,{token:e,returnSecureToken:!0}),o=await bs._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function tw(r,e,i,a){return vn(r).onIdTokenChanged(e,i,a)}function nw(r,e,i){return vn(r).beforeAuthStateChanged(e,i)}function iw(r,e,i,a){return vn(r).onAuthStateChanged(e,i,a)}const Zc="__sak";class Zv{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Zc,"1"),this.storage.removeItem(Zc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const sw=1e3,rw=10;class Jv extends Zv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Fv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);OA()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,rw):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},sw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}Jv.type="LOCAL";const aw=Jv;class Wv extends Zv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}Wv.type="SESSION";const eE=Wv;function lw(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class fh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new fh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await lw(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fh.receivers=[];function Nm(r="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return r+i}class ow{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=Nm("",20);o.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(S){const M=S;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(E),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Bi(){return window}function uw(r){Bi().location.href=r}function tE(){return typeof Bi().WorkerGlobalScope<"u"&&typeof Bi().importScripts=="function"}async function cw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hw(){return navigator?.serviceWorker?.controller||null}function fw(){return tE()?self:null}const nE="firebaseLocalStorageDb",dw=1,Jc="firebaseLocalStorage",iE="fbase_key";class Zo{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function dh(r,e){return r.transaction([Jc],e?"readwrite":"readonly").objectStore(Jc)}function mw(){const r=indexedDB.deleteDatabase(nE);return new Zo(r).toPromise()}function tm(){const r=indexedDB.open(nE,dw);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Jc,{keyPath:iE})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Jc)?e(a):(a.close(),await mw(),e(await tm()))})})}async function i0(r,e,i){const a=dh(r,!0).put({[iE]:e,value:i});return new Zo(a).toPromise()}async function gw(r,e){const i=dh(r,!1).get(e),a=await new Zo(i).toPromise();return a===void 0?null:a.value}function s0(r,e){const i=dh(r,!0).delete(e);return new Zo(i).toPromise()}const pw=800,yw=3;class sE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>yw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fh._getInstance(fw()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await cw(),!this.activeServiceWorker)return;this.sender=new ow(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tm();return await i0(e,Zc,"1"),await s0(e,Zc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>i0(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>gw(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>s0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=dh(o,!1).getAll();return new Zo(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sE.type="LOCAL";const _w=sE;new Yo(3e4,6e4);function vw(r,e){return e?ys(e):(Te(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Dm extends Kv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return rl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return rl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function Ew(r){return JA(r.auth,new Dm(r),r.bypassAuthState)}function Tw(r){const{auth:e,user:i}=r;return Te(i,e,"internal-error"),ZA(i,new Dm(r),r.bypassAuthState)}async function bw(r){const{auth:e,user:i}=r;return Te(i,e,"internal-error"),$A(i,new Dm(r),r.bypassAuthState)}class rE{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ew;case"linkViaPopup":case"linkViaRedirect":return bw;case"reauthViaPopup":case"reauthViaRedirect":return Tw;default:Es(this.auth,"internal-error")}}resolve(e){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Sw=new Yo(2e3,1e4);class nl extends rE{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,nl.currentPopupAction&&nl.currentPopupAction.cancel(),nl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Ts(this.filter.length===1,"Popup operations only handle one event");const e=Nm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,nl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Sw.get())};e()}}nl.currentPopupAction=null;const Aw="pendingRedirect",Lc=new Map;class ww extends rE{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Lc.get(this.auth._key());if(!e){try{const a=await Rw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Lc.set(this.auth._key(),e)}return this.bypassAuthState||Lc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Rw(r,e){const i=xw(e),a=Iw(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function Cw(r,e){Lc.set(r._key(),e)}function Iw(r){return ys(r._redirectPersistence)}function xw(r){return Uc(Aw,r.config.apiKey,r.name)}async function Nw(r,e,i=!1){if(ti(r.app))return Promise.reject(_s(r));const a=Xo(r),o=vw(a,e),d=await new ww(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const Dw=600*1e3;class Ow{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Mw(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!aE(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(ji(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Dw&&this.cachedEventUids.clear(),this.cachedEventUids.has(r0(e))}saveEventToCache(e){this.cachedEventUids.add(r0(e)),this.lastProcessedEventTime=Date.now()}}function r0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function aE({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function Mw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aE(r);default:return!1}}async function Vw(r,e={}){return vl(r,"GET","/v1/projects",e)}const kw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Uw=/^https?/;async function Lw(r){if(r.config.emulator)return;const{authorizedDomains:e}=await Vw(r);for(const i of e)try{if(Pw(i))return}catch{}Es(r,"unauthorized-domain")}function Pw(r){const e=Wd(),{protocol:i,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Uw.test(i))return!1;if(kw.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const zw=new Yo(3e4,6e4);function a0(){const r=Bi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function jw(r){return new Promise((e,i)=>{function a(){a0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{a0(),i(ji(r,"network-request-failed"))},timeout:zw.get()})}if(Bi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Bi().gapi?.load)a();else{const o=BA("iframefcb");return Bi()[o]=()=>{gapi.load?a():i(ji(r,"network-request-failed"))},zA(`${jA()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Pc=null,e})}let Pc=null;function Bw(r){return Pc=Pc||jw(r),Pc}const qw=new Yo(5e3,15e3),Hw="__/auth/iframe",Gw="emulator/auth/iframe",Fw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Qw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yw(r){const e=r.config;Te(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?wm(e,Gw):`https://${r.config.authDomain}/${Hw}`,a={apiKey:e.apiKey,appName:r.name,v:_l},o=Qw.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Qo(a).slice(1)}`}async function Kw(r){const e=await Bw(r),i=Bi().gapi;return Te(i,r,"internal-error"),e.open({where:document.body,url:Yw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Fw,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=ji(r,"network-request-failed"),p=Bi().setTimeout(()=>{c(d)},qw.get());function y(){Bi().clearTimeout(p),o(a)}a.ping(y).then(y,()=>{c(d)})}))}const Xw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$w=500,Zw=600,Jw="_blank",Ww="http://localhost";class l0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eR(r,e,i,a=$w,o=Zw){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...Xw,width:a.toString(),height:o.toString(),top:c,left:d},_=mn().toLowerCase();i&&(p=jv(_)?Jw:i),Pv(_)&&(e=e||Ww,y.scrollbars="yes");const E=Object.entries(y).reduce((M,[F,J])=>`${M}${F}=${J},`,"");if(DA(_)&&p!=="_self")return tR(e||"",p),new l0(null);const S=window.open(e||"",p,E);Te(S,r,"popup-blocked");try{S.focus()}catch{}return new l0(S)}function tR(r,e){const i=document.createElement("a");i.href=r,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const nR="__/auth/handler",iR="emulator/auth/handler",sR=encodeURIComponent("fac");async function o0(r,e,i,a,o,c){Te(r.config.authDomain,r,"auth-domain-config-required"),Te(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:_l,eventId:o};if(e instanceof Xv){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",eS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))d[E]=S}if(e instanceof $o){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(d.scopes=E.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const y=await r._getAppCheckToken(),_=y?`#${sR}=${encodeURIComponent(y)}`:"";return`${rR(r)}?${Qo(p).slice(1)}${_}`}function rR({config:r}){return r.emulator?wm(r,iR):`https://${r.authDomain}/${nR}`}const Bd="webStorageSupport";class aR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eE,this._completeRedirectFn=Nw,this._overrideRedirectResult=Cw}async _openPopup(e,i,a,o){Ts(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await o0(e,i,a,Wd(),o);return eR(e,c,Nm())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await o0(e,i,a,Wd(),o);return uw(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Ts(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await Kw(e),a=new Ow(e);return i.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Bd,{type:Bd},o=>{const c=o?.[0]?.[Bd];c!==void 0&&i(!!c),Es(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Lw(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return Fv()||zv()||Im()}}const lR=aR;var u0="@firebase/auth",c0="1.11.1";class oR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function uR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cR(r){ol(new sa("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;Te(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qv(r)},_=new LA(a,o,c,y);return HA(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),ol(new sa("auth-internal",e=>{const i=Xo(e.getProvider("auth").getImmediate());return(a=>new oR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),gr(u0,c0,uR(r)),gr(u0,c0,"esm2020")}const hR=300,fR=Tv("authIdTokenMaxAge")||hR;let h0=null;const dR=r=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>fR)return;const o=i?.token;h0!==o&&(h0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function mR(r=Cv()){const e=Sm(r,"auth");if(e.isInitialized())return e.getImmediate();const i=qA(r,{popupRedirectResolver:lR,persistence:[_w,aw,eE]}),a=Tv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=dR(c.toString());nw(i,d,()=>d(i.currentUser)),tw(i,p=>d(p))}}const o=vv("auth");return o&&GA(i,`http://${o}`),i}function gR(){return document.getElementsByTagName("head")?.[0]??document}PA({loadJS(r){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const c=ji("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",gR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cR("Browser");var f0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var pr,lE;(function(){var r;function e(x,A){function I(){}I.prototype=A.prototype,x.F=A.prototype,x.prototype=new I,x.prototype.constructor=x,x.D=function(V,N,k){for(var w=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)w[lt-2]=arguments[lt];return A.prototype[N].apply(V,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,A,I){I||(I=0);const V=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)V[N]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(N=0;N<16;++N)V[N]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=x.g[0],I=x.g[1],N=x.g[2];let k=x.g[3],w;w=A+(k^I&(N^k))+V[0]+3614090360&4294967295,A=I+(w<<7&4294967295|w>>>25),w=k+(N^A&(I^N))+V[1]+3905402710&4294967295,k=A+(w<<12&4294967295|w>>>20),w=N+(I^k&(A^I))+V[2]+606105819&4294967295,N=k+(w<<17&4294967295|w>>>15),w=I+(A^N&(k^A))+V[3]+3250441966&4294967295,I=N+(w<<22&4294967295|w>>>10),w=A+(k^I&(N^k))+V[4]+4118548399&4294967295,A=I+(w<<7&4294967295|w>>>25),w=k+(N^A&(I^N))+V[5]+1200080426&4294967295,k=A+(w<<12&4294967295|w>>>20),w=N+(I^k&(A^I))+V[6]+2821735955&4294967295,N=k+(w<<17&4294967295|w>>>15),w=I+(A^N&(k^A))+V[7]+4249261313&4294967295,I=N+(w<<22&4294967295|w>>>10),w=A+(k^I&(N^k))+V[8]+1770035416&4294967295,A=I+(w<<7&4294967295|w>>>25),w=k+(N^A&(I^N))+V[9]+2336552879&4294967295,k=A+(w<<12&4294967295|w>>>20),w=N+(I^k&(A^I))+V[10]+4294925233&4294967295,N=k+(w<<17&4294967295|w>>>15),w=I+(A^N&(k^A))+V[11]+2304563134&4294967295,I=N+(w<<22&4294967295|w>>>10),w=A+(k^I&(N^k))+V[12]+1804603682&4294967295,A=I+(w<<7&4294967295|w>>>25),w=k+(N^A&(I^N))+V[13]+4254626195&4294967295,k=A+(w<<12&4294967295|w>>>20),w=N+(I^k&(A^I))+V[14]+2792965006&4294967295,N=k+(w<<17&4294967295|w>>>15),w=I+(A^N&(k^A))+V[15]+1236535329&4294967295,I=N+(w<<22&4294967295|w>>>10),w=A+(N^k&(I^N))+V[1]+4129170786&4294967295,A=I+(w<<5&4294967295|w>>>27),w=k+(I^N&(A^I))+V[6]+3225465664&4294967295,k=A+(w<<9&4294967295|w>>>23),w=N+(A^I&(k^A))+V[11]+643717713&4294967295,N=k+(w<<14&4294967295|w>>>18),w=I+(k^A&(N^k))+V[0]+3921069994&4294967295,I=N+(w<<20&4294967295|w>>>12),w=A+(N^k&(I^N))+V[5]+3593408605&4294967295,A=I+(w<<5&4294967295|w>>>27),w=k+(I^N&(A^I))+V[10]+38016083&4294967295,k=A+(w<<9&4294967295|w>>>23),w=N+(A^I&(k^A))+V[15]+3634488961&4294967295,N=k+(w<<14&4294967295|w>>>18),w=I+(k^A&(N^k))+V[4]+3889429448&4294967295,I=N+(w<<20&4294967295|w>>>12),w=A+(N^k&(I^N))+V[9]+568446438&4294967295,A=I+(w<<5&4294967295|w>>>27),w=k+(I^N&(A^I))+V[14]+3275163606&4294967295,k=A+(w<<9&4294967295|w>>>23),w=N+(A^I&(k^A))+V[3]+4107603335&4294967295,N=k+(w<<14&4294967295|w>>>18),w=I+(k^A&(N^k))+V[8]+1163531501&4294967295,I=N+(w<<20&4294967295|w>>>12),w=A+(N^k&(I^N))+V[13]+2850285829&4294967295,A=I+(w<<5&4294967295|w>>>27),w=k+(I^N&(A^I))+V[2]+4243563512&4294967295,k=A+(w<<9&4294967295|w>>>23),w=N+(A^I&(k^A))+V[7]+1735328473&4294967295,N=k+(w<<14&4294967295|w>>>18),w=I+(k^A&(N^k))+V[12]+2368359562&4294967295,I=N+(w<<20&4294967295|w>>>12),w=A+(I^N^k)+V[5]+4294588738&4294967295,A=I+(w<<4&4294967295|w>>>28),w=k+(A^I^N)+V[8]+2272392833&4294967295,k=A+(w<<11&4294967295|w>>>21),w=N+(k^A^I)+V[11]+1839030562&4294967295,N=k+(w<<16&4294967295|w>>>16),w=I+(N^k^A)+V[14]+4259657740&4294967295,I=N+(w<<23&4294967295|w>>>9),w=A+(I^N^k)+V[1]+2763975236&4294967295,A=I+(w<<4&4294967295|w>>>28),w=k+(A^I^N)+V[4]+1272893353&4294967295,k=A+(w<<11&4294967295|w>>>21),w=N+(k^A^I)+V[7]+4139469664&4294967295,N=k+(w<<16&4294967295|w>>>16),w=I+(N^k^A)+V[10]+3200236656&4294967295,I=N+(w<<23&4294967295|w>>>9),w=A+(I^N^k)+V[13]+681279174&4294967295,A=I+(w<<4&4294967295|w>>>28),w=k+(A^I^N)+V[0]+3936430074&4294967295,k=A+(w<<11&4294967295|w>>>21),w=N+(k^A^I)+V[3]+3572445317&4294967295,N=k+(w<<16&4294967295|w>>>16),w=I+(N^k^A)+V[6]+76029189&4294967295,I=N+(w<<23&4294967295|w>>>9),w=A+(I^N^k)+V[9]+3654602809&4294967295,A=I+(w<<4&4294967295|w>>>28),w=k+(A^I^N)+V[12]+3873151461&4294967295,k=A+(w<<11&4294967295|w>>>21),w=N+(k^A^I)+V[15]+530742520&4294967295,N=k+(w<<16&4294967295|w>>>16),w=I+(N^k^A)+V[2]+3299628645&4294967295,I=N+(w<<23&4294967295|w>>>9),w=A+(N^(I|~k))+V[0]+4096336452&4294967295,A=I+(w<<6&4294967295|w>>>26),w=k+(I^(A|~N))+V[7]+1126891415&4294967295,k=A+(w<<10&4294967295|w>>>22),w=N+(A^(k|~I))+V[14]+2878612391&4294967295,N=k+(w<<15&4294967295|w>>>17),w=I+(k^(N|~A))+V[5]+4237533241&4294967295,I=N+(w<<21&4294967295|w>>>11),w=A+(N^(I|~k))+V[12]+1700485571&4294967295,A=I+(w<<6&4294967295|w>>>26),w=k+(I^(A|~N))+V[3]+2399980690&4294967295,k=A+(w<<10&4294967295|w>>>22),w=N+(A^(k|~I))+V[10]+4293915773&4294967295,N=k+(w<<15&4294967295|w>>>17),w=I+(k^(N|~A))+V[1]+2240044497&4294967295,I=N+(w<<21&4294967295|w>>>11),w=A+(N^(I|~k))+V[8]+1873313359&4294967295,A=I+(w<<6&4294967295|w>>>26),w=k+(I^(A|~N))+V[15]+4264355552&4294967295,k=A+(w<<10&4294967295|w>>>22),w=N+(A^(k|~I))+V[6]+2734768916&4294967295,N=k+(w<<15&4294967295|w>>>17),w=I+(k^(N|~A))+V[13]+1309151649&4294967295,I=N+(w<<21&4294967295|w>>>11),w=A+(N^(I|~k))+V[4]+4149444226&4294967295,A=I+(w<<6&4294967295|w>>>26),w=k+(I^(A|~N))+V[11]+3174756917&4294967295,k=A+(w<<10&4294967295|w>>>22),w=N+(A^(k|~I))+V[2]+718787259&4294967295,N=k+(w<<15&4294967295|w>>>17),w=I+(k^(N|~A))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+A&4294967295,x.g[1]=x.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,x.g[2]=x.g[2]+N&4294967295,x.g[3]=x.g[3]+k&4294967295}a.prototype.v=function(x,A){A===void 0&&(A=x.length);const I=A-this.blockSize,V=this.C;let N=this.h,k=0;for(;k<A;){if(N==0)for(;k<=I;)o(this,x,k),k+=this.blockSize;if(typeof x=="string"){for(;k<A;)if(V[N++]=x.charCodeAt(k++),N==this.blockSize){o(this,V),N=0;break}}else for(;k<A;)if(V[N++]=x[k++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=A},a.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var A=1;A<x.length-8;++A)x[A]=0;A=this.o*8;for(var I=x.length-8;I<x.length;++I)x[I]=A&255,A/=256;for(this.v(x),x=Array(16),A=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)x[A++]=this.g[I]>>>V&255;return x};function c(x,A){var I=p;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=A(x)}function d(x,A){this.h=A;const I=[];let V=!0;for(let N=x.length-1;N>=0;N--){const k=x[N]|0;V&&k==A||(I[N]=k,V=!1)}this.g=I}var p={};function y(x){return-128<=x&&x<128?c(x,function(A){return new d([A|0],A<0?-1:0)}):new d([x|0],x<0?-1:0)}function _(x){if(isNaN(x)||!isFinite(x))return S;if(x<0)return W(_(-x));const A=[];let I=1;for(let V=0;x>=I;V++)A[V]=x/I|0,I*=4294967296;return new d(A,0)}function E(x,A){if(x.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(x.charAt(0)=="-")return W(E(x.substring(1),A));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(A,8));let V=S;for(let k=0;k<x.length;k+=8){var N=Math.min(8,x.length-k);const w=parseInt(x.substring(k,k+N),A);N<8?(N=_(Math.pow(A,N)),V=V.j(N).add(_(w))):(V=V.j(I),V=V.add(_(w)))}return V}var S=y(0),M=y(1),F=y(16777216);r=d.prototype,r.m=function(){if(ne(this))return-W(this).m();let x=0,A=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);x+=(V>=0?V:4294967296+V)*A,A*=4294967296}return x},r.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(J(this))return"0";if(ne(this))return"-"+W(this).toString(x);const A=_(Math.pow(x,6));var I=this;let V="";for(;;){const N=me(I,A).g;I=ye(I,N.j(A));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(x);if(I=N,J(I))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},r.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function J(x){if(x.h!=0)return!1;for(let A=0;A<x.g.length;A++)if(x.g[A]!=0)return!1;return!0}function ne(x){return x.h==-1}r.l=function(x){return x=ye(this,x),ne(x)?-1:J(x)?0:1};function W(x){const A=x.g.length,I=[];for(let V=0;V<A;V++)I[V]=~x.g[V];return new d(I,~x.h).add(M)}r.abs=function(){return ne(this)?W(this):this},r.add=function(x){const A=Math.max(this.g.length,x.g.length),I=[];let V=0;for(let N=0;N<=A;N++){let k=V+(this.i(N)&65535)+(x.i(N)&65535),w=(k>>>16)+(this.i(N)>>>16)+(x.i(N)>>>16);V=w>>>16,k&=65535,w&=65535,I[N]=w<<16|k}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ye(x,A){return x.add(W(A))}r.j=function(x){if(J(this)||J(x))return S;if(ne(this))return ne(x)?W(this).j(W(x)):W(W(this).j(x));if(ne(x))return W(this.j(W(x)));if(this.l(F)<0&&x.l(F)<0)return _(this.m()*x.m());const A=this.g.length+x.g.length,I=[];for(var V=0;V<2*A;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<x.g.length;N++){const k=this.i(V)>>>16,w=this.i(V)&65535,lt=x.i(N)>>>16,dt=x.i(N)&65535;I[2*V+2*N]+=w*dt,Re(I,2*V+2*N),I[2*V+2*N+1]+=k*dt,Re(I,2*V+2*N+1),I[2*V+2*N+1]+=w*lt,Re(I,2*V+2*N+1),I[2*V+2*N+2]+=k*lt,Re(I,2*V+2*N+2)}for(x=0;x<A;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=A;x<2*A;x++)I[x]=0;return new d(I,0)};function Re(x,A){for(;(x[A]&65535)!=x[A];)x[A+1]+=x[A]>>>16,x[A]&=65535,A++}function ve(x,A){this.g=x,this.h=A}function me(x,A){if(J(A))throw Error("division by zero");if(J(x))return new ve(S,S);if(ne(x))return A=me(W(x),A),new ve(W(A.g),W(A.h));if(ne(A))return A=me(x,W(A)),new ve(W(A.g),A.h);if(x.g.length>30){if(ne(x)||ne(A))throw Error("slowDivide_ only works with positive integers.");for(var I=M,V=A;V.l(x)<=0;)I=Ke(I),V=Ke(V);var N=Be(I,1),k=Be(V,1);for(V=Be(V,2),I=Be(I,2);!J(V);){var w=k.add(V);w.l(x)<=0&&(N=N.add(I),k=w),V=Be(V,1),I=Be(I,1)}return A=ye(x,N.j(A)),new ve(N,A)}for(N=S;x.l(A)>=0;){for(I=Math.max(1,Math.floor(x.m()/A.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=_(I),w=k.j(A);ne(w)||w.l(x)>0;)I-=V,k=_(I),w=k.j(A);J(k)&&(k=M),N=N.add(k),x=ye(x,w)}return new ve(N,x)}r.B=function(x){return me(this,x).h},r.and=function(x){const A=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)&x.i(V);return new d(I,this.h&x.h)},r.or=function(x){const A=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)|x.i(V);return new d(I,this.h|x.h)},r.xor=function(x){const A=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)^x.i(V);return new d(I,this.h^x.h)};function Ke(x){const A=x.g.length+1,I=[];for(let V=0;V<A;V++)I[V]=x.i(V)<<1|x.i(V-1)>>>31;return new d(I,x.h)}function Be(x,A){const I=A>>5;A%=32;const V=x.g.length-I,N=[];for(let k=0;k<V;k++)N[k]=A>0?x.i(k+I)>>>A|x.i(k+I+1)<<32-A:x.i(k+I);return new d(N,x.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,lE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=E,pr=d}).apply(typeof f0<"u"?f0:typeof self<"u"?self:typeof window<"u"?window:{});var xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var oE,Co,uE,zc,nm,cE,hE,fE;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof xc=="object"&&xc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var L=u[b];if(!(L in v))break e;v=v[L]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function E(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,L,B){for(var ee=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)ee[xe-2]=arguments[xe];return m.prototype[L].apply(b,ee)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function J(u,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let ee=0;ee<B;ee++)u[v+ee]=L[ee]}else u.push(L)}}class ne{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function ye(){var u=x;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Re{constructor(){this.h=this.g=null}add(m,v){const b=ve.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var ve=new ne(()=>new me,u=>u.reset());class me{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ke,Be=!1,x=new Re,A=()=>{const u=Promise.resolve(void 0);Ke=()=>{u.then(I)}};function I(){for(var u;u=ye();){try{u.h.call(u.g)}catch(v){W(v)}var m=ve;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Be=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function lt(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(lt,N),lt.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&lt.Z.h.call(this)},lt.prototype.h=function(){lt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var dt="closure_listenable_"+(Math.random()*1e6|0),H=0;function ie(u,m,v,b,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=L,this.key=++H,this.da=this.fa=!1}function fe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function qe(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function Xe(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(u,m){let v,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(v in b)u[v]=b[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function re(u){this.src=u,this.g={},this.h=0}re.prototype.add=function(u,m,v,b,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const ee=Ce(u,m,b,L);return ee>-1?(m=u[ee],v||(m.fa=!1)):(m=new ie(m,this.src,B,!!b,L),m.fa=v,u.push(m)),m};function Ee(u,m){const v=m.type;if(v in u.g){var b=u.g[v],L=Array.prototype.indexOf.call(b,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(b,L,1),B&&(fe(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ce(u,m,v,b){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==b)return L}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),wt={};function ct(u,m,v,b,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ct(u,m[B],v,b,L);return null}return v=Ie(v),u&&u[dt]?u.J(m,v,p(b)?!!b.capture:!1,L):$i(u,m,v,!1,b,L)}function $i(u,m,v,b,L,B){if(!m)throw Error("Invalid event type");const ee=p(L)?!!L.capture:!!L;let xe=ae(u);if(xe||(u[ke]=xe=new re(u)),v=xe.add(m,v,b,ee,B),v.proxy)return v;if(b=Rs(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)k||(L=ee),L===void 0&&(L=!1),u.addEventListener(m.toString(),b,L);else if(u.attachEvent)u.attachEvent(Nn(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Rs(){function u(v){return m.call(u.src,u.listener,v)}const m=te;return u}function Cs(u,m,v,b,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Cs(u,m[B],v,b,L);else b=p(b)?!!b.capture:!!b,v=Ie(v),u&&u[dt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Ce(m,v,b,L),v>-1&&(fe(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=ae(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ce(m,v,b,L)),(v=u>-1?m[u]:null)&&Is(v))}function Is(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[dt])Ee(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(Nn(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=ae(m))?(Ee(v,u),v.h==0&&(v.src=null,m[ke]=null)):fe(u)}}}function Nn(u){return u in wt?wt[u]:wt[u]="on"+u}function te(u,m){if(u.da)u=!0;else{m=new lt(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&Is(u),u=v.call(b,m)}return u}function ae(u){return u=u[ke],u instanceof re?u:null}var oe="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ie(u){return typeof u=="function"?u:(u[oe]||(u[oe]=function(m){return u.handleEvent(m)}),u[oe])}function be(){V.call(this),this.i=new re(this),this.M=this,this.G=null}S(be,V),be.prototype[dt]=!0,be.prototype.removeEventListener=function(u,m,v,b){Cs(this,u,m,v,b)};function Oe(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(b,u),se(m,L)}L=!0;let B,ee;if(v)for(ee=v.length-1;ee>=0;ee--)B=m.g=v[ee],L=ot(B,b,!0,m)&&L;if(B=m.g=u,L=ot(B,b,!0,m)&&L,L=ot(B,b,!1,m)&&L,v)for(ee=0;ee<v.length;ee++)B=m.g=v[ee],L=ot(B,b,!1,m)&&L}be.prototype.N=function(){if(be.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)fe(v[b]);delete u.g[m],u.h--}}this.G=null},be.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},be.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function ot(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const ee=m[B];if(ee&&!ee.da&&ee.capture==v){const xe=ee.listener,Rt=ee.ha||ee.src;ee.fa&&Ee(u.i,ee),L=xe.call(Rt,b)!==!1&&L}}return L&&!b.defaultPrevented}function qn(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function on(u){u.g=qn(()=>{u.g=null,u.i&&(u.i=!1,on(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ht extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:on(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function En(u){V.call(this),this.h=u,this.g={}}S(En,V);var ii=[];function Z(u){qe(u.g,function(m,v){this.g.hasOwnProperty(v)&&Is(m)},u),u.g={}}En.prototype.N=function(){En.Z.N.call(this),Z(this)},En.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var He=d.JSON.stringify,Dn=d.JSON.parse,Xt=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function gn(){}function pi(){}var We={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Et(){N.call(this,"d")}S(Et,N);function un(){N.call(this,"c")}S(un,N);var mt={},xs=null;function ca(){return xs=xs||new be}mt.Ia="serverreachability";function su(u){N.call(this,mt.Ia,u)}S(su,N);function yi(u){const m=ca();Oe(m,new su(m))}mt.STAT_EVENT="statevent";function Cr(u,m){N.call(this,mt.STAT_EVENT,u),this.stat=m}S(Cr,N);function Nt(u){const m=ca();Oe(m,new Cr(m,u))}mt.Ja="timingevent";function _i(u,m){N.call(this,mt.Ja,u),this.size=m}S(_i,N);function vi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function si(){this.g=!0}si.prototype.ua=function(){this.g=!1};function Oh(u,m,v,b,L,B){u.info(function(){if(u.g)if(B){var ee="",xe=B.split("&");for(let $e=0;$e<xe.length;$e++){var Rt=xe[$e].split("=");if(Rt.length>1){const _t=Rt[0];Rt=Rt[1];const Qn=_t.split("_");ee=Qn.length>=2&&Qn[1]=="type"?ee+(_t+"="+Rt+"&"):ee+(_t+"=redacted&")}}}else ee=null;else ee=B;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+v+`
`+ee})}function ru(u,m,v,b,L,B,ee){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+ee})}function Ei(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Mh(u,v)+(b?" "+b:"")})}function Ir(u,m){u.info(function(){return"TIMEOUT: "+m})}si.prototype.info=function(){};function Mh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ee=1;ee<b.length;ee++)b[ee]=""}}}}return He(B)}catch{return m}}var xr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Al={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wl;function Nr(){}S(Nr,gn),Nr.prototype.g=function(){return new XMLHttpRequest},wl=new Nr;function Zi(u){return encodeURIComponent(String(u))}function au(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ri(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new En(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ai}function ai(){this.i=null,this.g="",this.h=!1}var Dt={},Ft={};function Ti(u,m,v){u.M=1,u.A=Dr(Mt(m)),u.u=v,u.R=!0,ha(u,null)}function ha(u,m){u.F=Date.now(),bi(u),u.B=Mt(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),ga(v.i,"t",b),u.C=0,v=u.j.L,u.h=new ai,u.g=Tu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new ht(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(ii[0]=L.toString()),L=ii);for(let B=0;B<L.length;B++){const ee=ct(v,L[B],b||m.handleEvent,!1,m.h||m);if(!ee)break;m.g[ee.key]=ee}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),yi(),Oh(u.i,u.v,u.B,u.l,u.S,u.u)}ri.prototype.ba=function(u){u=u.target;const m=this.O;m&&ui(u)==3?m.j():this.Y(u)},ri.prototype.Y=function(u){try{if(u==this.g)e:{const xe=ui(this.g),Rt=this.g.ya(),$e=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||$t(this.g)))){this.K||xe!=4||Rt==7||(Rt==8||$e<=0?yi(3):yi(2)),Si(this);var m=this.g.ca();this.X=m;var v=Vh(this);if(this.o=m==200,ru(this.i,this.v,this.B,this.l,this.S,xe,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(b)){var B=b;break t}}B=null}if(u=B)Ei(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ai(this,u);else{this.o=!1,this.m=3,Nt(12),On(this),Hn(this);break e}}if(this.R){u=!0;let _t;for(;!this.K&&this.C<v.length;)if(_t=ou(this,v),_t==Ft){xe==4&&(this.m=4,Nt(14),u=!1),Ei(this.i,this.l,null,"[Incomplete Response]");break}else if(_t==Dt){this.m=4,Nt(15),Ei(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Ei(this.i,this.l,_t,null),Ai(this,_t);if(lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||v.length!=0||this.h.h||(this.m=1,Nt(16),u=!1),this.o=this.o&&u,!u)Ei(this.i,this.l,v,"[Invalid Chunked Response]"),On(this),Hn(this);else if(v.length>0&&!this.W){this.W=!0;var ee=this.j;ee.g==this&&ee.aa&&!ee.P&&(ee.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),jl(ee),ee.P=!0,Nt(11))}}else Ei(this.i,this.l,v,null),Ai(this,v);xe==4&&On(this),this.o&&!this.K&&(xe==4?yu(this.j,this):(this.o=!1,bi(this)))}else Wi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Nt(12)):(this.m=0,Nt(13)),On(this),Hn(this)}}}catch{}finally{}};function Vh(u){if(!lu(u))return u.g.la();const m=$t(u.g);if(m==="")return"";let v="";const b=m.length,L=ui(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return On(u),Hn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<b;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function lu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ou(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?Ft:(v=Number(m.substring(v,b)),isNaN(v)?Dt:(b+=1,b+v>m.length?Ft:(m=m.slice(b,b+v),u.C=b+v,m)))}ri.prototype.cancel=function(){this.K=!0,On(this)};function bi(u){u.T=Date.now()+u.H,fa(u,u.H)}function fa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=vi(_(u.aa,u),m)}function Si(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ri.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ir(this.i,this.B),this.M!=2&&(yi(),Nt(17)),On(this),this.m=2,Hn(this)):fa(this,this.T-u)};function Hn(u){u.j.I==0||u.K||yu(u.j,u)}function On(u){Si(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Z(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ai(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ri(v.h,u))){if(!u.L&&Ri(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ea(v),Ls(v);else break e;Pr(v),Nt(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=vi(_(v.Va,v),6e3));wi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Oi(v,11)}else if((u.L||v.g==u)&&Ea(v),!w(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let $e=L[m];const _t=$e[0];if(!(_t<=v.K))if(v.K=_t,$e=$e[1],v.I==2)if($e[0]=="c"){v.M=$e[1],v.ba=$e[2];const Qn=$e[3];Qn!=null&&(v.ka=Qn,v.j.info("VER="+v.ka));const Mi=$e[4];Mi!=null&&(v.za=Mi,v.j.info("SVER="+v.za));const ci=$e[5];ci!=null&&typeof ci=="number"&&ci>0&&(b=1.5*ci,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const hi=u.g;if(hi){const zr=hi.g?hi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zr){var B=b.h;B.g||zr.indexOf("spdy")==-1&&zr.indexOf("quic")==-1&&zr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Il(B,B.h),B.h=null))}if(b.G){const Ta=hi.g?hi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ta&&(b.wa=Ta,et(b.J,b.G,Ta))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var ee=u;if(b.na=Eu(b,b.L?b.ba:null,b.W),ee.L){xl(b.h,ee);var xe=ee,Rt=b.O;Rt&&(xe.H=Rt),xe.D&&(Si(xe),bi(xe)),b.g=ee}else gu(b);v.i.length>0&&Di(v)}else $e[0]!="stop"&&$e[0]!="close"||Oi(v,7);else v.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Oi(v,7):Pl(v):$e[0]!="noop"&&v.l&&v.l.qa($e),v.A=0)}}yi(4)}catch{}}var Ot=class{constructor(u,m){this.g=u,this.map=m}};function Rl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Cl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function wi(u){return u.h?1:u.g?u.g.size:0}function Ri(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Il(u,m){u.g?u.g.add(m):u.h=m}function xl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Rl.prototype.cancel=function(){if(this.i=Nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Nl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function da(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let L,B=null;b>=0?(L=u[v].substring(0,b),B=u[v].substring(b+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Mn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Mn?(this.l=u.l,Qt(this,u.j),this.o=u.o,this.g=u.g,Ns(this,u.u),this.h=u.h,Dl(this,du(u.i)),this.m=u.m):u&&(m=String(u).match(uu))?(this.l=!1,Qt(this,m[1]||"",!0),this.o=Ci(m[2]||""),this.g=Ci(m[3]||"",!0),Ns(this,m[4]),this.h=Ci(m[5]||"",!0),Dl(this,m[6]||"",!0),this.m=Ci(m[7]||"")):(this.l=!1,this.i=new Os(null,this.l))}Mn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Or(m,ma,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Or(m,ma,!0),"@"),u.push(Zi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Or(v,v.charAt(0)=="/"?Ol:cu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Or(v,hu)),u.join("")},Mn.prototype.resolve=function(u){const m=Mt(this);let v=!!u.j;v?Qt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)Ns(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let ee=0;ee<L.length;){const xe=L[ee++];xe=="."?b&&ee==L.length&&B.push(""):xe==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&ee==L.length&&B.push("")):(B.push(xe),b=!0)}b=B.join("/")}else b=L}return v?m.h=b:v=u.i.toString()!=="",v?Dl(m,du(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Mt(u){return new Mn(u)}function Qt(u,m,v){u.j=v?Ci(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ns(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Dl(u,m,v){m instanceof Os?(u.i=m,pa(u.i,u.l)):(v||(m=Or(m,Ds)),u.i=new Os(m,u.l))}function et(u,m,v){u.i.set(m,v)}function Dr(u){return et(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ci(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Or(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Tn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Tn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ma=/[#\/\?@]/g,cu=/[#\?:]/g,Ol=/[#\?]/g,Ds=/[#\?@]/g,hu=/#/g;function Os(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function bn(u){u.g||(u.g=new Map,u.h=0,u.i&&da(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Os.prototype,r.add=function(u,m){bn(this),this.i=null,u=Ms(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function fu(u,m){bn(u),m=Ms(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ml(u,m){return bn(u),m=Ms(u,m),u.g.has(m)}r.forEach=function(u,m){bn(this),this.g.forEach(function(v,b){v.forEach(function(L){u.call(m,L,b,this)},this)},this)};function Vl(u,m){bn(u);let v=[];if(typeof m=="string")Ml(u,m)&&(v=v.concat(u.g.get(Ms(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return bn(this),this.i=null,u=Ms(this,u),Ml(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Vl(this,u),u.length>0?String(u[0]):m):m};function ga(u,m,v){fu(u,m),v.length>0&&(u.i=null,u.g.set(Ms(u,m),F(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const L=Zi(v);v=Vl(this,v);for(let B=0;B<v.length;B++){let ee=L;v[B]!==""&&(ee+="="+Zi(v[B])),u.push(ee)}}return this.i=u.join("&")};function du(u){const m=new Os;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ms(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function pa(u,m){m&&!u.j&&(bn(u),u.i=null,u.g.forEach(function(v,b){const L=b.toLowerCase();b!=L&&(fu(this,b),ga(this,L,v))},u)),u.j=m}function li(u,m){const v=new si;if(d.Image){const b=new Image;b.onload=E(Gn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=E(Gn,v,"TestLoadImage: error",!1,m,b),b.onabort=E(Gn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=E(Gn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function kl(u,m){const v=new si,b=new AbortController,L=setTimeout(()=>{b.abort(),Gn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(B=>{clearTimeout(L),B.ok?Gn(v,"TestPingServer: ok",!0,m):Gn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Gn(v,"TestPingServer: error",!1,m)})}function Gn(u,m,v,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(v)}catch{}}function Vs(){this.g=new Xt}function Ii(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Ii,gn),Ii.prototype.g=function(){return new Mr(this.i,this.h)};function Mr(u,m){be.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Mr,be),r=Mr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,oi(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ks(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ya(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ya(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ks(this):oi(this),this.readyState==3&&ya(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,ks(this))},r.Na=function(u){this.g&&(this.response=u,ks(this))},r.ga=function(){this.g&&ks(this)};function ks(u){u.readyState=4,u.l=null,u.j=null,u.B=null,oi(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function oi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Mr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Fn(u){let m="";return qe(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Vr(u,m,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=Fn(v),typeof u=="string"?v!=null&&Zi(v):et(u,m,v))}function it(u){be.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(it,be);var xi=/^https?$/i,Ul=["POST","PUT"];r=it.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wl.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){kr(this,B);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)v.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())v.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ul,m,void 0)>=0)||b||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ee]of v)this.g.setRequestHeader(B,ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){kr(this,B)}};function kr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ll(u),Ji(u)}function Ll(u){u.A||(u.A=!0,Oe(u,"complete"),Oe(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Oe(this,"complete"),Oe(this,"abort"),Ji(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ji(this,!0)),it.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ur(this):this.Xa())},r.Xa=function(){Ur(this)};function Ur(u){if(u.h&&typeof c<"u"){if(u.v&&ui(u)==4)setTimeout(u.Ca.bind(u),0);else if(Oe(u,"readystatechange"),ui(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var b;if(b=B===0){let ee=String(u.D).match(uu)[1]||null;!ee&&d.self&&d.self.location&&(ee=d.self.location.protocol.slice(0,-1)),b=!xi.test(ee?ee.toLowerCase():"")}v=b}if(v)Oe(u,"complete"),Oe(u,"success");else{u.o=6;try{var L=ui(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Ll(u)}}finally{Ji(u)}}}}function Ji(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Oe(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ui(u){return u.g?u.g.readyState:0}r.ca=function(){try{return ui(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Dn(m)}};function $t(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Wi(u){const m={};u=(u.g&&ui(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(w(u[b]))continue;var v=au(u[b]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Xe(m,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ni(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Us(u){this.za=0,this.i=[],this.j=new si,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ni("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ni("baseRetryDelayMs",5e3,u),this.Za=Ni("retryDelaySeedMs",1e4,u),this.Ta=Ni("forwardChannelMaxRetries",2,u),this.va=Ni("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Rl(u&&u.concurrentRequestLimit),this.Ba=new Vs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Us.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,b){Nt(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Eu(this,null,this.W),Di(this)};function Pl(u){if(_a(u),u.I==3){var m=u.V++,v=Mt(u.J);if(et(v,"SID",u.M),et(v,"RID",m),et(v,"TYPE","terminate"),Lr(u,v),m=new ri(u,u.j,m),m.M=2,m.A=Dr(Mt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Tu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),bi(m)}vu(u)}function Ls(u){u.g&&(jl(u),u.g.cancel(),u.g=null)}function _a(u){Ls(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ea(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Di(u){if(!Cl(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ke||A(),Be||(Ke(),Be=!0),x.add(m,u),u.D=0}}function va(u,m){return wi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=vi(_(u.Ea,u,m),_u(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new ri(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),se(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=mu(this,L,m),v=Mt(this.J),et(v,"RID",u),et(v,"CVER",22),this.G&&et(v,"X-HTTP-Session-Id",this.G),Lr(this,v),B&&(this.R?m="headers="+Zi(Fn(B))+"&"+m:this.u&&Vr(v,this.u,B)),Il(this.h,L),this.Ra&&et(v,"TYPE","init"),this.S?(et(v,"$req",m),et(v,"SID","null"),L.U=!0,Ti(L,v,null)):Ti(L,v,m),this.I=2}}else this.I==3&&(u?zl(this,u):this.i.length==0||Cl(this.h)||zl(this))};function zl(u,m){var v;m?v=m.l:v=u.V++;const b=Mt(u.J);et(b,"SID",u.M),et(b,"RID",v),et(b,"AID",u.K),Lr(u,b),u.u&&u.o&&Vr(b,u.u,u.o),v=new ri(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=mu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Il(u.h,v),Ti(v,b,m)}function Lr(u,m){u.H&&qe(u.H,function(v,b){et(m,b,v)}),u.l&&qe({},function(v,b){et(m,b,v)})}function mu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?_(u.l.Ka,u.l,u):null;e:{var L=u.i;let xe=-1;for(;;){const Rt=["count="+v];xe==-1?v>0?(xe=L[0].g,Rt.push("ofs="+xe)):xe=0:Rt.push("ofs="+xe);let $e=!0;for(let _t=0;_t<v;_t++){var B=L[_t].g;const Qn=L[_t].map;if(B-=xe,B<0)xe=Math.max(0,L[_t].g-100),$e=!1;else try{B="req"+B+"_"||"";try{var ee=Qn instanceof Map?Qn:Object.entries(Qn);for(const[Mi,ci]of ee){let hi=ci;p(ci)&&(hi=He(ci)),Rt.push(B+Mi+"="+encodeURIComponent(hi))}}catch(Mi){throw Rt.push(B+"type="+encodeURIComponent("_badmap")),Mi}}catch{b&&b(Qn)}}if($e){ee=Rt.join("&");break e}}ee=void 0}return u=u.i.splice(0,v),m.G=u,ee}function gu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ke||A(),Be||(Ke(),Be=!0),x.add(m,u),u.A=0}}function Pr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=vi(_(u.Da,u),_u(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=vi(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Nt(10),Ls(this),pu(this))};function jl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function pu(u){u.g=new ri(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Mt(u.na);et(m,"RID","rpc"),et(m,"SID",u.M),et(m,"AID",u.K),et(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&et(m,"TO",u.ia),et(m,"TYPE","xmlhttp"),Lr(u,m),u.u&&u.o&&Vr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Dr(Mt(m)),v.u=null,v.R=!0,ha(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Ls(this),Pr(this),Nt(19))};function Ea(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function yu(u,m){var v=null;if(u.g==m){Ea(u),jl(u),u.g=null;var b=2}else if(Ri(u.h,m))v=m.G,xl(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;b=ca(),Oe(b,new _i(b,v)),Di(u)}else gu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&va(u,m)||b==2&&Pr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Oi(u,5);break;case 4:Oi(u,10);break;case 3:Oi(u,6);break;default:Oi(u,2)}}}function _u(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Oi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),b=u.Ua;const L=!b;b=new Mn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Qt(b,"https"),Dr(b),L?li(b.toString(),v):kl(b.toString(),v)}else Nt(2);u.I=0,u.l&&u.l.pa(m),vu(u),_a(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function vu(u){if(u.I=0,u.ja=[],u.l){const m=Nl(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function Eu(u,m,v){var b=v instanceof Mn?Mt(v):new Mn(v);if(b.g!="")m&&(b.g=m+"."+b.g),Ns(b,b.u);else{var L=d.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new Mn(null);b&&Qt(B,b),m&&(B.g=m),L&&Ns(B,L),v&&(B.h=v),b=B}return v=u.G,m=u.wa,v&&m&&et(b,v,m),et(b,"VER",u.ka),Lr(u,b),b}function Tu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new it(new Ii({ab:v})):new it(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function bu(){}r=bu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ps(){}Ps.prototype.g=function(u,m){return new pn(u,m)};function pn(u,m){be.call(this),this.g=new Us(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new es(this)}S(pn,be),pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Pl(this.g)},pn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=He(u),u=v);m.i.push(new Ot(m.Ya++,u)),m.I==3&&Di(m)},pn.prototype.N=function(){this.g.l=null,delete this.j,Pl(this.g),delete this.g,pn.Z.N.call(this)};function Su(u){Et.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Su,Et);function Au(){un.call(this),this.status=1}S(Au,un);function es(u){this.g=u}S(es,bu),es.prototype.ra=function(){Oe(this.g,"a")},es.prototype.qa=function(u){Oe(this.g,new Su(u))},es.prototype.pa=function(u){Oe(this.g,new Au)},es.prototype.oa=function(){Oe(this.g,"b")},Ps.prototype.createWebChannel=Ps.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,fE=function(){return new Ps},hE=function(){return ca()},cE=mt,nm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},xr.NO_ERROR=0,xr.TIMEOUT=8,xr.HTTP_ERROR=6,zc=xr,Al.COMPLETE="complete",uE=Al,pi.EventType=We,We.OPEN="a",We.CLOSE="b",We.ERROR="c",We.MESSAGE="d",be.prototype.listen=be.prototype.J,Co=pi,it.prototype.listenOnce=it.prototype.K,it.prototype.getLastError=it.prototype.Ha,it.prototype.getLastErrorCode=it.prototype.ya,it.prototype.getStatus=it.prototype.ca,it.prototype.getResponseJson=it.prototype.La,it.prototype.getResponseText=it.prototype.la,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Fa,oE=it}).apply(typeof xc<"u"?xc:typeof self<"u"?self:typeof window<"u"?window:{});const d0="@firebase/firestore",m0="4.9.2";let fn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");let El="12.3.0";const aa=new Tm("@firebase/firestore");function Ja(){return aa.logLevel}function le(r,...e){if(aa.logLevel<=Pe.DEBUG){const i=e.map(Om);aa.debug(`Firestore (${El}): ${r}`,...i)}}function Ss(r,...e){if(aa.logLevel<=Pe.ERROR){const i=e.map(Om);aa.error(`Firestore (${El}): ${r}`,...i)}}function ul(r,...e){if(aa.logLevel<=Pe.WARN){const i=e.map(Om);aa.warn(`Firestore (${El}): ${r}`,...i)}}function Om(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function _e(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,dE(r,a,i)}function dE(r,e,i){let a=`FIRESTORE (${El}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Ss(a),new Error(a)}function Je(r,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||dE(e,o,a)}function we(r,e){return r}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends ws{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class mE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(fn.UNAUTHENTICATED)))}shutdown(){}}class yR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class _R{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Je(this.o===void 0,42304);let a=this.i;const o=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new yr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},p=y=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new yr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Je(typeof a.accessToken=="string",31837,{l:a}),new mE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new fn(e)}}class vR{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ER{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new vR(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(fn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class g0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TR{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ti(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Je(this.o===void 0,3512);const a=c=>{c.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,le("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new g0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Je(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new g0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function bR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Mm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=bR(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function ze(r,e){return r<e?-1:r>e?1:0}function im(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const o=r.charAt(a),c=e.charAt(a);if(o!==c)return qd(o)===qd(c)?ze(o,c):qd(o)?1:-1}return ze(r.length,e.length)}const SR=55296,AR=57343;function qd(r){const e=r.charCodeAt(0);return e>=SR&&e<=AR}function cl(r,e,i){return r.length===e.length&&r.every(((a,o)=>i(a,e[o])))}const p0="__name__";class zi{constructor(e,i,a){i===void 0?i=0:i>e.length&&_e(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&_e(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return zi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof zi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=zi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return ze(e.length,i.length)}static compareSegments(e,i){const a=zi.isNumericId(e),o=zi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?zi.extractNumericId(e).compare(zi.extractNumericId(i)):im(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return pr.fromString(e.substring(4,e.length-2))}}class Tt extends zi{construct(e,i,a){return new Tt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new he($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new Tt(i)}static emptyPath(){return new Tt([])}}const wR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends zi{construct(e,i,a){return new an(e,i,a)}static isValidIdentifier(e){return wR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===p0}static keyField(){return new an([p0])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new he($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new he($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new he($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(c(),o++)}if(c(),d)throw new he($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(i)}static emptyPath(){return new an([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(Tt.fromString(e))}static fromName(e){return new ge(Tt.fromString(e).popFirst(5))}static empty(){return new ge(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Tt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new Tt(e.slice()))}}function RR(r,e,i){if(!i)throw new he($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function CR(r,e,i,a){if(e===!0&&a===!0)throw new he($.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function y0(r){if(!ge.isDocumentKey(r))throw new he($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function gE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Vm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":_e(12329,{type:typeof r})}function qi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Vm(r);throw new he($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function zt(r,e){const i={typeString:r};return e&&(i.value=e),i}function Jo(r,e){if(!gE(r))throw new he($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new he($.INVALID_ARGUMENT,i);return!0}const _0=-62135596800,v0=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*v0);return new yt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new he($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new he($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<_0)throw new he($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/v0}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Jo(e,yt._jsonSchema))return new yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-_0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:zt("string",yt._jsonSchemaVersion),seconds:zt("number"),nanoseconds:zt("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new yt(0,0))}static max(){return new Se(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const zo=-1;function IR(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(a===1e9?new yt(i+1,0):new yt(i,a));return new vr(o,ge.empty(),e)}function xR(r){return new vr(r.readTime,r.key,zo)}class vr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new vr(Se.min(),ge.empty(),zo)}static max(){return new vr(Se.max(),ge.empty(),zo)}}function NR(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ge.comparator(r.documentKey,e.documentKey),i!==0?i:ze(r.largestBatchId,e.largestBatchId))}const DR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Tl(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==DR)throw r;le("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,a)=>{i(e)}))}static reject(e){return new X(((i,a)=>{a(e)}))}static waitFor(e){return new X(((i,a)=>{let o=0,c=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(y=>a(y)))})),d=!0,c===o&&i()}))}static or(e){let i=X.resolve(!1);for(const a of e)i=i.next((o=>o?X.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new X(((a,o)=>{const c=e.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(e[_]).next((E=>{d[_]=E,++p,p===c&&a(d)}),(E=>o(E)))}}))}static doWhile(e,i){return new X(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function MR(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function bl(r){return r.name==="IndexedDbTransactionError"}class mh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}mh.ce=-1;const km=-1;function gh(r){return r==null}function Wc(r){return r===0&&1/r==-1/0}function VR(r){return typeof r=="number"&&Number.isInteger(r)&&!Wc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const pE="";function kR(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=E0(e)),e=UR(r.get(i),e);return E0(e)}function UR(r,e){let i=e;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case pE:i+="";break;default:i+=c}}return i}function E0(r){return r+pE+""}function T0(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function wr(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function yE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class bt{constructor(e,i){this.comparator=e,this.root=i||rn.EMPTY}insert(e,i){return new bt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nc(this.root,e,this.comparator,!0)}}class Nc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??rn.RED,this.left=o??rn.EMPTY,this.right=c??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new rn(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return rn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new rn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ht{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new b0(this.data.getIterator())}getIteratorFrom(e){return new b0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ht(this.comparator);return i.data=e,i}}class b0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Bn{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new Bn([])}unionWith(e){let i=new Ht(an.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Bn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return cl(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class _E extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new _E("Invalid base64 string: "+c):c}})(e);return new ln(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new ln(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const LR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Er(r){if(Je(!!r,39018),typeof r=="string"){let e=0;const i=LR.exec(r);if(Je(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:xt(r.seconds),nanos:xt(r.nanos)}}function xt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Tr(r){return typeof r=="string"?ln.fromBase64String(r):ln.fromUint8Array(r)}const vE="server_timestamp",EE="__type__",TE="__previous_value__",bE="__local_write_time__";function Um(r){return(r?.mapValue?.fields||{})[EE]?.stringValue===vE}function ph(r){const e=r.mapValue.fields[TE];return Um(e)?ph(e):e}function jo(r){const e=Er(r.mapValue.fields[bE].timestampValue);return new yt(e.seconds,e.nanos)}class PR{constructor(e,i,a,o,c,d,p,y,_,E){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=E}}const eh="(default)";class Bo{constructor(e,i){this.projectId=e,this.database=i||eh}static empty(){return new Bo("","")}get isDefaultDatabase(){return this.database===eh}isEqual(e){return e instanceof Bo&&e.projectId===this.projectId&&e.database===this.database}}const SE="__type__",zR="__max__",Dc={mapValue:{}},AE="__vector__",th="value";function br(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Um(r)?4:BR(r)?9007199254740991:jR(r)?10:11:_e(28295,{value:r})}function Ki(r,e){if(r===e)return!0;const i=br(r);if(i!==br(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return jo(r).isEqual(jo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Er(o.timestampValue),p=Er(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return Tr(o.bytesValue).isEqual(Tr(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return xt(o.geoPointValue.latitude)===xt(c.geoPointValue.latitude)&&xt(o.geoPointValue.longitude)===xt(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return xt(o.integerValue)===xt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=xt(o.doubleValue),p=xt(c.doubleValue);return d===p?Wc(d)===Wc(p):isNaN(d)&&isNaN(p)}return!1})(r,e);case 9:return cl(r.arrayValue.values||[],e.arrayValue.values||[],Ki);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(T0(d)!==T0(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Ki(d[y],p[y])))return!1;return!0})(r,e);default:return _e(52216,{left:r})}}function qo(r,e){return(r.values||[]).find((i=>Ki(i,e)))!==void 0}function hl(r,e){if(r===e)return 0;const i=br(r),a=br(e);if(i!==a)return ze(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return ze(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=xt(c.integerValue||c.doubleValue),y=xt(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,e);case 3:return S0(r.timestampValue,e.timestampValue);case 4:return S0(jo(r),jo(e));case 5:return im(r.stringValue,e.stringValue);case 6:return(function(c,d){const p=Tr(c),y=Tr(d);return p.compareTo(y)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const E=ze(p[_],y[_]);if(E!==0)return E}return ze(p.length,y.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=ze(xt(c.latitude),xt(d.latitude));return p!==0?p:ze(xt(c.longitude),xt(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return A0(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[th]?.arrayValue,E=y[th]?.arrayValue,S=ze(_?.values?.length||0,E?.values?.length||0);return S!==0?S:A0(_,E)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Dc.mapValue&&d===Dc.mapValue)return 0;if(c===Dc.mapValue)return 1;if(d===Dc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},E=Object.keys(_);y.sort(),E.sort();for(let S=0;S<y.length&&S<E.length;++S){const M=im(y[S],E[S]);if(M!==0)return M;const F=hl(p[y[S]],_[E[S]]);if(F!==0)return F}return ze(y.length,E.length)})(r.mapValue,e.mapValue);default:throw _e(23264,{he:i})}}function S0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ze(r,e);const i=Er(r),a=Er(e),o=ze(i.seconds,a.seconds);return o!==0?o:ze(i.nanos,a.nanos)}function A0(r,e){const i=r.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=hl(i[o],a[o]);if(c)return c}return ze(i.length,a.length)}function fl(r){return sm(r)}function sm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Er(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Tr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ge.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=sm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${sm(i.fields[d])}`;return o+"}"})(r.mapValue):_e(61005,{value:r})}function jc(r){switch(br(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ph(r);return e?16+jc(e):16;case 5:return 2*r.stringValue.length;case 6:return Tr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+jc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return wr(a.fields,((c,d)=>{o+=c.length+jc(d)})),o})(r.mapValue);default:throw _e(13486,{value:r})}}function rm(r){return!!r&&"integerValue"in r}function Lm(r){return!!r&&"arrayValue"in r}function w0(r){return!!r&&"nullValue"in r}function R0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Bc(r){return!!r&&"mapValue"in r}function jR(r){return(r?.mapValue?.fields||{})[SE]?.stringValue===AE}function Mo(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return wr(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Mo(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Mo(r.arrayValue.values[i]);return e}return{...r}}function BR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===zR}class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Bc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mo(i)}setAll(e){let i=an.emptyPath(),a={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,o),a={},o=[],i=p.popLast()}d?a[p.lastSegment()]=Mo(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());Bc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ki(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Bc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){wr(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new xn(Mo(this.value))}}function wE(r){const e=[];return wr(r.fields,((i,a)=>{const o=new an([i]);if(Bc(a)){const c=wE(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Bn(e)}class dn{constructor(e,i,a,o,c,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new dn(e,0,Se.min(),Se.min(),Se.min(),xn.empty(),0)}static newFoundDocument(e,i,a,o){return new dn(e,1,i,Se.min(),a,o,0)}static newNoDocument(e,i){return new dn(e,2,i,Se.min(),Se.min(),xn.empty(),0)}static newUnknownDocument(e,i){return new dn(e,3,i,Se.min(),Se.min(),xn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class nh{constructor(e,i){this.position=e,this.inclusive=i}}function C0(r,e,i){let a=0;for(let o=0;o<r.position.length;o++){const c=e[o],d=r.position[o];if(c.field.isKeyField()?a=ge.comparator(ge.fromName(d.referenceValue),i.key):a=hl(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function I0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ki(r.position[i],e.position[i]))return!1;return!0}class ih{constructor(e,i="asc"){this.field=e,this.dir=i}}function qR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class RE{}class qt extends RE{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new GR(e,i,a):i==="array-contains"?new YR(e,a):i==="in"?new KR(e,a):i==="not-in"?new XR(e,a):i==="array-contains-any"?new $R(e,a):new qt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new FR(e,a):new QR(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(hl(i,this.value)):i!==null&&br(this.value)===br(i)&&this.matchesComparison(hl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xi extends RE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Xi(e,i)}matches(e){return CE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function CE(r){return r.op==="and"}function IE(r){return HR(r)&&CE(r)}function HR(r){for(const e of r.filters)if(e instanceof Xi)return!1;return!0}function am(r){if(r instanceof qt)return r.field.canonicalString()+r.op.toString()+fl(r.value);if(IE(r))return r.filters.map((e=>am(e))).join(",");{const e=r.filters.map((i=>am(i))).join(",");return`${r.op}(${e})`}}function xE(r,e){return r instanceof qt?(function(a,o){return o instanceof qt&&a.op===o.op&&a.field.isEqual(o.field)&&Ki(a.value,o.value)})(r,e):r instanceof Xi?(function(a,o){return o instanceof Xi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,p)=>c&&xE(d,o.filters[p])),!0):!1})(r,e):void _e(19439)}function NE(r){return r instanceof qt?(function(i){return`${i.field.canonicalString()} ${i.op} ${fl(i.value)}`})(r):r instanceof Xi?(function(i){return i.op.toString()+" {"+i.getFilters().map(NE).join(" ,")+"}"})(r):"Filter"}class GR extends qt{constructor(e,i,a){super(e,i,a),this.key=ge.fromName(a.referenceValue)}matches(e){const i=ge.comparator(e.key,this.key);return this.matchesComparison(i)}}class FR extends qt{constructor(e,i){super(e,"in",i),this.keys=DE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class QR extends qt{constructor(e,i){super(e,"not-in",i),this.keys=DE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function DE(r,e){return(e.arrayValue?.values||[]).map((i=>ge.fromName(i.referenceValue)))}class YR extends qt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Lm(i)&&qo(i.arrayValue,this.value)}}class KR extends qt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&qo(this.value.arrayValue,i)}}class XR extends qt{constructor(e,i){super(e,"not-in",i)}matches(e){if(qo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!qo(this.value.arrayValue,i)}}class $R extends qt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Lm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>qo(this.value.arrayValue,a)))}}class ZR{constructor(e,i=null,a=[],o=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function x0(r,e=null,i=[],a=[],o=null,c=null,d=null){return new ZR(r,e,i,a,o,c,d)}function Pm(r){const e=we(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>am(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),gh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>fl(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>fl(a))).join(",")),e.Te=i}return e.Te}function zm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!qR(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!xE(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!I0(r.startAt,e.startAt)&&I0(r.endAt,e.endAt)}function lm(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class yh{constructor(e,i=null,a=[],o=[],c=null,d="F",p=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function JR(r,e,i,a,o,c,d,p){return new yh(r,e,i,a,o,c,d,p)}function _h(r){return new yh(r)}function N0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function WR(r){return r.collectionGroup!==null}function Vo(r){const e=we(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ht(an.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ih(c,a))})),i.has(an.keyField().canonicalString())||e.Ie.push(new ih(an.keyField(),a))}return e.Ie}function Hi(r){const e=we(r);return e.Ee||(e.Ee=e2(e,Vo(r))),e.Ee}function e2(r,e){if(r.limitType==="F")return x0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new ih(o.field,c)}));const i=r.endAt?new nh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new nh(r.startAt.position,r.startAt.inclusive):null;return x0(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function om(r,e,i){return new yh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function vh(r,e){return zm(Hi(r),Hi(e))&&r.limitType===e.limitType}function OE(r){return`${Pm(Hi(r))}|lt:${r.limitType}`}function Wa(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>NE(o))).join(", ")}]`),gh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>fl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>fl(o))).join(",")),`Target(${a})`})(Hi(r))}; limitType=${r.limitType})`}function Eh(r,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ge.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,e)&&(function(a,o){for(const c of Vo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(d,p,y){const _=C0(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,Vo(a),o)||a.endAt&&!(function(d,p,y){const _=C0(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,Vo(a),o))})(r,e)}function t2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function ME(r){return(e,i)=>{let a=!1;for(const o of Vo(r)){const c=n2(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function n2(r,e,i){const a=r.field.isKeyField()?ge.comparator(e.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?hl(y,_):_e(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return _e(19790,{direction:r.dir})}}class oa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){wr(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return yE(this.inner)}size(){return this.innerSize}}const i2=new bt(ge.comparator);function As(){return i2}const VE=new bt(ge.comparator);function Io(...r){let e=VE;for(const i of r)e=e.insert(i.key,i);return e}function kE(r){let e=VE;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function na(){return ko()}function UE(){return ko()}function ko(){return new oa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const s2=new bt(ge.comparator),r2=new Ht(ge.comparator);function je(...r){let e=r2;for(const i of r)e=e.add(i);return e}const a2=new Ht(ze);function l2(){return a2}function jm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wc(e)?"-0":e}}function LE(r){return{integerValue:""+r}}function o2(r,e){return VR(e)?LE(e):jm(r,e)}class Th{constructor(){this._=void 0}}function u2(r,e,i){return r instanceof sh?(function(o,c){const d={fields:{[EE]:{stringValue:vE},[bE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Um(c)&&(c=ph(c)),c&&(d.fields[TE]=c),{mapValue:d}})(i,e):r instanceof dl?zE(r,e):r instanceof Ho?jE(r,e):(function(o,c){const d=PE(o,c),p=D0(d)+D0(o.Ae);return rm(d)&&rm(o.Ae)?LE(p):jm(o.serializer,p)})(r,e)}function c2(r,e,i){return r instanceof dl?zE(r,e):r instanceof Ho?jE(r,e):i}function PE(r,e){return r instanceof rh?(function(a){return rm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class sh extends Th{}class dl extends Th{constructor(e){super(),this.elements=e}}function zE(r,e){const i=BE(e);for(const a of r.elements)i.some((o=>Ki(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Ho extends Th{constructor(e){super(),this.elements=e}}function jE(r,e){let i=BE(e);for(const a of r.elements)i=i.filter((o=>!Ki(o,a)));return{arrayValue:{values:i}}}class rh extends Th{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function D0(r){return xt(r.integerValue||r.doubleValue)}function BE(r){return Lm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class h2{constructor(e,i){this.field=e,this.transform=i}}function f2(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof dl&&o instanceof dl||a instanceof Ho&&o instanceof Ho?cl(a.elements,o.elements,Ki):a instanceof rh&&o instanceof rh?Ki(a.Ae,o.Ae):a instanceof sh&&o instanceof sh})(r.transform,e.transform)}class d2{constructor(e,i){this.version=e,this.transformResults=i}}class Gi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Gi}static exists(e){return new Gi(void 0,e)}static updateTime(e){return new Gi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class bh{}function qE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new GE(r.key,Gi.none()):new Wo(r.key,r.data,Gi.none());{const i=r.data,a=xn.empty();let o=new Ht(an.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new Rr(r.key,a,new Bn(o.toArray()),Gi.none())}}function m2(r,e,i){r instanceof Wo?(function(o,c,d){const p=o.value.clone(),y=M0(o.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,i):r instanceof Rr?(function(o,c,d){if(!qc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=M0(o.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(HE(o)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Uo(r,e,i,a){return r instanceof Wo?(function(c,d,p,y){if(!qc(c.precondition,d))return p;const _=c.value.clone(),E=V0(c.fieldTransforms,y,d);return _.setAll(E),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,a):r instanceof Rr?(function(c,d,p,y){if(!qc(c.precondition,d))return p;const _=V0(c.fieldTransforms,y,d),E=d.data;return E.setAll(HE(c)),E.setAll(_),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,e,i,a):(function(c,d,p){return qc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,e,i)}function g2(r,e){let i=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),c=PE(a.transform,o||null);c!=null&&(i===null&&(i=xn.empty()),i.set(a.field,c))}return i||null}function O0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&cl(a,o,((c,d)=>f2(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Wo extends bh{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Rr extends bh{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function HE(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function M0(r,e,i){const a=new Map;Je(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,p=e.data.field(c.field);a.set(c.field,c2(d,p,i[o]))}return a}function V0(r,e,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,u2(c,d,e))}return a}class GE extends bh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class p2 extends bh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class y2{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&m2(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Uo(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Uo(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=UE();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const y=qE(d,p);y!==null&&a.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(Se.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),je())}isEqual(e){return this.batchId===e.batchId&&cl(this.mutations,e.mutations,((i,a)=>O0(i,a)))&&cl(this.baseMutations,e.baseMutations,((i,a)=>O0(i,a)))}}class Bm{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){Je(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return s2})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Bm(e,i,a,o)}}class _2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class v2{constructor(e,i){this.count=e,this.unchangedNames=i}}var Pt,Fe;function E2(r){switch(r){case $.OK:return _e(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return _e(15467,{code:r})}}function FE(r){if(r===void 0)return Ss("GRPC error has no .code"),$.UNKNOWN;switch(r){case Pt.OK:return $.OK;case Pt.CANCELLED:return $.CANCELLED;case Pt.UNKNOWN:return $.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return $.INTERNAL;case Pt.UNAVAILABLE:return $.UNAVAILABLE;case Pt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Pt.NOT_FOUND:return $.NOT_FOUND;case Pt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Pt.ABORTED:return $.ABORTED;case Pt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Pt.DATA_LOSS:return $.DATA_LOSS;default:return _e(39323,{code:r})}}(Fe=Pt||(Pt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";function T2(){return new TextEncoder}const b2=new pr([4294967295,4294967295],0);function k0(r){const e=T2().encode(r),i=new lE;return i.update(e),new Uint8Array(i.digest())}function U0(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new pr([i,a],0),new pr([o,c],0)]}class qm{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new xo(`Invalid padding: ${i}`);if(a<0)throw new xo(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new xo(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new xo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=pr.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(pr.fromNumber(a)));return o.compare(b2)===1&&(o=new pr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=k0(e),[a,o]=U0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new qm(c,o,i);return a.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=k0(e),[a,o]=U0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class xo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sh{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,eu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Sh(Se.min(),o,new bt(ze),As(),je())}}class eu{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new eu(a,i,je(),je(),je())}}class Hc{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class QE{constructor(e,i){this.targetId=e,this.Ce=i}}class YE{constructor(e,i,a=ln.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class L0{constructor(){this.ve=0,this.Fe=P0(),this.Me=ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),i=je(),a=je();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:_e(38017,{changeType:c})}})),new eu(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=P0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class S2{constructor(e){this.Ge=e,this.ze=new Map,this.je=As(),this.Je=Oc(),this.He=Oc(),this.Ye=new bt(ze)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(lm(c))if(a===0){const d=new ge(c.path);this.et(i,d,dn.newNoDocument(d,Se.min()))}else Je(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(e),y=p?this.ct(p,e,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=Tr(a).toUint8Array()}catch(y){if(y instanceof _E)return ul("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new qm(d,o,c)}catch(y){return ul(y instanceof xo?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&lm(p.target)){const y=new ge(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,dn.newNoDocument(y,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=je();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Sh(e,i,this.Ye,this.je,a);return this.je=As(),this.Je=Oc(),this.He=Oc(),this.Ye=new bt(ze),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new L0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ht(ze),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ht(ze),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||le("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new L0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Oc(){return new bt(ge.comparator)}function P0(){return new bt(ge.comparator)}const A2={asc:"ASCENDING",desc:"DESCENDING"},w2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},R2={and:"AND",or:"OR"};class C2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function um(r,e){return r.useProto3Json||gh(e)?e:{value:e}}function ah(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function I2(r,e){return ah(r,e.toTimestamp())}function Fi(r){return Je(!!r,49232),Se.fromTimestamp((function(i){const a=Er(i);return new yt(a.seconds,a.nanos)})(r))}function Hm(r,e){return cm(r,e).canonicalString()}function cm(r,e){const i=(function(o){return new Tt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function XE(r){const e=Tt.fromString(r);return Je(eT(e),10190,{key:e.toString()}),e}function hm(r,e){return Hm(r.databaseId,e.path)}function Hd(r,e){const i=XE(e);if(i.get(1)!==r.databaseId.projectId)throw new he($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new he($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ge(ZE(i))}function $E(r,e){return Hm(r.databaseId,e)}function x2(r){const e=XE(r);return e.length===4?Tt.emptyPath():ZE(e)}function fm(r){return new Tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ZE(r){return Je(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function z0(r,e,i){return{name:hm(r,e),fields:i.value.mapValue.fields}}function N2(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:_e(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,E){return _.useProto3Json?(Je(E===void 0||typeof E=="string",58123),ln.fromBase64String(E||"")):(Je(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),ln.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(_){const E=_.code===void 0?$.UNKNOWN:FE(_.code);return new he(E,_.message||"")})(d);i=new YE(a,o,c,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Hd(r,a.document.name),c=Fi(a.document.updateTime),d=a.document.createTime?Fi(a.document.createTime):Se.min(),p=new xn({mapValue:{fields:a.document.fields}}),y=dn.newFoundDocument(o,c,d,p),_=a.targetIds||[],E=a.removedTargetIds||[];i=new Hc(_,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Hd(r,a.document),c=a.readTime?Fi(a.readTime):Se.min(),d=dn.newNoDocument(o,c),p=a.removedTargetIds||[];i=new Hc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Hd(r,a.document),c=a.removedTargetIds||[];i=new Hc([],c,o,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new v2(o,c),p=a.targetId;i=new QE(p,d)}}return i}function D2(r,e){let i;if(e instanceof Wo)i={update:z0(r,e.key,e.value)};else if(e instanceof GE)i={delete:hm(r,e.key)};else if(e instanceof Rr)i={update:z0(r,e.key,e.data),updateMask:j2(e.fieldMask)};else{if(!(e instanceof p2))return _e(16599,{Vt:e.type});i={verify:hm(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof sh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof dl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ho)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof rh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw _e(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:I2(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_e(27497)})(r,e.precondition)),i}function O2(r,e){return r&&r.length>0?(Je(e!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?Fi(o.updateTime):Fi(c);return d.isEqual(Se.min())&&(d=Fi(c)),new d2(d,o.transformResults||[])})(i,e)))):[]}function M2(r,e){return{documents:[$E(r,e.path)]}}function V2(r,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=$E(r,o);const c=(function(_){if(_.length!==0)return WE(Xi.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((E=>(function(M){return{field:el(M.field),direction:L2(M.dir)}})(E)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=um(r,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function k2(r){let e=x2(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Je(a===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=(function(S){const M=JE(S);return M instanceof Xi&&IE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((M=>(function(J){return new ih(tl(J.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let M;return M=typeof S=="object"?S.value:S,gh(M)?null:M})(i.limit));let y=null;i.startAt&&(y=(function(S){const M=!!S.before,F=S.values||[];return new nh(F,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const M=!S.before,F=S.values||[];return new nh(F,M)})(i.endAt)),JR(e,o,d,c,p,"F",y,_)}function U2(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function JE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=tl(i.unaryFilter.field);return qt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=tl(i.unaryFilter.field);return qt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=tl(i.unaryFilter.field);return qt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=tl(i.unaryFilter.field);return qt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(r):r.fieldFilter!==void 0?(function(i){return qt.create(tl(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Xi.create(i.compositeFilter.filters.map((a=>JE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(i.compositeFilter.op))})(r):_e(30097,{filter:r})}function L2(r){return A2[r]}function P2(r){return w2[r]}function z2(r){return R2[r]}function el(r){return{fieldPath:r.canonicalString()}}function tl(r){return an.fromServerFormat(r.fieldPath)}function WE(r){return r instanceof qt?(function(i){if(i.op==="=="){if(R0(i.value))return{unaryFilter:{field:el(i.field),op:"IS_NAN"}};if(w0(i.value))return{unaryFilter:{field:el(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(R0(i.value))return{unaryFilter:{field:el(i.field),op:"IS_NOT_NAN"}};if(w0(i.value))return{unaryFilter:{field:el(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:el(i.field),op:P2(i.op),value:i.value}}})(r):r instanceof Xi?(function(i){const a=i.getFilters().map((o=>WE(o)));return a.length===1?a[0]:{compositeFilter:{op:z2(i.op),filters:a}}})(r):_e(54877,{filter:r})}function j2(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function eT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class fr{constructor(e,i,a,o,c=Se.min(),d=Se.min(),p=ln.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new fr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class B2{constructor(e){this.yt=e}}function q2(r){const e=k2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?om(e,e.limit,"L"):e}class H2{constructor(){this.Cn=new G2}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(vr.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(vr.min())}updateCollectionGroup(e,i,a){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class G2{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Ht(Tt.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Ht(Tt.comparator)).toArray()}}const j0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tT=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(tT,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);class ml{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ml(0)}static cr(){return new ml(-1)}}const B0="LruGarbageCollector",F2=1048576;function q0([r,e],[i,a]){const o=ze(r,i);return o===0?ze(e,a):o}class Q2{constructor(e){this.Ir=e,this.buffer=new Ht(q0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();q0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Y2{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(B0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){bl(i)?le(B0,"Ignoring IndexedDB error during garbage collection: ",i):await Tl(i)}await this.Vr(3e5)}))}}class K2{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(mh.ce);const a=new Q2(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(j0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),j0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,c,d,p,y,_;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(a=S,p=Date.now(),this.removeTargets(e,a,i)))).next((S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(e,a)))).next((S=>(_=Date.now(),Ja()<=Pe.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${S} documents in `+(_-y)+`ms
Total Duration: ${_-E}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function X2(r,e){return new K2(r,e)}class $2{constructor(){this.changes=new oa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Z2{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class J2{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&Uo(a.mutation,o,Bn.empty(),yt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,je()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=je()){const o=na();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=Io();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=na();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,je())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,a,o){let c=As();const d=ko(),p=(function(){return ko()})();return i.forEach(((y,_)=>{const E=a.get(_.key);o.has(_.key)&&(E===void 0||E.mutation instanceof Rr)?c=c.insert(_.key,_):E!==void 0?(d.set(_.key,E.mutation.getFieldMask()),Uo(E.mutation,_,E.mutation.getFieldMask(),yt.now())):d.set(_.key,Bn.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((_,E)=>d.set(_,E))),i.forEach(((_,E)=>p.set(_,new Z2(E,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,i){const a=ko();let o=new bt(((d,p)=>d-p)),c=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let E=a.get(y)||Bn.empty();E=p.applyToLocalView(_,E),a.set(y,E);const S=(o.get(p.batchId)||je()).add(y);o=o.insert(p.batchId,S)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,E=y.value,S=UE();E.forEach((M=>{if(!c.has(M)){const F=qE(i.get(M),a.get(M));F!==null&&S.set(M,F),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,S))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return ge.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):WR(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):X.resolve(na());let p=zo,y=c;return d.next((_=>X.forEach(_,((E,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(E)?X.resolve():this.remoteDocumentCache.getEntry(e,E).next((M=>{y=y.insert(E,M)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,y,_,je()))).next((E=>({batchId:p,changes:kE(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ge(i)).next((a=>{let o=Io();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=Io();return this.indexManager.getCollectionParents(e,c).next((p=>X.forEach(p,(y=>{const _=(function(S,M){return new yh(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((E=>{E.forEach(((S,M)=>{d=d.insert(S,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((y,_)=>{const E=_.getKey();d.get(E)===null&&(d=d.insert(E,dn.newInvalidDocument(E)))}));let p=Io();return d.forEach(((y,_)=>{const E=c.get(y);E!==void 0&&Uo(E.mutation,_,Bn.empty(),yt.now()),Eh(i,_)&&(p=p.insert(y,_))})),p}))}}class W2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Fi(o.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:q2(o.bundledQuery),readTime:Fi(o.readTime)}})(i)),X.resolve()}}class eC{constructor(){this.overlays=new bt(ge.comparator),this.qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const a=na();return X.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.St(e,i,c)})),X.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(e,i,a){const o=na(),c=i.length+1,d=new ge(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&o.set(y.getKey(),y)}return X.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new bt(((_,E)=>_-E));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let E=c.get(_.largestBatchId);E===null&&(E=na(),c=c.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const p=na(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,E)=>p.set(_,E))),!(p.size()>=o)););return X.resolve(p)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new _2(i,a));let c=this.qr.get(i);c===void 0&&(c=je(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class tC{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}class Gm{constructor(){this.Qr=new Ht(Kt.$r),this.Ur=new Ht(Kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Kt(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Kt(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new ge(new Tt([])),a=new Kt(i,e),o=new Kt(i,e+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ge(new Tt([])),a=new Kt(i,e),o=new Kt(i,e+1);let c=je();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Kt(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Kt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ge.comparator(e.key,i.key)||ze(e.Yr,i.Yr)}static Kr(e,i){return ze(e.Yr,i.Yr)||ge.comparator(e.key,i.key)}}class nC{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ht(Kt.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new y2(c,i,a,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new Kt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?km:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Kt(i,0),o=new Kt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Ht(ze);return i.forEach((o=>{const c=new Kt(o,0),d=new Kt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;ge.isDocumentKey(c)||(c=c.child(""));const d=new Kt(new ge(c),0);let p=new Ht(ze);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(p=p.add(y.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Je(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(o=>{const c=new Kt(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Kt(i,0),o=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class iC{constructor(e){this.ri=e,this.docs=(function(){return new bt(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():dn.newInvalidDocument(i))}getEntries(e,i){let a=As();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():dn.newInvalidDocument(o))})),X.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=As();const d=i.path,p=new ge(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:E}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||NR(xR(E),a)<=0||(o.has(E.key)||Eh(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(e,i,a,o){_e(9500)}ii(e,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new sC(this)}getSize(e){return X.resolve(this.size)}}class sC extends $2{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class rC{constructor(e){this.persistence=e,this.si=new oa((i=>Pm(i)),zm),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new Gm,this.targetCount=0,this.ai=ml.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new ml(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Pr(i),X.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),X.waitFor(c).next((()=>o))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(e,i){return X.resolve(this._i.containsKey(i))}}class nT{constructor(e,i){this.ui={},this.overlays={},this.ci=new mh(0),this.li=!1,this.li=!0,this.hi=new tC,this.referenceDelegate=e(this),this.Pi=new rC(this),this.indexManager=new H2,this.remoteDocumentCache=(function(o){return new iC(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new B2(i),this.Ii=new W2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new eC,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new nC(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){le("MemoryPersistence","Starting transaction:",e);const o=new aC(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class aC extends OR{constructor(e){super(),this.currentSequenceNumber=e}}class Fm{constructor(e){this.persistence=e,this.Ri=new Gm,this.Vi=null}static mi(e){return new Fm(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const o=ge.fromPath(a);return this.gi(e,o).next((c=>{c||i.removeEntry(o,Se.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class lh{constructor(e,i){this.persistence=e,this.pi=new oa((a=>kR(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=X2(this,i)}static mi(e,i){return new lh(e,i)}Ei(){}di(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return X.forEach(this.pi,((a,o)=>this.br(e,a,o).next((c=>c?X.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((p=>{p||(a++,c.removeEntry(d,Se.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=jc(e.data.value)),i}br(e,i,a){return X.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return X.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Qm{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=je(),o=je();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Qm(e,i.fromCache,a,o)}}class lC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class oC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return K1()?8:MR(mn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new lC;return this.Ss(e,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>c.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(Ja()<=Pe.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Wa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Ja()<=Pe.DEBUG&&le("QueryEngine","Query:",Wa(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Ja()<=Pe.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Wa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hi(i))):X.resolve())}ys(e,i){if(N0(i))return X.resolve(null);let a=Hi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=om(i,null,"F"),a=Hi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=je(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(e,om(i,null,"F")):this.vs(e,_,i,y)}))))})))))}ws(e,i,a,o){return N0(i)||o.isEqual(Se.min())?X.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?X.resolve(null):(Ja()<=Pe.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Wa(i)),this.vs(e,d,i,IR(o,zo)).next((p=>p)))}))}Ds(e,i){let a=new Ht(ME(e));return i.forEach(((o,c)=>{Eh(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,a){return Ja()<=Pe.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Wa(i)),this.ps.getDocumentsMatchingQuery(e,i,vr.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Ym="LocalStore",uC=3e8;class cC{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new bt(ze),this.xs=new oa((c=>Pm(c)),zm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new J2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function hC(r,e,i,a){return new cC(r,e,i,a)}async function iT(r,e){const i=we(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=je();for(const _ of o){d.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}for(const _ of c){p.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function fC(r,e){const i=we(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,E){const S=_.batch,M=S.keys();let F=X.resolve();return M.forEach((J=>{F=F.next((()=>E.getEntry(y,J))).next((ne=>{const W=_.docVersions.get(J);Je(W!==null,48541),ne.version.compareTo(W)<0&&(S.applyToRemoteDocument(ne,_),ne.isValidDocument()&&(ne.setReadTime(_.commitVersion),E.addEntry(ne)))}))})),F.next((()=>p.mutationQueue.removeMutationBatch(y,S)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=je();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function sT(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function dC(r,e){const i=we(r),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach(((E,S)=>{const M=o.get(S);if(!M)return;p.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,S))));let F=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?F=F.withResumeToken(ln.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(E.resumeToken,a)),o=o.insert(S,F),(function(ne,W,ye){return ne.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-ne.snapshotVersion.toMicroseconds()>=uC?!0:ye.addedDocuments.size+ye.modifiedDocuments.size+ye.removedDocuments.size>0})(M,F,E)&&p.push(i.Pi.updateTargetData(c,F))}));let y=As(),_=je();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),p.push(mC(c,d,e.documentUpdates).next((E=>{y=E.ks,_=E.qs}))),!a.isEqual(Se.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(E)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=o,c)))}function mC(r,e,i){let a=je(),o=je();return i.forEach((c=>a=a.add(c))),e.getEntries(r,a).next((c=>{let d=As();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),y.isNoDocument()&&y.version.isEqual(Se.min())?(e.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(p,y)):le(Ym,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:o}}))}function gC(r,e){const i=we(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=km),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function pC(r,e){const i=we(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((c=>c?(o=c,X.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new fr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function dm(r,e,i){const a=we(r),o=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!bl(d))throw d;le(Ym,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function H0(r,e,i){const a=we(r);let o=Se.min(),c=je();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,E){const S=we(y),M=S.xs.get(E);return M!==void 0?X.resolve(S.Ms.get(M)):S.Pi.getTargetData(_,E)})(a,d,Hi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:Se.min(),i?c:je()))).next((p=>(yC(a,t2(e),p),{documents:p,Qs:c})))))}function yC(r,e,i){let a=r.Os.get(e)||Se.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(e,a)}class G0{constructor(){this.activeTargetIds=l2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _C{constructor(){this.Mo=new G0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new G0,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class vC{Oo(e){}shutdown(){}}const F0="ConnectivityMonitor";class Q0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(F0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(F0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Mc=null;function mm(){return Mc===null?Mc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mc++,"0x"+Mc.toString(16)}const Gd="RestConnection",EC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===eh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,c){const d=mm(),p=this.zo(e,i.toUriEncodedString());le(Gd,`Sending RPC '${e}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:_}=new URL(p),E=yl(_);return this.Jo(e,p,y,a,E).then((S=>(le(Gd,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw ul(Gd,`RPC '${e}' ${d} failed with error: `,S,"url: ",p,"request:",a),S}))}Ho(e,i,a,o,c,d){return this.Go(e,i,a,o,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+El})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const a=EC[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class bC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const hn="WebChannelConnection";class SC extends TC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,c){const d=mm();return new Promise(((p,y)=>{const _=new oE;_.setWithCredentials(!0),_.listenOnce(uE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case zc.NO_ERROR:const S=_.getResponseJson();le(hn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),p(S);break;case zc.TIMEOUT:le(hn,`RPC '${e}' ${d} timed out`),y(new he($.DEADLINE_EXCEEDED,"Request time out"));break;case zc.HTTP_ERROR:const M=_.getStatus();if(le(hn,`RPC '${e}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const J=F?.error;if(J&&J.status&&J.message){const ne=(function(ye){const Re=ye.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(Re)>=0?Re:$.UNKNOWN})(J.status);y(new he(ne,J.message))}else y(new he($.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new he($.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{le(hn,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(o);le(hn,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",E,a,15)}))}T_(e,i,a){const o=mm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=fE(),p=hE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const E=c.join("");le(hn,`Creating RPC '${e}' stream ${o}: ${E}`,y);const S=d.createWebChannel(E,y);this.I_(S);let M=!1,F=!1;const J=new bC({Yo:W=>{F?le(hn,`Not sending because RPC '${e}' stream ${o} is closed:`,W):(M||(le(hn,`Opening RPC '${e}' stream ${o} transport.`),S.open(),M=!0),le(hn,`RPC '${e}' stream ${o} sending:`,W),S.send(W))},Zo:()=>S.close()}),ne=(W,ye,Re)=>{W.listen(ye,(ve=>{try{Re(ve)}catch(me){setTimeout((()=>{throw me}),0)}}))};return ne(S,Co.EventType.OPEN,(()=>{F||(le(hn,`RPC '${e}' stream ${o} transport opened.`),J.o_())})),ne(S,Co.EventType.CLOSE,(()=>{F||(F=!0,le(hn,`RPC '${e}' stream ${o} transport closed`),J.a_(),this.E_(S))})),ne(S,Co.EventType.ERROR,(W=>{F||(F=!0,ul(hn,`RPC '${e}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),J.a_(new he($.UNAVAILABLE,"The operation could not be completed")))})),ne(S,Co.EventType.MESSAGE,(W=>{if(!F){const ye=W.data[0];Je(!!ye,16349);const Re=ye,ve=Re?.error||Re[0]?.error;if(ve){le(hn,`RPC '${e}' stream ${o} received error:`,ve);const me=ve.status;let Ke=(function(A){const I=Pt[A];if(I!==void 0)return FE(I)})(me),Be=ve.message;Ke===void 0&&(Ke=$.INTERNAL,Be="Unknown error status: "+me+" with message "+ve.message),F=!0,J.a_(new he(Ke,Be)),S.close()}else le(hn,`RPC '${e}' stream ${o} received:`,ye),J.u_(ye)}})),ne(p,cE.STAT_EVENT,(W=>{W.stat===nm.PROXY?le(hn,`RPC '${e}' stream ${o} detected buffering proxy`):W.stat===nm.NOPROXY&&le(hn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Fd(){return typeof document<"u"?document:null}function Ah(r){return new C2(r,!0)}class rT{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Y0="PersistentStream";class aT{constructor(e,i,a,o,c,d,p,y){this.Mi=e,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new rT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(Ss(i.toString()),Ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new he($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(Y0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(le(Y0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class AC extends aT{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=N2(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Se.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Se.min():d.readTime?Fi(d.readTime):Se.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=fm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=lm(y)?{documents:M2(c,y)}:{query:V2(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=KE(c,d.resumeToken);const _=um(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Se.min())>0){p.readTime=ah(c,d.snapshotVersion.toTimestamp());const _=um(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const a=U2(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=fm(this.serializer),i.removeTarget=e,this.q_(i)}}class wC extends aT{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=O2(e.writeResults,e.commitTime),a=Fi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=fm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>D2(this.serializer,a)))};this.q_(i)}}class RC{}class CC extends RC{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,cm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he($.UNKNOWN,c.toString())}))}Ho(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,cm(i,a),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new he($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class IC{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ss(i),this.aa=!1):le("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const la="RemoteStore";class xC{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ua(this)&&(le(la,"Restarting streams for network reachability change."),await(async function(y){const _=we(y);_.Ea.add(4),await tu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await wh(_)})(this))}))})),this.Ra=new IC(a,o)}}async function wh(r){if(ua(r))for(const e of r.da)await e(!0)}async function tu(r){for(const e of r.da)await e(!1)}function lT(r,e){const i=we(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Zm(i)?$m(i):Sl(i).O_()&&Xm(i,e))}function Km(r,e){const i=we(r),a=Sl(i);i.Ia.delete(e),a.O_()&&oT(i,e),i.Ia.size===0&&(a.O_()?a.L_():ua(i)&&i.Ra.set("Unknown"))}function Xm(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Sl(r).Y_(e)}function oT(r,e){r.Va.Ue(e),Sl(r).Z_(e)}function $m(r){r.Va=new S2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Sl(r).start(),r.Ra.ua()}function Zm(r){return ua(r)&&!Sl(r).x_()&&r.Ia.size>0}function ua(r){return we(r).Ea.size===0}function uT(r){r.Va=void 0}async function NC(r){r.Ra.set("Online")}async function DC(r){r.Ia.forEach(((e,i)=>{Xm(r,e)}))}async function OC(r,e){uT(r),Zm(r)?(r.Ra.ha(e),$m(r)):r.Ra.set("Unknown")}async function MC(r,e,i){if(r.Ra.set("Online"),e instanceof YE&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(r,e)}catch(a){le(la,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await oh(r,a)}else if(e instanceof Hc?r.Va.Ze(e):e instanceof QE?r.Va.st(e):r.Va.tt(e),!i.isEqual(Se.min()))try{const a=await sT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const E=c.Ia.get(_);E&&c.Ia.set(_,E.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const E=c.Ia.get(y);if(!E)return;c.Ia.set(y,E.withResumeToken(ln.EMPTY_BYTE_STRING,E.snapshotVersion)),oT(c,y);const S=new fr(E.target,y,_,E.sequenceNumber);Xm(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){le(la,"Failed to raise snapshot:",a),await oh(r,a)}}async function oh(r,e,i){if(!bl(e))throw e;r.Ea.add(1),await tu(r),r.Ra.set("Offline"),i||(i=()=>sT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{le(la,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await wh(r)}))}function cT(r,e){return e().catch((i=>oh(r,i,e)))}async function Rh(r){const e=we(r),i=Sr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:km;for(;VC(e);)try{const o=await gC(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,kC(e,o)}catch(o){await oh(e,o)}hT(e)&&fT(e)}function VC(r){return ua(r)&&r.Ta.length<10}function kC(r,e){r.Ta.push(e);const i=Sr(r);i.O_()&&i.X_&&i.ea(e.mutations)}function hT(r){return ua(r)&&!Sr(r).x_()&&r.Ta.length>0}function fT(r){Sr(r).start()}async function UC(r){Sr(r).ra()}async function LC(r){const e=Sr(r);for(const i of r.Ta)e.ea(i.mutations)}async function PC(r,e,i){const a=r.Ta.shift(),o=Bm.from(a,e,i);await cT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Rh(r)}async function zC(r,e){e&&Sr(r).X_&&await(async function(a,o){if((function(d){return E2(d)&&d!==$.ABORTED})(o.code)){const c=a.Ta.shift();Sr(a).B_(),await cT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Rh(a)}})(r,e),hT(r)&&fT(r)}async function K0(r,e){const i=we(r);i.asyncQueue.verifyOperationInProgress(),le(la,"RemoteStore received new credentials");const a=ua(i);i.Ea.add(3),await tu(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await wh(i)}async function jC(r,e){const i=we(r);e?(i.Ea.delete(2),await wh(i)):e||(i.Ea.add(2),await tu(i),i.Ra.set("Unknown"))}function Sl(r){return r.ma||(r.ma=(function(i,a,o){const c=we(i);return c.sa(),new AC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:NC.bind(null,r),t_:DC.bind(null,r),r_:OC.bind(null,r),H_:MC.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Zm(r)?$m(r):r.Ra.set("Unknown")):(await r.ma.stop(),uT(r))}))),r.ma}function Sr(r){return r.fa||(r.fa=(function(i,a,o){const c=we(i);return c.sa(),new wC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:UC.bind(null,r),r_:zC.bind(null,r),ta:LC.bind(null,r),na:PC.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Rh(r)):(await r.fa.stop(),r.Ta.length>0&&(le(la,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Jm{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,p=new Jm(e,i,d,o,c);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wm(r,e){if(Ss("AsyncQueue",`${e}: ${r}`),bl(r))return new he($.UNAVAILABLE,`${e}: ${r}`);throw r}class al{static emptySet(e){return new al(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ge.comparator(i.key,a.key):(i,a)=>ge.comparator(i.key,a.key),this.keyedMap=Io(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof al)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new al;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class X0{constructor(){this.ga=new bt(ge.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class gl{constructor(e,i,a,o,c,d,p,y,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new gl(e,i,al.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class BC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class qC{constructor(){this.queries=$0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=we(i),c=o.queries;o.queries=$0(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new he($.ABORTED,"Firestore shutting down"))}}function $0(){return new oa((r=>OE(r)),vh)}async function dT(r,e){const i=we(r);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(a=2):(c=new BC,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=Wm(d,`Initialization of query '${Wa(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&eg(i)}async function mT(r,e){const i=we(r),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function HC(r,e){const i=we(r);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(o)&&(a=!0);d.wa=o}}a&&eg(i)}function GC(r,e,i){const a=we(r),o=a.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(e)}function eg(r){r.Ca.forEach((e=>{e.next()}))}var gm,Z0;(Z0=gm||(gm={})).Ma="default",Z0.Cache="cache";class gT{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new gl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=gl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==gm.Cache}}class pT{constructor(e){this.key=e}}class yT{constructor(e){this.key=e}}class FC{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=je(),this.mutatedKeys=je(),this.eu=ME(e),this.tu=new al(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new X0,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,S)=>{const M=o.get(E),F=Eh(this.query,S)?S:null,J=!!M&&this.mutatedKeys.has(M.key),ne=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let W=!1;M&&F?M.data.isEqual(F.data)?J!==ne&&(a.track({type:3,doc:F}),W=!0):this.su(M,F)||(a.track({type:2,doc:F}),W=!0,(y&&this.eu(F,y)>0||_&&this.eu(F,_)<0)&&(p=!0)):!M&&F?(a.track({type:0,doc:F}),W=!0):M&&!F&&(a.track({type:1,doc:M}),W=!0,(y||_)&&(p=!0)),W&&(F?(d=d.add(F),c=ne?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,S)=>(function(F,J){const ne=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:W})}};return ne(F)-ne(J)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(a),o=o??!1;const p=i&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new gl(this.query,e.tu,c,d,e.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new X0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=je(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new yT(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new pT(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=je();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return gl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const tg="SyncEngine";class QC{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class YC{constructor(e){this.key=e,this.hu=!1}}class KC{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new oa((p=>OE(p)),vh),this.Iu=new Map,this.Eu=new Set,this.du=new bt(ge.comparator),this.Au=new Map,this.Ru=new Gm,this.Vu={},this.mu=new Map,this.fu=ml.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function XC(r,e,i=!0){const a=ST(r);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await _T(a,e,i,!0),o}async function $C(r,e){const i=ST(r);await _T(i,e,!0,!1)}async function _T(r,e,i,a){const o=await pC(r.localStore,Hi(e)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await ZC(r,e,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&lT(r.remoteStore,o),p}async function ZC(r,e,i,a,o){r.pu=(S,M,F)=>(async function(ne,W,ye,Re){let ve=W.view.ru(ye);ve.Cs&&(ve=await H0(ne.localStore,W.query,!1).then((({documents:x})=>W.view.ru(x,ve))));const me=Re&&Re.targetChanges.get(W.targetId),Ke=Re&&Re.targetMismatches.get(W.targetId)!=null,Be=W.view.applyChanges(ve,ne.isPrimaryClient,me,Ke);return W0(ne,W.targetId,Be.au),Be.snapshot})(r,S,M,F);const c=await H0(r.localStore,e,!0),d=new FC(e,c.Qs),p=d.ru(c.documents),y=eu.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),_=d.applyChanges(p,r.isPrimaryClient,y);W0(r,i,_.au);const E=new QC(e,i,d);return r.Tu.set(e,E),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function JC(r,e,i){const a=we(r),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!vh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await dm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Km(a.remoteStore,o.targetId),pm(a,o.targetId)})).catch(Tl)):(pm(a,o.targetId),await dm(a.localStore,o.targetId,!0))}async function WC(r,e){const i=we(r),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Km(i.remoteStore,a.targetId))}async function eI(r,e,i){const a=lI(r);try{const o=await(function(d,p){const y=we(d),_=yt.now(),E=p.reduce(((F,J)=>F.add(J.key)),je());let S,M;return y.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let J=As(),ne=je();return y.Ns.getEntries(F,E).next((W=>{J=W,J.forEach(((ye,Re)=>{Re.isValidDocument()||(ne=ne.add(ye))}))})).next((()=>y.localDocuments.getOverlayedDocuments(F,J))).next((W=>{S=W;const ye=[];for(const Re of p){const ve=g2(Re,S.get(Re.key).overlayedDocument);ve!=null&&ye.push(new Rr(Re.key,ve,wE(ve.value.mapValue),Gi.exists(!0)))}return y.mutationQueue.addMutationBatch(F,_,ye,p)})).next((W=>{M=W;const ye=W.applyToLocalDocumentSet(S,ne);return y.documentOverlayCache.saveOverlays(F,W.batchId,ye)}))})).then((()=>({batchId:M.batchId,changes:kE(S)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new bt(ze)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,o.batchId,i),await nu(a,o.changes),await Rh(a.remoteStore)}catch(o){const c=Wm(o,"Failed to persist write");i.reject(c)}}async function vT(r,e){const i=we(r);try{const a=await dC(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Je(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Je(d.hu,14607):o.removedDocuments.size>0&&(Je(d.hu,42227),d.hu=!1))})),await nu(i,a,e)}catch(a){await Tl(a)}}function J0(r,e,i){const a=we(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const y=we(d);y.onlineState=p;let _=!1;y.queries.forEach(((E,S)=>{for(const M of S.Sa)M.va(p)&&(_=!0)})),_&&eg(y)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function tI(r,e,i){const a=we(r);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new bt(ge.comparator);d=d.insert(c,dn.newNoDocument(c,Se.min()));const p=je().add(c),y=new Sh(Se.min(),new Map,new bt(ze),d,p);await vT(a,y),a.du=a.du.remove(c),a.Au.delete(e),ng(a)}else await dm(a.localStore,e,!1).then((()=>pm(a,e,i))).catch(Tl)}async function nI(r,e){const i=we(r),a=e.batch.batchId;try{const o=await fC(i.localStore,e);TT(i,a,null),ET(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await nu(i,o)}catch(o){await Tl(o)}}async function iI(r,e,i){const a=we(r);try{const o=await(function(d,p){const y=we(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let E;return y.mutationQueue.lookupMutationBatch(_,p).next((S=>(Je(S!==null,37113),E=S.keys(),y.mutationQueue.removeMutationBatch(_,S)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,E,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E))).next((()=>y.localDocuments.getDocuments(_,E)))}))})(a.localStore,e);TT(a,e,i),ET(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await nu(a,o)}catch(o){await Tl(o)}}function ET(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function TT(r,e,i){const a=we(r);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function pm(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||bT(r,a)}))}function bT(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Km(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),ng(r))}function W0(r,e,i){for(const a of i)a instanceof pT?(r.Ru.addReference(a.key,e),sI(r,a)):a instanceof yT?(le(tg,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||bT(r,a.key)):_e(19791,{wu:a})}function sI(r,e){const i=e.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(le(tg,"New document in limbo: "+i),r.Eu.add(a),ng(r))}function ng(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new ge(Tt.fromString(e)),a=r.fu.next();r.Au.set(a,new YC(i)),r.du=r.du.insert(i,a),lT(r.remoteStore,new fr(Hi(_h(i.path)),a,"TargetPurposeLimboResolution",mh.ce))}}async function nu(r,e,i){const a=we(r),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const E=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(_){o.push(_);const E=Qm.As(y.targetId,_);c.push(E)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(y,_){const E=we(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(_,(M=>X.forEach(M.Es,(F=>E.persistence.referenceDelegate.addReference(S,M.targetId,F))).next((()=>X.forEach(M.ds,(F=>E.persistence.referenceDelegate.removeReference(S,M.targetId,F)))))))))}catch(S){if(!bl(S))throw S;le(Ym,"Failed to update sequence numbers: "+S)}for(const S of _){const M=S.targetId;if(!S.fromCache){const F=E.Ms.get(M),J=F.snapshotVersion,ne=F.withLastLimboFreeSnapshotVersion(J);E.Ms=E.Ms.insert(M,ne)}}})(a.localStore,c))}async function rI(r,e){const i=we(r);if(!i.currentUser.isEqual(e)){le(tg,"User change. New user:",e.toKey());const a=await iT(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new he($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await nu(i,a.Ls)}}function aI(r,e){const i=we(r),a=i.Au.get(e);if(a&&a.hu)return je().add(a.key);{let o=je();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function ST(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=vT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tI.bind(null,e),e.Pu.H_=HC.bind(null,e.eventManager),e.Pu.yu=GC.bind(null,e.eventManager),e}function lI(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iI.bind(null,e),e}class uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ah(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return hC(this.persistence,new oC,e.initialUser,this.serializer)}Cu(e){return new nT(Fm.mi,this.serializer)}Du(e){return new _C}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uh.provider={build:()=>new uh};class oI extends uh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Je(this.persistence.referenceDelegate instanceof lh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Y2(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new nT((a=>lh.mi(a,i)),this.serializer)}}class ym{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>J0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=rI.bind(null,this.syncEngine),await jC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new qC})()}createDatastore(e){const i=Ah(e.databaseInfo.databaseId),a=(function(c){return new SC(c)})(e.databaseInfo);return(function(c,d,p,y){return new CC(c,d,p,y)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,p){return new xC(a,o,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>J0(this.syncEngine,i,0)),(function(){return Q0.v()?new Q0:new vC})())}createSyncEngine(e,i){return(function(o,c,d,p,y,_,E){const S=new KC(o,c,d,p,y,_);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=we(i);le(la,"RemoteStore shutting down."),a.Ea.add(5),await tu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ym.provider={build:()=>new ym};class AT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ss("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Ar="FirestoreClient";class uI{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=fn.UNAUTHENTICATED,this.clientId=Mm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{le(Ar,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(le(Ar,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Wm(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Qd(r,e){r.asyncQueue.verifyOperationInProgress(),le(Ar,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await iT(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function ev(r,e){r.asyncQueue.verifyOperationInProgress();const i=await cI(r);le(Ar,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>K0(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>K0(e.remoteStore,o))),r._onlineComponents=e}async function cI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(Ar,"Using user provided OfflineComponentProvider");try{await Qd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;ul("Error using user provided cache. Falling back to memory cache: "+i),await Qd(r,new uh)}}else le(Ar,"Using default OfflineComponentProvider"),await Qd(r,new oI(void 0));return r._offlineComponents}async function wT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(Ar,"Using user provided OnlineComponentProvider"),await ev(r,r._uninitializedComponentsProvider._online)):(le(Ar,"Using default OnlineComponentProvider"),await ev(r,new ym))),r._onlineComponents}function hI(r){return wT(r).then((e=>e.syncEngine))}async function _m(r){const e=await wT(r),i=e.eventManager;return i.onListen=XC.bind(null,e.syncEngine),i.onUnlisten=JC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=$C.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=WC.bind(null,e.syncEngine),i}function fI(r,e,i={}){const a=new yr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const E=new AT({next:M=>{E.Nu(),d.enqueueAndForget((()=>mT(c,S)));const F=M.docs.has(p);!F&&M.fromCache?_.reject(new he($.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&y&&y.source==="server"?_.reject(new he($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),S=new gT(_h(p.path),E,{includeMetadataChanges:!0,qa:!0});return dT(c,S)})(await _m(r),r.asyncQueue,e,i,a))),a.promise}function RT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const tv=new Map;const CT="firestore.googleapis.com",nv=!0;class iv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=CT,this.ssl=nv}else this.host=e.host,this.ssl=e.ssl??nv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<F2)throw new he($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RT(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new he($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new he($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new he($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ig{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new pR;switch(a.type){case"firstParty":return new ER(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new he($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=tv.get(i);a&&(le("ComponentProvider","Removing Datastore"),tv.delete(i),a.terminate())})(this),Promise.resolve()}}function dI(r,e,i,a={}){r=qi(r,ig);const o=yl(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${i}`;o&&(bv(`https://${p}`),Sv("Firestore",!0)),c.host!==CT&&c.host!==p&&ul("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:o,emulatorOptions:a};if(!_r(y,d)&&(r._setSettings(y),a.mockUserToken)){let _,E;if(typeof a.mockUserToken=="string")_=a.mockUserToken,E=fn.MOCK_USER;else{_=z1(a.mockUserToken,r._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new he($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new fn(S)}r._authCredentials=new yR(new mE(_,E))}}class Ch{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Ch(this.firestore,e,this._query)}}class jt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Go(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}toJSON(){return{type:jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Jo(i,jt._jsonSchema))return new jt(e,a||null,new ge(Tt.fromString(i.referencePath)))}}jt._jsonSchemaVersion="firestore/documentReference/1.0",jt._jsonSchema={type:zt("string",jt._jsonSchemaVersion),referencePath:zt("string")};class Go extends Ch{constructor(e,i,a){super(e,i,_h(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new ge(e))}withConverter(e){return new Go(this.firestore,e,this._path)}}function tn(r,e,...i){if(r=vn(r),arguments.length===1&&(e=Mm.newId()),RR("doc","path",e),r instanceof ig){const a=Tt.fromString(e,...i);return y0(a),new jt(r,null,new ge(a))}{if(!(r instanceof jt||r instanceof Go))throw new he($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Tt.fromString(e,...i));return y0(a),new jt(r.firestore,r instanceof Go?r.converter:null,new ge(a))}}const sv="AsyncQueue";class rv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new rT(this,"async_queue_retry"),this._c=()=>{const a=Fd();a&&le(sv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Fd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Fd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new yr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!bl(e))throw e;le(sv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Ss("INTERNAL UNHANDLED ERROR: ",av(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Jm.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&_e(47125,{Pc:av(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function av(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function lv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class pl extends ig{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new rv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rv(e),this._firestoreClient=void 0,await e}}}function mI(r,e){const i=typeof r=="object"?r:Cv(),a=typeof r=="string"?r:eh,o=Sm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=L1("firestore");c&&dI(o,...c)}return o}function sg(r){if(r._terminated)throw new he($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||gI(r),r._firestoreClient}function gI(r){const e=r._freezeSettings(),i=(function(o,c,d,p){return new PR(o,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,RT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new uI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class ni{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ni(ln.fromBase64String(e))}catch(i){throw new he($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ni(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ni._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Jo(e,ni._jsonSchema))return ni.fromBase64String(e.bytes)}}ni._jsonSchemaVersion="firestore/bytes/1.0",ni._jsonSchema={type:zt("string",ni._jsonSchemaVersion),bytes:zt("string")};class Ih{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new he($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class xh{constructor(e){this._methodName=e}}class Qi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new he($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new he($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qi._jsonSchemaVersion}}static fromJSON(e){if(Jo(e,Qi._jsonSchema))return new Qi(e.latitude,e.longitude)}}Qi._jsonSchemaVersion="firestore/geoPoint/1.0",Qi._jsonSchema={type:zt("string",Qi._jsonSchemaVersion),latitude:zt("number"),longitude:zt("number")};class Yi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Yi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Jo(e,Yi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Yi(e.vectorValues);throw new he($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Yi._jsonSchemaVersion="firestore/vectorValue/1.0",Yi._jsonSchema={type:zt("string",Yi._jsonSchemaVersion),vectorValues:zt("object")};const pI=/^__.*__$/;class yI{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Rr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Wo(e,this.data,i,this.fieldTransforms)}}class IT{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Rr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function xT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:r})}}class Nh{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Nh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ch(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(xT(this.Ac)&&pI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class _I{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Ah(e)}Cc(e,i,a,o=!1){return new Nh({Ac:e,methodName:i,Dc:a,path:an.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function NT(r){const e=r._freezeSettings(),i=Ah(r._databaseId);return new _I(r._databaseId,!!e.ignoreUndefinedProperties,i)}function vI(r,e,i,a,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,e,i,o);ag("Data must be an object, but it was:",d,a);const p=DT(a,d);let y,_;if(c.merge)y=new Bn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const S of c.mergeFields){const M=vm(e,S,i);if(!d.contains(M))throw new he($.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);MT(E,M)||E.push(M)}y=new Bn(E),_=d.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,_=d.fieldTransforms;return new yI(new xn(p),y,_)}class Dh extends xh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dh}}function EI(r,e,i){return new Nh({Ac:3,Dc:e.settings.Dc,methodName:r._methodName,fc:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class rg extends xh{constructor(e,i){super(e),this.vc=i}_toFieldTransform(e){const i=EI(this,e,!0),a=this.vc.map((c=>iu(c,i))),o=new dl(a);return new h2(e.path,o)}isEqual(e){return e instanceof rg&&_r(this.vc,e.vc)}}function TI(r,e,i,a){const o=r.Cc(1,e,i);ag("Data must be an object, but it was:",o,a);const c=[],d=xn.empty();wr(a,((y,_)=>{const E=lg(e,y,i);_=vn(_);const S=o.yc(E);if(_ instanceof Dh)c.push(E);else{const M=iu(_,S);M!=null&&(c.push(E),d.set(E,M))}}));const p=new Bn(c);return new IT(d,p,o.fieldTransforms)}function bI(r,e,i,a,o,c){const d=r.Cc(1,e,i),p=[vm(e,a,i)],y=[o];if(c.length%2!=0)throw new he($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)p.push(vm(e,c[M])),y.push(c[M+1]);const _=[],E=xn.empty();for(let M=p.length-1;M>=0;--M)if(!MT(_,p[M])){const F=p[M];let J=y[M];J=vn(J);const ne=d.yc(F);if(J instanceof Dh)_.push(F);else{const W=iu(J,ne);W!=null&&(_.push(F),E.set(F,W))}}const S=new Bn(_);return new IT(E,S,d.fieldTransforms)}function iu(r,e){if(OT(r=vn(r)))return ag("Unsupported field value:",e,r),DT(r,e);if(r instanceof xh)return(function(a,o){if(!xT(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const p of a){let y=iu(p,o.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,e)}return(function(a,o){if((a=vn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return o2(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=yt.fromDate(a);return{timestampValue:ah(o.serializer,c)}}if(a instanceof yt){const c=new yt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ah(o.serializer,c)}}if(a instanceof Qi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ni)return{bytesValue:KE(o.serializer,a._byteString)};if(a instanceof jt){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Hm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Yi)return(function(d,p){return{mapValue:{fields:{[SE]:{stringValue:AE},[th]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return jm(p.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Vm(a)}`)})(r,e)}function DT(r,e){const i={};return yE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wr(r,((a,o)=>{const c=iu(o,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function OT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof yt||r instanceof Qi||r instanceof ni||r instanceof jt||r instanceof xh||r instanceof Yi)}function ag(r,e,i){if(!OT(i)||!gE(i)){const a=Vm(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function vm(r,e,i){if((e=vn(e))instanceof Ih)return e._internalPath;if(typeof e=="string")return lg(r,e);throw ch("Field path arguments must be of type string or ",r,!1,void 0,i)}const SI=new RegExp("[~\\*/\\[\\]]");function lg(r,e,i){if(e.search(SI)>=0)throw ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Ih(...e.split("."))._internalPath}catch{throw ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function ch(r,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${o}`),y+=")"),new he($.INVALID_ARGUMENT,p+r+y)}function MT(r,e){return r.some((i=>i.isEqual(e)))}class VT{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(kT("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class AI extends VT{data(){return super.data()}}function kT(r,e){return typeof e=="string"?lg(r,e):e instanceof Ih?e._internalPath:e._delegate._internalPath}function wI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new he($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class RI{convertValue(e,i="none"){switch(br(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Tr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return wr(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[th].arrayValue?.values?.map((a=>xt(a.doubleValue)));return new Yi(i)}convertGeoPoint(e){return new Qi(xt(e.latitude),xt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=ph(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(jo(e));default:return null}}convertTimestamp(e){const i=Er(e);return new yt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Tt.fromString(e);Je(eT(a),9688,{name:e});const o=new Bo(a.get(1),a.get(3)),c=new ge(a.popFirst(5));return o.isEqual(i)||Ss(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function CI(r,e,i){let a;return a=r?r.toFirestore(e):e,a}class No{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ia extends VT{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(kT("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ia._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",ia._jsonSchema={type:zt("string",ia._jsonSchemaVersion),bundleSource:zt("string","DocumentSnapshot"),bundleName:zt("string"),bundle:zt("string")};class Gc extends ia{data(e={}){return super.data(e)}}class ll{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new No(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Gc(this._firestore,this._userDataWriter,a.key,a,new No(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new he($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const y=new Gc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new No(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Gc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new No(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,E=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),E=d.indexOf(p.doc.key)),{type:II(p.type),doc:y,oldIndex:_,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ll._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Mm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function II(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:r})}}function xI(r){r=qi(r,jt);const e=qi(r.firestore,pl);return fI(sg(e),r._key).then((i=>PT(e,r,i)))}ll._jsonSchemaVersion="firestore/querySnapshot/1.0",ll._jsonSchema={type:zt("string",ll._jsonSchemaVersion),bundleSource:zt("string","QuerySnapshot"),bundleName:zt("string"),bundle:zt("string")};class UT extends RI{constructor(e){super(),this.firestore=e}convertBytes(e){return new ni(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,i)}}function NI(r,e,i){r=qi(r,jt);const a=qi(r.firestore,pl),o=CI(r.converter,e);return LT(a,[vI(NT(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,Gi.none())])}function _n(r,e,i,...a){r=qi(r,jt);const o=qi(r.firestore,pl),c=NT(o);let d;return d=typeof(e=vn(e))=="string"||e instanceof Ih?bI(c,"updateDoc",r._key,e,i,a):TI(c,"updateDoc",r._key,e),LT(o,[d.toMutation(r._key,Gi.exists(!0))])}function DI(r,...e){r=vn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||lv(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(lv(e[a])){const y=e[a];e[a]=y.next?.bind(y),e[a+1]=y.error?.bind(y),e[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof jt)d=qi(r.firestore,pl),p=_h(r._key.path),c={next:y=>{e[a]&&e[a](PT(d,r,y))},error:e[a+1],complete:e[a+2]};else{const y=qi(r,Ch);d=qi(y.firestore,pl),p=y._query;const _=new UT(d);c={next:E=>{e[a]&&e[a](new ll(d,_,y,E))},error:e[a+1],complete:e[a+2]},wI(r._query)}return(function(_,E,S,M){const F=new AT(M),J=new gT(E,F,S);return _.asyncQueue.enqueueAndForget((async()=>dT(await _m(_),J))),()=>{F.Nu(),_.asyncQueue.enqueueAndForget((async()=>mT(await _m(_),J)))}})(sg(d),p,o,c)}function LT(r,e){return(function(a,o){const c=new yr;return a.asyncQueue.enqueueAndForget((async()=>eI(await hI(a),o,c))),c.promise})(sg(r),e)}function PT(r,e,i){const a=i.docs.get(e._key),o=new UT(r);return new ia(r,o,e._key,a,new No(i.hasPendingWrites,i.fromCache),e.converter)}function Pi(...r){return new rg("arrayUnion",r)}(function(e,i=!0){(function(o){El=o})(_l),ol(new sa("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new pl(new _R(a.getProvider("auth-internal")),new TR(d,a.getProvider("app-check-internal")),(function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new he($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bo(_.options.projectId,E)})(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),gr(d0,m0,e),gr(d0,m0,"esm2020")})();const OI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),ov=r=>{const e=MI(r);return e.charAt(0).toUpperCase()+e.slice(1)},zT=(...r)=>r.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),VI=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var kI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const UI=ft.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...p},y)=>ft.createElement("svg",{ref:y,...kI,width:e,height:e,stroke:r,strokeWidth:a?Number(i)*24/Number(e):i,className:zT("lucide",o),...!c&&!VI(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,E])=>ft.createElement(_,E)),...Array.isArray(c)?c:[c]]));const Gt=(r,e)=>{const i=ft.forwardRef(({className:a,...o},c)=>ft.createElement(UI,{ref:c,iconNode:e,className:zT(`lucide-${OI(ov(r))}`,`lucide-${r}`,a),...o}));return i.displayName=ov(r),i};const LI=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}]],Ro=Gt("badge",LI);const PI=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],zI=Gt("briefcase",PI);const jI=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],BI=Gt("chevron-down",jI);const qI=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],HI=Gt("chevron-up",qI);const GI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],FI=Gt("circle-check-big",GI);const QI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],YI=Gt("circle-x",QI);const KI=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],XI=Gt("eye-off",KI);const $I=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],uv=Gt("eye",$I);const ZI=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],JI=Gt("gavel",ZI);const WI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],cv=Gt("history",WI);const ex=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],hv=Gt("log-out",ex);const tx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],fv=Gt("rotate-ccw",tx);const nx=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],dv=Gt("search",nx);const ix=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sx=Gt("settings",ix);const rx=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],mv=Gt("skull",rx);const ax=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],lx=Gt("trash-2",ax);const ox=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],gv=Gt("triangle-alert",ox);const ux=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],cx=Gt("user",ux);const hx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fx=Gt("x",hx),dx={apiKey:"AIzaSyDf86JHBvY9Y1B1x8QDbJkASmlANouEvX0",authDomain:"card-games-28729.firebaseapp.com",projectId:"card-games-28729",storageBucket:"card-games-28729.firebasestorage.app",messagingSenderId:"466779458834",appId:"1:466779458834:web:68f8deac8c018f2c6d37cb"},jT=Rv(dx),Yd=mR(jT),nn=mI(jT),sn=typeof __app_id<"u"?__app_id:"investigation-v2",mx=["Kitchen Knife","Dagger","Machete","Fire Axe","Ice Pick","Surgical Scalpel","Scissors","Broken Bottle","Katana","Cleaver","Hammer","Baseball Bat","Golf Club","Wrench","Crowbar","Brick","Heavy Statue","Candlestick","Frying Pan","Rock","Pistol","Silenced Gun","Sniper Rifle","Shotgun","Crossbow","Rope","Wire","Necktie","Pillow","Plastic Bag","Arsenic","Cyanide Pill","Venomous Snake","Overdose Injection","Sleeping Pills","Chainsaw","Explosives","Molotov Cocktail","Electrocution","Drowning","Push from Heights","Vehicle","Trophy","Screwdriver","Garden Shears","Bare Hands","Laptop Cord","Frozen Lamb Leg","Radioactive Isotope","Liquid Mercury"],gx=["Fingerprint","Muddy Footprint","Blood Stain","Strand of Hair","Torn Fabric","Shirt Button","Sewing Thread","Wedding Ring","Wristwatch","Diamond Necklace","Broken Glasses","Leather Wallet","ID Badge","Credit Card","Grocery Receipt","Plane Ticket","Crumpled Note","Locked Diary","Torn Photograph","City Map","USB Drive","Smartphone","Laptop","House Keys","Rare Coin","Cigarette Butt","Gold Lighter","Matchbook","Pile of Ashes","Shard of Glass","Shattered Plate","Crushed Flower","Tree Leaf","Puddle of Water","Oil Stain","Spray Paint","Spilled Ink","Candy Wrapper","Empty Wine Bottle","Coffee Cup","Lipstick Mark","Scent of Perfume","White Powder","Bullet Casing","Tool Marks","Leather Glove","Ski Mask","Playing Card","Dice","Pocket Mirror"],Vc={FIXED:{title:"Cause of Death",type:"purple",options:["Suffocation","Severe Injury","Loss of Blood","Chemical / Sickness","Accident","Projectile / Blast"]},MAIN:[{title:"Location of Crime",type:"green",options:["Living Room","Bedroom","Kitchen / Dining","Bathroom","Outdoors / Park","Workplace / Office"]},{title:"State of Scene",type:"green",options:["Chaos / Destruction","Signs of Struggle","Perfectly Tidy","Items Missing","Staged / Artificially Arranged","Covered (Ash/Water/Dust)"]},{title:"Condition of Corpse",type:"green",options:["Head / Neck","Chest / Torso","Hands / Arms","Legs / Feet","Internal Organs","No Visible Wounds"]},{title:"Victim's Identity",type:"green",options:["Child","Young Adult","Middle-Aged","Elderly","Male","Female"]}],SUBORDINATE:[{title:"Weather",options:["Sunny/Clear","Rainy/Stormy","Foggy/Misty","Snowing","Hot/Dry","Windy"]},{title:"Time of Death",options:["Dawn","Noon","Afternoon","Evening","Midnight","Late Night"]},{title:"Duration of Crime",options:["Instantaneous","Few Seconds","Few Minutes","Under an Hour","Several Hours","Days"]},{title:"Trace at Scene",options:["Footprints","Fingerprints","Blood/Fluids","Smell/Scent","Sound/Recording","Writing/Marks"]},{title:"Weapon Type",options:["Sharp","Blunt","Toxin/Chemical","Projectile","Everyday Object","Machinery/Tool"]},{title:"Weapon Property",options:["Heavy","Lightweight","Long","Short/Small","Noisy","Silent"]},{title:"Evidence Material",options:["Fabric/Cloth","Metal","Paper/Wood","Plastic","Biological","Stone/Glass"]},{title:"Evidence Condition",options:["Broken/Damaged","New/Shiny","Old/Worn","Wet/Dirty","Burnt/Singed","Incomplete"]},{title:"Social Relation",options:["Relatives","Friends","Colleagues","Lovers","Strangers","Enemies"]},{title:"Victim's Activity",options:["Sleeping","Eating/Drinking","Working","Cleaning","Entertainment","Argument/Fight"]},{title:"Sudden Incident",options:["Loud Shout","Heavy Thud","Bright Flash","Dead Silence","Scream","Breaking Glass"]},{title:"Motive",options:["Hatred/Revenge","Greed/Money","Love/Passion","Jealousy","Fear/Defense","Madness"]},{title:"Killer's Trait",options:["Arrogant","Cautious","Violent","Calm/Cold","Nervous","Calculating"]},{title:"Victim's Clothes",options:["Pajamas","Uniform","Formal Suit","Casual","Naked","Costume"]},{title:"Impression",options:["Natural","Artistic","Cruel","Clumsy","Professional","Bizarre"]},{title:"Noticed By Others",options:["Sound","Smell","Silhouette","Someone Running","Object Thrown","Nothing"]},{title:"Evidence Size",options:["Tiny","Small","Medium","Large","Heavy","Microscopic"]},{title:"Evidence Color",options:["Red/Purple","Blue/Green","Yellow/Orange","Black/Grey","White/Clear","Metallic"]},{title:"In Progress",options:["Entering","Leaving","Conversation","Meal","Distracted","On Phone"]},{title:"Assassin Hint",options:["Man","Woman","Tall","Short","Strong","Weak"]}]},Za=r=>{let e=r.length,i;const a=[...r];for(;e!==0;)i=Math.floor(Math.random()*e),e--,[a[e],a[i]]=[a[i],a[e]];return a};function px(){const[r,e]=ft.useState(null),[i,a]=ft.useState("menu"),[o,c]=ft.useState(""),[d,p]=ft.useState(""),[y,_]=ft.useState(null),[E,S]=ft.useState(null),[M,F]=ft.useState(!1),[J,ne]=ft.useState(""),[W,ye]=ft.useState(null),[Re,ve]=ft.useState(null),[me,Ke]=ft.useState(null),[Be,x]=ft.useState(!1),[A,I]=ft.useState(!1),[V,N]=ft.useState(!1),[k,w]=ft.useState(!1),[lt,dt]=ft.useState(!1),[H,ie]=ft.useState(!0);ft.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await ew(Yd,__initial_auth_token):await XA(Yd)})();const ae=iw(Yd,oe=>e(oe));return()=>ae()},[]),ft.useEffect(()=>{if(!y||!r)return;const te=tn(nn,"artifacts",sn,"public","data","rooms",y),ae=DI(te,oe=>{if(oe.exists()){const Ie=oe.data();if(!Ie.players.find(Oe=>Oe.id===r.uid)){_(null),a("menu"),S(null),ne("You were removed from the room.");return}S({id:oe.id,...Ie}),Ie.status==="playing"||Ie.status==="finished"?a("game"):a("lobby"),Ie.status==="lobby"&&(x(!1),Ke(null),w(!1)),Ie.status==="playing"&&Ie.phase==="INVESTIGATION"&&Ie.players.filter(ot=>ot.role!=="DETECTIVE"&&ot.badge===!0).length===0&&Ie.hostId===r.uid&&fe(Ie)}else _(null),a("menu"),ne("Room closed.")},oe=>console.error(oe));return()=>ae()},[y,r]);const fe=async te=>{const ae=te.accusations||[],oe=te.solution,Ie=[];ae.forEach(ot=>{ot.means===oe.means&&ot.clue===oe.clue&&ot.targetId===oe.murdererId&&Ie.push(ot.solverId)});let be="GAME_OVER_BAD",Oe=[{text:"All badges used. Revealing results...",type:"neutral"}];Ie.length>0?te.settings?.useWitness?(be="WITNESS_HUNT",Oe.push({text:"Case Solved! But the Murderer can steal the win by finding the Witness.",type:"warning"})):(be="GAME_OVER_GOOD",Oe.push({text:"CASE SOLVED! Investigators Win!",type:"success"})):Oe.push({text:"No correct accusations. Murderer Escapes!",type:"danger"}),await _n(tn(nn,"artifacts",sn,"public","data","rooms",y),{phase:be,successfulSolvers:Ie,logs:Pi(...Oe)})},qe=async()=>{if(!r||!o.trim())return ne("Enter nickname.");F(!0);const te=Math.random().toString(36).substring(2,8).toUpperCase(),ae={hostId:r.uid,players:[{id:r.uid,name:o,role:null,means:[],clues:[],badge:!0,ready:!0}],status:"lobby",settings:{useAccomplice:!1,useWitness:!1},logs:[],accusations:[],nextRoundRequests:[]};try{await NI(tn(nn,"artifacts",sn,"public","data","rooms",te),ae),_(te)}catch{ne("Failed to create room.")}F(!1)},Xe=async()=>{if(!r||!d||!o.trim())return ne("Enter details.");F(!0);try{const te=tn(nn,"artifacts",sn,"public","data","rooms",d),ae=await xI(te);if(!ae.exists())throw new Error("Room not found.");const oe=ae.data();if(oe.players.length>=10)throw new Error("Room full.");if(oe.status!=="lobby")throw new Error("Game started.");oe.players.find(be=>be.id===r.uid)||await _n(te,{players:Pi({id:r.uid,name:o,role:null,means:[],clues:[],badge:!0,ready:!0})}),_(d)}catch(te){ne(te.message)}F(!1)},O=async te=>{if(!E||E.hostId!==r.uid)return;const ae=E.settings?.[te]||!1;await _n(tn(nn,"artifacts",sn,"public","data","rooms",y),{[`settings.${te}`]:!ae})},Y=async()=>{if(!y||!r||!E)return;const te=E.players.filter(ae=>ae.id!==r.uid);try{await _n(tn(nn,"artifacts",sn,"public","data","rooms",y),{players:te})}catch{}_(null),a("menu"),S(null),dt(!1)},se=async te=>{if(!E||E.hostId!==r.uid)return;const ae=E.players.filter(oe=>oe.id!==te);await _n(tn(nn,"artifacts",sn,"public","data","rooms",y),{players:ae})},re=async()=>{if(!E||E.hostId!==r.uid)return;const te=E.players.map(ae=>({...ae,role:null,means:[],clues:[],badge:!0,ready:!0}));await _n(tn(nn,"artifacts",sn,"public","data","rooms",y),{status:"lobby",phase:null,solution:null,activeTiles:null,logs:[],players:te,round:1,accusations:[],successfulSolvers:[],accompliceSuggestion:null,murdererGuess:null,nextRoundRequests:[]})},Ee=async()=>{if(E.players.length<4)return ne("Need 4+ players.");const te=E.players.length;let ae=["DETECTIVE","MURDERER"];for(te>=6&&E.settings?.useAccomplice&&ae.push("ACCOMPLICE"),te>=5&&E.settings?.useWitness&&ae.push("WITNESS");ae.length<te;)ae.push("INVESTIGATOR");ae=Za(ae);const oe=Za([...mx]),Ie=Za([...gx]),be=E.players.map((on,ht)=>{if(ae[ht]==="DETECTIVE")return{...on,role:ae[ht],means:[],clues:[],badge:!1};const En=[],ii=[];for(let Z=0;Z<4;Z++)En.push(oe.pop());for(let Z=0;Z<4;Z++)ii.push(Ie.pop());return{...on,role:ae[ht],means:En,clues:ii,badge:!0}}),Oe=Za([...Vc.MAIN])[0],ot=Za([...Vc.SUBORDINATE]).slice(0,4),qn=[{...Vc.FIXED,id:"cause",selected:null},{...Oe,id:"main",selected:null},...ot.map((on,ht)=>({...on,id:`scene_${ht}`,selected:null}))];await _n(tn(nn,"artifacts",sn,"public","data","rooms",y),{status:"playing",phase:"MURDERER_SELECT",players:be,activeTiles:qn,solution:null,round:1,logs:Pi({text:"Game Started. Murderer is choosing the Murder Weapon & Evidence...",type:"neutral"}),accusations:[],nextRoundRequests:[]})},Ce=async(te,ae)=>{await _n(tn(nn,"artifacts",sn,"public","data","rooms",y),{solution:{means:te,clue:ae,murdererId:r.uid},phase:"DETECTIVE_TURN",logs:Pi({text:"Crime Committed. Detective is analyzing evidence...",type:"danger"})})},ke=async(te,ae)=>{const oe=[...E.activeTiles];oe[te].selected=ae,await _n(tn(nn,"artifacts",sn,"public","data","rooms",y),{activeTiles:oe})},wt=async()=>{if(!E.activeTiles.every(ae=>ae.selected!==null))return alert("Select an option for every tile!");await _n(tn(nn,"artifacts",sn,"public","data","rooms",y),{phase:"INVESTIGATION",logs:Pi({text:`Round ${E.round} Clues Revealed! Investigators, submit your files when ready.`,type:"info"}),nextRoundRequests:[]})},ct=async()=>{E.nextRoundRequests?.includes(r.uid)||await _n(tn(nn,"artifacts",sn,"public","data","rooms",y),{nextRoundRequests:Pi(r.uid)})},$i=async te=>{if(te<2)return alert("You cannot replace the Cause of Death or Main Location tile.");if(E.round>=3)return;const ae=E.activeTiles.map(Oe=>Oe.title),oe=Vc.SUBORDINATE.filter(Oe=>!ae.includes(Oe.title)),Ie=Za(oe)[0],be=[...E.activeTiles];be[te]={...Ie,id:`scene_r${E.round+1}_${te}`,selected:null},await _n(tn(nn,"artifacts",sn,"public","data","rooms",y),{phase:"DETECTIVE_TURN",round:E.round+1,activeTiles:be,logs:Pi({text:`Round ${E.round+1} Begins. Detective is updating a clue...`,type:"neutral"})}),w(!1)},Rs=async()=>{if(!me)return;const{targetId:te,means:ae,clue:oe}=me,Ie=E.players.findIndex(qn=>qn.id===r.uid),be=[...E.players];be[Ie].badge=!1;const Oe={solverId:r.uid,solverName:be[Ie].name,targetId:te,means:ae,clue:oe},ot=E.nextRoundRequests||[];ot.includes(r.uid)||ot.push(r.uid),await _n(tn(nn,"artifacts",sn,"public","data","rooms",y),{players:be,accusations:Pi(Oe),nextRoundRequests:ot,logs:Pi({text:`${be[Ie].name} submitted a case file.`,type:"neutral"})}),x(!1),Ke(null)},Cs=async te=>{await _n(tn(nn,"artifacts",sn,"public","data","rooms",y),{accompliceSuggestion:te})},Is=async te=>{const ae=E.players.find(be=>be.id===te);let oe="GAME_OVER_GOOD",Ie=[];ae.role==="WITNESS"?(oe="GAME_OVER_BAD",Ie.push({text:`Murderer identified the Witness (${ae.name})! Murderer Wins!`,type:"danger"})):(oe="GAME_OVER_GOOD",Ie.push({text:"Murderer guessed wrong! Investigators Win!",type:"success"})),await _n(tn(nn,"artifacts",sn,"public","data","rooms",y),{phase:oe,logs:Pi(...Ie)})},Nn=({role:te})=>{if(!te)return null;let ae="bg-gray-600",oe=cx;te==="DETECTIVE"&&(ae="bg-blue-600",oe=dv),te==="MURDERER"&&(ae="bg-red-600",oe=mv),te==="INVESTIGATOR"&&(ae="bg-emerald-600",oe=Ro),te==="ACCOMPLICE"&&(ae="bg-orange-600",oe=zI),te==="WITNESS"&&(ae="bg-indigo-600",oe=uv);const Ie=te.charAt(0)+te.slice(1).toLowerCase();return R.jsxs("div",{className:`${ae} text-white px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1 shadow-sm`,children:[T1.createElement(oe,{size:12})," ",R.jsx("span",{className:"whitespace-nowrap",children:Ie})]})};if(!r)return R.jsx("div",{className:"h-screen bg-slate-900 text-white flex items-center justify-center",children:"Loading..."});if(i==="menu")return R.jsxs("div",{className:"min-h-screen bg-slate-900 text-slate-100 font-sans p-6 flex flex-col items-center justify-center relative overflow-hidden",children:[R.jsxs("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none",children:[R.jsx("div",{className:"absolute top-10 left-10 text-9xl",children:"?"}),R.jsx("div",{className:"absolute bottom-20 right-20 text-9xl",children:"?"}),R.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-blue-500 rounded-full blur-[128px] opacity-20"})]}),R.jsxs("div",{className:"z-10 w-full max-w-md space-y-8",children:[R.jsxs("div",{className:"text-center space-y-2",children:[R.jsx("h1",{className:"text-5xl font-black tracking-tighter text-transparent bg-clip-text bg-gradient-to-br from-blue-400 to-purple-600",children:"INVESTIGATION"}),R.jsx("p",{className:"text-slate-400 text-sm uppercase tracking-widest",children:"Murder in Hong Kong Style"})]}),R.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-md border border-slate-700 p-6 rounded-2xl shadow-xl",children:[J&&R.jsxs("div",{className:"bg-red-500/20 text-red-200 p-3 rounded text-sm mb-4 flex items-center gap-2",children:[R.jsx(gv,{size:16})," ",J]}),R.jsxs("div",{className:"space-y-4",children:[R.jsxs("div",{children:[R.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase ml-1",children:"Codename"}),R.jsx("input",{value:o,onChange:te=>c(te.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:"Enter your name"})]}),R.jsxs("div",{className:"grid grid-cols-1 gap-4 pt-2",children:[R.jsxs("div",{className:"p-4 bg-slate-900/50 rounded-xl border border-slate-700 hover:border-blue-500 transition-colors group",children:[R.jsx("h3",{className:"font-bold text-blue-400 mb-2 flex items-center gap-2",children:"Join Case"}),R.jsxs("div",{className:"flex gap-2",children:[R.jsx("input",{value:d,onChange:te=>p(te.target.value.toUpperCase()),className:"w-full bg-slate-800 border border-slate-600 rounded p-2 text-sm uppercase tracking-widest font-mono focus:border-blue-500 outline-none",placeholder:"ROOM CODE"}),R.jsx("button",{onClick:Xe,disabled:M,className:"bg-blue-600 hover:bg-blue-500 px-4 rounded font-bold transition-colors",children:"GO"})]})]}),R.jsxs("div",{className:"p-4 bg-slate-900/50 rounded-xl border border-slate-700 hover:border-purple-500 transition-colors group",children:[R.jsx("h3",{className:"font-bold text-purple-400 mb-2 flex items-center gap-2",children:"New Investigation"}),R.jsx("button",{onClick:qe,disabled:M,className:"w-full bg-purple-600 hover:bg-purple-500 py-3 rounded-lg font-bold transition-colors shadow-lg shadow-purple-900/20",children:"Create Case File"})]})]})]})]})]})]});if(i==="lobby"&&E){const te=E.hostId===r.uid,ae=E.players.length;return R.jsxs("div",{className:"min-h-screen bg-slate-900 text-slate-100 p-6 flex flex-col items-center",children:[R.jsxs("div",{className:"w-full max-w-2xl space-y-6",children:[R.jsxs("div",{className:"flex justify-between items-center",children:[R.jsxs("div",{children:[R.jsxs("h2",{className:"text-3xl font-bold text-white",children:["Case File:"," ",R.jsx("span",{className:"font-mono text-blue-400",children:E.id})]}),R.jsx("p",{className:"text-slate-400 text-sm",children:"Waiting for investigators..."})]}),R.jsxs("button",{onClick:()=>dt(!0),className:"text-slate-500 hover:text-white flex items-center gap-1 text-sm",children:[R.jsx(hv,{size:16})," Leave"]})]}),R.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700 flex justify-between items-center",children:[R.jsxs("div",{className:"flex items-center gap-2 text-slate-300 font-bold",children:[R.jsx(sx,{size:18})," Settings"]}),R.jsxs("div",{className:"flex gap-4",children:[ae>=6&&R.jsxs("label",{className:`flex items-center gap-2 cursor-pointer ${!te&&"opacity-50 pointer-events-none"}`,children:[R.jsx("input",{type:"checkbox",checked:E.settings?.useAccomplice||!1,onChange:()=>O("useAccomplice"),className:"w-4 h-4 accent-purple-500 rounded"}),R.jsx("span",{className:"text-sm",children:"Accomp."})]}),ae>=5&&R.jsxs("label",{className:`flex items-center gap-2 cursor-pointer ${!te&&"opacity-50 pointer-events-none"}`,children:[R.jsx("input",{type:"checkbox",checked:E.settings?.useWitness||!1,onChange:()=>O("useWitness"),className:"w-4 h-4 accent-indigo-500 rounded"}),R.jsx("span",{className:"text-sm",children:"Witness"})]}),ae<5&&R.jsx("span",{className:"text-xs text-slate-500",children:"Need 5+ players for extra roles"})]})]}),R.jsxs("div",{className:"bg-slate-800 rounded-2xl border border-slate-700 overflow-hidden",children:[R.jsx("div",{className:"p-4 bg-slate-800 border-b border-slate-700 flex justify-between items-center",children:R.jsxs("span",{className:"font-bold text-slate-400",children:["ROSTER (",E.players.length,"/10)"]})}),R.jsx("div",{className:"divide-y divide-slate-700",children:E.players.map(oe=>R.jsxs("div",{className:"p-4 flex items-center justify-between group",children:[R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center font-bold text-slate-400",children:oe.name[0].toUpperCase()}),R.jsxs("span",{className:oe.id===r.uid?"text-blue-400 font-bold":"text-slate-300",children:[oe.name," ",oe.id===E.hostId&&""]})]}),R.jsxs("div",{className:"flex items-center gap-4",children:[R.jsxs("span",{className:"text-green-500 flex items-center gap-1 text-sm",children:[R.jsx(FI,{size:14})," Ready"]}),te&&oe.id!==r.uid&&R.jsx("button",{onClick:()=>se(oe.id),className:"text-red-900 group-hover:text-red-500 transition-colors p-2",children:R.jsx(lx,{size:20})})]})]},oe.id))})]}),te&&R.jsx("button",{onClick:Ee,disabled:E.players.length<4,className:`w-full py-4 rounded-xl font-bold text-lg shadow-xl transition-all ${E.players.length>=4?"bg-gradient-to-r from-blue-600 to-purple-600 hover:scale-[1.02]":"bg-slate-800 text-slate-500 cursor-not-allowed"}`,children:E.players.length<4?"Need 4 Players to Start":"Distribute Roles & Start"})]}),lt&&R.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",children:R.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6 max-w-sm w-full text-center shadow-2xl",children:[R.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Leave Game?"}),R.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:"Are you sure? You will be removed from the lobby."}),R.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[R.jsx("button",{onClick:()=>dt(!1),className:"bg-slate-700 hover:bg-slate-600 text-white py-3 rounded font-bold",children:"Stay"}),R.jsx("button",{onClick:Y,className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold",children:"Leave"})]})]})})]})}if(i==="game"&&E){const te=E.players.find(Z=>Z.id===r.uid);if(!te)return R.jsx("div",{onClick:()=>window.location.reload(),className:"p-10 text-white cursor-pointer",children:"You were removed. Click to reload."});let ae={};if(ae[te.id]=te.role,te.role==="DETECTIVE"&&E.players.forEach(Z=>ae[Z.id]=Z.role),te.role==="MURDERER"){const Z=E.players.find(He=>He.role==="ACCOMPLICE");Z&&(ae[Z.id]="ACCOMPLICE")}if(te.role==="ACCOMPLICE"){const Z=E.players.find(He=>He.role==="MURDERER");Z&&(ae[Z.id]="MURDERER")}te.role==="WITNESS"&&E.players.forEach(Z=>{(Z.role==="MURDERER"||Z.role==="ACCOMPLICE")&&(ae[Z.id]="SUSPECT")});const oe=te.role==="DETECTIVE",Ie=te.role==="MURDERER",be=te.role==="ACCOMPLICE",Oe=E.phase==="MURDERER_SELECT",ot=E.phase==="DETECTIVE_TURN",qn=E.phase==="INVESTIGATION",on=E.phase==="WITNESS_HUNT",ht=E.accusations?.find(Z=>Z.solverId===r.uid),En=E.players.filter(Z=>Z.role!=="DETECTIVE").every(Z=>{const He=E.nextRoundRequests?.includes(Z.id),Dn=E.accusations?.some(Xt=>Xt.solverId===Z.id);return He||Dn}),ii=(Z,He,Dn)=>{oe||!te.badge||!qn||Ke(Xt=>{if(Xt?.targetId!==Z)return{targetId:Z,[He]:Dn,[He==="means"?"clue":"means"]:null};const gn={...Xt};return gn[He]===Dn?gn[He]=null:gn[He]=Dn,gn})};return Oe?Ie?R.jsxs("div",{className:"min-h-screen bg-red-950 text-white p-4 flex flex-col items-center justify-center",children:[R.jsx("h1",{className:"text-3xl md:text-4xl font-black text-red-500 mb-2",children:"COMMIT THE CRIME"}),R.jsx("p",{className:"text-red-200 mb-6 max-w-md text-center text-sm md:text-base",children:"Select 1 Murder Weapon and 1 Evidence from your cards."}),R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 w-full max-w-4xl flex-1 overflow-y-auto pb-20",children:[R.jsxs("div",{className:"bg-red-900/30 p-4 rounded-xl border border-red-800",children:[R.jsxs("h3",{className:"text-red-400 font-bold mb-2 flex items-center gap-2 text-sm",children:[R.jsx(JI,{size:16})," MURDER WEAPON"]}),R.jsx("div",{className:"grid grid-cols-2 gap-2",children:te.means.map(Z=>R.jsx("button",{onClick:()=>Ke({...me,means:Z}),className:`p-3 rounded border text-xs font-bold transition-all ${me?.means===Z?"bg-red-600 border-white text-white scale-105 shadow-lg":"bg-red-900/50 border-red-700 text-red-200 hover:bg-red-800"}`,children:Z},Z))})]}),R.jsxs("div",{className:"bg-blue-900/30 p-4 rounded-xl border border-blue-800",children:[R.jsxs("h3",{className:"text-blue-400 font-bold mb-2 flex items-center gap-2 text-sm",children:[R.jsx(dv,{size:16})," EVIDENCE ON SITE"]}),R.jsx("div",{className:"grid grid-cols-2 gap-2",children:te.clues.map(Z=>R.jsx("button",{onClick:()=>Ke({...me,clue:Z}),className:`p-3 rounded border text-xs font-bold transition-all ${me?.clue===Z?"bg-blue-600 border-white text-white scale-105 shadow-lg":"bg-blue-900/50 border-blue-700 text-blue-200 hover:bg-blue-800"}`,children:Z},Z))})]})]}),R.jsx("div",{className:"fixed bottom-0 left-0 w-full p-4 bg-red-950 border-t border-red-900 flex justify-center",children:R.jsx("button",{disabled:!me?.means||!me?.clue,onClick:()=>Ce(me.means,me.clue),className:"w-full max-w-md bg-white text-red-900 px-8 py-3 rounded-full font-black text-lg hover:scale-105 disabled:opacity-50 disabled:scale-100 transition-all shadow-2xl",children:"CONFIRM KILL"})})]}):oe?R.jsxs("div",{className:"min-h-screen bg-slate-900 text-white flex flex-col items-center justify-center p-8 text-center",children:[R.jsx("h2",{className:"text-3xl font-bold text-blue-400 mb-4",children:"Awaiting The Crime..."}),R.jsxs("div",{className:"animate-pulse bg-slate-800 p-6 rounded-xl max-w-lg",children:[R.jsx("p",{className:"text-slate-300",children:"The Murderer is choosing the Murder Weapon and Evidence."}),R.jsx("p",{className:"text-slate-500 text-sm mt-4",children:"Study everyone's cards carefully while you wait."})]})]}):R.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col items-center justify-center p-8 text-center",children:[R.jsx(XI,{size:64,className:"text-slate-700 mb-6"}),R.jsx("h2",{className:"text-4xl font-black text-slate-500 mb-4",children:"EYES CLOSED"}),R.jsx("p",{className:"text-slate-600",children:"The Murderer is active. Do not look at the screen."})]}):R.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100 font-sans flex flex-col",children:[R.jsxs("div",{className:"bg-slate-900 border-b border-slate-800 p-2 px-3 flex justify-between items-center shadow-md z-20 sticky top-0",children:[R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx("div",{className:"font-black text-xl tracking-tighter text-blue-500",children:"INV."}),R.jsxs("div",{className:"flex flex-col leading-tight",onClick:()=>I(!A),children:[R.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold",children:"Role"}),R.jsx("div",{className:"flex items-center gap-1 cursor-pointer hover:bg-slate-800 rounded -ml-1 transition-colors",children:A?R.jsx(Nn,{role:te.role}):R.jsxs("span",{className:"text-xs font-bold text-slate-300 flex items-center",children:["Show ",R.jsx(uv,{size:10,className:"ml-1"})]})})]})]}),R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsxs("div",{className:"text-center mr-2",children:[R.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold block",children:"Rnd"}),R.jsxs("span",{className:"text-sm font-bold text-white",children:[E.round,"/3"]})]}),oe&&ot&&R.jsx("button",{onClick:wt,className:"bg-green-600 hover:bg-green-500 text-white px-3 py-1.5 rounded text-xs font-bold shadow-lg animate-pulse",children:"Confirm"}),qn&&oe&&E.round<3&&R.jsxs("button",{disabled:!En,onClick:()=>w(!k),className:`${k?"bg-red-500 animate-pulse":En?"bg-blue-600":"bg-slate-700 opacity-50 cursor-not-allowed"} 
                     hover:brightness-110 text-white px-3 py-1.5 rounded text-xs font-bold shadow-lg transition-colors flex items-center gap-1`,children:[k?"Select Tile":"Next Rnd",!En&&R.jsxs("span",{className:"text-[10px] bg-black/30 px-1 rounded",children:[E.nextRoundRequests?.length||0,"/",E.players.length-1]})]}),qn&&!oe&&!ht&&!E.nextRoundRequests?.includes(r.uid)&&E.round<3&&R.jsx("button",{onClick:ct,className:"bg-blue-600 hover:bg-blue-500 text-white px-3 py-1.5 rounded text-xs font-bold shadow-lg",children:"Req. Next"}),qn&&!oe&&E.nextRoundRequests?.includes(r.uid)&&R.jsx("div",{className:"text-[10px] text-green-400 font-bold bg-green-900/30 px-2 py-1 rounded border border-green-800",children:"Ready"}),R.jsx("button",{onClick:()=>N(!0),className:"p-2 hover:bg-slate-800 rounded-full text-slate-400 hover:text-white",children:R.jsx(cv,{size:18})}),R.jsx("button",{onClick:()=>dt(!0),className:"p-2 hover:bg-slate-800 rounded-full text-slate-400 hover:text-red-400",children:R.jsx(hv,{size:18})})]})]}),R.jsx("div",{className:"bg-slate-800/80 p-2 flex justify-center md:hidden border-b border-slate-700",children:R.jsxs("button",{onClick:()=>ie(!H),className:"text-xs font-bold text-slate-400 flex items-center gap-1",children:[H?"Hide Clues":"Show Clues"," ",H?R.jsx(HI,{size:12}):R.jsx(BI,{size:12})]})}),H&&R.jsx("div",{className:"bg-slate-900/50 p-2 overflow-x-auto border-b border-slate-800",children:R.jsx("div",{className:"flex gap-2 min-w-max mx-auto px-2",children:E.activeTiles.map((Z,He)=>R.jsxs("div",{onClick:()=>{k&&oe&&He>=2&&$i(He)},className:`w-40 bg-slate-800 rounded-lg border-2 flex flex-col relative shadow-lg transition-all
                    ${k&&He>=2&&oe?"border-red-500 cursor-pointer hover:bg-red-900/20 scale-105":oe&&ot&&"hover:border-blue-500/50"} 
                    ${Z.selected===null?"border-slate-700":"border-slate-600"}
                    ${k&&He<2&&"opacity-50"} 
                  `,children:[k&&He>=2&&oe&&R.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 z-10 text-red-500 font-bold",children:R.jsx(YI,{size:32})}),R.jsx("div",{className:`p-1.5 text-center font-bold text-[10px] uppercase tracking-wider text-white truncate ${Z.type==="purple"?"bg-purple-900":Z.type==="green"?"bg-emerald-900":"bg-slate-700"}`,children:Z.title}),R.jsx("div",{className:"p-1.5 space-y-0.5",children:Z.options.map((Dn,Xt)=>{const gn=Z.selected===Xt;return R.jsxs("div",{onClick:pi=>{pi.stopPropagation(),oe&&ot&&ke(He,Xt)},className:`text-[10px] px-1.5 py-1 rounded cursor-pointer flex justify-between items-center transition-colors ${gn?"bg-red-600 text-white font-bold shadow-md ring-1 ring-red-400":oe&&ot?"hover:bg-slate-700 text-slate-300":"text-slate-500 opacity-50"}`,children:[R.jsx("span",{className:"truncate",children:Dn}),gn&&R.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full ml-1 shrink-0"})]},Xt)})})]},Z.id))})}),R.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-slate-950 relative",children:R.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 max-w-7xl mx-auto pb-20",children:E.players.map(Z=>{const He=Z.id===r.uid,Dn=ae[Z.id]||Z.role==="DETECTIVE"||E.phase.includes("GAME_OVER"),Xt=me?.targetId===Z.id,gn=E.accompliceSuggestion===Z.id,pi=ht?.targetId===Z.id;return R.jsxs("div",{onClick:()=>{if(on&&be&&Z.role!=="MURDERER"&&Z.role!=="ACCOMPLICE"&&Cs(Z.id),on&&Ie&&Z.role!=="MURDERER"&&Z.role!=="ACCOMPLICE"){const We=E.settings?.useAccomplice,Et=E.accompliceSuggestion;if(We&&!Et){alert("Wait for your Accomplice to suggest a target first!");return}Is(Z.id)}},className:`relative bg-slate-900 border rounded-xl overflow-hidden shadow-lg transition-all 
                     ${He?"border-blue-500/30 ring-1 ring-blue-900/50":"border-slate-800"}
                     ${on&&gn&&Ie?"ring-4 ring-yellow-500 scale-105":""}
                     ${on&&(Ie||be)&&Z.role!=="MURDERER"&&Z.role!=="ACCOMPLICE"?"cursor-pointer hover:border-indigo-500":""}
                     ${pi?"border-yellow-500/50 ring-1 ring-yellow-500/30":""}
                   `,children:[R.jsxs("div",{className:"p-2 bg-slate-800/80 flex justify-between items-center border-b border-slate-700",children:[R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("div",{className:`font-bold text-sm ${He?"text-blue-400":"text-slate-200"}`,children:Z.name}),Dn&&R.jsx(Nn,{role:Z.role})]}),Z.badge&&Z.role!=="DETECTIVE"&&R.jsx(Ro,{size:14,className:"text-yellow-500",fill:"currentColor"}),!Z.badge&&Z.role!=="DETECTIVE"&&R.jsx("div",{className:"text-[10px] text-slate-600 font-bold uppercase",children:"Submitted"})]}),R.jsxs("div",{className:"p-2 grid grid-cols-2 gap-2 pb-12",children:[R.jsxs("div",{className:"space-y-1",children:[R.jsx("div",{className:"text-[10px] uppercase font-bold text-red-900 mb-1",children:"Murder Weapon"}),Z.means.map(We=>{const Et=Xt&&me.means===We,un=pi&&ht.means===We,mt=oe&&E.solution?.means===We&&E.solution?.murdererId===Z.id;return R.jsx("div",{onClick:xs=>{xs.stopPropagation(),Z.id!==r.uid&&ii(Z.id,"means",We)},className:`px-2 py-2 rounded text-xs font-medium text-center truncate cursor-pointer transition-all active:scale-95 touch-manipulation min-h-[36px] flex items-center justify-center ${Et?"bg-red-600 text-white font-bold shadow-md scale-105 border border-white":un?"bg-red-900/40 text-red-200 border border-yellow-500/50 shadow-inner":mt?"bg-purple-900/80 text-white border-2 border-purple-400 shadow-[0_0_10px_rgba(168,85,247,0.5)] animate-pulse":"bg-slate-800 text-red-200 border border-red-900/30 hover:bg-red-900/20 hover:border-red-500"} ${Z.id===r.uid&&"opacity-50 cursor-not-allowed hover:bg-slate-800 hover:border-red-900/30"}`,children:We},We)})]}),R.jsxs("div",{className:"space-y-1",children:[R.jsx("div",{className:"text-[10px] uppercase font-bold text-blue-900 mb-1",children:"Evidence on Site"}),Z.clues.map(We=>{const Et=Xt&&me.clue===We,un=pi&&ht.clue===We,mt=oe&&E.solution?.clue===We&&E.solution?.murdererId===Z.id;return R.jsx("div",{onClick:xs=>{xs.stopPropagation(),Z.id!==r.uid&&ii(Z.id,"clue",We)},className:`px-2 py-2 rounded text-xs font-medium text-center truncate cursor-pointer transition-all active:scale-95 touch-manipulation min-h-[36px] flex items-center justify-center ${Et?"bg-blue-600 text-white font-bold shadow-md scale-105 border border-white":un?"bg-blue-900/40 text-blue-200 border border-yellow-500/50 shadow-inner":mt?"bg-purple-900/80 text-white border-2 border-purple-400 shadow-[0_0_10px_rgba(168,85,247,0.5)] animate-pulse":"bg-slate-800 text-blue-200 border border-blue-900/30 hover:bg-blue-900/20 hover:border-blue-500"} ${Z.id===r.uid&&"opacity-50 cursor-not-allowed hover:bg-slate-800 hover:border-blue-900/30"}`,children:We},We)})]})]}),Xt&&(me.means||me.clue)&&R.jsx("div",{className:"absolute bottom-0 left-0 w-full p-2 bg-slate-900/90 border-t border-slate-700 flex justify-center backdrop-blur-sm z-10",children:R.jsxs("button",{onClick:We=>{We.stopPropagation(),x(!0)},className:"bg-yellow-500 hover:bg-yellow-400 text-black font-bold py-2 px-6 rounded-full text-xs flex items-center gap-2 shadow-lg animate-in slide-in-from-bottom-2 fade-in w-full justify-center",children:[R.jsx(Ro,{size:14})," Review Accusation"]})}),on&&gn&&be&&R.jsx("div",{className:"absolute inset-0 bg-yellow-500/20 pointer-events-none flex items-center justify-center",children:R.jsx("span",{className:"bg-yellow-500 text-black px-2 py-1 rounded font-bold text-xs",children:"SUGGESTED"})})]},Z.id)})})}),V&&R.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex justify-end",children:R.jsxs("div",{className:"w-full max-w-md bg-slate-900 h-full border-l border-slate-700 flex flex-col shadow-2xl animate-in slide-in-from-right",children:[R.jsxs("div",{className:"p-4 border-b border-slate-700 flex justify-between items-center bg-slate-800",children:[R.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[R.jsx(cv,{})," Case Logs"]}),R.jsx("button",{onClick:()=>N(!1),children:R.jsx(fx,{className:"text-slate-400 hover:text-white"})})]}),R.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[...E.logs||[]].reverse().map((Z,He)=>R.jsxs("div",{className:`text-sm p-3 rounded border-l-4 ${Z.type==="danger"?"bg-red-900/20 border-red-500 text-red-200":Z.type==="success"?"bg-green-900/20 border-green-500 text-green-200":Z.type==="warning"?"bg-orange-900/20 border-orange-500 text-orange-200":"bg-slate-800 border-blue-500 text-slate-300"}`,children:[R.jsxs("div",{className:"font-mono text-[10px] opacity-50 mb-1",children:["EVENT ",E.logs.length-He]}),Z.text]},He))})]})}),lt&&R.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",children:R.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6 max-w-sm w-full text-center shadow-2xl",children:[R.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Leave Game?"}),R.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:"Are you sure? You will be removed from the lobby."}),R.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[R.jsx("button",{onClick:()=>dt(!1),className:"bg-slate-700 hover:bg-slate-600 text-white py-3 rounded font-bold",children:"Stay"}),R.jsx("button",{onClick:Y,className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold",children:"Leave"})]})]})}),Be&&me&&R.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",children:R.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl w-full max-w-lg p-6 shadow-2xl max-h-[90vh] overflow-y-auto",children:[R.jsxs("h3",{className:"text-2xl font-black text-yellow-500 mb-4 flex items-center gap-2",children:[R.jsx(Ro,{})," SUBMIT CASE FILE"]}),R.jsxs("div",{className:"space-y-4 mb-8",children:[R.jsxs("div",{className:"bg-slate-800 p-4 rounded-lg",children:[R.jsx("div",{className:"text-xs text-slate-500 uppercase",children:"Suspect"}),R.jsx("div",{className:"text-xl font-bold text-white",children:E.players.find(Z=>Z.id===me.targetId)?.name})]}),R.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[R.jsxs("div",{children:[R.jsx("div",{className:"text-xs text-slate-500 uppercase mb-1",children:"Murder Weapon"}),me.means?R.jsx("div",{className:"p-3 bg-red-900/50 border border-red-600 rounded text-red-100 font-bold text-center text-sm",children:me.means}):R.jsx("div",{className:"p-3 bg-slate-800 border border-slate-700 border-dashed rounded text-slate-500 text-center text-xs",children:"Select Murder Weapon from Card"})]}),R.jsxs("div",{children:[R.jsx("div",{className:"text-xs text-slate-500 uppercase mb-1",children:"Evidence on Site"}),me.clue?R.jsx("div",{className:"p-3 bg-blue-900/50 border border-blue-600 rounded text-blue-100 font-bold text-center text-sm",children:me.clue}):R.jsx("div",{className:"p-3 bg-slate-800 border border-slate-700 border-dashed rounded text-slate-500 text-center text-xs",children:"Select Evidence on Site from Card"})]})]}),R.jsxs("div",{className:"bg-blue-900/20 p-3 rounded text-sm text-blue-200 text-center border border-blue-800",children:[R.jsx("div",{className:"font-bold mb-1",children:"PROCEDURE NOTE"}),"Your result will be revealed only after ",R.jsx("strong",{children:"ALL"})," ","investigators have submitted their files."]})]}),R.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[R.jsx("button",{onClick:()=>x(!1),className:"py-3 rounded-lg font-bold text-slate-400 hover:bg-slate-800",children:"Cancel"}),R.jsx("button",{disabled:!me.means||!me.clue,onClick:Rs,className:"bg-yellow-600 hover:bg-yellow-500 text-black py-3 rounded-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed",children:"CONFIRM & SUBMIT"})]})]})}),on&&R.jsx("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center pointer-events-none p-4",children:Ie||be?R.jsxs("div",{className:"bg-red-950/95 border-2 border-red-500 p-6 rounded-xl shadow-2xl text-center max-w-lg animate-in fade-in zoom-in duration-300",children:[R.jsx("h2",{className:"text-2xl md:text-3xl font-black text-red-500 mb-2",children:"YOU HAVE BEEN CAUGHT!"}),R.jsx("p",{className:"text-red-100 text-base md:text-lg mb-4",children:be?"Help the Murderer find the Witness. Click a player to suggest.":"Identify the Witness to steal the win."}),Ie&&E.settings?.useAccomplice&&!E.accompliceSuggestion&&R.jsxs("div",{className:"bg-black/40 p-3 rounded border border-red-500/50 mb-4 animate-pulse",children:[R.jsxs("div",{className:"font-bold text-yellow-400 text-sm mb-1 uppercase",children:[R.jsx(gv,{size:14,className:"inline mr-1"})," Hold Fire"]}),"Waiting for Accomplice suggestion..."]}),R.jsx("div",{className:"text-xs md:text-sm font-bold text-red-400 uppercase tracking-widest animate-pulse",children:"Select a player from the board below"})]}):R.jsxs("div",{className:"bg-slate-900/95 border-2 border-yellow-500 p-6 rounded-xl shadow-2xl text-center max-w-lg animate-in fade-in zoom-in duration-300",children:[R.jsx("h2",{className:"text-3xl font-black text-yellow-500 mb-2",children:"CRIME SOLVED!"}),R.jsx("p",{className:"text-slate-200 text-lg mb-4",children:"The Investigators found the solution. However..."}),R.jsx("div",{className:"text-xl font-bold text-red-400 mb-4 animate-pulse",children:"THE MURDERER IS HUNTING FOR THE WITNESS"}),R.jsx("p",{className:"text-slate-400 text-sm",children:"If the Murderer identifies the Witness correctly, the Bad Guys steal the win."})]})}),E.phase==="GAME_OVER_GOOD"&&R.jsxs("div",{className:"fixed inset-0 bg-blue-900/95 z-50 flex flex-col items-center justify-center p-6 text-center",children:[R.jsx(Ro,{size:96,className:"text-yellow-400 mb-6 shadow-xl"}),R.jsx("h1",{className:"text-4xl md:text-6xl font-black text-white mb-4",children:"INVESTIGATORS WIN"}),R.jsxs("p",{className:"text-blue-200 text-lg md:text-xl max-w-lg mb-8",children:["Solved by:"," ",R.jsx("span",{className:"text-yellow-400 font-bold",children:(E.successfulSolvers||[]).map(Z=>E.players.find(He=>He.id===Z)?.name).join(", ")||"The Team"})]}),R.jsxs("div",{className:"bg-white/10 p-6 rounded-xl border border-white/20 mb-8 w-full max-w-md",children:[R.jsx("div",{className:"text-sm uppercase tracking-widest text-blue-300 mb-2",children:"The Solution"}),R.jsxs("div",{className:"text-2xl md:text-3xl font-bold text-white mb-1",children:[E.solution.means," + ",E.solution.clue]}),R.jsxs("div",{className:"text-lg text-blue-200",children:["Culprit:"," ",E.players.find(Z=>Z.id===E.solution.murdererId)?.name]})]}),E.hostId===r.uid&&R.jsxs("button",{onClick:re,className:"bg-white text-blue-900 px-8 py-3 rounded-full font-bold hover:scale-105 transition-transform flex items-center gap-2",children:[R.jsx(fv,{size:20})," Return to Lobby"]})]}),E.phase==="GAME_OVER_BAD"&&R.jsxs("div",{className:"fixed inset-0 bg-red-950/95 z-50 flex flex-col items-center justify-center p-6 text-center",children:[R.jsx(mv,{size:96,className:"text-red-500 mb-6 shadow-xl"}),R.jsx("h1",{className:"text-4xl md:text-6xl font-black text-white mb-4",children:"MURDERER WINS"}),R.jsx("p",{className:"text-red-200 text-lg md:text-xl max-w-lg mb-8",children:"The investigation failed or the witness was silenced."}),R.jsxs("div",{className:"bg-white/10 p-6 rounded-xl border border-white/20 mb-8 w-full max-w-md",children:[R.jsx("div",{className:"text-sm uppercase tracking-widest text-red-300 mb-2",children:"The Solution"}),R.jsxs("div",{className:"text-2xl md:text-3xl font-bold text-white mb-1",children:[E.solution.means," + ",E.solution.clue]}),R.jsxs("div",{className:"text-lg text-red-200",children:["Culprit:"," ",E.players.find(Z=>Z.id===E.solution.murdererId)?.name]})]}),E.hostId===r.uid&&R.jsxs("button",{onClick:re,className:"bg-white text-red-900 px-8 py-3 rounded-full font-bold hover:scale-105 transition-transform flex items-center gap-2",children:[R.jsx(fv,{size:20})," Return to Lobby"]})]})]})}return null}I1.createRoot(document.getElementById("root")).render(R.jsx(ft.StrictMode,{children:R.jsx(px,{})}));
